本操作说明书为配套广州数控设备有限公司开发制造的工业机器人操作使用的《工业机器人GR-C控制系统操作说明书》。

在本操作说明书中，我们将尽力叙述GSK工业机器人各种编程及操作相关的

事项。限于篇幅限制及产品具体使用等原因，不可能对产品中所有不必做和/或不能做的

操作进行详细的叙述。因此，本操作说明书中没有特别指明的事项均视为“不可能”或

“不允许”进行的操作。

本操作说明书的版权，归广州数控设备有限公司所有，任何单位与个人进行出

版或复印均属于非法行为，广州数控设备有限公司将保留追究其法律责任的权利。

前言

尊敬的客户：

对您惠顾选用广州数控设备有限公司研发制造的工业机器人产品（简称机器人），本公司深感荣幸并深表感谢！

工业机器人GR-C操作系统(软件版本V2.18-180806）操作说明书详细介绍了机器人的操作、示教、编程等事项。

关于机器人电气安装相关说明请查阅《工业机器人使用说明书（电气分册》，关于机器人机械安装相关说明请查阅《工业机器人使用说明书（机械分册》

为保证产品安全、正常与有效地运行工作，请您务必在安装、使用产品前仔细阅读本产品操作说明书。

安全警告

操作不当将引起意外事故，必须具有相应资格的人员才能操作本产品。

安全责任

制造者的安全责任
制造者应对所提供的工业机器人产品及随行供应的附件在设计和结构上已消除和

/或控制的危险负责。

—制造者应对所提供的产品及随行供应的附件的安全负责。
制造者应对提供给使用者的使用信息和建议负责。

使用者的安全责任

使用者应通过工业机器人产品安全操作的学习和培训，并熟悉和掌握安全操作的

内容。

一使用者应对自己增加、变换或修改原产品、附件后的安全及造成的危险负责。

—使用者应对未按使用手册的规定操作、调整、维护、安装和贮运产品造成的危险

负责。

本手册为最终用户收藏。

诚挚的感谢您—在使用广州数控设备有限公司的产品时，

对本公司的友好支持！

目录

第一章 安全.1 
1警告.. 

1 
2危险...1 
3注意...2 
第二章GR-C控制系统概述..3 
1结构....3 
2控制柜.. 

..3 
3示教盒... 

.5 
第三章示教盒界面显示及数据修改.7 
1示教盒外观.7 
2按键... 

..8 
3按键的功能....9 
4软键盘...15 
5数值的录入...18 
6示教盒画面显示..19 
6.1快捷菜单区...20 
6.2系统状态显示区.23 
6.3文件列表区...26 
6.4人机接口显示区.27 
6.5主菜单区．.27 
7主菜单说明....27 
7.1{系统设置}菜单.....27 
7.1.1{绝对零点}菜单界面..28 
7.1.2{模式切换}菜单界面..29 
7.1.3{工具坐标}菜单界面....30 
7.1.4{用户坐标}菜单界面..34 
7.1.5{变位机坐标}菜单界面..34 
7.1.6{基座轴方向}菜单界面..38 
7.1.7{系统时间}菜单界面...39 
7.1.8{口令设置}菜单界面..40 
7.1.9{系统速度}菜单界面...41
7.1.10{应用配置}菜单界面...41 
7.1.11{网关调试}菜单界面..43 
7.1.12{网络设置}菜单界面.43 
7.1.13{语言设置}菜单界面.44 
7.1.14{程序选择}菜单界面...45 
7.2{程序管理}菜单..47 
7.2.1{新建程序}菜单界面..47 
7.2.2{程序一览}菜单界面...48 
7.2.3{外部存储}菜单界面.49 
7.2.4{程序信息}菜单界面，..50 
7.3{参数设置}菜单...52 
7.3.1{关节参数}菜单界面.52 
7.3.2{轴参数}菜单界面...53 
7.3.3{运动参数}菜单界面..54 
7.3.4{伺服参数}菜单界面.55 
7.3.5{连杆参数}菜单界面，..56 
7.3.6{系统备份}菜单界面.57 
7.4{应用}菜单..57 
7.5{变量}菜单……..57 
7.5.1{实数型}菜单界面..58 
7.5.2{位置型}菜单界面..59 
7.5.3{视觉变量}菜单界面..61 
7.6{系统信息}菜单....62 
7.6.1{报警信息}菜单界面...63 
7.6.2{版本信息}菜单界面....64 
7.6.3{按键诊断}菜单界面...64 
7.6.4{伺服监控}菜单界面....65 
7.6.5{累计运行时间}菜单界面..66 
7.7{输入输出}菜单..66 
7.7.1{数字I/O}菜单界面....67 
7.7.2{组I/O}菜单界面...68 
7.7.3{I/O分配}菜单界面...69 
7.7.4{RSR启动}菜单界面....70 
7.7.5{PNS启动}菜单界面.72 
7.7.6{输入连接}菜单界面...73 
7.7.7{输出连接}菜单界面..74
7.7.8{自定义1/0}菜单界面.74 
7.8{示教点}菜单...75 
7.9{机器设置}菜单..76 
7.9.1{再现运行方式}菜单界面.77 
7.9.2{软极限}菜单界面...78 
7.9.3{干涉区}菜单界面....79 
7.9.4{作业原点}菜单界面..81 
7.10{在线帮助}菜单...82 
7.10.1{指令}菜单界面....83 
7.10.2{操作}菜单界面....84 
7.10.3{加工信息}菜单界面.84 
第四章机器人坐标系...87 
1概述...87 
2关节坐标系...87 
3直角坐标系...89 
4工具坐标系.....90 
5工具坐标系设定...91 
5.1直接输入法.....91 
5.2三点法...91 
5.3五点法.....94 
5.4工具坐标检验..96 
6用户坐标系..96 
7用户坐标系设定..97 
7.1直接输入法...97 
7.2三点法...97 
7.3用户坐标系检验..98 
8变位机坐标系设定...98 
8.1直接输入法.....99 
8.2三点法.....100 
8.3五点法....102 
第五章机器人操作...…105 
1示教......105 
1.1示教点. 

…105 
1.2示教前的准备， 
1.3示教操作... 105 
.… 106
2程序举例.107 
2.1编辑程序..107 
2.2示教检查程序....113 
2.2.1单步示教检查..113 
2.2.2连续示教检查...115 
2.2.3修改程序.. 116 
3再现... 118 
第六章程序管理与指令编缉... 119 
1程序管理....119 
1.1新建程序... 119 
1.2复制程序...121 
1.3删除程序....123 
1.4查找程序....125 
1.5重命名程序文件...127 
1.6系统文件复制到U盘...129 
1.7U盘文件复制到系统..131 
2指令编辑...133 
2.1添加指令...133 
2.2修改指令...135 
2.3删除指令..137 
2.4剪切指令...139 
2.5复制指令...141 
2.6整体替换.....143 
2.7搜索指令...148 
2.8指令格式的编辑....153 
2.9运动指令的特殊编辑..160 
2.10查看变量值....168 
第七章机器人指.....169 
1操作符.....169 
1.1关系操作符.....169 
1.2运算操作符...169 
2运动指令...169 
2.1MOVJ...169 
2.2MOVL...170 
2.3MOVC.... 171
3信号处理指令.172 
3.1DOUT .172 
3.2WAIT..173 
3.3DELAY .174 
3.4DIN.174 
3.5PULSE ..175 
3.6AOUT...175 
4流程控制指令..176 
4.1IF....176 
4.2LAB...177 
4.3JUMP ..177 
4.4#...178 
4.5END...178 
4.6CALL .…. 179 
4.7RET...180 
4.8ENDIF …180 
5运算指令....180 
5.1算术运算指令.…181 
5.1.1INC....181 
5.1.2DEC..…181 
5.1.3ADD ...182 
5.1.4SUB...182 
5.1.5MUL ..183 
5.1.6DIV.…183 
5.1.7SET...…183 
5.1.8SETE...184 
5.1.9GETE...184 
5.2逻辑运算指令..184 
5.2.1AND…...185 
5.2.2OR.....185 
5.2.3NOT...185 
5.2.4XOR...186 
6平移指令...186 
6.1SHIFTON..…186 
6.2SHIFTOFF ..187 
6.33MSHIFT …187 
第八章 系统功能...189 
1零点位置....189 
2干涉区...190
3软极限..192 
4系统专用I/O.....193 
4.1系统专用I/O概述.193 
4.2系统专用I/0定义..193 
5用户自定义I/O0....194 
5.1自定义输入概述...194 
5.2自定义输入功能描述..194 
5.3自定义输出概述....194 
5.4自定义输出功能描述..194 
6RSR启动..195 
6.11RSR启动概述...195 
6.2RSR启动功能描述..195 
6.3RSR启动操作步骤..195 
7PNS启动....196 
7.11PNS启动概述....196 
7.2PNS 启动功能描述...196 
7.3PNS启动操作步骤..196 
8再启动（续点运行）.197 
8.1再启动功能概述..197 
9作业原点....197 
9.1作业原点概述...197 
9.2作业原点设置...197 
9.3作业原点输入或变更..198 
9.4回到作业原点....199 
9.5作业原点信号输出...199 
10平移...199 
10.1平移功能介绍...199 
10.2建立平移量....199 
10.3平移程序示例...200 
11安全模式...203 
12DNC 加载..206 
12.1DNC功能介绍...206 
12.2DNC支持指令集..206 
12.3DNC程序操作...206 
13GPC模块(外扩PLC或产线控制器)..207 
13.1GPC模块功能介绍..207
13.2GPC模块功能配置.207 
第九章焊接应用...209 
1焊接原理....209 
2{应用}菜单....209 
2.1{焊接设置}菜单界面..209 
2.2{焊机控制}菜单界面.213 
2.3{引弧条件}菜单界面..213 
2.4{熄弧条件}菜单界面.214 
2.5{摆焊条件}菜单界面..215 
2.6{数字焊机}菜单界面..217 
2.6.1{数字焊机}菜单第一级界面.217 
2.6.2{数字焊机}菜单第二级界面..218 
2.7{模拟焊机}菜单界面....220 
2.7.1{模拟焊机}菜单第一级界面.220 
2.7.2{模拟焊机}菜单第二级界面.221 
3焊接指令...223 
3.1ARCON….223 
3.2ARCOF...224 
3.3WVON...225 
3.4WVOFF ..225 
3.5ARCSET ..225 
3.6ARCCT..226 
3.7REFB...226 
3.8REFR…..226 
3.9REFT ..227 
4手动操作..227 
4.1焊接应用有效....227 
4.2手动检气..228 
4.3手动金属线进给/回绕.228 
5机器人与焊机的连接.....228 
6焊接时序....229 
7焊接编程应用说明及安全操作事项.230 
7.1直线角焊接程序...230 
7.2正逆（连续）圆弧轨迹焊接程序..231 
7.3弧焊机器人焊接参数指令说明...232 
7.4常见的焊接缺陷现象处理方法...232
7.5机器人操作注意事项.234 
7.6焊接机器人及焊接设备日常维护要求..234 
8寻位...238 
8.1寻位功能原理..238 
8.2一维寻位...238 
8.3二维寻位....238 
8.4三维寻位...239 
8.5一维加旋转寻位...239 
8.6二维加旋转寻位.240 
8.7三维加旋转寻位.240 
8.8圆内径寻位....241 
8.9寻位参数说明.241 
9电弧传感...242 
9.1电弧传感功能原理..242 
9.2左右方向的补偿..242 
9.3上下方向的补偿.244 
9.4影响电弧跟踪的要因及使用指南..244 
9.5电弧跟踪指令..245 
10焊缝跟踪....245 
10.1焊缝跟踪功能介绍..245 
10.2焊缝跟踪指令格式...245 
10.3焊缝跟踪编程应用..247 
第十章 视觉应用...249 
1视觉机理.....249 
2网络IP设置..249 
3视觉变量.....249 
4视觉指令..250 
4.1VISION TSYN;..250 
4.2DETECT;..250 
4.3GETVISIONVR[变量名]，LAB[变量名];..251 
4.4GETNFOUNDR[变量名]；...251 
4.5SETPOSROBOT[变量名];....251 
4.6SETPOS USRCOORD; ...251 
4.7GETIFPASSR[变量名]；..251 
4.8INITQUEUE[变量名];...251
4.9GETQVR[变量名]，QUEUE[变量名]，T(值)，LAB[变量名];..251 
4.10DETECTON...252 
4.11DETECTOFF;....252 
4.12GETVI[变量名]，VR[变量名]，TYPE;.252 
4.13GETVI[变量名]，VR[变量名]，FRAME；...252 
4.14GETVI[变量名]，VR[变量名]，MODELID;..252 
4.15GETVI[变量名]，VR[变量名]，MEAS(值);.252 
4.16GETVI[变量名]，VR[变量名]，ENCODER；..252 
4.17GETVI[变量名]，VR[变量名]，FOUNDPOS;..252 
4.18GETVI[变量名]，VR[变量名]，OFFSET;..253 
5视觉静态编程实例..253 
第十一章动态跟随应用.....255 
1跟随参数.....255 
2跟随指令...255 
2.1 BANDON;..255 
2.2 BANDOFF;..255 
3跟随应用...256 
3.1视觉跟随应用..256 
3.2I/O触发跟随应用..257 
第十二章外部扩展接口....259 
1MODBUS 接口....259 
1.1接口说明...259 
1.2接口配.....259 
1.3MODBUS指令..259 
2DEVICENET 接口...260 
2.1接口说明....260 
2.2接口配置....260 
2.2I/O映射....260 
3以太网接口1(视觉模块)..260 
3.1接口说明....260 
3.2接口配置..261 
4以太网接口2（远程HMI)..261 
4.1接口说明...261 
4.2接口配置.....261

附录一常用报警信息...263 
附录二指令格式编辑...267 
附录三常用运动参数..269 ## 第一章安全
1 警告

本操作说明书提示工业机器人（简称机器人）的所有操作人员必须完成相关的培训，并仔细阅读操作说明书等相关使用文件，这是基本要求。

下列各项安全提示强调有关安全防护与安全操作的内容，应特别注意。

[a]

本公司售后服务工程师。

本机器人的使用者，在使用其他手册前一定要首先阅读并充分了解本操作说明书的所有内容。
2 危险

不遵守下列操作可能会发生危险

操作机器人前，按下GR-C控制柜前门及示教盒上的急停键，并确认电机电源被切断。伺服电源切断后，示教盒上表示伺服通的灯熄灭

解除急停后再接通电机电源时，要解除造成急停的事故后再接通电机电源

由于误操作造成的机器人动作，可能引发人身伤害事故

进行以下作业时，请确认机器人的动作范围内没人，并且操作者处于安全位置

——机器人接通电源时

—用示教盒操作机器人时

试运行时

自动再现时

在机器人动作范围内示教时，请遵守以下事项

——保持从正面观看机器人

——遵守操作步骤

降低运动速率

考虑机器人失控的应急方案。

不慎进入机器人动作范围内或与机器人发生接触，都有可能引发人身伤害事故。另外，发生异常时，请立即按下急停键（如示教盒急停未能终止异常则务必按下GR-C控制柜急停或切断控制柜电源）急停外观及功能请参阅3.2。

机器人再现程序选择错误，执行移动方向错误，坐标系变更等改变机器人运行参数的数据将有可能导致人员受伤或设备损坏。
3 注意

本说明书中引用的图解，部分为了说明细节取下盖子或安全罩进行绘制，运转此类部件时，务必按规定将盖子或安全罩还原后，再按说明书要求运转。

说明书中的图示及照片，为代表性示例，与您购买的产品或许存在差异

进行机器人示教作业前要检查以下事项，有异常则应及时修理或采取其他必要措施

机器人动作有无异常

外部电线遮盖物及外包装有无破损

请勿随意放置机器人示教盒，用完后须放回控制柜挂钩处

在理解GR-C机器人控制系统操作说明书的“警告标志”的基础上，使用机器人

客户擅自进行产品改造，不在本公司保修范围之内，本公司概不负责，如有疑问，请联系生产商或供应商

说明书因产品改进、规格变更及说明书自身更便于使用等原因而进行适当的修改。修改后的说明书将更新封面右下角的资料号，并以修订版发行，不再另行通知

第二章GR-C控制系统概述
1 结构

GR-C系列工业机器人控制系统（本操作说明书着重对控制装置进行叙述）包括机器人本体部分、控制柜部分和示教盒部分，他们通过线缆连接而成（如图2-1-1所示）。

 图2-1-1整体结构 
2 控制柜

控制柜（如图2-2-1）的正面左侧装有主电源开关和门锁，右上角有电源指示灯、报警指示灯、急停开关，报警指示灯下方的挂钩用来悬挂示教盒。

控制柜内部包含GR-C控制系统主机、机器人电机驱动、抱闸释放装置、I/O装置等部件，未经允许或不具备整改资格的人员严禁对控制柜内的电器元件、线路进行增添

或变更等操作。

 图2-2-1 

注意事项：按下控制柜上的急停键，伺服电源及电机电源被切断；如在按下示教盒急停仍然不能停止机器人动作，则需按下此键。
3 示教盒

控制系统的示教盒（如图2-3-1）为GR-C系统的人机交互装置，GR-C系统主机在控制柜内，示教盒为用户提供了数据交换接口及友好可靠的人机接口界面，可以对机器人进行示教操作，对程序文件进行编辑、管理、示教检查及再现运行，监控坐标值、变量和输入输出，实现系统设置、参数设置和机器设置，及时显示报警信息及必要的操作提示等。

 图2-3-1-1 

第三章示教盒界面显示及数据修改

GR-C控制系统主要参数的显示、修改及功能设置在本章作详细说明，而部分需详细说明的其他内容将在第八章进行描述。当出现参数无法修改时，请根据提示输入权限，权限切换及确认请参考本说明书的3.7.1.2、3.7.1.8、8.11。
1 示教盒外观

示教盒分为按键和显示屏两部分。按键包括对机器人进行示教编程所需的所有操作键和按钮，示教盒的外观如图3-1-1所示。

 图3-1-1 
2 按键

(1) 按键的表示与操作

在本说明书中，示教盒上的所有按键用“[]”表示，示教盒画面中显示的菜单用“{0}”表示。

例如：选择键用[选择]来表示；界面菜单主页面用{主页面}来表示。

(2) 常用键的名称

急停键，用[急停]键来表示。

（绿色）启动键，用[启动]键来表示。

（红色）暂停键，用[暂停]键来表示。

使能开关（位于示教盒左后方），用[使能开关]键来表示。

模式选择键，用[模式选择]键来表示。

向]键。

方向键，分别为[左方向]键、[右方向]键、[上方向]键、[下方

 轴操作键 

 数值键 

(3) 按键的操作

按键一般采用点按方式触发，如轴移动等操作则采用点按或长按触发，使能开关采用长按保持使能有效。

复合操作则需要两个按键按下，部分复合操作需按描述顺序按下。

例如：向上翻页同时按[转换]键和[翻页]键时，用[转换]+[翻页]表述。

快速运动指令输入用[使能开关]+[输入]+[获取示教点]表述。
3 按键的功能

按键的具体功能如下表：

 0 1 

 [急停]键4 O 示教盒急停开关： 按下此键，机器人停止运行，屏幕上显示急停提示信息。 松开示教盒上的急停键，系统自动恢复正常。 
 [急停]键 © 控制柜急停开关： 按下此键，机器人驱动及电机电源被切断，机器人停止运行。 松开急停键后需对控制柜进行重新上电。 
 [暂停]键 · 再现运行程序时，按下该键，机器人暂停运行程序 

 0 1 

 [启动]键 ö 再现模式下，伺服就绪后，按下此键开始运行程序 
 [模式选择]键 选择示教模式、再现模式和远程模式 示教：示教模式，可用示教盒进行轴操作、编程、试运行、参 数修改与设置、系统状态真诊断等操作 再现：再现模式，可对示教好的文件进行再现运行 远程：远程模式，可对示教好的主程序文件进行远程控制运行 模式切换时，使能断开，系统处于停止状态 
 [使能开关]键 一 使能开关位于机器人左后方，主要用于开、关使能 示教机器人前，必须先将三位使能开关轻轻按下，再按轴操作 键或前进/后退键，机器人才能运动，一旦松开或用力过度，使能断 开，机器人停止运动。 编辑程序时需要使能开关 
 [F1]键 F1 {主页面}界面快捷键 在{程序}界面、{编辑}界面、{显示}界面、{工具}界面按下[F1] 键，系统切换到{主页面}界面 
 [F2]键 F2 {程序}界面快捷键 1) 在{主页面}界面、{编辑}界面、{显示}界面、{工具}界面按下 [F2]键，系统显示当前加载的程序，并切换到{程序}界面，即 可预览、再现运行程序。再现模式启动程序或重新启动程序时 需切换到程序界面。 
 [F3]键 F3 {编辑}界面快捷键 在{主页面}界面、{程序}界面、{显示}界面、{工具}界面按下 [F3]键，系统打开当前程序，并切换到{编辑}界面，即可预览、编 辑程序 只有在示教模式下才可切换到编辑界面 

 0 1 

 [F4]键 F4 {显示}界面快捷键 在{主页面}界面、{程序}界面、{编辑}界面、{工具}界面按下 [F4]键，系统切换到{显示}界面 
 [F5]键 F5 {工具}界面快捷键 在{主页面}界面、{程序}界面、{编辑}界面、{显示}界面按下 [F5]键，系统切换到{工具}界面 
 方向键 方向键用来改变光标焦点，实现遍历菜单、按钮、改变数值等， 常与 选择 键、[取消]键、[转换 键[TAB]键配合用以选择菜单或者 按钮。 根据画面的不同，光标的大小、可移动的范围和区域会有所不 同 在程序界面和编辑界面，[转换]+[上方向]键，光标移动到程序 首行。[转换]+[下方向]键，光标移动到程序末行。 
 轴操作键 X+ X- A+ A J1+ J1- J4+ J4- Y+ Y- B+ B- J2+ J1- Js+ Js- Z+ Z- C+ C- J₃+ J1- J6+ J6- 手动移动各轴：在示教模式下，轻轻按下使能开关，再按轴操 作键，机器人各轴按当前坐标系进行轴运动，（松轴按键或使能开 关，轴运动停止) 注：可多轴同时运动。 
 数值键 7 8 9 4 5 6 1 2 3 0 主要用于数字及字符的输入。 共十二个按键，0~9数字键，小数点“.”，负号“” 

 0 1 

 [选择]键 选择 该键能激活或选择界面对象，如按钮，菜单，文件列表等等 当[选择]按钮时，执行相应按钮对应的功能 当[选择]菜单时，进入相应菜单对应的窗口 在主界面的文件列表中[选择]文件时，则打开光标所在的文件 该键还可以激活软键盘，用于输入字符 
 [伺服准备]键 伺服 准备 要再现运行，需先选择再现模式再按下此键，然后按下[启动] 按钮才能再现（要保证机器人在起始位置）；否则将不能进行再现 运行 再现模式下按下此键后，该键的指示灯会点亮 
 [取消]键 取消 [取消]键用于关闭退出页面 此键用于关闭退出当前页面/弹窗、返回上一层页面/主界面 
 [坐标设定]键 坐标 设定 当系统处于非外部轴坐标系时，按下此键可切换机器人的动作 坐标系 此键每按一次，坐标系按以下顺序变化："关节"→"直角"→" 工具"→"用户"→"关节"并显示在系统状态区 
 [获取示教点]键 获取 示教点 在编辑运动指令时，按[获取示教点 键可以获取示教点（机器 人当前的位置） 在设置机器人坐标系获取原点及方向点时通过此键来获取机 器人当前的位置 
 [翻页]键 翻页 按下此键可实现翻页功能 按下[翻页]键，可实现向下翻页的功能 按下[转换]+[翻页]键，可实现向上翻页的功能 翻页功能可用在文件列表、文件指令内容浏览、显示界面、变 量、输入输出、伺服参数、焊机设置、报警信息等页面切换 

 0 1 

 [转换]键 转换 在特定界面与其他键配合使用 与[翻页]键配合，[转换]+[翻页]，实现向上翻页的功能。 预览程序时，[转换]+[上方向]键，实现跳转到首行的功能 预览程序时，[转换]+[下方向]键，实现跳转到末行的功能 在软键盘界面，该键用于切换大写字母、小写字母、符号字符 在指令编辑时，该键可用于切换指令参数或指令格式，如 ON->OFF 
 [手动速度]键 高 手动 速度 低 机器人运行速度的设定键，用于示教和再现两种方式速度的调 节 手动速度有5个等级 (微动、低速、中速、高速、超高速) 每按一次高速键，速度按以下顺序变化：“微动”->“低速” ->“中速”->“高速”->“超高速” 每按一次低速键，速度按以下顺序变化：“超高速”->“高 速”->“中速”->“低速”->“微动” 被设定的速度显示在系统状态区域 
 [单段连续]键 单段 连续 示教模式下，可在“单段”、“连续”两个动作循环模式之间切 换，再显现模式下无效 “单段”模式是指在进行前进、后退示教时，系统每运行一条 指令就停止，只有当用户再次按[前进]、[后退]键时，系统才能运行 下一条指令 “连续”模式是指在进行前进、后退示教时，系统连续运行程 序指令，直到结束指令才会停止 
 [TAB]键 TAB 按下此键，可在当前界面显示区域间切换光标 界面通常通过几个矩形框进行划分，这些矩形相当一个区域， 只有当某个区域中包含图形元素（如按钮、菜单、文件列表、文本 显示框）时，光标才会切换到该区域 通常[TAB]键和四个方向键共同配合，用于移动光标，选择图 形元素，以便使用系统功能 

 0 1 

 [清除]键 清除 清除报警信息（伺服报警除外）；清除人机接口显示区的提示 信息等 
 [外部轴切换]键 外部轴 切换 按下此键可切换机器人与外部轴的动作坐标系 此键每按一次，坐标系按以下顺序变化："外部轴"→"切换状 态前的机器人坐标系" 被选中的坐标系显示在系统状态区域 
 [输入]键 输入 确认用户当前的输入内容 在软键盘界面，[输入]键用于确认当前软键盘输入的内容；在 修改指令时，[输入]键用于确认当前指令修改的内容；在焊机设置 时，[输入]键用于确认当前属性的输入值。其它界面类似 
 [删除]键 删除 此键用于程序文件、指令的删除等操作 在文件一览界面中，删除当前光标所在的文件 在编辑指令时，删除当前光标所选择区域的指令 
 [添加]键 添加 在程序编辑页面，按下此键，系统进入程序编辑的添加模式 
 [修改]键 修改 在程序编辑页面，按下此键，系统进入程序编辑的修改模式 
 [复制]键 复制 编辑的一般模式下，该键有复制指令的功能 首次按下该键，可选择要复制的区域，再次按下该键，完成复 制并可选择粘贴位置，再次按下该键，则系统进行粘贴动作，完成 复制功能 

 0 1 

 [剪切]键 剪切 编辑的一般模式下，该键有剪切指令的功能 首次按下该键，可选择要剪切的区域，再次按下该键，完成剪 切并可选择粘贴的位置，再次按下该键，则系统进行粘贴动作，完 成剪切功能 
 [前进]键 前进 示教模式下按住[使能开关 和此键时，机器人按示教的程序点 轨迹顺序运行，非运动指令语句直接解释执行用于检查示教程序 
 [后退]键 后退 示教模式下按住[使能开关]和此键时，机器人按示教的程序点 轨迹顺序逆向运行 
 [退格]键 在编辑框/数字框中按下此键可删除字符 
 [应用]键 应用 此键为一个外部应用开关 [转换]+[应用]，用于在焊接启动和关闭信号。 
4 软键盘

软键盘窗口主要用在需要输入字母、字符等环境，弥补实际按键不足的弹窗输入方式，如输入程序名、变量注释、指令搜索关键字等。允许使用字母、字符的环境，在输入框按[选择]弹出软键盘如图3-4-1所示：

 图3-4-1 

软键盘可输入大写字母、小写字母、符号等三种字符，通过[转换]键进行切换。数字字符的输入可直接通过示教盒数值键进行输入。

通过方向键可移动光标。按下[选择]键可将光标处的字符进行输入，并显示在“输入”框中。通过[退格]键，可删除“输入”框中的字符。按下[输入]键确认输入，将“输入”框所显示的字符作为本次输入的结果。按下[取消]键取消输入，即放弃“输入”框所显示的字符，并退出该软键盘窗口。

如要输字符串“Job123”作为文件名，步骤如下：
在进入软键盘窗口后，按[转换]键切换到“大写”字符，通过方向键移动光标到字母“J”处，如图。
按下[选择]键，将字母“J”输入，如图
按[转换]键切换到“小写”字符，通过方向键移动到字母“o”处，如图
按下[选择]键，将字母“o”输入，如图
同理输入字母“b”，如图
按下数值键[1]，将字符“1”输入，如图
同理继续将字符“2”、“3”进行输入。按[输入]键，完成字符输入、软键盘关闭。
5 数值的录入

在进行参数设置时，通常需要进行参数值的输入。首先通过数值键将需要的数值输入到编辑框,通过[退格]键可删除编辑框中所输入的值,最后通过[输入]键进行确认输入，如输入数值不符合要求，系统会提示当前数值的输入范围；选择性数值则可输入数值，或者用上下光标键选择，如坐标系设定等；搜索及定位输入数值后系统不显示，按[输入]后，系统定位至对应目标，如显示页面的快速定位等。

如要输入数值“-1234.56”，步骤如下：
通过数值键输入负号，如图：
00
通过数值键输入1234，如图：
00
如此时输入5，则系统会提示“输入格式4.2”，表示只能输入4位整数和2位小数。此时已经输入4位整数值“1234”，因此不能继续输入第5位整数。
通过数值键输入小数点，如图：
00
继续通过数值键输入56，再按下[输入]键进行确认输入。
56
此时系统会判断该数值是否在合理的范围内，若所输入的值合理，则系统提示“完成输入”，若不合理，则系统在人机对话区提示输入范围。
输入过程中，可通过[退格键]
输入过程中，可通过[取消]键，取消当前的输入。
6 示教盒画面显示

示教盒的显示屏主页面共分为8个显示区：快捷菜单区、系统状态显示区、导航条、主菜单区、时间显示区、位置显示区、文件列表区和人机对话显示区，其中，接收光标焦点切换的只有快捷菜单区、主菜单区和文件列表区，通过按[TAB]键在显示屏上相互切换光标，区域内可通过方向键切换光标焦点执行相应操作。

显示屏主页面画面如图3-6-1所示。

 图3-6-1 
6.1 快捷菜单区

快捷菜单区的主页面、程序、编辑、显示和工具分别用于返回主页面、打开当前程序、编辑当前程序、显示运行状态以及图形显示工具。如图3-6-1-1所示。

 图3-6-1-1 

快捷菜单区的菜单项分别用{主页面}、{程序}、{编辑}、{显示}和{工具}表示。当光标在快捷菜单区，按左右键可以依次循环切换光标，按[选择]键将进入相应的界面。这五个界面之间，可以按快捷键F1~F5进行快速切换。F1~F5依次对应{主页面}、{程序}、{编辑}、{显示}和{工具}五个界面。

（1） {程序}菜单界面

{程序}用于显示当前加载程序（当前程序名显示界面右下角）。按照如下三种操作可以显示当前程序。

将光标移动到{程序}上，按[选择]键显示当前程序；

在{主页面}、{编辑}、{显示}、{工具}主界面，按F2快捷键，显示当前程序；

在主页面，使用[TAB]键和方向键将光标移动到文件列表区，选择要打开的程序，按[选择]键即可打开所选程序，被打开程序被设置为当前程序。打开程序后，光标停留在菜单{程序}处。如图3-6-1-2所示。

 图3-6-1-2 

在{程序}界面，可以预览、单段、连续示教、再现运行程序。可通过[上方向]键、[下方向]键将光标移动上一行、下一行，通过[翻页]键可向下翻页，通过[转换]+[翻页]组合键可向上翻页，通过[转换]+ [上方向]键可将光标移动到程序首行，通过[转换]+[下方向]键可将光标移动到程序末行。

[Tab 

{编辑}界面只用于编辑当前程序。示教模式下，按照如下两种操作可以进入{编辑}界面。

将光标移动到{编辑}上，按[选择]键打开当前程序并编辑

在{主页面、{程序}、{显示}、{工具}主界面，按F3快捷键，打开当前程序并编辑

进入{编辑}界面后，光标停留在{编辑}菜单，如图3-6-1-3所示。

 图3-6-1-3 

在{编辑}界面，可以对程序进行指令的添加、删除、复制、剪切、粘贴、参数修改、搜索等操作。详情请参考第六章。移动光标方式与{程序}菜单界面相同。

(3) {显示}菜单界面

该界面用于查看系统相关的运行状态。

按照如下两种操作可以进入{显示}界面：

⚫ 将光标移动到{显示}上，按[选择]键可进入{显示}界面;

在{主页面}、{程序}、{编辑}、{工具}主界面，按F4快捷键即可进入{显示}界面后，光标停留在{显示}菜单，如图3-6-1-4所示。

 图3-6-1-4 

在{显示}界面，可以查看机器运行状态、总线状态等诊断信息。在该界面中，通过数值键输入变量序号，如130（此时系统不显示用户输入的数值“130”），再按[输入]键，则界面快速切换到变量序号为130的页面。此外，也可通过方向键、翻页键浏览系统诊断信息。

（4） {工具}菜单界面

该界面以曲线连续变化方式显示系统实时诊断信息（目前可诊断指令电压、指令电流、反馈电压、反馈电流等)

按照如下两种操作可以进入{工具}界面：

●将光标移动到{工具}上，按[选择]键可进入{显示}界面。

在{主页面}、{程序}、{编辑}、{显示}主界面，按F5快捷键即可。

进入{工具}界面后，光标停留在{工具}菜单，如图3-6-1-5所示。

 图3-6-1-5 

在该界面中，通过左右方向键可选择“通道0”，“通道1”，“通道2”，“通道3”，“采样周期”等选项，通过上下方向键可对各个选项进行设置，显示的曲线可随着设置而变化。当设置各个通道为“开”并通过确认键确认后，此时界面显示出对应的指定电流电压的曲线，如图3-6-1-6所示。

 图3-6-1-6 
6.2 系统状态显示区

系统状态显示区显示机器人的当前状态。如图3-6-2-1所示。

 图3-6-2-1 

（1） 动作坐标系

显示被选择的坐标系。有关节坐标系、直角坐标系、工具坐标系、用户坐标系和外部轴坐标系五种。工具坐标系、用户坐标系有10个，确认当前坐标系号请参考3.7.1.3/3.7.1.4章节。通过按示教盒上的[坐标设定]键和[外部轴切换]键可依次切换。

每按一次[坐标设定]键机器人坐标系按以下变化：关节坐标系->直角坐标系->工具坐标系->用户坐标系。当按[外部轴切换]键，坐标系在外部轴坐标系与关节坐标、直角坐标系、工具坐标系、用户坐标之间切换。当系统设定外部轴轴数为0时，按[外部轴切换]键无效。

J ：关节坐标系

B 

：直角坐标系

T 

：工具坐标系

U 

：用户坐标系

：外部轴坐标系

(2） 速度等级

显示系统当前的执行速度（包括手动速度与再现速度）。有微动、低速、中速、高速和超高速五个速度等级。通过按示教盒上的[手动速度]键可手动增、减速度等级。

每按一次高速键，速度等级依次递增。

每按一次低速键，速度等级依次递减。

：微动

：低速

M 

：中速

：高速

：超高速

系统开机初始默认速度为微动等级，如需要更改系统开机速度等级，及速度等级百分比请参考3.7.1.9章节。

(3） 安全模式

显示被选择的安全模式，各模式对应的操作权限详情浏览“第八章8.11”章节

：操作模式

操作模式是面向生产线中进行机器人动作监视的操作者的模式，主要可进行机器人启动、停止、监视操作等。可进行生产线异常时的恢复作业等。

：编辑模式

编辑模式是面向进行示教作业的操作者的模式，比操作模式可进行的作业有所增加，可进行机器人的缓慢动作、程序编辑、以及各种程序文件的编辑等。

：管理模式

管理模式是面向进行系统设定及维护的操作者的模式，比编辑模式可进行的作业有所增加，可进行部分参数设定、用户口令的修改等管理操作。

：厂家模式

警告：厂家模式是最高权限，可修改所有参数，但修改参数不当将导致人身伤害或设备损坏等严重后果。谨慎使用。

(4） 动作循环（示教模式）

显示当前的动作循环，该循环仅在示教模式通过[使能开关]+[前进]/[后退]检查程序时有效，再现模式下无效。

：单步

：连续

（5） 程序执行状态

显示系统当前程序执行状态

：停止中

：暂停中

：急停中

：运行中
6.3 文件列表区

文件列表区将显示所有系统存在的一些程序信息，包括程序名、程序大小、程序创建的日期。如图3-6-3-1所示。

 图3-6-3-1 

在{主页面}界面，通过[TAB]键可将光标移动到文件列表区，配合方向键、[翻页]键、[转换]键和[选择]键便可打开所选择的程序。
6.4 人机接口显示区

显示各种提示信息和报警信息等，如下图3-6-4-1所示。

示教模式应用有效替换完成

 图3-6-4-1 
6.5 主菜单区

主菜单区一共拥有10个子菜单，如图3-6-5-1所示。

 图3-6-5-1 

在{主页面}界面，通过[TAB]键可将光标移动到主菜单区，配合方向键和[选择]键便可进入菜单对应界面，完成相应操作。当光标进入该区域时，光标的位置为上次离开该区域的位置。详细页面及参数设置详见3.7章节
7 主菜单说明

GR-C主菜单涵盖系统所有参数修改及功能设置，在本章节将对主菜单各级子菜单的页面进行介绍。涉及界面参数修改及录入，部分功能较复杂则在后续章节作详细介绍，将会指引章节位置。
7.1 {系统设置}菜单

{系统设置}菜单由14个三级菜单项组成，按[选择]键选择{系统设置}菜单，弹出其三级菜单，如图3-7-1-1所示。

 图3-7-1-1 

弹出三级菜单后，光标位置为上次离开该三级菜单时的位置。通过上下方向键选择三级菜单，[取消]键可关闭离开该子菜单界面。
7.1.1 {绝对零点}菜单界面

{绝对零点}菜单界面用来设置绝对零点位置，如图3-7-1-1所示。

 图3-7-1-1 

该界面由2 个区域组成，[TAB]键切换区域光标。

区域一显示当前机器人每个轴的绝对零点位置值。当光标处于“是否修改”列时，通过[选择]键进行修改，若选择“是”，则允许对应轴的绝对零点值进行修改；若选择“否”，则不允许修改。“零点位置值”列显示了当前各个轴的零点值，可通过数值键直接输入新的零点值，或通过区域二的【读取】按钮，获取机器人当前所在位置作为新的零点值。本功能其他详情请参考8.1章节。

区域二含有4个按钮：

【读取】按钮：读取当前允许修改轴的实际转角值，并显示在区域一。

【设置】按钮：将区域一显示的值设置为绝对零点位置值。

【全选】按钮：将区域一所有轴的“是否修改”属性全部选择“是”，再次选择该按钮时，则将区域一所有轴的“是否修改”属性全部选择“否”。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.1.2 {模式切换}菜单界面

该界面用来切换当前的安全模式，如图3-7-1-2所示。

 图3-7-1-2 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一用方向键选择要切换的安全模式

区域二包含2个按钮：

【选择】按钮：根据区域一所选择的模式，切换为当前的安全模式，若当前安全模

式比区域一选择的模式等级低，则需要输入相应的密码口令。安全模式密码及对应权限请参考8.11章节。密码可在3.7.1.8{口令设置}界面进行修改。

【退出】按钮：退出该界面，返回主页面；[取消]键亦可退出。
7.1.3 {工具坐标}菜单界面

{工具坐标}菜单界面用来设置工具坐标，如图3-7-1-3所示。

 图3-7-1-3 

该界面由3个区域组成，[TAB]键切换区域光标。

区域一可以通过上下方向键或输入数值选择要设置的工具坐标号0~9。

区域二显示区域一中选择的工具坐标号对应的坐标值。

区域三含有3个按钮：

【选择】按钮：设定区域一选择的工具坐标号为当前工具坐标号。显示在区域一右则。【详细设置】按钮：对区域一显示的工具坐标号进行详细设置。设置方法有直接输入

法、三点法、五点法。其他详情请参考4.4/4.5章节

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.1.3.1 “工具坐标详细设置”界面

若{工具坐标}菜单界面的区域三选择了【详细设置】按钮，按[选择]键之后，进入工具坐标系设置方法界面。如图3-7-1-3-1所示。

 图3-7-1-3-1 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一可以通过上下方向键选择要设置的工具坐标方式。

区域二包含2个按钮：

【选择】按钮：根据区域一选择的工具坐标系设置信息，进入相应的界面设置工具坐标。当光标在区域一时，按[选择]键亦可。

【退出】按钮：退出该界面，返回{工具坐标}菜单界面。[取消]键亦可返回。
7.1.3.2 “直接输入法设置工具坐标”界面

若{工具坐标详细设置}菜单界面的区域一选择了直接输入法，按【选择】按钮之后，进入直接输入法设定工具坐标的界面。如图3-7-1-3-2所示。

 图3-7-1-3-2 

该界面由2个区域组成，[TAB]键切换区域光标。。

区域一显示X,Y，Z,W,P,R的值，这六个值需用键盘的数值键直接输入。

区域二包含2个按钮：

【设置】按钮：根据区域一的值，设置当前选择的工具坐标号对应的坐标。

【退出】按钮：退出该界面，返回{工具坐标}菜单界面；[取消]键亦可返回。
7.1.3.3 “三点法设置工具坐标”界面

若{工具坐标详细设置}菜单界面的区域一选择了三点法，按【选择】按钮之后，进入三点法设定工具坐标的界面。如图3-7-1-3-3所示。

 图3-7-1-3-3 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一显示3个原点的值。将光标移动到某个点上，按[获取示教点]键，获取系统当前位置值赋给该点并显示。通过上下方向键和数值键亦可直接输入点的数值。其他详情请参考4.5.2章节

区域二包含2个按钮：

【设置】按钮：根据区域一获取3个点的值，设置当前选择的工具坐标号对应的坐标

【退出】按钮：退出该界面，返回{工具坐标}菜单界面。[取消]键亦可返回。
7.1.3.4 “五点法设置工具坐标”界面

若{工具坐标详细设置}菜单界面的区域一选择了五点法，按【选择】按钮之后，进入五点法设定工具坐标的界面。如图3-7-1-3-4所示。

 图3-7-1-3-4 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一显示五个点的值，包括3个原点，2个方向点。将光标移动到某个点上，按[获取示教点]键，获取系统当前位置值赋给该点并显示。通过上下方向键和数值键亦可直接输入点的数值。其他详情请参考4.5.3章节

区域二包含2个按钮：

【设置】按钮：根据区域一获取五个点的值，设置当前选择的工具坐标号对应的坐标。【退出】按钮：退出该界面，返回工具坐标菜单界面。[取消]键亦可返回。
7.1.4 {用户坐标}菜单界面

{用户坐标}菜单界面与{工具坐标}菜单界面相似，详细操作方法可参考3.7.1.3章节，用户坐标原理及设置详情请参考4.6、4.7章节
7.1.5 {变位机坐标}菜单界面

{变位机坐标}菜单界面用来设置变位机坐标。进入该界面前需在{变位机配置}界面中设置变位机轴数，{变位机坐标}菜单界面如图3-7-1-5所示。

 图3-7-1-5 

该界面由3个区域组成，[TAB]键切换区域光标。

区域一可以通过上下方向键或输入数值选择要设置的变位机坐标号0~9。

区域二显示区域一中选择的变位机坐标号对应的坐标值。如当前变位机轴数配置为1轴，则该区域只显示T1轴的值。

区域三含有3个按钮：

【选择】按钮：设定区域一选择的变位机坐标号为当前变位机坐标号。

【详细设置】按钮：对区域一显示的变位机坐标号进行变位机坐标系设置，有直接输入法（1轴和2轴通用）、三点法（需先在变位机配置中选择1轴变位机，否则此区域将无法显示三点法设置）、五点法（需先在变位机配置中选择2轴变位机，否则此区域将无法显示五点法设置）。详情请参阅4.8。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.1.5.1 “变位机坐标详细设置”界面

若{变位机坐标}菜单界面的区域三中选择了【详细设置】按钮，按[选择]键之后，进入变位机坐标系设置方法界面，如图3-7-1-5-1所示。

 图3-7-1-5-1 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一可以通过上下方向键选择要设置的工具坐标方式；有直接输入法、三点法(只适用1轴变位机)或五点法（只适用2轴变位机）。

区域二包含2个按钮：

【选择】按钮：根据区域一选择的变位机坐标系设置信息，进入相应的界面设置变位机坐标。

【退出】按钮：退出该界面，返回{变位机坐标}菜单界面。[取消]键亦可返回。
7.1.5.2 “直接输入法设置变位机坐标”界面

若{变位机坐标详细设置}菜单界面的区域一中选择了直接输入法，按【选择】按钮之后，进入直接输入法设定变位机坐标的界面。如图3-7-1-5-2所示。

 图3-7-1-5-2 

该界面由3个区域组成，[TAB]键切换区域光标。

区域一左边为显示当前设置的变位机号，右边则是可以通过[选择]键弹起下拉框，上下方向键选择当前要设置的变位机轴T1、T2（变位机轴T1、T2参数需看变位机配置；配置为1轴变位机只需设置T1参数，如果配置为2轴变位机则需输入T1、T2的参数)。其他详情请参考4.8.1章节。

区域二显示$\scriptstyle\mathrm{X,Y,Z,W,P,R}$ 的值，这六个值需用键盘的数值键直接输入。

区域三包含2个按钮：

【设置】按钮：根据区域一、二的值，设置当前选择的变位机坐标号对应的坐标。

【退出】按钮：退出该界面，返回{变位机坐标}菜单界面。[取消]键亦可返回。
7.1.5.3 “三点法设置变位机坐标”界面

若{变位机坐标详细设置}菜单界面的区域一中选择了三点法，按【选择】按钮之后，进入三点法设定变位机坐标的界面。如图3-7-1-5-3所示。

 图3-7-1-5-3 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一显示三个点的值，接近点1，接近点2，接近点3。将光标移动到某个点上，按[获取示教点]键，获取系统当前位置值赋给该点并显示。也可通过上下方向键和数值键直接输入。其他详情请参考4.8.2章节。

区域二包含2个按钮：

【设置】按钮：根据区域一获取三个点的值，设置当前选择的变位机坐标号对应的坐标。

【退出】按钮：退出该界面，返回{变位机坐标}菜单界面。[取消]键亦可返回。
7.1.5.4 “五点法设置变位机坐标”界面

若{变位机坐标详细设置}菜单界面的区域一中选择了五点法，按【选择】按钮之后，进入五点法设定变位机坐标的界面。如图3-7-1-5-4所示。

 图3-7-1-5-4 

该界面由2个区域组成，[TAB]键可以将光标在这2个区域之间切换。

区域一显示五个点的值，接近点1，接近点2，接近点3，接近点4，接近点5。将光标移动到某个点上，按[获取示教点]键，获取系统当前位置值赋给该点并显示。通过上下方向键和数值键亦可输入数值。其他详情请参考4.8.3章节。

区域二包含2个按钮：

【设置】按钮：根据区域一获取五个点的值，设置当前选择的变位机坐标号对应的坐标。

【退出】按钮：退出该界面，返回{变位机坐标}菜单界面。[取消]键亦可退出。
7.1.6 {基座轴方向}菜单界面

当外部轴配置成基座轴时，在该界面可设置基座轴的方向，如图3-7-1-6所示。

 图3-7-1-6 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一显示了基座轴可选的方向，若基座轴的轴数为1，则可选的方向只有“X”、“Y”、“Z”方向；若基座轴的轴数为2，则可选的方向有“XY”、“XZ”、“YX”、“YZ”、“ZX”、“ZY”（注：“XY”表示基座轴第一轴的方向为X，第二轴的方向为Y）。通过上下方向键移动光标选择需要设置的轴方向。

区域二包含2个按钮：

【设置】按钮：根据区域一所选的基座轴方向，设置到系统。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.1.7 {系统时间}菜单界面

该界面用来设置系统时间，如图3-7-1-7所示。

 图3-7-1-7 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一设置日期和时间，方向键移动光标选择要设置的年、月、日、时、分、秒，通过数值键输入要修改的系统时间值。

区域二包含2个按钮：

【设置】按钮：根据区域一的输入值，设置当前的系统日期时间。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.1.8 {口令设置}菜单界面

该界面用来修改设置编辑模式或管理模式的口令，编辑模式的出厂默认密码为888888，管理模式的出厂默认密码为666666。若在编辑模式下进入该界面，则只能修改设置编辑模式的口令，若在管理模式下进入该界面，则只能修改设置管理模式的口令，厂家模式不能进入该界面修改厂家密码，图3-7-1-8是管理模式口令设置。

 图3-7-1-8 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一有三个输入框，需分别输入原密码，新的密码以及新密码确认。密码最大可输入6位数值，最小可输入0位数值。

区域二有两个按钮，

【完成输入】按钮：根据区域一的输入，修改设定相应模式的口令。若原密码不匹配或者新的密码和新密码确认不匹配，则口令修改设置无效。【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.1.9 {系统速度}菜单界面

系统速度界面是对系统速度档位I、L、M、H、S进行比例微调及调节系统上电时的默认速度等级。如图3-7-1-9所示。

 图3-7-1-9 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一用方向键和数值键可输入各个速度等级的速度比例值，以及开机默认速度等级。通过数值键修改各个速度等级的百分比大小，通过[选择]键来修改开机默认速度。

区域二包含3个按钮：

【设置】按钮：将区域一的值生效。

【默认值】按钮：读取厂家各个速度等级的默认值显示到区域一。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.1.10 {应用配置}菜单界面

该界面用来设置需要的功能，该界面一共两页，可通过翻页键或者方向键切换至下一页，如图3-7-1-10-1/-2所示。

 图3-7-1-10-1 

 图3-7-1-10-2 

该界面由2个区域组成。[TAB]键切换区域光标。

区域一，显示该系统可开启的功能，对应的功能需要对应的权限打开。

当光标在“外部轴类型”和“应用类型”处时，通过[选择]键，可改变外部轴以及应用类型；当光标在“外部轴轴数”处时，通过数字键和[输入]键输入外部轴轴数。

区域二包含2个按钮：

【设置】按钮：将区域一的选择设置到系统，该设置需要重启系统。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。

注意：当配置外部轴为基座轴，则需要设置基座轴的轴方向，详情请参阅3.7.1.6；当配置外部轴为变位机，则需要建立变位机坐标系，详情请参阅4.8。
7.1.11 {网关调试}菜单界面

{网关调试}菜单界面用来设置连接GPC时的GL和GN端的逻辑ID，如图 3-7-1-11所示。详情请参阅8.13。

 图3-7-1-11 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一可以通过上下方向键选择要设置逻辑ID端，通过数字键和[输入]键进行输入；

区域二含有2个按钮：

【设置】按钮：根据区域一所选择的配置，设置到系统。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.1.12 {网络设置}菜单界面

{网络设置}菜单界面用来设置网络配置，如图3-7-1-12所示。

 图3-7-1-12 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一可以通过上下方向键选择要设置的各个网络子项，通过数字键和[输入]键进行输入;

区域二含有2个按钮：

【设置】按钮：根据区域一所选择的配置，设置到系统。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.1.13 {语言设置}菜单界面

{语言设置}菜单界面用来设置系统语言，如图3-7-1-13所示。

 图3-7-1-13 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一可以通过上下方向键选择要设置的语言。

区域二含有2个按钮：

【设置】按钮：根据区域一所选择的语言，设置到系统，并返回主页面。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.1.14 {程序选择}菜单界面

{程序选择}菜单界面用来设置程序加载方式以及是否开启各种检测

“DisEnable”为不开启检测

“Enable”为开启检测。

如图3-7-1-14所示。

 图3-7-1-14 

该界面由2个区域组成，[TAB]键切换区域光标。

区域一可以通过上下方向键选择要设置的子项，并且通过[选择]键进行各种模式的切换。

程序加载方式：

可选择正常加载、RSR加载、PNS 加载、DNC加载。正常加载为打开系统内置程序并执行。其他加载方式详情请参考8.6/8.7/8.12章节

运动原点检测：

运动原点可以是程序的第一运动点，也可以是零点，或者用户可定义其他点。

其设置在作业原点界面。作业原点检测选择 Enable时，则在程序启动时（不包含再启动）检测程序的第一点是否在运动原点上。若检测不在原点位置，则系统报警。其他详情请参考8.9章节。

断点位置检测：

再启动断点位置是由于系统发生停止或急停动作后，系统自动记录停止的位置。当手动移动机器人位置，造成此时位置偏移原来记录的断点位置，若此时再启动断点位置检测设置为Enable，并通过再启动程序时系统会检测到位置异常并报警，这时需手动操作将系统移动到断点位置附近。断点位置信息可以通过在线帮助>>加工信息中可以查看。

I /O仿真加载程序：

再启动I/O仿真加载程序功能设置为Enable时，I/O处在仿真状态时允许加载程序,否则系统报警。

程序机械锁定时不检测：

再启动机械锁定不检测功能设置为Enable时，处在机械锁定时，系统允许加载程序，否则系统报警。

全局变量检测：

再启动全局变量检测功能设置为Enable时，若系统所用到的全局变量发生改变，系统不允许加载程序并报警。

I /O状态检查：

再启动I/O状态检测功能设置为Enable时，若系统所用到的I/O状态发生改变，系统不允许加载程序并报警。

工具/用户坐标系检查：

工具/用户坐标系系统检测是指当前运动点中包含的工具坐标系与用户坐标系与系统当前生效的工具或用户坐标系不一致，当系统设置工具/用户坐标系系统检测为Enable时，且检测到工具或用户坐标系不一致，系统不允许加载程序并报警。

区域二含有2个按钮：

【设置】按钮：根据区域一所的选择，设置到系统。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.2 {程序管理}菜单

{程序管理}菜单由4个子菜单项组成，移动光标至{程序管理}菜单按[选择]键打开，会弹出其子菜单，如图3-7-2所示。

 图3-7-2 

弹出子菜单后，光标位置为上次离开该子菜单时的位置。通过上下方向键选择子菜单，[取消]键可关闭离开该子菜单界面。
7.2.1 {新建程序}菜单界面

{新建程序}菜单界面用来创建新的程序文件，如图3-7-2-1所示：

 图3-7-2-1 

该界面由3个区域组成。

区域一程序目录表显示系统所有的程序文件，可通过上下方向键、[翻页]键、[转换][翻页]键浏览程序文件信息。

区域二显示新建程序的程序名，[选择]键激活软键盘，通过软键盘输入要创建的程序名，或者直接通过数值键输入数值作为程序名。

区域三包含2个按钮：

【新建】按钮：根据区域二所输入的新程序名，创建一个程序文件，并打开该文件，进入编辑界面，对该文件进行编辑。

【退出】按钮：放弃新建程序操作，退出该界面，返回主页面。[取消]键亦可退出。
7.2.2 {程序一览}菜单界面

{程序一览}菜单界面用来执行复制、删除、重命名程序文件等操作，如图3-7-2-2所示：

 图3-7-2-2 

该界面由4个区域组成。

区域一通过文件列表显示出当前系统所有的程序文件，可以通过上下方向键、[翻页]键、[转换]+[翻页]键浏览程序文件信息、[选择]键可打开光标所在的程序文件。

区域二可输入程序文件名，[选择]键激活软键盘，通过软键盘输入程序文件名，或者直接通过数值键输入数值作为程序名。

区域三含有5个按钮：

【复制】按钮：根据区域一光标所指向的程序文件为源文件，区域二输入的程序文三交制为日称文件。件名为目标文件，将源文件复制为目标文件。

【删除】按钮：删除区域光标所指向的程序文件。删除前系统会弹出“删除文件

确认”对话框，再一次确认是否进行删除操作。当光标位于区域一

T 时，按[删除]键也可进行删除程序文件的操作。

【查找】按钮：根据区域二输入的程序文件名为目标文件名，查找目标文件，并把

光标切换到该目标文件的信息记录。

【重命名】按钮：根据区域二输入的程序文件名，将区域一当前光标所指向的程序文件重命名。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。

区域四显示了当前系统的文件信息，包括已存程序数、剩余程序数、已用存储量、剩余存储量等。
7.2.3 {外部存储}菜单界面

{外部存储}菜单界面用于系统与外界U盘之间的程序互相拷贝，如图3-7-2-3所示

 图3-7-2-3 

界面由2个区域组成。

区域一上方有当前路径名，“系统：\”表示文件列表所显示文件为机器人系统的文件，若路径名为“U盘：\PIC\”表示文件列表所显示的文件为U盘根目录下的文件夹PIC中的文件。可以通过上下方向键选择要复制的程序，按[选择]键即可复制程序。若

此时光标在机器人系统文件中，则复制操作为将机器人系统文件复制到U盘此时的路径；若此时光标在U盘文件中，则复制操作为将U盘文件复制到机器人系统中。

]

【U盘】按钮：切换光标到U盘文件，读取用户U盘当前路径中的程序。最多400个文件。

【系统】按钮：切换光标到系统文件，读取系统所有的文件信息。

【复制】按钮：将光标当前所选择的机器人系统文件（U盘文件）拷贝到U盘（机器人系统）中。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。

注意：当主页面>>系统设置>>程序选择>>程序加载方式为DNC加载时，当光标在区域一并且当前路径为U盘路径的时候，按[输入]键选择程序可进入DNC加工模式，并且进入程序界面。
7.2.4 {程序信息}菜单界面

{程序信息}菜单界面用于查看程序的详细信息，如图3-7-2-4所示。

 图3-7-2-4 

该界面由两个区域组成。

区域一通过文件列表显示出当前系统所有的程序文件，可以通过上下方向键、[翻页]键、[转换]键浏览程序文件信息。

区域二含有二个按钮：

【详细】按钮：通过该按钮进入所选择文件的详细信息界面。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.2.4.1 “程序详细设置”界面

{程序详细设置}菜单界面用来查看并设置所选程序的详细信息，如图3-7-2-4-1所示。

 图3-7-2-4-1 

该界面由两个区域组成。

区域一包括程序的详细信息，灰色为不可改变选项，通过上下键选择各个子项，通过[选择]键改变锁定方式，包括“FALSE”和“TRUE”。通过[选择]键进入工具/用户坐标系的详细设置界面。

区域二包括两个按钮：

【设置】按钮：把区域一的配置设置到系统。

【退出】按钮：返回上一层界面，通过[取消]键也可返回上一层界面。
7.2.4.2 “工具/用户坐标系设置”界面

{工具/用户坐标系}界面用来修改程序中所用到的各个工具和用户坐标系，如图3-7-2-4-2所示。

 图3-7-2-4-2 

该界面由两个区域组成。

区域一包括程序的工具或用户坐标号以及坐标系的值，通过上下键选择各个子项，通过数字和[输入]键输入坐标系。

区域二包括两个按钮：

【设置】按钮：把区域一的配置设置到系统。

【退出】按钮：返回上一层界面，通过[取消]键也可返回上一层界面。
7.3 {参数设置}菜单

系统不同类别参数对应不同的操作权限，需要在主菜单/系统设置/模式切换获取修改权限，各模式权限及权限密码请参考8.11章节。当修改参数所需权限与当前权限不同时，系统会在人机界面处提示所需权限。
7.3.1 {关节参数}菜单界面

{关节参数}菜单界面用来各个关节的最大速度、最大加速度、停止减速度，如图3-7-3-1-1所示。

 图3-7-3-1-1 

该界面由两个区域组成。

区域一包括显示与修改各个关节的最大速度（单位°/s）、最大加速度（单位$\mathrm{mm/s^{2}}$ ）、停止减速度（单位$\mathrm{mm/s^{2}}$ ，。

区域二包括三个按钮：

【设置】按钮：把区域一的配置设置到系统。

【默认植】按钮：恢复区域一参数的默认值。

【退出】按钮：返回上一层界面，通过[取消]键也可返回上一层界面。
7.3.2 {轴参数}菜单界面

{轴参数}菜单界面用来修改各个关节的轴精度、轴减速比、机械补偿、轴方向，如图3-7-3-2-1所示。

 图3-7-3-2-1 

该界面由两个区域组成。

区域一包括显示与修改各个关节的轴精度、轴减速比、机械补偿、轴方向。

区域二包括三个按钮：

【设置】按钮：把区域一的配置设置到系统。

【默认植】按钮：恢复区域一参数的默认值。

【退出】按钮：返回上一层界面，通过[取消]键也可返回上一层界面。

注意：该参数在机器人出厂时已标定设置好。非专业人员严禁修改，修改不当将可能引起人身损害及设备损坏。 
7.3.3 {运动参数}菜单界面

{运动参数}菜单界面用来修改机器人运动参数，如图3-7-3-3-1所示。

 图3-7-3-3-1 

该界面由两个区域组成。

区域一包括显示与修改运动参数。

区域二包括三个按钮：

【设置】按钮：把区域一的配置设置到系统。

【默认植】按钮：恢复区域一参数的默认值。

【退出】按钮：返回上一层界面，通过[取消]键也可返回上一层界面。
7.3.4 {伺服参数}菜单界面

{伺服参数}菜单界面用来修改伺服参数，如图3-7-3-4-1所示。

 图3-7-3-4-1 

该界面由两个区域组成。

区域一包括显示与修改伺服参数。参数详情请参考《GE系列总线式驱动单元使用手册》

区域二包括三个按钮：

【设置】按钮：把区域一的参数配置设置到伺服驱动。

【获取参数】按钮：获取伺服参数并显示到区域一。

【退出】按钮：返回上一层界面，通过[取消]键也可返回上一层界面。
7.3.5 {连杆参数}菜单界面

{连杆参数}菜单界面用来修改连杆参数，如图3-7-3-5-1所示。

 图3-7-3-5-1 

该界面由两个区域组成。

区域一包括显示与修改连杆参数。

区域二包括三个按钮：

【设置】按钮：把区域一的配置设置到系统。

【默认植】按钮：恢复区域一参数的默认值。

【退出】按钮：返回上一层界面，通过[取消]键也可返回上一层界面。

注意：该参数在机器人出厂时已标定设置好。非专业人员严禁修改，修改不当将可能引起人身损害及设备损坏。
7.3.6 {系统备份}菜单界面

{系统备份}菜单界面用来进行系统参数备份与还原，系统调试完成后进行一次系统参数备份，当出现误修改参数导致运行部正常时进行系统参数还原，操作界面如图3-7-3-6-1所示。

 图3-7-3-6-1 

该界面由两个区域组成。

区域一包括选择进行系统参数备份还是还原。系统备份的参数包含关节参数、轴参数、运动参数、连杆参数、软限位、跟随参数等。

区域二包括两个按钮：

【设置】按钮：把区域一的配置设置到系统。

【退出】按钮：返回上一层界面，通过[取消]键也可返回上一层界面。
7.4 {应用}菜单

详细请参考第九、十、十一章节。
7.5 {变量}菜单

{变量}菜单由6个子菜单项组成，移动光标至{变量}菜单按[选择]键打开，会弹出其子菜单，如图3-7-5-1所示。

 图3-7-5-1 

弹出子菜单后，光标位置为上次离开该子菜单时的位置。通过上下方向键选择子菜单，[取消]键可关闭离开该子菜单界面。

字节型变量范围为【0~255】

整数型变量范围为【-32768~32767】

双精度型变量范围为【-2147483648~2147483647】

实数型变量允许值的范围为【-1.79E+308~1.79E+308】

字节型变量界面、整数型变量界面、双精度型变量界面和实数型变量界面操作方式基本一致，因此下面只介绍实数型变量界面、位置型变量界面和视觉变量界面。
7.5.1 {实数型}菜单界面

{实数型}菜单界面用来查看、修改实数型变量信息，如图3-7-5-1-1所示。

 图3-7-5-1-1 

该界面由1个区域组成，该区域显示100个实数型变量的信息。进入该界面时，该界面属于浏览状态，即光标同时选中“变量序号”，“变量值”，“变量注释”如上图。按[修改]键使界面进入修改状态，可进行变量值与变量注释的修改。

浏览状态下，通过上下方向键、[翻页]键、[转换]+[上/下方向]组合键、[转换]+[翻页]组合键可移动光标进行查看变量信息。通过数值键输入变量的序号，如45（此时系统并不显示用户输入的“45”），再按[输入]键可快速将光标移动到变量R[45]处。[取消]键退出该界面，返回主页面。

修改状态下，通过左右方向键可将光标在“变量值”和“变量注释”两列进行移动，通过上下方向键、翻页键、[转换]+[上方向/下方向/翻页]组合键使得光标上下移动。当光标在“变量值”列时，可通过数值键直接输入数值，并按[输入]键结束输入；通过[转换]+[删除]组合键可清除所有实数变量的值为0。当光标在“变量注释”列时，通过[选择]键，激活软键盘进行变量注释的修改；通过[删除]键可删除该变量的注释；通过[转换]+[删除]组合键可删除所有实数变量的注释。[取消]键可返回浏览状态。
7.5.2 {位置型}菜单界面

{位置型}菜单界面用来查看、修改位置型型变量信息。如图3-7-5-2-1所示。

 图3-7-5-2-1 

该界面由1个区域组成，该区域显示100个位置型变量的信息。进入该界面时，该界面属于浏览状态，即光标同时选中“变量序号”，“变量注释”如上图。按[修改]键使界面进入修改状态，可修改变量注释。

浏览状态下，通过上下方向键、[翻页]键、[转换]+[上/下方向]组合键、[转换]+[翻页]组合键可移动光标进行查看变量信息。通过数值键输入变量的序号，如45（此时系统并不显示用户输入的“45”），再按[输入]键可快速将光标移动到变量PX[45]处。[取消]键亦退出该界面，返回主页面。[选择]键可进入对应位置型变量的明细界面，进行值的修改。

修改状态下，通过上下方向键、翻页键、[转换]+[上方向/下方向/翻页]组合键使得光标上下移动。当光标在“变量注释”列时，通过[选择]键，激活软键盘进行变量注释的修改；通过[删除]键可删除该变量的注释；通过[转换]+[删除]组合键可删除所有位置型变量的注释。[取消]键可返回浏览状态。
7.5.2.1 “位置型变量明细”界面

该界面，可进行位置型变量值的修改。如图3-7-5-2-1-1所示。

 图3-7-5-2-1-1 

该界面由1个区域组成，且仅处于修改状态，光标只能处于“变量值”列。通过上下方向键可上下移动光标；通过[翻页]键可切换下一个变量的明细界面，[转换]+[翻页]组合键可切换上一个变量的明细界面。通过数值键可直接输入位置型变量X、Y、Z、W、P、R的值。通过[转换]+[删除]键可清除当前页面的PX变量值。[取消]键退出该界面，返回上一级界面。变量使用请参考8.10章节。
7.5.3 {视觉变量}菜单界面

{视觉变量}菜单界面用来查看、修改视觉变量信息。如图3-7-5-3-1所示。

 图3-7-5-3-1 

该界面由两个区域组成。

区域一包括十个视觉变量的按钮选项，通过上下左右方向键来选择所要修改的VR变量。通过[TAB]按键可在两个区域之间切换。变量使用请参考10.3章节。

区域二包括三个按钮：

【清除】按钮：清除区域一所选VR变量的值，即光标所在的VR变量。

【清除所有】按钮：清除所有VR变量的值。

【退出】按钮：返回主界面，按[取消]键也可返回主界面。
7.5.3.1 “视觉变量明细”界面

[视觉变量明细]界面用来修改VR变量中各个子项的值，如图3-7-5-3-1-1所示。

 图3-7-5-3-1-1 

该界面只有一个区域，当光标在“类型”处时，通过[选择]键进行类型的切换，光标在其它子项上面时，通过数字和输入键进行数据的输入。
7.6 {系统信息}菜单

{系统信息}菜单由5个子菜单项组成，移动光标至{系统信息}菜单按[选择]键打开，会弹出其子菜单，如图3-7-6-1所示。

 图3-7-6-1 

弹出子菜单后，光标位置为上次离开该子菜单时的位置。通过上下方向键选择子菜单，[取消]键可关闭离开该子菜单界面。
7.6.1 {报警信息}菜单界面

{报警信息}菜单界面用来浏览最近历史报警的信息，如图3-7-6-1-1所示。

 图3-7-6-1-1 

该界面显示了报警号、报警说明、报警时间等信息，通过上下方向键或[翻页]键可

返回主页面。
7.6.2 {版本信息}菜单界面

{版本信息}菜单界面用来显示当前系统的版本信息。如图3-7-6-2-1所示。

 图3-7-6-2-1 

该界面显示了版本信息，包括机器人型号、软件版本、硬件版本、显示器标识、主控制器标识、运动控制器标识等。为维修及功能确认提供参考。

该界面按[取消]键退出。
7.6.3 {按键诊断}菜单界面

{按键诊断}菜单界面用来诊断各个按键是否正常，如图3-7-6-3-1所示。

 图3-7-6-3-1 

在该界面中，在键盘上按下某一个键（如[转换]+[0]键），则界面上对应的按钮会获得光标焦点，表示该按键有效；否则表示该按键失效。如图3-7-6-3-1所示表示被按下。

[取消]键退出该界面，返回主界面。
7.6.4 {伺服监控}菜单界面

{伺服监控}菜单界面用来监测驱动的单圈和多圈位置，如图3-7-6-4-1所示

 图3-7-6-4-1 

该界面显示了系统的单圈和多圈数据，只做诊断用途，用以诊断电机位置是否异常，按[取消]键返回主页面。
7.6.5 {累计运行时间}菜单界面

{累计运行时间}界面用来查看系统的累计通电时间和累计运行时间，如图3-7-6-5-1所示。

 图3-7-6-5-1 

该界面可以查看系统的通电和运行时间，只作诊断用途，按[取消]键返回主页面。注：累计运行时间是手动运行时间和在线运行时间的总和。
7.7 {输入输出}菜单

{系统设置}菜单由7个子菜单项组成，移动光标至{输入输出}菜单按[选择]键打开，会弹出其子菜单，如图3-7-7-1所示。

 图3-7-7-1 

弹出子菜单后，光标位置为上次离开该子菜单时的位置。通过上下方向键选择子菜单，[取消]键可关闭离开该子菜单界面。
7.7.1 {数字I/0}菜单界面

{数字I/O}菜单界面用来控制、查看数字信号输出端口和数字信号输入端口的状态，如图3-7-7-1-1所示。

 图3-7-7-1-1 

该界面由2个区域组成。

区域一显示端口的信息，包括“I/O序号”、“I/0状态”和“注释”等信息。通过上下方向键，[翻页]键可浏览端口信息。

“I/O 序号”：当光标在此栏时，通过数值输入端口号，如13，再按[输入]键，可快速将光标移动到DOUT[13]或者DIN[13]处。

“状态”：当光标在此栏时，可通过[选择]键，使得I/O状态在OFF 或者ON之间切换。数字输出信号被注册使用时，不可强制输出。数字输入信号不可进行控制，它只能从外设进行输入。

“仿真”：当光标在此栏时，按[选择]键可使得I/O仿真状态在“U”和“S”之间进行切换，“U”表示不仿真输出，“S”表示仿真输出。

“注释”：显示系统I/O的用途，和所属的是那种类型“卡”，“末定义”表示没被占用。“卡”指的是拓展功能卡，如I/O卡（标配）、GPC卡、焊接卡。

注意：每一个端口只能用于某一个系统功能，用户在操作机器人时，应该检查各个输入输出端口的使用情况，避免出现由外部信号触发机器人运动的危险。

区域二含有2个按钮：

【输出/输入】按钮：[选择]键选择该按钮时，按钮在【输入信号】、【输出信号】之间变化。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.7.2 {组I/0}菜单界面

组I/O配置是指用户自定义各个组I/O的配置来控制机器人控制系统的状态，以达到控制系统的功能。用户可以根据自己的用途，通过组I/O界面来配置最多16组的I/O 组。定义的I/O组可在程序中使用，也可在组I/O界面输入I/O组的值，并且通过仿真输出来测试各个I/O组的输出状态达到需要的目的。

该界面用来对I/O组进行设置，包括各个I/0组的起始位、位长度以及是否仿真等，如图3-7-7-2-1所示。

 图3-7-7-2-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一可对I/0组配置信息进行修改操作，最多可配置16组I/0，

“变量值”：按数字和输入键进行输入，可修改I/0组的值，相应改变各个I0位的输出。当为数字输入信号时，必须处在仿真状态才能改变这个值。

“仿真”：按[选择]键进行“U”和“S”切换。当选择“U”时，则表示I/0仿真状态无效，为“S”时，表示仿真状态有效。

“起始位”：I/0组的起始I/0位，通过数字和输入键进行修改。

“位长度”：I/0组的长度，范围为2-8，通过数字和输入键进行修改。

区域二有两个按钮：

【输入/输出】按钮：[选择]键选择该按钮时，按钮在【输入信号】、【输出信号】之间变化。

【显示方式】按钮：改变“变量值”一栏的显示方式，有二进制，十进制和十六进制共三种显示方式。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
7.7.3 {I/0分配}菜单界面

该界面用来配置各种I/0卡的长度和范围，如图3-7-7-3-1所示。

 图3-7-7-3-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一显示了三种I/O卡的配置，通过上下左右键进行选择，数字和输入键进行修该。

区域二含有二个按钮：

【设置】按钮：将区域一的显示的值设置到系统，并生效。

【退出】按钮：退出该界面，返回主页面；[取消]键亦可退出。

注意：I/0卡配置的起始位必须为8的倍数，而且必须连续，配置的I/0卡，卡数必须跟实际配置的卡数相同。
7.7.4 {RSR启动}菜单界面

该界面设置是否开启RSR功能并配置RSR的相关功能选项。如图3-7-7-4-1和图3-7-7-4-2所示：

 图3-7-7-4-1 

 图3-7-7-4-2 

该功能界面包括两页界面，并且包括两个区域，[TAB]键可以将光标在2个区域之间切换。

区域一包含了RSR功能的各个子项，灰色选项为不可修改的选项，当光标处在RSR 功能选项时通过[选择]键在“无效”和“有效”状态之间切换，其余选项通过数字和输入键进行修改。其中基本编号为RSR文件名的起始编号，如为100，则起始文件名为RSR100；记录编号的值加上起始编号的值即为后续RSR文件名的编号，如RSR2记录编号为1，则文件名为RSR101;

RSR反馈脉冲信号宽度是指：RSR接收确认信号在RSR功能有效进行组合使用。接收到RSR输入时，作为确认输出对应的脉冲信号。可以指定脉冲宽度。其他详情请参考8.6章节。

区域二有两个按钮：

【设置】按钮：把区域一所显示的配置信息设置生效。

【退出】按钮：退出该界面，返回主页面；[取消]键亦可退出。

注意：RSR必须通过外部I/O启动，IN8-IN15分别对应RSR的8个文件编号。
7.7.5 {PNS启动}菜单界面

{PNS启动}设置是否开启PNS功能并配置PNS的相关功能选项，如图3-7-7-5-1所示。

 图3-7-7-5-1 

该界面由两个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一用来修改PNS的相关配置，灰色选项为不可修改的配置，当光标处在PNS功能栏时，通过[选择]键进行“无效”和“有效”状态的切换;在其它选项时，通过数字和输入键进行输入。

PNS反馈脉冲信号宽度是指：PNS接收确认信号在PNS功能有效进行组合使用。接收到PNS输入时，作为确认输出对应的脉冲信号。可以指定脉冲宽度。其他详情请参考8.7章节。

区域二包含两个按钮：

【设置】按钮：把区域一所显示的配置信息设置生效。

【退出】按钮：退出该界面，返回主页面，[取消]键亦可退出。

注意：PNS是基于程序编号选择的自动运行方式，通过IN16以及IN8-IN15的组合来进行程序编号的预约，再通过IN17来启动所预约的程序。程序编号的计算为IN8-IN15的二进制组合方式，如当按下IN8和IN10时，则IN8-IN15的值为00000101，IN15为最高位，十进制则为5，如果PNS的基本编号为100，则选择的PNS程序编号为$100+5=105$ 所以预约的程序名称为PNS105，以此类推。
7.7.6 {输入连接}菜单界面

{输入连接}界面用来配置输入端口到输出端口的连接关系，如图3-7-7-6-1所示：

 图3-7-7-6-1 

该界面由两个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一由输入连接到输出的表格组成，当光标处在“是否有效”一列时，可通过选择键在“有效”和“无效”的状态之间进行切换；当光标处在“输入端口”和“输出端□”时，可通过数字和输入键进行修改，已经被占用的输出端口不能使用。如图3-7-7-6-1设置完成后，当IN0端口输入有效时，则对应的DOUT20输出有效。

区域二包含两个按钮：

【设置】按钮：把区域一所显示的配置信息设置生效。

【退出】按钮：返回主界面，[取消]按钮也可返回主界面。
7.7.7 {输出连接}菜单界面

{输出连接}界面用来配置输出端口到输出端口的连接关系，如图3-7-7-7-1所示：

 图3-7-7-7-1 

该界面由两个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一由输出连接到输出的表格组成，当光标处在“是否有效”一列时，可通过选择键在“有效”和“无效”的状态之间进行切换；当光标处在“对应端口”列时，可通过[选择]健在“相同”和“相反”之间进行切换，这里的对应关系是电平的对应关系，如输出高电平，对应关系为“相同”则目标端口也输出高电平，反之则输出低电平；当光标处在“输出端口”和“输出端口”列时，可通过数字和输入键进行修改，已经被占用的输出端口不能使用。

区域二包含两个按钮：

【设置】按钮：把区域一所显示的配置信息设置生效。

【退出】按钮：返回主界面，[取消]按钮也可返回主界面。
7.7.8 {自定义1/0}菜单界面

{自定义I/O}界面用来配置输入端口到输出端口的连接关系，如图3-7-7-8-1所示。

 图3-7-7-8-1 

该界面由两个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一由自定义I/O的表格组成。其他详情请参考8.5章节。

区域二包含三两个按钮：

【设置】按钮：把区域一的内容设置到系统。

【自定义输入/输出】按钮：自定义输入/输出之间切换。

【退出】按钮：返回主界面，[取消]按钮也可返回主界面。
7.8 {示教点}菜单

{示教点}菜单用来查看程序文件的示教点信息。移动光标至{示教点}菜单按[选择]键进入该界面，如图3-7-8-1所示。

 图3-7-8-1 

该界面由3个区域组成。

区域一，通过文件列表显示出系统所有程序文件信息，通过上下方向键、[翻页]键、[转换]+[翻页]键可以移动光标，浏览程序文件，选择要查看示教点的程序文件。

区域二，显示了区域一光标所指程序文件中所有的示教点。通过上下方向键、[翻页]键、[转换]+[翻页]键可以移动光标，查看该文件中所有的示教点的信息。

区域三，显示区域一选择的程序文件和区域二选择的示教点的各轴信息。若系统配置了外部轴，该区域也会显示对应示教点的外部轴轴值。

光标只能在区域一和区域二之间转换。

按[取消]键退出该界面，返回主页面。
7.9 {机器设置}菜单

{机器设置}菜单由4个子菜单项组成，移动光标至{机器设置}菜单按[选择]键打开会弹出其子菜单，如图3-7-9-1所示。

 图3-7-9-1 

弹出子菜单后，光标位置为上次离开该子菜单时的位置。通过上下方向键选择子菜单，[取消]键可关闭离开该子菜单界面。
7.9.1 {再现运行方式}菜单界面

该菜单界面用来对再现运行方式进行设置，如图3-7-9-1-1所示。

 图3-7-9-1-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一，显示五种再现运行的方式，通过方向键可以选择其中一种方式。通过数值

键输入“限速运行百分比”。

普通再现：按照程序内容进行再现。

机械锁定：再现或者手动方式下系统运行时，不对伺服发脉冲，电机不运转，机器人不动。机械锁定主要用于测试程序运行的各种条件是否满足。

限速运行：若以MOVJ插补方式时，程序文件中的速度不大于系统设定的限速值，若大于，则强制为限定的速度值。若以MOVL、MOVC插补方式时，则程序文件的速度值不大于系统配置的最大允许位置速度乘以限定速度的百分比(参数设置>>运动参数>>最大允许位置速度)，若大于则强制为限速百分比和最大允许位置速度的乘积。

锁定运动指令：再现或者手动方式下跳过运动指令只运行非运动指令，如变量计算、I/O 处理等。

锁定非运动指令：再现或者手动方式下跳过非运动指令只运行运动指令，如MOVL/MOVJ/MOVC等。

区域二，包含2个按钮：

【设置】按钮：把区域一所显示的配置信息设置生效。

【退出】按钮：退出该界面，返回主页面，[取消]键亦可退出。
7.9.2 {软极限}菜单界面

该界面对软极限进行设置，如图3-7-9-2-1所示。

 图3-7-9-2-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一，显示当前系统正负软极限的值。通过方向键可移动光标，按数值键可输入极限值。其中T1,T2为外部轴的值，若外部轴配置轴数为0时，该界面不会显示T1和T2的值。

区域二，包含2个按钮：

【设置】按钮：把区域一所显示的配置信息设置生效。

【默认值】按钮：获取各个轴的默认值，并显示在区域一，如需将软极限设置为默认值，获取默认值之后按【设置】使默认值生效。

【退出】按钮：退出该界面，返回主页面，[取消]键亦可退出。
7.9.3 {干涉区}菜单界面

该菜单界面用来对干涉区进行设置。如图3-7-9-3-1所示。

 图3-7-9-3-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一，显示当前系统所设定的干涉区信息，包括干涉区序号、当前干涉区是否有效、当前系统是否进入干涉区。系统目前可允许设置6个干社区。通过上下方向键移动光标，通过[选择]键进入相应干涉区号的详细设置界面。其他详情请参考8.2章节。

区域二，含有3个按钮：

【详细设置】按钮：进入干涉区的详细设置界面。

【释放所有】按钮：将所有的干涉区设置为无效。

【退出】按钮：退出该界面，返回主页面，[取消]键亦可返回。
7.9.3.1 “干涉区详细设置”界面

若在{干涉区}菜单界面中，选择了【详细设置】按钮，进入该界面对干涉区进行详细设置。如图3-7-9-3-1-1所示。

 图 3-7-9-3-1-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一，“是否有效”、“参考坐标系”选项可通过[选择]键进行修改。若“参考坐标系”选项选择了“用户坐标系”，则需要在“用户坐标”选项通过数值键输入所需要参考的用户坐标系号。若是需要更改“输入I/O”和“输出I/O”的I/O端口可通过数值键按输入键进行更改。“最大值”和“最小值”的X、Y、Z值可通过数值键直接输入数值，亦可通过[使能开关]+[获取示教点]键获得；此处的X、Y、Z所创建的干涉区是基于参考坐标系下的。其中干涉区的有效区域是由“最大值”和“最小值”组成的一个空间长方体，当机器人的有效末端点进入该区域时，机器人会发出“机器人进入干涉区”的报警。要想把机器人移出干涉区范围，则需把对应的干涉区设置成“无效”后进行操作。其他详情请参考8.2章节。

区域二，包含2个按钮：

【设置】按钮：把区域一所显示的配置信息设置生效。

【退出】按钮：退出该界面，返回{干涉区}菜单界面。[取消]键亦可返回。
7.9.4 {作业原点}菜单界面

该菜单界面用来对作业原点信息进行设置，如图3-7-9-4-1所示。

 图3-7-9-4-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一，“是否有效”选项可通过[选择]键进行修改。“生效原点”选项可通过[选择]键选择原点。（可设置3个原点）。“运动形式”选项可通过[选择]键在“关节”和“直线”之间进行切换。其它选项直接通过数值键输入数值，最后按[输入]键进行确认。灰色选项为不可修改选项。其他详情请参考8.9章节。

区域二，包含3个按钮：

【设置】按钮：把区域一所显示的配置信息设置生效。

【原点位置】按钮：进入原点位置的详细界面。

【退出】按钮：退出该界面，返回主页面界面，[取消]键亦可返回。
7.9.4.1 {原点位置详细}菜单界面

{原点位置详细界面}用来对三个原点进行编辑和修改，如图3-7-9-4-1-1所示。

 图3-7-9-4-1-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一为原点界面表格，可以通过[使能]键+[获取示取点]进行获取当前的关节点并设为相对列的原点值，也可通过上下左右键进行光标的切换，通过数字和输入键对各个关节值进行修改。在区域一中也可通过[使能]键+[前进]键使机器人运动到当前光标所在列的原点位置。

区域二包括二个按钮：

【设置】按钮：把区域一所显示的配置信息设置生效。

【退出】按钮：返回上一级界面，[取消]键也可返回上一级界面。
7.10 {在线帮助}菜单

{在线帮助}菜单有3个子菜单项，移动光标至{在线帮助}菜单按[选择]键选择会弹出其子菜单，如图3-7-10-1所示。

 图3-7-10-1 

弹出子菜单后，光标位置为上次离开该子菜单时的位置。通过上下方向键选择子菜单，[取消]键可关闭离开该子菜单界面。
7.10.1 {指令}菜单界面

该菜单界面用来浏览各个指令的简要说明，如图3-7-10-1-1所示。

 图3-7-10-1-1 

该界面由2个区域组成。

区域一，显示指令列表，通过[翻页]键、[转换]+[翻页]键、上下方向键可以移动光标，浏览其它指令。

区域二，根据区域一光标指定的指令，显示该指令的简要说明。

按[取消]键可退出该界面，返回主页面。
7.10.2 {操作}菜单界面

该菜单界面用来浏览操作说明文档，如图3-7-10-2-1所示。

 图3-7-10-2-1 

该界面由2个区域组成。

区域一，显示操作列表，通过[翻页]键、[转换]键、上下方向键可以移动光标，浏览其它操作主题。当前只有一个操作主题，即设置零点。

区域二，根据区域一光标指定的操作主题，显示该操作主题的简要说明。

按[取消]键可退出该界面，返回主页面。
7.10.3 {加工信息}菜单界面

该菜单界面用来浏览上次加工的详细信息，如图3-7-10-3-1所示。

 图3-7-10-3-1 

该界面只有一个区域，包括上次运行时的文件名，以及运行到的行数，断点位置，I/O端口和R，I，B，D，PX等变量的详细信息。按[取消]键可返回到主界面。

第四章机器人坐标系
1 概述

机器人的坐标系包括关节坐标系、直角坐标系、手腕坐标系、工具坐标系、用户坐标系，各坐标系的定义及相互关系如图4-1-1所示。

 图4-1-1机器人坐标系 

直角坐标系（也称基坐标系）为机器人系统的基础坐标系，其他笛卡尔坐标系均直接或者间接的基于此坐标系。其中，手腕坐标系为机器人的隐含坐标系，基于基坐标系定义，固结于机器人腕部法兰盘处，由机器人的运动学确定其在基坐标系中的位姿。

工具坐标系基于手腕坐标系定义，具体位姿可通过工具坐标系标定功能或直接输入相关参数确定。

用户坐标系基于基坐标系定义，可用于描述工件的位置。
2 关节坐标系

机器人的各轴相对原点位置的绝对角度，称为关节坐标系，各关节轴的方向规定如图4-2-1所示。

 图4-2-1关节坐标系 

将[模式选择]键选择“示教”模式，通过[坐标设定]键，切换系统的动作坐标系为关节坐标系（详情请参考3.6.2章节），按下[使能开关]键，通过轴操作键，可使得机器人在各个轴的轴方向转动。例如：

X+

按下键J1+

$$ ，机器人第一关节按图中J1+的方向转动；

按下[X-/J1-]键，机器人第一关节按图中J1+的反方向转动；

按下$\left[\mathrm{B}+/\mathrm{J}5+\right]$ 机器人第五关节按图中J5+的方向转动；

，机器人第五关节按图中J5+的反方向转动；

其它轴操作键类似，$\left[\mathrm{Y}+/\mathrm{J}2+\right]\left(\mathrm{Y}-/\mathrm{J}2-\right)$ 对应的运动方向为图中的J2+（反）方向，$\left[Z+/J3+\right]\left(Z-/J3-\right)$ 对应的运动方向为图中的J3+（反）方向，$\left[\mathrm{A}+/\mathrm{J}4+\right]\left(\mathrm{A}-/\mathrm{J}4\right)$ 对应的运动方向为图中的J4+（反）方向，[C+/J6+]（C-/J6-）对应的运动方向为图中的J6+（反）方向。在{主页面}中，位置显示区的“关节实际位置”显示了当前机器人各个关节的角度值。
3 直角坐标系

直角坐标系又称卡笛尔座标系或基坐标系，为机器人默认存在的坐标系，在直角坐标系下，机器人控制端点可沿图4-3-1所示的X、Y、Z轴平行移动或绕相应坐标轴旋转。

 图4-3-1基坐标系 

将[模式选择]键选择“示教”模式，通过[坐标设定]键，切换系统的动作坐标系为直角坐标系（详情请参考3.6.2章节），按下[使能开关]键，通过轴操作键，可使得机器人控制端点TCP在基坐标系各个轴的方向移动。例如：

按下$[\mathrm{X}{\scriptstyle+/\mathrm{J}1{\scriptstyle+}}]$ 键J1+，机器人控制端点TCP按图中X轴的方向移动；

按下[X-/J1-]键机器人控制端点TCP按图中X轴的反方向移动；

按下$\left[\mathrm{B}+/\mathrm{J}5+\right]$ 机器人控制端点TCP绕图中Y轴正方向逆时针进行转动；

其他轴操作键类似，$\mathrm{Y}+/\mathrm{J}2+$ 键，对应的运动方向为图中的Y轴(反)方向，

$\mathrm{Z}+/\mathrm{J}3+$ 键，对应的运动方向为图中的Z轴(反)方向，$\mathrm{A}+/\mathrm{J}4+$ 键，对应的运动方向为围绕图中的X轴正(反)逆时针旋转方向，$C+/J6+$ 键，对应的运动方向为围绕图中的Z轴正(反)逆时针旋转方向。即在示教模式下，当系统坐标系为直角坐标系时，通过[使能开关]键+轴操作键，可使得机器人在该轴操作键对应的方向运动。在{主页面}中，位置显示区的“位姿值”显示了当前机器人控制端点TCP在直角坐标系下的位置值和姿态值。
4 工具坐标系

工具坐标系把机器人腕部法兰盘所持工具的有效方向作为Z轴，并把坐标系原点定义在工具的尖端点。在工具坐标系未定义时，系统自动采用默认的工具，这时，工具坐标系与手腕法兰盘处的手腕坐标系重合。当机器人跟踪笛卡尔空间某路径时，必须正确定义工具坐标系。在机器人示教移动过程中，若所选坐标系为工具坐标系，则机器人将沿工具坐标系坐标轴方向移动或者绕坐标轴旋转。当绕坐标轴旋转时工具坐标系的原点位置将保持不变，这叫做控制点不变的操作。在直角坐标系及用户坐标系中也可实现类似的动作。此方法可用于校核工具坐标系，若在转动过程中工具坐标系原点移动，则说明工具坐标系参数错误或者误差较大，需要重新标定或者设置工具坐标系。

 图4-4-1工具坐标系 

将[模式选择]键选择“示教”模式，通过[坐标设定]键，切换系统的动作坐标系为工具坐标系（详情请参阅3.6.2），按下[使能开关]键，通过轴操作键，可使得机器人控制端点TCP在工具标系各个轴的方向移动，与直角坐标系下的轴操作键类似，。
5 工具坐标系设定

关于工具坐标系设定，务必先熟悉示教机器人的操作流程，请参考“第五章机器人操作”章节。
5.1 直接输入法

在已知工具尺寸等详细参数时，可使用直接输入法，进入“直接输入法设置工具坐标"界面,输入相应项的值即可完成工具坐标系的设定。详情请参考3.7.1.3。如图4-5-1-1所示：

 图4-5-1-1 
5.2 三点法

在工具参数未知的情况下，我们可以采用三点法来进行工具坐标系的设定。

第一步：进入工具坐标三点法设置界面，具体操作请查阅3.7.1.3。

第二步：将工具中心点分别以三个方向靠近参考点，然后按下[获取示教点]键，记录三个原点，这三个原点的值用于计算工具中心点的位置。按下[获取示教点]后，相应的界面会显示当前的坐标值，为取得更好的计算结果，三个方向最好相差90°且不能在一个平面上。三个原点可参考如下图姿态。

 图原点一 

 图原点二 

 图原点三 

第三步：取点过程中如果出现取点错误，可以重新取点。如下图：

 图4-5-2-1 

第四步：选择【设置】按钮，完成工具坐标的三点法设定。
5.3 五点法

在工具参数未知的情况下，我们也可以采用五点法来进行工具坐标系的设定。五点法中，需要获取三个原点和两个方向点。

第一步：进入工具坐标五点法设置界面，详情请查阅3.7.1.3。

第二步：五点法中，需要取三个原点和两个方向点。首先，移动机器人到三个原点，按下[获取示教点]键，然后示教机器人沿用户设定的+X方向移动至少250mm，按下[获取示教点]键，然后示教机器人沿用户设定的+Z方向至少移动250mm，按下[获取示教点]键，记录完成。三个原点姿态可参考4.5.2三点法的原点。两个方下点的取法可参考如下图。
X方向 
Z方向 

第三步：取点过程中如果出现取点错误，可以重新取点，如下图所示。

 图4-5-3-1 

第四步：选择【设置】按钮，完成工具坐标的五点法设定。
5.4 工具坐标检验

工具坐标系设定完成后立即生效。我们可以对其进行检验，具体步骤如下：

1 ．检验XYZ方向

a）按[坐标设定]键，切换坐标系为工具坐标系

b）示教机器人分别沿X，Y，Z方向运动，检查工具坐标系的方向设定是否符合要求。
检验工具中心点位置

B T a）按[坐标设定]键，切换坐标系到直角坐标系或工具坐标系

b）移动机器人对准基准点，示教机器人绕X，Y，Z轴旋转，检查TCP点的位置是否符合要求。

以上检验如偏差不符合要求，则需要按上面步骤进行重新设置。

注意：为了更方便创建工具坐标系，将光标移动到“原点1”（或者“原点2”、“原点3”、“+X方向点”、“+Z方向点”）处，可通过[使能开关]+[前进 /[后退 组合键，将机器人示教到原点1（或者原点2、原点3、+X方向点、+Z方向点）处。即可恢复各个点的位置，进行微小的调节。
6 用户坐标系

在用户坐标系中，机器人可沿所指定的用户坐标系各轴平行移动或绕各轴旋转。在某些应用场合，在用户坐标系下示教可以简化操作。

 图4-6-1用户坐标系 

将[模式选择]键选择“示教”模式，通过[坐标设定]键，切换系统的动作坐标系为用户坐标系，按下[使能开关]键，通过轴操作键，可使得机器人控制端点TCP在用户标系各个轴的方向移动，与直角坐标系下的轴操作键类似。
7 用户坐标系设定

关于用户坐标系设定，务必先熟悉示教机器人的操作流程，请先阅读“第五章机器人简易操作”章节。
7.1 直接输入法

第一步：进入用户坐标直接输入设置界面，具体操作请参考3.7.1.4章节。

第二步：这里XYZ表示用户坐标系原点在直角坐标系下的位置，WPR表示用户坐标系绕直角坐标系旋转的角度。

第三步：选择【设置】按钮，用户坐标系设置已经生效。如图4-7-1-1所示。

 图4-7-1-1 
7.2 三点法

第一步：进入用户坐标三点法设置界面，具体操作请查阅3.7.1.4章节。

第二步：移动机器人至用户坐标系的原点，按下[获取示教点]键，记录用户坐标系的原点。然后示教机器人沿用户自己希望的+X方向移动至少250mm，按下[获取示教点]键，记录X方向点,最后示教机器人沿用户自己希望的+Y方向移动至少250mm，按下[获取示教点]键，记录Y方向点。为保证计算的正确性，在取第三个点，也就是Y方向的点时，尽量使其和+X方向垂直，并取在用户所期望的工作台平面上。

第三步：取点过程中如果出现取点错误，可以重新取点，如图4-7-2-1所示。

 图4-7-2-1 

第四步：选择【设置】按钮，完成用户坐标的三点法设定。
7.3 用户坐标系检验

设定用户坐标系,退出用户坐标设置界面后，我们需要对其进行检查，具体步骤如下：
将机器人的示教坐标系通过[坐标设定]键，切换成用户坐标系
示教机器人分别沿X，Y，Z方向运动，检查用户坐标系的方向设定那个是否有偏差，若偏差不符合要求，重复设定步骤。

注意：为了更方便创建工具坐标系，将光标移动到“原点1”（或者“原点$^{2}$ “原点3”）处，可通过[使能开关]+[前进]/[后退]组合键，将机器人示教到原点1（或者原点2、原点3）处。即可恢复各个点的位置，进行微小的调节。
8 变位机坐标系设定

关于变位机坐标系设定，务必先熟悉示教机器人的操作流程，请先阅读“第五章机器人简易操作”。

变位机坐标系主要是方便用户在任何位置和方位摆放变位机后进行示教，设定变位机坐标系后，机器人将以设定的变位机坐标系为中心进行运行。变位机坐标系有直接输入法、三点法和五点法。

设定变位机坐标系之前需先设置变位机的配置。若配置无变位机时，不能进行变位机坐标设定；若配置1轴变位机时，则只能用直接输入法和三点法进行变位机坐标设定；若配置2轴变位机时，则只能用直接输入法和五点法进行变位机坐标设定。
8.1 直接输入法

第一步：进入变位机直接输入法设置界面，具体操作请参考3.7.1.5章节。

第二步：通过数值键输入变位机坐标参数，这里XYZ表示变位机坐标系原点与机器人基座的位置，WPR表示变位机旋转的角度。

第三步：选择【设置】按钮，这时，变位机坐标系设置已经生效。

 图4-8-1-1 

注意：若变位机为2轴，则需要分别输入T1和T2的值。在区域一中按[选择]键弹出下拉框，选择T1或者T2进行切换，并进行相应的数值输入和选择【设置】按钮进行设置保存。
8.2 三点法

第一步：进入变位机三点法设置界面，具体操作请参考3.7.1.5章节。

第二步：机器人和变位机的相对位置固定后，首先在变位机工作台上标志一个点P 后然后进行示教：

（1）使变位机处于零点，示教机器人移动到P点，按取【获取示教点】记录下该点位置的位置坐标值P1{X、Y、Z}，即接近点1如图4-8-2-1。

 图4-8-2-1 

（2）控制变位机旋转一个角度a（大于30°），示教机器人移动到P点，按取【获取示教点】记录下该点位置的位置坐标值P2{X、Y、Z}，即接近点2如图4-8-2-2；P3值也是根据此方法获取其位置坐标值，即接近点3如图4-8-2-3。

第三步：通过TAB键和方向键选择【设置】按钮，完成变位机坐标系的设定。若取图4-8-2-3

 图4-8-2-4 
8.3 五点法

第一步：进入变位机五点法设置界面，具体操作请参考3.7.1.5章节。

第二步：机器人和变位机的相对位置固定后，首先在变位机工作台上标志一个点P 后然后进行示教：

（1）使变位机处于零点，示教机器人移动到P点，按取【获取示教点】记录下该点位置的位置坐标值P1{X、Y、Z}，即接近点1。

（2）控制变位机Y轴正方向旋转一个角度a（大于30°），示教机器人移动到P点，按取【获取示教点】记录下该点位置的位置坐标值P2{X、Y、Z}，即接近点2；P3值是在P2点变位机状态基础下控制变位机Y 轴正方向旋转一个角度a（大于30°），示教机器人移动到P点，按取【获取示教点】记录下该点位置的位置坐标值P3{X、Y、Z}，即接近点3。

注：五点法中的接近点1、接近点2、接近点3 的对法与三点法中的三个接近点对

法一致，具体可参阅4.8.2三点法。

在P3点的变位机状态基础下控制变位机X轴正方向旋转一个角度β（大于30°），示教机器人移动到P点，按取【获取示教点】记录下该点位置的位置坐标值P4{X、Y、Z}，即接近点4，如图4-8-3-1；P5

值是在P4点变位机状态基础下控制变位机X轴正方向旋转一个角度β（大于30°），示教机器人移动到P点，按取【获取示教点】记录下该点位置的位置坐标值P5{X、Y、Z}，即接近点5如图4-8-3-2。

 图4-8-3-1 

 图4-8-3-2 

第三步：取完点后，选择【设置】按钮，完成变位机坐标系的设定。若取点过程中如果出现取点错误，可以重新取点。

注意：为了更方便创建变位机坐标系，将光标移动到“接近点1”（或者“接近点2”、“接近点3”）处，可通过[使能开关]+[前进]/[后退]组合键，将机器人示教到接近点1（或者接近点2、接近点3)处。即可恢复各个点的位置，进行微小的调节。

 图4-8-3-3 

第五章机器人操作
1 示教

示教，也称示教操作，是指通过示教盒上的轴操作键控制机器人的各个关节，使得机器人末端控制点TCP到达笛卡尔空间下的某个位置的过程。该位置也称为示教点。
1.1 示教点

示教点是指笛卡尔空间中的某个位置点。GR-C系统用（X,Y，Z,W,P,R）表示一个示教点，其中X,Y，Z是指该位置点在笛卡尔坐标系中的具体位置值，W,P,R是指机器人TCP 端点在该位置时的方位，也称为姿态。因此，一个示教点确定了机器人TCP端点在笛卡尔空间中的位置和姿态。
1.2 示教前的准备

安全通电

1．要确认机器人工作范围内没有干扰机器人运动的人员及物品，以确保操作安全。
在确保电器设备正常的情况下给机器人控制系统通电。

通电的步骤如下：

接通电源前，检查工作区域包括机器人、控制器等是否正常，检查所有的安全设备是否正常

L 将控制柜面板上的电源开关置于ON状态

L 按下控制柜上绿色的电源键

安全检查

作为示教前的准备，并出于安全考虑，请先执行以下操作：

1．查看系统当前的坐标系，坐标系不同，机器人的运动方向也会不同。
查看系统当前的速度等级，一般选择“低速”档■曲。
确认控制柜和示教盒上的急停按键是否有效，请按下控制柜急停键，确认伺服电源被切断，按下示教盒上的急停键，系统进入急停状态。
1.3 示教操作

示教操作按以下步骤：
通过[模式选择]键，选择“示教”模式。

J 2.通过[坐标设定]键，选择合适的坐标，这里选择关节坐标系，
通过[手动速度]键，选择合适的系统速度，这里选择“低速”档，
若系统处于急停状态，则弹起[急停]键，清除急停状态。
左手按下[使能开关]键，开使能。
根据目标示教点的位置，按下[使能开关]的同时，按下某一个轴操作键，这里按

下[X+]键，在J1+的方向移动。
松开轴操作键或者[使能开关]键，机器人立刻停止运动。若按下[急停]键，则机器人立刻停止运动，并切断使能，进入急停状态。

注意：根据目标示教点的具体位置，可选合适的坐标系进行示教，有些示教点可能要需要若干次的示教，也可能需要切换若干次的系统坐标系。通过以上示教步骤，可使得机器人TCP端点处于工作范围内的任意示教点。关于不同坐标系的示教请参考第四章。

警告：
示教时请按照“示教前的准备”节进行安全确认。
请选择合适的系统速度、系统坐标系。
请在机器人的工作范围之外进行示教操作。
若在机器人的工作范围内进行示教机器人时，请保持正面面对机器人，考虑机器误动作或误操作向自己所处位置运动时的应变方案，确保设置躲避场所，防止人身伤害。
操作不当，可能会引起机器人与周边设备发生碰撞而损坏，甚至可能危及操作人员的安全。
2 程序举例

程序是机器人语言指令的集合，即程序是由多条指令组成，且这些指令描述了作业内容，机器人通过运行程序，进而完成了作业内容。这是机器人的基本功能。下面举例一个简单的工作内容，如下图所示：

 图5-2-1 

要求机器人按照图中所示的轨迹$\mathrm{P0}>\mathrm{P1}>\mathrm{P2}>\mathrm{P3}>\mathrm{P4}>\mathrm{P0}$ 进行运动。
2.1 编辑程序
以“新建程序”章节的步骤（3.7.2.1章节），新建一个程序，程序名为job1，进入{编辑}界面。如下图：

 图5-2-1-1 

附近点PO处。
按[添加]键，打开指令菜单。如下图:

 图5-2-1-2 
将光标移动到MOVJ指令，如下图：

 图5-2-1-3 
按[选择]+[使能开关]键，将MOVJ指令添加到程序中，如下图：

 图5-2-1-4 
通过左右方向键,将光标移动到MOVJ指令的$ \text{"}\mathrm{P}\text{"}$ 处，此时$\mathrm{P}^{*}$ 代表一个示教点，它自动记录下了机器人当前所在的位置，即图5-2-1中的P0点。如下图：

 图5-2-1-5 
通过数值键，输入0。
按[输入]键，即可将“P”改成“P0”。此时只是修改了示教点的编号，而此时该文件并没有创建过PO点，因此系统会将$\mathbb{P}^{}$ 的点值赋予PO，此时指令中的PO 同样为图5-2-1中P0点的位置。
将机器人示教到图5-2-1中的P1点处，按[添加]键，添加MOVJ指令到程序中，如下图：

 图5-2-1-6 
将MOVJ指令的$\mathbf{P}^{*}$ 改成P1，此时P1同样记录机器人TCP当前所在的位置值，即图5-2-1中的P1点。如下图：

 图5-2-1-7 
因为图5-2-1中的四个点P1，P2，P3，P4是长方形平面上的点，因此在直角坐标系下示教机器人更加方便，只需在X，Y平面上移动机器人即可。通过[坐标设

B 定]键，将系统坐标切换到“直角坐标系”进行示教。
通过[使能开关$]+[\mathrm{Y}+]/[\mathrm{Y}-]/[\mathrm{X}+]/[\mathrm{X}-]$ 键，方便的示教机器人到达图5-2-1中的P2点。
通过[添加]键，添加一条MOVL指令，记录下图 5-2-1中P2点的位置，并将MOVL 的$\mathbf{P}^*$ 修改成P2 如下图:

 图5-2-1-8 
类似的，顺序将图5-2-1中的P3，P4点记录在程序中。
此时，机器人处于图5-2-1中P4点处。现在还需要让机器人从P4点运动到P0点处，但此时也可无需示教移动机器人到图5-2-1中P0点处，只需再添加一条MOVJ指令，并将“P”改成“P0”，此时系统出现提示“PO点已存在，是否将$\mathrm{P^{}}$ 的位置值赋予P0？”，如图：

$$\lambda=p\emptyset $$

 图5-2-1-9 

因为此时的勺$\mathrm{P^{}}$ 点记录的是机器人当前的位置点，即图5-2-1中的P4点，现在将$\mathrm{P}^{}$ 点修改成P0点，而P0点已经存在值（记录了图5-2-1中P0点的位置），因此系统需要询问，是否要更改示教点PO点的值，若选择了“是”，则PO点所记录的位置不再是图 5-2-1中P0处的位置了，而是机器人$\mathbf{P}^{*}$ 所代表的位置；若选择了“否”，则P0的值不变，依然记录着图5-2-1中P0点的位置。这里选择“否”，即该条指令只是引用已经出现过的示教点P0，而无需再次将机器人示教到图中PO点处。
此时，整个程序已经编辑完成，该文件中的指令记录了所有工作所需要的示教点，机器人将顺序执行程序中的指令，即完成了工作的轨迹要求，从$\mathrm{P0}>\mathrm{P1}>\mathrm{P2}>\mathrm{P3}>\mathrm{P4}>\mathrm{P0}$ 的顺序进行运动。
按[F2]键，进入{程序}界面，此时系统完成了对程序job1的保存，并在该{程序}界显示，如下图：

 图5-2-1-10 
2.2 示教检查程序

程序编辑完成之后，一般要进行示教检查所编辑的程序是否符合工作要求。使机器人一步一步的执行程序中的指令。
2.2.1 单步示教检查

单步示教，是指机器人运行一条程序指令后，自动停止，等待用户的操作才能继续顺序执行下一条程序指令。具体步骤如下：
按照5.1.2章节进行安全确认
切换系统模式为示教模式、选择合适的系统速度（一般为“低速档”、清除急停状态)
通过[单段/连续]键，选择“单步”动作循环方式
在{程序}界面中，通过上、下方向键，将光标移动到程序第一行指令处，如下图5-2-2-1-1:

 图5-2-2-1-1 
按下[使能开关]+[前进]键，使机器人单步执行光标所在的指令，即第一行指令。6.等待系统提示“行1:运行结束”，此时机器人已执行完第1行并自动停止。
松开[前进]键，保持[使能开关]按下，再次按下[前进]键，光标自动移动到第2行指令，并执行。
同样，等待系统提示“行2:运行结束”，此时机器人已经执行完第2行程序指令，即机器人运动到了图5-2-1中的P0点处，如下图5-2-2-1-2:

 图5-2-2-1-2 
松开[前进]键，保持[使能开关]按下，再次按下[前进]键，光标自动移动到第3行

指令，并单步执行。如下图5-2-2-1-3：

 图5-2-2-1-3 
同样，等待系统提示“行3:运行结束”，此时机器人已经执行完第3行程序指令，即机器人运动到了图5-2-1中的P1点处。

此时，若用户需要将机器人示教到P0处，则松开[前进]键，按下[使能开关]+[后退]键，光标自动移动到第2行指令，并单步执行。即后退示教会使得机器人逆向执行程序，所运行的轨迹也是逆向的。这是前进和后退示教的区别。
同样的步骤，继续单步示教完所有程序指令。

注意：

示教检查程序，是指机器人执行程序指令，按照指令的要求执行。此时系统坐标系不再起作用，系统坐标系只对通过轴操作键示教机器人时起作用。

此时系统速度为低速档，若用户确定了机器人运行轨迹安全可靠，则可通过[手动速度 键进行改变当前系统速度等级。

当系统还未完成一条指令的执行时，松开[前进]、[后退]或者[使能开关]键，机器人会立刻停止，再一次按下[使能开关]+[前进Ⅳ[后退 键示教时，系统继续完成当前指令的执行。

任何时候按下[急停 键，机器人都会立刻停止，并进入急停状态。
2.2.2 连续示教检查

连续示教，是指机器人运行一条程序指令后，自动运行下一条指令。具体步骤如下
按照“示教前的准备”5.1.2章节进行安全确认
使系统切换到示教模式、系统速度为“低档”、清除急停状态
通过[单段/连续]键，选择“连续”动作循环方式
在{程序}界面中，通过上、下方向键，将光标移动到程序第一行指令处
按下[使能开关]+[前进]键，使机器人开始连续执行光标所在的指令
此时机器人每执行一条程序指令结束，自动执行下一条指令，直到程序的结束注意：

在连续示教模式下，只有当松开[使能开关]、[前进]或者[后退 键时，机器人才会停止运行程序，否则一直执行，直到程序结束。
2.2.3 修改程序

在示教检查程序时，若发现程序指令不符合工作要求，需要对程序进行修改，直到符合工作需求。若在上一节示教程序时发现，机器人从P0位置到P1位置过程中的速度缓慢，则需要修改第3条MOVJ指令的速度属性V20，改成V60.步骤如下：
在{程序}界面，按[F3]键，进入{编辑}界面，将通过上下方向键将光标移动到第3行指令处，如下图5-2-2-3-1:

 图5-2-2-3-1 
按[修改]键，{编辑}界面进入"修改模式”。
通过左右方向键，将光标移动到V20处，如下图5-2-2-3-2:

 图5-2-2-3-2 
通过数值键，输入60，再按[输入]键，即可将V20改成V60.
按[取消]键，退出修改模式，{编辑}界面进入“一般模式”，如下图5-2-2-3-3:

 图5-2-2-3-3 
按[F2]键，进入{程序}界面，系统完成程序修改结果的保存。
在{程序}界面继续单步或者连续示教检查程序，直到符合工作要求。程序修改与编辑详情请参阅第六章。
3 再现

再现，是指系统自动执行示教好了的程序，顺序按照程序中各条指令的要求执行。具体步骤如下：
按照“示教前的准备”5.1.2章节进行安全确认。
再现运行程序之前，一般要将机器人示教到程序的第一个运动点处。进入{程序}界面，对job1程序的第2行指令进行前进示教，使机器人到达图5-2-1中的P0点。
通过[模式选择]键，选择“再现”模式。
若系统处于急停状态，则弹起[急停]键，清除急停状态。
通过[手动速度]键，选择“低档”速度等级。
按[伺服准备]键，上使能，此时[伺服准备]键左上角的灯亮起（示教模式下，按下[使能开关]键上使能，而再现模式下，则通过[伺服准备]键上使能）。

按[启动]键，此时[启动]键灯亮起，此时系统开始再现运行程序job1，机器人也在按照程序指令所记录的示教点位置进行运动。此时屏幕右上方的系统状态区域显示系统正在运行的状态，回
若在程序尚未运行结束时，按[暂停]键，此时[暂停]键灯亮起，系统运行状态变为

。系统暂停执行程序指令，机器人也立刻停止移动。再一次按[启动]键，则

系统继续运行剩下的指令，系统的运行状态变为J 
若在程序尚未运行结束时，按[急停]键，此时系统进入急停状态，机器人停止运

动，系统运行状态变为D 若要继续再现运行程序，则需要从步骤1开始。

,

第六章　程序管理与指令编缉

本章所表述的是机器人在不运动的情况下进行的操作，包括程序管理和指令编辑。新建程序、复制程序、删除程序和重命名程序等操作只能在编辑模式和管理模式下进行。详情请参考3.7.1.2章节。

程序命名规则采用的是“8.3”格式，即程序文件名称最大是8个字符，最小是1个字符，后缀名是3个字符。程序文件的后缀名称默认是prl，无需用户输入，在创建程序文件时系统会自动添加。目前程序文件名仅由字母、数字组成。
1 程序管理
1.1 新建程序

1．在{主页面}菜单按[TAB]键和左右方向键，将光标切换到{程序管理}菜单上，按[选择]键会显示新建程序、程序一览子和外部存储菜单，如图6-1-1-1所示。

 图6-1-1-1 
通过按上下方向键选择{新建程序}，按[选择]键进入新建程序界面，如图6-1-1-2所示。

 图6-1-1-2 

3．进入新建程序界面后，按[TAB]键切换光标到程序名称输入框中，然后按下[选择]键，界面会弹出软键盘对话框界面。输入testby01字符串作为程序名称，如图6-1-1-3所示。

 图6-1-1-3 

4．文件名称输入完成后，按[输入]键退出{软键盘}页面。若发现输入不对时，[退格]键可以一次清除当前输入的程序名称。在图6-1-1-4中，按[TAB]键切换光标到按钮【新建】上，按[选择]键完成文件名称的新建，同时进入程序编辑页面，如图6-1-1-5所示。

 图6-1-1-4 

 图6-1-1-5 
1.2 复制程序

复制程序文件就是对程序文件进行复制操作。复制后的程序文件和源程序文件内容相同，包括示教点和程序指令。

当需要备份比较重要的程序文件时，可以通过复制该程序文件加以保存，以免重要的程序文件由于不慎误操作（如删除操作等）而导致无法恢复。

1．在{主页面}菜单按[TAB]键和左右方向键，将光标切换到{程序管理}菜单上，按[选择]键打开{程序管理}子菜单，如图6-1-2-1所示。

 图6-1-2-1 
按[选择]键，打开{程序一览}页面，如图6-1-2-2所示。

 图6-1-2-2 

3．在{程序一览}页面上通过方向键选择要复制的程序，如复制testby01.prl为testby02.prl。按[TAB]键切换光标到输入框中，按[选择]键，进入软键盘输入页面，输入文件名testby02后按示教盒中的输入键进入如图6-1-2-3界面。

 图6-1-2-3 
按[TAB]键切换光标到操作按钮区域配合左右方向键移动光标到【复制】按钮上，按[选择]键完成程序的复制操作，如图6-1-2-4所示。

 图6-1-2-4 
1.3 删除程序

删除程序文件就是对程序文件进行删除操作。

需要注意的是，程序文件删除后将不能恢复。因此，在对程序文件进行删除操作时务必要谨慎，以免误删。删除程序文件后，文件中的示教点也被删除。

如删除程序testby01.prl操作步骤如下：

1．在{主页面}菜单按[TAB]键和左右方向键，将光标切换到{程序管理}菜单上，按[选择]键打开{程序一览}子菜单，如图6-1-3-1所示。

 图6-1-3-1 

2．按上下方向键把光标移到要删除的程序文件处，如删除testby01.prl程序，如图6-1-3-2所示。

 图6-1-3-2 

3．按下[删除]键，或者通过[TAB]键切换光标到【删除】按钮，再按下[选择]键，此时将弹出是否删除文件确认框，如图6-1-3-3所示。

 图6-1-3-3 

4．按左右键移动光标，选择【是】，将删除当前光标所在位置的程序行，文件列表重新刷新；选择【否】，退出删除程序界面，如图6-1-3-4所示。

 图6-1-3-4 
1.4 查找程序

查找程序文件就是对程序文件名进行查找操作，快速找到需要的程序文件。

如查找程序名为testby02.prl的程序步骤如下：

1．在{主页面}菜单按[TAB]键和左右方向键，将光标切换到{程序管理}菜单上，然

后配合[选择]键打开{程序管理}子菜单并且使用上下方向键移动光标到{程序一览}菜单上，最后按[选择]键打开{程序一览}页面，如图6-1-4-1所示。

 图6-1-4-1 

2．在{程序一览}页面，按[TAB]键切换光标到输入框，配合[选择]键进入软键盘输入页面，输入程序名testby02，如图6-1-4-2所示。

 图6-1-4-2 

3．按[TAB]键切换光标到按钮区域并配合左右方向键移动光标到【查找】按钮上，如图6-1-4-3所示。

 图6-1-4-3 

4．按[选择]键输入查找指令，如果查找正确，光标将停留在找到的文件名称上，否则系统将提示文件未找到，如图6-1-4-4所示。

 图6-1-4-4 
1.5 重命名程序文件

重命名程序文件就是对程序文件名称进行修改操作。修改后的程序文件内容不变，只是名称上的改变。

如把程序名为testby01.prl的程序改名为testby02.prl步骤如下：

1．在{主页面}菜单按[TAB]键和左右方向键，将光标切换到{程序管理}菜单上，然后配合[选择]键打开{程序管理}子菜单并且使用上下方向键移动光标到{程序一览}菜单上，最后按[选择]键打开{程序一览}页面，如图6-1-5-1所示。

 图6-1-5-1 

2．通过上下方向键选择要重命名的程序，按[TAB]键切换光标到输入框区域，配合[选择]键进入软键盘输入页面，输入新程序名称。如把程序名为testby01的程序改名为testby02，如图6-1-5-2所示。

 图6-1-5-2 

3．按示教盒上的输入键后再按[TAB]键切换光标到按钮上，配合左右方向键移动光

标到【重命名】按钮上，如图6-1-5-3所示。

 图6-1-5-3 

4．按[选择]键，此时程序列表上的程序testby01已经被重命名为testby02，如图6-1-5-4所示。

 图6-1-5-4 
1.6 系统文件复制到U盘

外部存储功能就是把机器人系统的程序文件复制到U盘，或者把U盘里面的程序复制到机器人系统。

如把程序名为job2.prl的程序复制到外部存储U盘里面，步骤如下：
插入U盘。
在{主页面}菜单按[TAB]键和左右方向键，将光标切换到{程序管理}菜单上，按[选择]键打开{程序管理}子菜单，通过上下方向键移动光标到{外部存储}菜单上，按[选择]键打开{外部存储}页面，如图6-1-6-1所示。

 图6-1-6-1 

文件列表上方的路径名为“系统：\”，表示文件列表显示的文件为系统上的文件，若不是，则通过[TAB]键和方向键，选择【系统】按钮，切换到系统路径，显示系统上的文件信息。

3．通过[TAB]键和上下方向键，将光标移到所要复制的程序“job2.prl”上，按下[选择]键（或者将光标切换到区域二的【复制】按钮并按[选择]键），系统会提示“确认复制文件到U盘?”如图6-1-6-2所示。

 图6-1-6-2 

4．通过左右方向键把光标移到“是”，最后按下[选择]键完成程序复制，如图6-1-6-3所示。

 图6-1-6-3 
1.7 U盘文件复制到系统

如把U盘里面程序名为TJIAO.prl的程序复制到机器人示教盒里面，步骤如下：1.插入U盘。

2．在{主页面}菜单按[TAB]键和左右方向键，将光标切换到{程序管理}菜单上，然

后配合[选择]键打开{程序管理}子菜单并且使用上下方向键移动光标到{外部存储}菜单上，最后按[选择]键打开{外部存储}页面。

3．通过[TAB]键和左右方向键，将光标移到【U盘】按钮上，按[选择]键打开U盘，如图6-1-7-1所示。

 图6-1-7-1 
通过[TAB]键和上下方向键移动光标，[选择]键进入目录，选择“上一级”返回上一层目录，将光标移到所要复制的程序“TJIAO.prl”上，按下[选择]键（或者将光标切换到区域二的【复制】按钮并按[选择]键），系统会提示“确认复制文件到系统?”如图6-1-7-2所示。

 图6-1-7-2 
通过左右方向键把光标移到“是”，最后按下[选择]键完成程序复制，如图6-1-7-3所示。

 图6-1-7-3 
2 指令编辑

程序输入完成并且经过示教检查其运动轨迹后，如果发现程序指令有不妥之处，可以使用添加指令、修改指令、删除指令、剪切指令和复制指令等程序编辑功能对程序指令进行编辑。
2.1 添加指令

添加指令就是将指令编辑界面中的指令输入到程序界面光标所在行的下一行。

以图6-2-1-1所示的程序为例，假如我们想在放置工件后让机器人暂停一秒钟，可以进行如下操作：

1．打开程序testby02.prl，进入程序显示页面，按[F3]键切换到编辑方式，用上下方向键把光标移到第六行程序处，此时编辑模式为一般模式，如图6-2-1-1所示。

 图6-2-1-1 
按[添加]键进入添加模式。配合数值键2或者上下方向键移动光标，选择命令所在的类型—{2:信号处理}，按左方向键或者[选择]键移动光标到子命令，通过上下方向键或数值键3选择子命令{3:DELAY}，此时按[选择]键系统会插入延时指令DELAY，如图6-2-1-2所示。

 图6-2-1-2 

3．在添加完DELAY指令后，编辑模式为修改模式，按右方向键，把光标移到时间设置T处，输入时间1秒，按[输入]键完成时间的设置，如图6-2-1-3所示。

 图6-2-1-3 
时间设置完成之后按[取消]键完成指令的添加，并退出修改模式返回到一般模式，如图6-2-1-4所示。

 图6-2-1-4 
2.2 修改指令

修改指令就是修改光标所在行的程序指令。

以图6-2-2-1所示的程序为例，假如我们要把第五行的运动指令MOVL的速度改为25，操作步骤如下：
打开程序 testby02.prl，进入程序显示页面，按[F3]键切换到编辑方式，用上下方向键将光标移到第五行程序处，如图6-2-2-1所示。

 图6-2-2-1 
按[修改]键进入修改模式，配合左右方向键把光标移到速度设置的V处，通数键输入25，再按[输入]键完成速度的修改，如图6-2-2-2所示。

 图6-2-2-2 
设置完成之后，按[取消]键完成指令的修改，退出修改模式并返回到一般模式，如图6-2-2-3所示。

 图6-2-2-3 

注意：将示教点变量Pm改成Pn时（m,n都是示教点序号0~999或*），若Pn点不存在，则系统会创建Pn点，其值为Pm点的值；若Pn点已经存在，则系统会让用户选择是否将Pm点的值赋予Pn。只要程序创建过Pn点，则该点将一直存在，即使引用该点的指令已经被删除。对Pn点进行获取示教点操作时，则系统会将当前位置值赋予Pn点，Pn点旧值将被丢弃。
2.3 删除指令

删除指令就是删除光标所在行的程序指令。

以图6-2-3-1所示的程序为例，假如我们要删除第二行的MOVJ移动指令，操作步骤如下所示：
打开程序testby02.prl，进入程序显示页面，按[F3]键切换到编辑方式，用上下方向键把光标移到第二行程序处，如图6-2-3-1所示。

 图6-2-3-1 
按[删除]键，此时页面提示“选择删除区域”，通过上下键可以选择要删除的指令区域。这里我们只删除当前行，因此无需选择区域。
选择区域后，再按[删除]键，此时页面弹出删除当前行确认框，通过左右方向键选择是否删除，如图6-2-3-2所示。

 图6-2-3-2 
如选择【是】，再按[选择]键，则删除当前行；如选择【否】，则取消删除操作。如图6-2-3-3所示。

 图6-2-3-3 
2.4 剪切指令

以图6-2-4-1为例，剪切第二三四行程序至第五行程序后面的操作步骤如下：

1．打开程序testby02.prl，进入程序显示页面，按[F3]键切换到编辑方式，用上下方向键选择要剪切程序的起始行（第二行），如图6-2-4-1所示。

 图6-2-4-1 
按[剪切]键，此时界面下方会提示选择剪切区域，通过上下方向键选择要剪切区域(第二行至第四行)，如图6-2-4-2所示。

 图6-2-4-2 
选定剪切区域后再按[剪切]键，此时页面下方提示{选择粘贴行}，把光标移动到要粘贴到最终位置的前一行处，如把第二三四行程序剪切并放到第五行程序的后面，如图6-2-4-3所示。

 图6-2-4-3 
最后按[剪切]键完成剪切粘贴操作，如图6-2-4-4所示。

 图6-2-4-4 
2.5 复制指令

以图6-2-5-1为例，复制第二三四五行程序至第八行程序后面的操作步骤如下：
打开程序testby02.prl，进入程序显示页面，按[F3]键切换到编辑方式，用上下方向键选择要复制程序的起始行（第二行），如图6-2-5-1所示。

 图6-2-5-1 
按[复制]键，此时界面下方会提示选择复制区域，通过上下方向键选择要复制区域(第二行至第五行)，如图6-2-5-2所示。

 图6-2-5-2 
选定复制区域后再按[复制]键，此时页面下方提示{选择粘贴行}，把光标移动到要粘贴到最终位置的前一行处，如把第二三四五行程序复制到第八行程序的后面，如图6-2-5-3所示。

 图6-2-5-3 
最后按[复制]键完成复制操作，如图6-2-5-4所示。

 图6-2-5-4 
2.6 整体替换

整体替换指令功能是指将程序文件中所有同一运动指令(MOVJ或MOVL或MOVC)的速度参数或者过渡参数整体替换的操作。对于速度参数有两种方式进行整体替换：一是整体替换为同一个速度值，称为“整体同一替换方式”，如把所有MOVJ指令的速度替换成V80；二是整体按某一比例进行替换，称为“整体比例替换方式”，如把各条MOVJ 指令的速度改为$\mathrm{V}{*}0.5$ 。过渡参数只有整体同一替换方式。
整体同一替换方式

以job1.prl为例，以整体同一替换方式替换运动指令MOVJ的速度V与精度值Z，操作步骤如下：

（1）打开程序job1.prl，进入程序显示页面，按[F3]键切换到编辑方式，按[修改]键，用上下左右方向键选择MOVJ的速度参数V20（第一行），如图6-2-6-1所示。

 图6-2-6-1 

（2）使用数值按键输入MOVJ指令运动时所需要的速度值，如V60，按数值键输入60，如图6-2-6-2所示。

 图6-2-6-2 

（3）然后按[转换]+[输入]键，所有MOVJ运动指令的速度参数全部都被替换成为V60，如图6-2-6-3所示。

 图6-2-6-3 

（4）用上下左右方向键选择MOVJ的速度参数Z0（第一行），如图6-2-6-4所示。

 图6-2-6-4 

（5）使用数值按键输入MOVJ指令运动时所需要的精度值，如Z1，按数值键输入1，如图6-2-6-5所示。

 图6-2-6-5 

(6）然后按[转换]+[输入]键，MOVJ运动指令的精度参数Z0全部都被替换成为Z1，如图6-2-6-6所示。

 图6-2-6-6 

（7）此功能MOVL，MOVC运动指令同样适用，操作步骤也一样。
整体比例替换方式

以job2.prl为例，以整体比例替换方式替换运动指令MOVJ的速度V，操作步骤如下：

（1）打开程序job2.prl，进入程序显示页面，按[F3]键切换到编辑方式，按[修改]

键，用上下左右方向键选择MOVJ的速度参数V20（第一行），如图 6-2-6-7所示：

 图6-2-6-7 

（2）使用数值按键输入MOVJ指令运动时所需要的比例值（0.1~1.9），如0.5，按数值键输入0.5，如图6-2-6-8所示。

 图6-2-6-8 

(3）然后按[转换]+[输入]键，所有MOVJ运动指令的速度参数全部都被替换成为$\mathrm{V}^{*}0.5$ ，如图6-2-6-9所示。

 图6-2-6-9 

（4）此功能MOVL，MOVC运动指令同样适用，操作步骤也一样。

注意：当V比例值大于速度参数的最大值，则取最大值作为最后的结果，若V比例值小于速度参数的最小值，则取最小值作为最后的结果。
2.7 搜索指令

搜索指令是指通过关键字查找指令的位置，同时将光标定位到符合该关键字的指令处。若符合关键字的指令有多条，则通过上下键循环遍历各条符合关键字的指令。

搜索方式有行号搜索方式、示教点搜索方式、标号搜索方式、指令搜索方式、模糊搜索方式等。

一、 进入搜索模式

在{编辑}界面模式为一般模式下，按[选择]键，则进入搜索模式，弹起搜索方式菜单，如图6-2-7-1所示。

 图6-2-7-1 

按[取消]键可退出搜索模式，返回一般模式。

二、 程序行搜索方式

在搜索方式菜单中，通过方向键将光标移动到{行号搜索}，按[选择]键，进入程序行搜索界面，输入要查找的程序行，再按下[输入]键，完成行搜索操作，光标定位到指定程序行，系统直接退出搜索模式。如图6-2-7-2所示：

 图6-2-7-2 

注意：在“一般模式”下，直接通过数值键输入目标行号（行号隐藏不显示），并按下[输入]键，系统即可完成快速跳转到目标行的功能。

三、 示教点搜索

在搜索方式菜单中，通过方向键将光标移动到{示教点搜索}，按[选择]键，进入示教点搜索界面，输入要查找的示教点号(按[退格]键删除所有字符时，输入的是$\mathrm{P}^*$ 点)，再按[输入]键，完成行搜索操作，光标定位到首次出现关键字的程序行处，通过上下方向键进行遍历浏览，按[取消]键可退出搜索模式，返回一般模式。如图 6-2-7-3所示。

 图6-2-7-3 

四、 标号搜索

在搜索方式菜单中，通过方向键将光标移动到{标号搜索}，按[选择]键，进入标号搜索界面，输入要查找的标号，再按下[输入]键，完成行搜索操作，光标定位到首次出现关键字的程序行处，通过上下方向键进行遍历浏览，按[取消]键可退出搜索模式，返回一般模式。如图6-2-7-4所示。

 图6-2-7-4 

五、 指令搜索

在搜索方式菜单中，通过方向键将光标移动到{指令搜索}，按[选择]键，进入指令搜索界面，在软键盘中输入要查找指令(如MOVJ,WAIT,OFF)，再按下[输入]键，完成行搜索操作。若搜索无结果，则系统直接退出搜索模式，否则光标定位到首次出现关键字的程序行处，通过上下方向键进行遍历浏览，按[取消]键可退出搜索模式，返回一般模式。如图6-2-7-5所示。

 图6-2-7-5 

六、 模糊搜索

模糊搜索是指通过将正则表达式作为搜索关键字进行搜索。

正则表达式有很多复杂的功能，这里只使用它的一小部分，规则如下:

1）正则表达式由字母、数字和符号组成。

2)）含有一些特定意义的符号：

a）表示数量的符号：

点符号：表示任意单个字符。
星符号：表示它左边的字符可以出现任意次，包括零次。

如BA*可以匹配B,BA,BAA,BAAA 

b）表示位置的符号：

^:表示它最右边的字符一定出现在指令的开头。

如^D可以匹配DOUTVOT,ON；而不能匹配#DOUTVOT,ON;

'$:表示它最左边的字符一定出现在指令的末尾。

如；$（分号$）：表示分号；一定出现在指令的末尾，即可以匹配所有的非标号指令LAB0:。

 '：若目标字符串右边有空格符、逗号或者分号，则该字符串被匹配。

如：“P\>”能匹配JUMP中的P，而P*中的P却不能。

例子：如要查找所有的MOVJ,MOVL,MOVC指令，且他们的过度值都为Z1。可以这样子模糊查找：^MOV.*Z1。

在搜索方式菜单中，通过方向键将光标移动到{模糊搜索}，按[选择]键，进入模糊搜索界面，通过软键盘输入正则表达式(如\ 

 图6-2-7-6 
2.8 指令格式的编辑

有些指令有多种格式，如JUMP指令有若干格式：

a, JUMP LAB0;

b, JUMP LAB0,$IF R0>=0;$ ;

$$\mathrm{c},\mathrm{JUMP~LAB0},\mathrm{IF~IN1}=\mathrm{ON}$$

以上是三种类型格式，第一种类型表示无条件跳转；第二种类型是以变量的值作为条件进行判断而跳转，而变量的值又包括B、D、I、R、常量，而比较符又包括 、>=、=、<>$ ，因此该类型的格式种类会很多；第三种类型是以输入端口的状态作为条件判断而跳转。系统提供两种方式进行修改指令的格式。

一、 通过[转换]键进行修改指令格式

 图6-2-8-1 

如上图6-2-8-1所示，要将第2条指令修改成第3条指令一致，步骤如下：1.进入“修改模式”，将光标移动到“JUMP”，如下图6-2-8-2所示：

 图6-2-8-2 
按下[转换]键，JUMP指令格式变成第二种类型，如下图6-2-8-3所示：

 图6-2-8-3 
将光标移动到“RO”处，连续按下[转换]键，直到“RO”改变成“LRO”，如下图6-2-8-4所示：

 图6-2-8-4 
将光标移动到“>=”处，连续按下[转换]键，直到“>=”改变成“==”，如下图6-2-8-5所示：

 图6-2-8-5 
将光标移动到“0”处，通过数值键输入“1”，[输入]键进行输入，即可将第2条指令格式修改成第3条。如下图6-2-8-6所示：

 图6-2-8-6 

二、 进入“指令格式编辑”界面进行修改指令格式

 图6-2-8-7 

如上图6-2-8-7所示，要将第2条指令修改成第4条指令一至，步骤如下：1.进入“修改模式”，将光标移动到“JUMP”，如下图6-2-8-8所示：

 图6-2-8-8 
按下[选择]键，进入JUMP指令的格式编辑界面，如图6-2-8-9所示：

 图6-2-8-9 
通过上下方向键，将光标移动到“第4属性”，如图6-2-8-10所示：

 图6-2-8-10 
按下[选择]键，下拉框弹起，移动光标到“009IN输入端口”，如图6-2-8-11:

 图6-2-8-11 
按下[选择]键，退出下拉框，完成该属性的选择。如图6-2-8-12:

 图6-2-8-12 

此时，指令已经修改成了第三种类型的格式，即，以输入端口的状态作为条件判断的跳转格式。若按下[输入]键，确认格式的编辑，并退回{编辑}界面；若按下[取消]键，取消格式的编辑，并退回{编辑}界面。这里选择按下[输入]键，确认JUMP指令的格式编辑。如图6-2-8-13所示：

 图6-2-8-13 

如上所述，对于多种格式的指令，系统提供了两种方式进行格式之间的转换。一是通过[转换]键，该方式比较快，但需要记忆将光标定位的位置进行转换操作（请查阅附录二）；二是通过“指令格式编辑”界面，该方式清晰明了。用户可根据个人习惯选择。
2.9 运动指令的特殊编辑

一、 运动指令的快速输入

快速输入运动指令是指无需通过指令菜单进行添加运动指令，只需在编辑模式为“一般模式”下，通过[使能开关]+[输入]+[获取示教点]组合键，即可快速输入一条运动指令(MOVJ或者MOVL或者MOVC)。新建一个程序，进入{编辑}界面，如图6-2-9-1所示：

 图6-2-9-1 

通过[使能开关]+[输入]+[获取示教点]组合键，快速输入一条运动指令，如图6-2-9-2所示：

 图6-2-9-2 

图中，此时系统默认快速添加一条MOVJ运动指令。此时，进入“修改模式”修改指令速度和过渡等级，并返回到“一般模式”，如图6-2-9-3所示：

 图6-2-9-3 

接着通过[使能开关]+[输入]+[获取示教点]组合键，快速输入一条MOVJ运动指令，而且该条指令的速度和过渡等级与前一条MOVJ运动指令一致，且示教点编号自动加1，即系统自动以机器人当前位置创建一个该程序未使用过的示教点。如图6-2-9-4所示：

 图6-2-9-4 

此时，通过指令菜单，添加一条MOVL运动指令，如图6-2-9-5所示：

 图6-2-9-5 

进入“修改模式”进行对该指令的修改，并返回“一般模式”，如图6-2-9-6所示：

 图6-2-9-6 

接着通过[使能开关]+[输入]+[获取示教点]组合键，快速输入一条MOVL运动指令，而且该条指令的速度和过渡等级与前一条MOVL运动指令一致，且示教点编号自动加1。如图6-2-9-7所示：

 图6-2-9-7 

此时，通过指令菜单，添加一条MOVC运动指令，如图6-2-9-8所示：

 图6-2-9-8 

进入“修改模式”进行对该指令的修改，并返回“一般模式”，如图6-2-9-9所示：

 图6-2-9-9 

接着通过[使能开关]+[输入]+[获取示教点]组合键，快速输入一条MOVC运动指令，而且该条指令的速度和过渡等级与前一条MOVC运动指令一致，且示教点编号并不自动加1，而是P8，由于P6和P7已经被创建，系统自动以机器人当前位置创建一个该程序未使用过的示教点，如图6-2-9-10所示。

 图6-2-9-10 

如上所述，在{编辑}界面，通过[使能开关]+[输入]+[获取示教点]组合键可快速添加一条运动指令，该指令的插补方式、运动速度、过渡等级等与上一次快速添加的指令一致，而该指令的目标示教点则是系统自动以机器人当前位置值创建一个未使用过的点。若所有的示教点都被创建,则系统以$\mathbf{P}^*$ 作为新的示教点。

通过菜单添加运动指令可改变下一条快速添加的运动指令插补方式。

二、 运动指令插补方式的修改

修改运动指令插补方式，是指将MOVJ运动指令改成MOVL运动指令，将MOVL运动指令改成 MOVC运动指令，将 MOVC 运动指令改成 MOVJ运动指令。

如上图所示，要将第7行指令的插补方式修改成MOVL，步骤如下：
进入“修改模式”，将光标移动到“MOVC”，如图6-2-9-11所示。

 图6-2-9-11 
通过[使能开关]+[修改]键，将“MOVC”修改成了“MOVJ”,如图6-2-9-12所示。

 图6-2-9-12 
此时，系统将该指令的速度调整为默认值V20，继续通过[使能开关]+[修改]键，将“MOVJ”修改成“MOVL”，完成指令插补方式的修改，此时系统将该指令的速度调整为默认值V100，如图 6-2-9-13所示。

 图6-2-9-13 
返回“一般模式”，继续通过[使能开关]+[输入]+[获取示教点]组合键，快速插入一条运动指令。如图6-2-9-14所示：

 图6-2-9-14 
系统快速插入的是MOVL运动指令，即修改运动指令的插补方式也会同时改变下一条快速插入运动指令的插补方式。
2.10 查看变量值

编辑界面中可查看变量的值以及所用工具用户坐标的位姿值：

以图6-2-10-1所示的程序为例，假如我们想查看所用工具坐标的姿态值，可以进行如下操作：

把光标放在想要查看的工具坐标号处，如下图，然后按下选择键则会弹出图片右边所示的NUM0的值。同理要是想查看变量的值只要把光标放在想要查看的变量处按选择即可查看；

 图6-2-10-1 

第七章　机器人指令

机器人指令由运动指令、信号处理指令、流程控制指令、运算指令和平移指令组成。
1 操作符

指令输入中需要用到的操作符主要有关系操作符、运算操作符和一些特殊符号。
1.1 关系操作符

等值比较符号，相等时为TRUE，否则为FALSE V 大于比较符号，大于时为TRUE，否则为FALSE =大于或等于比较符号，大于或等于时为TRUE，否则为FALSE ，V ，Z ，E1 ,E2 ，EV ；

参数：
位姿变量名指定机器人的目标姿态，P为示教点号，系统添加该指令默认为“P”，可以编辑P示教点号，范围为P0~P999。
V 指定机器人的运动速度，这里的运动速度是指与机器人设定的最大速度的百分比，取值范围为1~100(%)。最大速度可参考3.7.3.1章节。
Z 指定机器人的精确到位情况，这里的精度表示精度等级。目前只有0~4五个等级。Z0表示精确到位，Z1~4表示关节过渡。
E1和E2分别代表使用了外部轴1、外部轴2，可单独使用，也可复合使用。
EV表示外部轴速度，若为0，则机器人与外部轴联动，若非0，则为外部轴的速度。说明：
当执行MOVJ指令时，机器人以关节插补方式移动。
移动时，机器人从起始位姿到结束位姿的整个运动过程中，各关节移动的行程相对于总行程的比例是相等的。
MOVJ和MOVJ过渡时，过渡等级Z1~Z4结果一样，当MOVJ与MOVL或MOVC 之间进行过渡时，过渡等级Z1~Z4才起作用。

示例：

MAIN;

MOVJ P*，V30，Z0;

MOVJ P*，V60，Z1;

MOVJ P*，V60，Z1;

END;
2.2 MOVL 

功能：

以直线插补方式移动到指定位姿。

格式：

MOVL位姿变量名，P* ，V ，Z /CR ，E1 ,E2 ，EV ；

参数：
位姿变量名名指定机器人的目标姿态，P*为示教点号，系统添加该指令默认为

“P*”，可以编辑P示教点号，范围为PO-P9。
V 指定机器人的运动速度，取值范围为0-9999mm/s，为整数。
Z 指定机器人的精确到位情况，这里的精度表示精度等级。目前有0-4五个等级，Z0表示精确到位，Z1~Z4表示直线过渡，精度等级越高，到位精度越低。

CR 表示直线以多少半径过渡，与Z不能同时使用,半径的范围为1-6553.5mm 
E1和E2分别代表使用了外部轴1、外部轴2，可单独使用，也可复合使用。
EV表示外部轴速度，若为0，则机器人与外部轴联动，若非0，则为外部轴的速度。说明：

当执行MOVL指令时，机器人以直线插补方式移动。

示例：

MAIN;

MOVJP*，V30，Z0；//表示精确到位

MOVLP*，V30，Z0；/表示精确到位

MOVLP*，V30，Z1；/表示用Z1的直线过渡

END;
2.3 MOVC 

功能：

以圆弧插补方式移动到指定位姿。

格式：

MOVC位姿变量名，P* ，V ，Z ，E1 ,E2 ，EV ；

参数：
位姿变量名指定机器人的目标姿态，P为示教点号，系统添加该指令默认为“P”，可以编辑P示教点号，范围为P0-P999。
V 指定机器人的运动速度，取值范围为0-9999mm/s，为整数。
Z 指定机器人的精确到位情况，这里的精度表示精度等级，范围为0-4。4.E1,E2EV同其它运动指令类似。

说明：
当执行MOVC指令时，机器人以圆弧插补方式移动。
三点或以上确定一条圆弧，小于三点系统报警。
直线和圆弧之间、圆弧和圆弧之间都可以过渡，即精度等级Z可为0~4。

注：执行第一条MOVC指令时，以直线插补方式到达。示例：

MAIN;//程序头MOVJ P1，V30，ZO;//程序起始点MOVC P2，V50，Z1;//圆弧起点MOVC P3，V50，Z1;//圆弧中点MOVC P4，V60，Z1;//圆弧终点END;/结束程序
3 信号处理指令

信号处理指令由DOUT指令、DIN指令、WAIT指令、DELAY、AOUT指令和PULSE 指令组成。
3.1 DOUT 

功能：

数字信号输出I/O置位指令。

格式：

DOUTOT ，ON/OFF，STARTP/ENDP，DS/T ;

DOUTOG ， ；

参数：
指定需要设置的IO端口，范围为0-1023。
0N/OFF设置为ON时，相应I/O置1，即高电平；设置为OFF时，相应I/O置0，即低电平。
指定需要设置的输出组端口，范围为0-15。
STARTP/ENDP相对于起点还是终点。STARTP是相对于该指令前的运动指令来说的,ENDP是相对于该指令后的运动指令来说的。
DS 相对于起点或者终点的距离值。
T 相对于起点或终点的时间值
可以是常量，B ，I ，D ，R 。变量号的范围为0~99。

示例：

MAIN;

MOVL P2，V30，ZO;

DOUT OT16，ON，STARTP，DS100；//当离 P2目标点100mm的距离时，输出端口“16”将置ON.

MOVL P3，V30，ZO;

DOUT OT16，OFF，ENDP，DS100；//当离P4目标点100mm的距离时，输出端口“16”将置OFF.

MOVL P4，V30，ZO;

END;
3.2 WAIT 

功能：

在设定时间内等待外部信号状态执行相应功能。

格式：

WAITIN $\mathrm{,O N/O F F}$ ，T LAB ;

WAITIG ， ，T LAB ;

参数：
IN 指定相应的输入端口，范围为0-1023。
IG 指定相应的输入组端口，范围为0-15。
可以是常量，B ，I ，D ，R ,LR 。变量号的范围为0~99。
T 指定等待时间，单位为秒，范围为0.0-900.0（单位：秒)。
LAB 当条件满足，跳转至指定标号。

说明：

编辑WAIT 指令时，若等待时间$\scriptstyle\mathsf{T}=0$ (s)，则WAIT指令执行时，会等待无限长时间，直至输入信号的状态满足条件；若T>0（s）时，则WAIT指令执行时在等待相应的

时间T而输入信号的状态未满足条件时，程序会继续顺序执行。

示例：

MAIN;

WAITIN16，ON，T3；//在执行该指令时，若是在3秒内接收到IN $16=ON$ 时，程序马上顺序运行，若是3秒内，等不到IN16=ON时，程序也会顺序执行

MOVLP1，V30，Z0；//移动到示教点P1

WAITIN16，ON，T0；/一直等待输入信号IN16的状态满足条件后程序往下执行

MOVLP2，V30，Z0；//移动到示教点P2

END;
3.3 DELAY 

功能:

使机器人延时运行指定时间。

格式：

DELAYT ;

参数：

T 指定延迟时间，单位为秒，范围为0.0-900.0（s)。示例：

MAIN;

MOVJ P1，V60，Z0;

DELAY T5.6;//延时5.6秒后结束程序

END;
3.4 DIN 

功能：

把输入信号状态读入到变量中

格式：

DIN ，IN ;

DIN ，IG ;

参数：
可以是B ，I ，D ，R 。变量号的范围为0~99。
IN 范围为0-1023。
IG 范围为0-15。
IG 范围根据具体应用协议而定。

示例：

MAIN;//程序开始

LAB0/标签0

DIN R1 ,IN0;//把IN0的状态储存到变量R1中

JUMP LAB1，IFR1=0;//当R1等于0程序跳转到标签1结束程序，不

等于0时程序顺序执行

DELAY T5//延时5秒

DIN R1 ,IG0;//把组输入的第0组二进制信号数据，储存到十进

制数变量R1中

LAB1//标签1

END;//结束程序
3.5 PULSE 

功能:

输出一定宽度的脉冲信号，作为外部输出信号。

格式：

PULSEOT ，T ;

参数：
0T 范围为0~1023。
T 指定脉冲时间宽度，单位为秒，范围为0.0-900.0（s)。
3.6 AOUT 

功能：

模拟信号输出指令。

格式：

AOUTAO ，常数；

参数：

 指定需要设置输出的模拟端口，范围为0-3。

常数：指定输出的模拟值，范围0-10。

特别注意：此指令在焊接应用方式下无效。
4 流程控制指令

流程控制指令由IF指令、END指令LAB指令、JUMP指令、#注释指令、MAIN 指令和END指令组成。
4.1 IF 

功能：

条件判断是否进入IF跟ENDIF之间的语句。

格式：

IF ；

参数：
可以是常量，B ，I ，D ，

R 。变量号的范围为0~99。
比较符指定比较方式，包括==、>=、 、 。

说明：

与ENDIF指令配合使用，IF与ENDIF指令之间不能嵌套其它跳转指令，并且多个IF指令只能配对最先出现的那个ENDIF指令。

示例：

MAIN:/程序开始；

IF I0>= 0;//当I0满足条件时执行运动指令MOVJPO,

不满足条件跳过P0点结束程序；

MOVJ PO， V20， ZO;/移动到示教点PO点；

ENDIF 

//结束IF指令的条件；

//结束程序；END;
4.2 LAB 

功能:

标明要跳转到的语句。

格式：

LAB :

参数：

 指定标签号，范围为0-99。

说明：

与JUMP指令配合使用，标签号不允许重复，最多能用100个的标签。示例：

MAIN;

LAB1:/标签1

MOVL P1，V60，Z0;

MOVL P2，V60，Z0;

JUMP LAB1;//跳转到标签1

END;
4.3 JUMP 

功能：

跳转到指定标签。常与LAB指令配对使用。

格式：

JUMPLAB ;

JUMPLAB ，IF ;

JUMPLAB ，IFIN ;参数：
LAB 指定标签号，取值范围为0-999。
可以是常量，B ，I ，D ，

R 。变量号的范围为0~99。
比较符指定比较方式，包括==、>=、 、 。
IN 指定需要比较的输入端口，取值范围为0-31。

说明：
JUMP指令必须与LAB指令配合使用，否则程序报错“匹配错误：找不到对应的标签”；
当执行JUMP语句时，如果不指定条件，则直接跳转到指定标号；若指定条件，则需要符合相应条件后跳转到指定标号，如果不符合相应条件则直接运行下一条语句。示例：

MAIN;//程序开始

LAB1://标签1

SET B1，0;//将B1变量清零

LABO:/标签0

MOVJ P1，V30，Z0;//移动到示教点P1

MOVL P2，V30，ZO;//移动到示教点P2

INC B1;//每运行一次该指令变量B1的数值加一

JUMP LAB0，IFB1 

说明：
前面添加“#”指令，不执行该程序行。
对已经被注释的指令进行注释，则可取消该指令的注释状态，即反注释。
4.5 END 

功能：

程序结束。

格式：

END;

说明：

程序运行到程序段END时停止示教检查或再现运行状态，其后面有程序不被执行。示例：

MAIN;

MOVL P1，V30，Z0;

END;

MOVL P2，V30，Z0;

END;
4.6 CALL 

功能:

调用指定程序，最多8层，不能嵌套调用。

格式：

CALL JOB ;

CALL JOB,IF ;

CALL JOB,IFIN ;说明：

1、JOB 程序文件名称。
可以是常量，B ，I ，D ，R 。变量号的范围为0~99。
比较符指定比较方式，包括==、>=、 、 。
IN 指定需要比较的输入端口，取值范围为0-31。示例：

MAIN ;

MOVJ P1 ,V100 ,Z0 ;

CALL JOB ;//调用JOB程序

END ;
4.7 RET 

功能：

子程序调用返回

格式：

RET;

说明：

在被调用程序中出现，运行后将返回调用程序，否则将在RET行结束程序的运行。示例：

MAIN;

MOVJ P1,V60,Z0;

RET;//返回主程序

END ;
4.8 ENDIF 

功能：

结束IF指令。

格式：

ENDIF ;

说明：

多个IF指令只能对应一个ENDIF指令。
5 运算指令

运算指令由算术运算指令和逻辑运算指令组成。

运算指令主要对系统变量进行算术运算和逻辑运算操作。系统变量可分为全局变量和局部变量两种。全局变量包括全局字节型变量(B)、全局整数型变量(I)、全局双精度型变量(D)、全局实数型变量(R)，全局笛卡尔位姿变量(PX)，所有程序文件共享这些变量。各个程序文件中的局部变量相互独立。主菜单中的{变量}菜单显示了全局变量的信息，若要查看局部变量值的信息，可先将局部变量的值赋与相应的全局变量，然后再通过{变量}菜单查看。
5.1 算术运算指令

算术运算指令由INC，DEC，ADD，SUB，MUL，DIV，SET，SETE，GETE组成。
5.1.1 INC 

功能：

在指定操作数的值上加1。

格式：

INC ;

参数：

 可以是B ，I ，D ，R 。变量号的范围为0~99。

MAIN;

LAB1;

DELEY T0.5;

INC RO;//每运行一次该指令R0里面的数值会加1

JUMP LAB1;

END;
5.1.2 DEC 

功能：

在指定操作数的值上减1。

格式：

DEC ;

参数：

 ，I ，D ，R 。变量号的范围为0~99。

示例：

MAIN;

LAB1;

DELEY T0.5;

DEC R0;//每运行一次该指令R0里面的数值会减1

JUMP LAB1;

END;
5.1.33 ADD 

功能：

把操作数1与操作数2相加，结果存入操作数1中。

格式：

ADD ， ;

参数：
可以是B ，I ，D ，R 。

变量号的范围为0~99。
可以是常量，B ，I ，D ，R 。变量号的范围为0~99。

示例：

SET B0，5;//将B0置5

SET B1，2;/将B1置2

ADD B0，B1;//此时B0的值为7。
5.1.4 SUB 

功能：

把操作数1与操作数2相减，结果存入操作数1中。

格式：

SUB ， ;

参数：

 ， 与ADD指令一样。

示例：

SET BO,5;//将B0置5

SET B1 , 2;//将B1置2

SUB BO，B1;//此时BO的值为3。
5.1.5 MUL 

功能：

把操作数1与操作数2相乘，结果存入操作数1中。

格式：

MUL ， ;

参数：

 ， 与ADD指令一样。

示例：

SET B0，5;//将B0置5;

MUL B0，2;//此时BO的值为10;
5.1.6 DIV 

功能：

把操作数1除以操作数2，结果存入操作数1中。

格式：

DIV ， ;

参数：

 ， 与ADD指令一样。

示例：

SET BO ,6;//将B0置6;

DIV BO,2;/此时B0的值为3;
5.1.7 SET 

功能：

把操作数2的值赋给操作数1。

格式：

SET ， ;

参数：

 ， 与ADD指令一样。

示例：

SETB0，5；//将B0置5
5.1.8 SETE 

功能：

把操作数2变量的值赋给笛卡尔位姿变量中的元素。

格式：

SETEPX （元素号），操作数2;

参数：
范围0~99。
范围0~6。0表示给P变量全部元素赋同样的值。
可以是D ，或者是双精度整数型常量。

SET DO,6;

SETEPX1(0），D0；/此时PX1变量的$X=6$ $Y=6$ $Z=6$ $W=6$ $P{=}6$ $R=6$ 

SETEPX1(6)，3；//此时PX1变量的$X=6$ $Y=6$ $Z=6$ $W=6$ $P=6$ $R=3$ 
5.1.9 GETE 

功能：

把笛卡尔位姿变量中的元素的值赋给操作数1。

格式：

GETE ，PX (元素号);

参数：
范围0~99。
范围1~6。
是D 。

示例：

SET D0,6;

SETEPX1(0)，D0；//此时PX1变量的$X=6$ $Y=6$ $Z=6$ $W=6$ $P=6$ $R=6$ 

SETE PX1(6)，3；//此时PX1变量的$X=6$ $Y=6$ $Z=6$ $W=6$ $P=6$ $R=3$ 

GETE D0，PX1(6)；//此时$D0=3$ 
5.2 逻辑运算指令

逻辑运算指令由AND，OR，NOT，XOR组成。
5.2.1 AND 

功能：

把操作数1与操作数2相逻辑与，结果存入操作数1中。

格式：

AND ， ;

参数：
是B ，变量号的范围为0~99。
可以是常量，也可以是B ，变量号的范围为0~99。示例：

SET B0,5;//(00000101)2

AND B0，6;//(0000 0101)2&(0000 0110)2=(0000 0100)2=(4)10

此时B0的值为4。
5.2.2 OR 

功能：

把操作数1与操作数2相逻辑或，结果存入操作数1中。

格式：

OR ， ;

参数：

 ， 与AND指令一样。

示例：

SET B0，5;//(00000101)2

OR B0，6;//(0000 0101)2 (0000 0110)2=(0000 0111)2=(7)10

此时B0的值为7。
5.2.3 NOT 

功能：

取操作数2的逻辑非，结果存入操作数1中。

格式：

NOT ， ;

参数：

 ， 与AND指令一样。

示例：

SET B0，5;//(0000 0101)2

NOTB0，B0;//~(0000 0101)2=(1111 1010)2=(250)10

此时B0的值为250。
5.2.4 XOR 

功能：

把操作数1与操作数2相逻辑异或，结果存入操作数1中。

格式：

XOR ， ;

参数：

 ， 与AND指令一样。

示例：

SETB0,5;//(0000 0101)2

XOR RBO，6;//(00000101)2^(00000110)2=(00000011)2=(3)10

此时B0的值为3。
6 平移指令

平移指令由SHIFTON指令、SHIFTOFF指令、MSHIFT指令和PX平移量组成。
6.1 SHIFTON 

功能:

指定平移开始及平移量，与SHIFTOFF成对使用。

格式：

SHIFTONPX ；

参数：

PX 指定平移量，范围为0-99。

说明：
PX变量可以在{笛卡尔位姿}菜单界面中设置。
平移量PX 为一个多维度及方向的矢量，在平移开始与结束之间的移动指令都会移动这个矢量值。详情请参考8.10章节。

示例：

MAIN;

SHIFTON PX1;//指定平移开始及平移量PX1;

MOVL P1，V20，ZO;//通过把P1点平移到新的目标点移动量为平移量PX1;

SHIFTOFF;/结束平移标识；

END;
6.22 SHIFTOFF 

功能：

结束平移标识，与SHIFTONPX 成对使用。

格式：

SHIFTOFF;

说明：

SHIFTOFF语句后的运动指令不具有平移功能。

示例：

MAIN;

SHIFTON PX1;

MOVC P2，V50，Z1;

MOVC P3，V50，Z1;

MOVC P4，V50，Z1;

SHIFTOFF;

END;
6.3 MSHIFT 

功能:

通过指令获取平移量（矢量)。平移量为第一个示教点位置值减第二个示教点位置值之差。

格式：

MSHIFTPX ，P ，P ;参数：
PX 指定平移量的变量序号范围为0-99
P 获取第一个示教点，变量名1为示教点号，范围为P0-P999。
P 获取第二个示教点，变量名2为示教点号，范围为P0-P999。说明：

两个示教点位置值相减的方式可精确计算出平移量，避免手动设置产生的误差。详情请参考8.10章节。

示例：

通过平移从P1点平移置P4点

 0 1 

 MAIN; 程序开始 
 R1=0; 将变量R1清零 
 PX0，P001，P002; MSHIFT 获取平移量 
 PX1=PX1–PX1; 将平移量PX1清零 
 LAB2: 标签二 
 SHIFTON PX1; 平移开始 
 MOVL P1，V10，Z0; 移到示教点一 
 SHIFTOFF; 平移结束 
 PX1=PX1 +PX0; 每次多加PXO的平移量 
 INC R1; 计算变量R1每次加一 
 JUMP LAB2，IFR1 

第八章系统功能
1 零点位置

设置绝对零点位置就是对机器人的机械原点进行位置校准，以确保机器人的运行安全和运动精度等。绝对零点位置设置是在出厂前根据机器人具体尺寸设置进行的，没有进行原点位置校准，不允许对机器人进行示教和再现操作，以防发生危险

添司

原点位置校准是将机器人机械原点位置与电机绝对编码器的绝对值进行对照的操作。原点位置校准后，机器人机械原点位置与绝对编码器的绝对值数据是唯一对应的，也就是说，只有一组编码器的绝对值对应机器人机械原点位置。

下列情况下必须再次进行原点位置校准。

⚫改变机器人与控制柜的组合时

·更换电机、绝对编码器时

机器人碰撞工件或其它物体，原点位置偏移时
机器人绝对零点位置的姿态

机器人绝对零点位置的姿态如图8-1-1所示。

 图8-1-1 
绝对零点位置设置操作方法

第一步：使用“关节坐标系”，将机器人示教到图8-1-1所指定的位置。

第二步：进入{绝对零点}界面，读取机器人当前位置，并设置为新的零点位置。

 图8-1-2 

注意：绝对零点是一个重要的系统参数，不可随意修改。修改绝对零点时，请将机器人示教到图 8-1-1 所示的位置，否则在运行程序文件时由于零点位置的偏差而引起机器人跑偏原本的路径，可能引发设备碰撞或人身伤害事故的危险。
2 干涉区

 图8-2-1 

干涉区是在相应坐标系的基础上设定的一个长方体区域，如图8-2-1，目前可在基坐标系和用户坐标系下设定干涉区，如果要在用户坐标系下建立干涉区，需要在建立相应用户坐标系后进行。系统目前最多可设置6个干涉区。干涉区界面操作请参考3.7.9.3章节。

 图8-2-2 

手动输入法

手动输入长方体坐标的最大值和最小值就可以确定一个长方体干涉区域。

 图8-2-3 

干涉区设置界面内，当我们选择用户坐标系号后，在编辑框中输入两个顶点的坐标值。输入完成后，选择【设置】，即可完成干涉区的设置。

示教法

利用示教长方体对角线上位置为最大值和最小值两个顶点的方法也可以方便的设定长方体干涉区域。

先将光标移动到最大值的X或Y或Z处，将机器人移动至干涉区长方体的最大点，按下[获取示教点]键，然后将光标移动到最小值的X或Y或Z处，示教机器人到干涉区长方体的最小点，按下[获取示教点]键，这时，两个顶点的坐标值已经被记录，选择【设置】，即可使设定的长方体干涉区域生效。

注意：当机器人的有效末端点进入该区域时，机器人会发出“机器人进入干涉区”的报警相对应的输出I/O亦会变成ON的状态。要想把机器人移出干涉区范围，则需把对应的干涉区设置成“无效”后进行操作。
3 软极限

软极限设置是指用户自己定义各个轴运动的角度范围。示教过程中，如果某个轴运动至软极限设置的角度范围以外的话，会发生报警。

 图8-3-1 

当用户操作机器人接近软极限时，系统会提示报警。此时机器人所有轴操作键都不能使机器人产生动作。需按[清除]键，状态显示区报警状态清除，切换到关节坐标系，轻轻按住[使能开关]，按与软极限限位方向相反的轴移动键，可退出软极限区域。

 图8-3-2 
4 系统专用1/0
4.1 系统专用I/O概述

系统专用I/O是机器人控制系统指定特殊用途的I/O。包含输入I/O(IN0---IN7),输出I/O(OT0---OT7)。
4.2 系统专用I/0定义

1．输入信号定义：

IN0---系统急停输入信号，低电平有效。

IN1---系统暂停输入信号。

IN2---系统启动输入信号。(RSR或PNS模式加载作为再启动按键继续运行程序)

IN3---系统停止输入信号。

IN4---系统使能输入信号。

IN5---系统清除输入信号。

IN6---系统焊接应用有效输入信号。

IN7---系统回归作业原点输入信号。
输出信号定义：

OT0---系统急停输出信号。

OT1---系统暂停输出信号。

OT2---系统运行输出信号。

OT3---系统停止输出信号。

OT4---系统使能输出信号。

OT5---系统清除报警输出信号。

OT6---系统焊接应用有效输出信号。

OT7---系统回归作业原点输出信号。
5 用户自定义1/0
5.1 自定义输入概述

自定义输入功能是指用户自定义输入I/O端口来控制机器人控制系统，以达到外部控制系统的功能。
5.2 自定义输入功能描述

用户可以根据自己的用途，通过外部输入I/O，让系统处于不同的状态。目前可定义的输入IO状态有急停，停止，暂停，运行，伺服使能，报警，清除，回断点，回第二原点，回第三原点这10种输入状态。例如可以将防碰撞开关接入系统的某个IO端口，将此端口配置为急停，则如果发生碰撞，系统检测到碰撞后的输入的IO信号，则强制机器人控制系统紧急停止。具体配置请参考菜单说明里的自定义输入菜单介绍。

特别注意：自定义输入事件中的急停在示教、再现、远程模式均有效。暂停、运行、停止、伺服使能、报警、清除、回断点、回第二原点、回第三原点只有在再现/远程模式才有效。
5.3 自定义输出概述

自定义输出功能是指机器人控制系统通过用户自定义的I/O端口输出当前机器人控制系统的状态，也可以用此信号来控制机器人外围设备。
5.4 自定义输出功能描述

用户可以根据自己的用途，将当前机器人控制系统的状态输出到指定的I/O输出端

口上。例如机器人与外部设备连接时，机器人发生了紧急事件处于停止状态，此时必须让外部设备停止下来，可以通过自定义输出将急停状态关联到系统I/O输出口，用来控制外接设备的紧急停止。目前系统支持12种状态输出，这些状态分别为急停、停止、暂停、运行、使能、报警、回断点、回第二原点、回第三原点、示教模式、再现模式、远程模式。具体配置请参考菜单说明里面的自定义输出菜单介绍。

特别注意：自定义输出事件中的急停事件在示教、再现、远程模式均有效。停止，暂停、运行、使能、报警、回断点、回第二原点、回第三原点、示教模式、再现模式、远程模式只有在再现、远程模式才有效。
6 RSR启动
6.1 RSR启动概述

机器人启动请求（RSR）从外部装置启动程序，该功能采用8个I/O输入（IN8-IN15)作为启动信号来启动相对应RSR的8个文件的。
6.2 RSR启动功能描述

要启动RSR功能需在主页面>>系统设置>>程序选择设置机器人的启动方式为RSR 方式，在主页面>>输入输$ 出 >>RSR$ 启动中把RSR功能设置成有效。处在无效的情况下，机器人的输入信号将不会启动RSR文件。RSR中可以记录8个RSR记录编号，在这些记录编号加上基本编号后的值就是程序编号。例如，在输入了RSR2的情况下，（程序编号）=（RSR2记录编号）+（基本编号）就成为程序编号，所以程序就成为以RSR+（程序编号）为名称的程序。IN8-IN15对应RSR1-RSR8的启动信号。
6.3 RSR启动操作步骤

1．在主页面>>系统设置>>程序选择界面设置启动方式为RSR启动。
在主页面>>输入输出$ \mathrm{>>}\mathrm{R S R}$ 启动界面设置RSR有效，注意RSR所占用的I/O端□不能被其它功能占用。
输入IN8-IN15的输入信号选择程序，该功能可以同时预约多个程序，预约的顺序为顺序预约，如当按顺序按下IN8、IN10、IN12、IN9则机器人会按顺序执行IN8、IN10、IN12、IN9所对应的RSR程序。

注意：系统运行时不能启动RSR功能文件，设置RSR功能有效必须保证RSR所占用的输出端口不被占用。另外程序编号的有效数值前面不能加“0”。系统能识别RSR1.prl程序，不能识别RSR01.prl或RSR0001.prl程序。
7 PNS启动
7.1 PNS启动概述

程序编号选择（PNS）是从外部输入信号选择启动程序的一种功能。PNS程序编号通过8个输入信号（IN8-IN15）来指定。
7.2 PNS启动功能描述

如{PNS启动}界面所显示，PNS启动输入端口占用了IN8~IN17，其中IN8-IN15为程序选择编号的输入组合端口，IN16为预约程序编号的输入端口，IN17为启动PNS程序的输入端口。PNS的程序编号为基本编号加上IN8-IN15的选择编号，系统将所接收的PNS1~8编号（即IN8-IN15）输入信号变换为1、0进制数后的值，就是PNS编号，再加上基本编号即为程序编号，所选择的程序就成为以PNS+程序编号为名称的程序。如当IN8-IN15为10100000，即所对应的二进制为00000101（IN15为最高位），十进制数为5，所以PNS编号为5，即程序名称为PNS5。
7.3 PNS启动操作步骤
在主页面>>系统设置>>程序选择界面设置启动方式为PNS启动。
在主页面>>输入输出>>PNS启动界面设置PNS有效，注意PNS所占用的I/O端□不能被其它功能占用。
输入IN16和IN8-IN15的输入信号选择程序。
输入IN17启动所选择的PNS程序。

注意：系统运行时不能启动PNS功能文件，设置PNS功能有效必须保证PNS所占用的输出端口不被占用。另外程序编号的有效数值前面不能加“0”。系统能识别PNS1.prl程序，不能识别PNS01.prl或PNS0001.prl程序。
8 再启动（续点运行）
8.1 再启动功能概述

再启动功能是指外界因素或系统自身因素使系统处于急停、暂停或报警状态时，若外界因素和自身因素解除之后，系统本身在未切换模式的情况下能续点运行。
再启动中的再引弧若系统有焊接功能，在焊接过程中人为因素或外界因素使系统处于急停或停止状态，比如焊接过程中保护气体用完，需要更换，在未进行切换模式的情况下，按下急停键>更换完气体>解除急停，则可进行再引弧，继续进行之前的焊接工作。
再启动功能包含任意行启动运行>将光标移动到所要运行行>上使能>按下启动键，则系统根据光标当前所在行开始运行。
再启动中运行到程序末行时>按住启动键，则可自动跳到程序开始第一行执行。
再启动也针对发生急停情况停止后，只要程序光标未进行切换，即使手动移开操作，进行处理紧急事件完成后，将轴操作到原来位置附件，也可以进行再启动，此时最好打开再启动运行规则检查用于确认是都回到断点位置附件。

特别注意：目前焊接寻位，电弧传感，激光寻位不支持再启动。续点运行时最好进行运行规则检查，检查系统变量，I/O状态，断点位置是否与之前的状态是否一致。
9 作业原点
9.1 作业原点概述

作业原点是与机器人作业相关的基准点，它是机器人不与周边设备发生干涉、启动生产线等的前提条件，可使机器人确定在设定的范围内。设定的作业原点位置可通过示教编程器操作。另外，机器人控制点在作业原点位置1mm范围内时，作业原点位置信号置为ON。
9.2 作业原点设置

作业原点设置和作业原点位置界面如下两图显示。

 图8-9-2-1 

 图8-9-2-2 
9.3 作业原点输入或变更

在作业原点选项界面可选择作业原点是否有效，以及有效的作业原点是三个中的哪一个，并且回作业原点的方式和相对应的速度。在作业原点位置详细画面，按[使能]+[获取示教点]，则获取相对应列的新的作业原点，也可通过数字健直接进行修改。
9.4 回到作业原点

示教模式时，在作业原点位置详细界面，将光标移动相对应的三个原点中的其中一列时，通过按[使能开关]+[前进]键使机器人向作业原点移动。再现模式下，按下[使能]键，可通过外部输入信号IN7启动低速回到作业原点的功能。
9.5 作业原点信号输出

在运动中进行位置确认，只要机器人控制点一进入生效原点的1mm范围内时，立即输出信号(OT7)。
10 平移
10.1 平移功能介绍

平移是指对象物体从指定位置进行移动时，对象物体各点均保持等距离移动，如图8-10-1-1所示。

 图8-10-1-1 

机器人进行示教时，可以通过此功能来减少工作量。平移功能特别适用于进行一组有规律的运动时的情况，例如工件的堆垛等。

运用平移功能所用到的指令主要有：PX、SHIFTON、SHIFTOFF和MSHIFT。
10.2 建立平移量

运用平移前，我们首先要建立一个平移量。建立平移量的方法有两种，一种是进入笛卡尔位姿变量编辑界面手动进行编辑，另一种是采用MSHIFT指令来获取偏移量的方式，这里我们采用第一种方式。

进入”笛卡尔位姿型变量明细”界面，对PX0变量做如下图修改，这里我们假设工件的厚度为20mm，这样，我们就可以在程序里使用PX0变量，如图8-13-2-1所示。

 图8-10-2-1 
10.3 平移程序示例

 图8-10-3-1 

如图8-10-3-1，我们假设A处的工件为传送带输送过来的工件，我们需要将其抓取到B处。现在我们采用平移功能，只需获取B处的示教点5即可，其他示教点可通过增加平移量来获取，整个程序及相关说明如下：

 0 1 

 程序指令 内容说明 
 MAIN; 程序头(系统默认行) 
 LAB1: 标签一 
 SET R1, 0; 将工件个数统计变量清零 
 SUB PX1，PX1; 将平移量PX1清零 
 LAB 2: 标签二 
 MOVJ P1，V20,ZO; 移动到示教点1 
 MOVL P2，V100，ZO; 移动到抓取工件点 
 MOVL P3，V100，ZO; 移动到示教点3 
 MOVL P4，V100，ZO; 移动到示教点4 
 SHIFTON PX1; 平移开始，并指定平移量 
 MOVL P5，V100，ZO; 移动到平移后的示教点 
 SHIFTOFF; 平移结束 
 ADD PX1，PX0; 平移量PX1在原来基础上增加平移量PX0 
 MOVL P4, V100，Z0; 移动到示教点4 
 MOVJ P1，V100，ZO; 移动到示教点1 
 INC R1; 工件数加1 
 LAB2 IF R1 

程序指令中，PXO表示平移量，也就是工件的厚度，是通过PX变量明细界面手动设置的，因此需要事先知道工件的厚度尺寸。

下面再介绍一下通过MSHIFT指令获取示教点计算平移量的方式来实现平移。

例如，要完成图8-10-3-2所示的把A处的工件搬运到B处并逐层摆放的任务。

 图8-10-3-2 

假设A处的工件为传送带输送过来的工件，整个程序内容及相关说明如下。

 0 1 

 程序指令 内容说明 
 MAIN; 程序头(系统默认行) 
 LAB1: 标签一 
 SET R1,0; 将工件个数统计变量清零 
 SUB PX1,PX1; 将平移量PX1清零 
 MSHIFT PX0, P1, P2; 获取平移量PX0(工件厚度) 
 LAB 2: 标签二 
 MOVJ P3，V20，ZO; 移动到示教点3 
 MOVL P4，V100，Z0; 移动到抓取工件点 
 MOVL P5， V100，ZO; 移动到示教点5 
 MOVL P6， V100，Z0; 移动到示教点6 
 SHIFTON PX1; 平移开始 
 MOVL P7,V100，ZO; 移动到平移后的示教点 
 SHIFTOFF; 平移结束 
 ADD PX1，PX0; 平移量PX1在原来基础上增加平移量 PXO(工件厚度) 
 MOVL P6， V100，Z0; 移动到示教点6 
 MOVL P3, V100，Z0; 移动到示教点3 
 INC R1; 工件数加1 
 JUMP LAB2 IF R1 

对圆弧进行平移的情况如下所示。

例如：要完成图8-13-3-3所示，同等大小，等间距的重复性圆弧动作，可以通过平移指令，简便地完成示教编程。

 图8-10-3-3 

假如从A处开始示教，依次做B->C->····平移，整个程序内容及相关说明如下：

 0 1 

 程序指令 内容说明 
 MAIN; 程序头(系统默认行) 
 LAB1: 标签一 
 SET R1,0; 将平移次数统计变量清零 
 SUB PX1,PX1; 将平移量PX1清零 
 MSHIFT PX0, P7, P8; 获取平移量PX0(…) 
 LAB2: 标签二 
 MOVJ P1，V20，ZO; 移动到示教点1 
 SHIFTON PX1; 平移开始 
 MOVL P2，V100，ZO; 移动到示教点2 
 MOVC P3，V030，Z1; 移动到示教点3 
 MOVC P4，V100，Z1; 移动到示教点4 
 MOVC P5，V100，Z1; 移动到示教点5 
 MOVC P6，V100，Z1; 移动到示教点6 
 SHIFTOFF; 平移结束 
 ADD PX1，PXO; 平移量PX1 在原来基础上增加平移量 PX0( 
 INC R1; 变量R1加1 
 JUMP LAB2 IF R1 
11 安全模式

安全模式有三种类型，分别为操作模式、编辑模式、管理模式。安全模式限制了使用机器人功能的范围，操作模式的功能范围小于编辑模式的功能范围，编辑模式的功能范围小于管理模式的功能范围。

操作模式下，用户仅能操作机器人、示教检查和再现运行程序等；编辑模式下，用户可编辑程序文件，对机器人的部分参数进行设置，如工具坐标系、用户坐标系、干涉区等，编辑模式的出厂默认密码为888888；管理模式下，除了{参数设置}菜单的参数设置之外，用户可以进行任何系统设定和操作，管理模式的出厂默认密码为666666。

机器人操作对应的安全模式及运行模式如表8-11-1所示。

 表8-11-1 

 0 1 2 3 4 5 

 机器人 操作内容 安全模式 安全模式 安全模式 运行模式 运行模式 
 机器人 操作内容 操作模式 编辑模式 管理模式 示教模式 再现模式 
 指令编辑（输入、 添加、修改、删除、 剪切、复制) NO YES YES YES NO 
 程序文件管理（新 建、重命名、查找、 复制和删除) NO YES YES YES NO 
 打开/关闭 程序文件 YES YES YES YES YES 
 绝对零点位置 NO NO YES YES NO 
 工具坐标系 NO YES YES YES NO 
 用户坐标系 NO YES YES YES NO 
 变位机坐标 NO YES YES YES NO 
 基座轴方向 NO NO YES YES NO 
 语言设置 YES YES YES YES NO 
 系统时间 YES YES YES YES NO 
 口令设置 NO YES YES YES NO 
 模式切换 YES YES YES YES NO 
 系统速度 NO NO YES YES YES 
 应用配置 NO NO YES YES nan 

 0 1 2 3 4 5 

 NO YES YES ON ON ON 
 YES YES 软极限 NO ON ON 
 再现运行方式 NO YES YES YES YES 
 示教点 NO YES YES YES ON 
 自定义I/O NO YES YES YES nan 
 ON 输出连接 NO YES YES YES 
 NO 输入连接 NO YES YES YES 
 NO PNS 启动 NO YES YES YES 
 NO RSR启动 YES YES YES YES 
 I/O分配 YES YES YES YES NO 
 组IO YES YES YES YES YES 
 数字IO nan nan nan nan nan 
 YES YES YES YES YES 累计运行时间 
 YES YES YES YES YES 伺服监控 
 YES YES YES YES YES 版本信息 
 报警信息 nan nan nan nan nan 
 YES YES YES YES YES 变量 
 NO YES YES NO ON 应用 
 NO YES YES NO NO 系统备份 
 NO YES NO NO NO 连杆参数 
 NO YES NO NO NO ON 
 NO YES YES NO ON 运动参数 
 NO YES NO ON ON 轴参数 
 ON YES YES NO NO 关节参数 
 ON YES YES YES ON 程序管理 
 ON YES YES YES YES 程序选择 
 YES YES YES YES YES 语言设置 
 NO YES YES YES NO 网络设置 
 ON YES YES YES ON 网关调试 
 再现模式 再现模式 示教模式 管理模式 编辑模式 操作模式 

 0 1 2 3 4 5 

 机器人 操作内容 安全模式 安全模式 安全模式 运行模式 运行模式 
 机器人 操作内容 操作模式 编辑模式 管理模式 示教模式 再现模式 
 干涉区 NO YES YES YES NO 
 作业原点 NO YES YES YES NO 
 在线帮助指令 YES YES YES YES YES 
 在线帮助操作 YES YES YES YES YES 
 示教检查 (前进/后退) YES YES YES YES NO 
12 DNC加载
12.1 DNC功能介绍

DNC加载就是将加工程序通过离线软件生成保存放入U盘中，将U盘插入系统，系统读取U盘的加工文件进行加工。目前系统最多支持100万行的程序，并且离线生成的加工程序需要符合GRC控制器的规范，采用关直角编程方式，不支持P+编号的示教点格式。
12.2 DNC支持指令集

DNC加工有特殊性，所以只能实现部分指令的加工。支持的指令如下：MOVJ、MOVL、DOUT、DIN、DELAY、WAIT、PLUSE、AOUT、INC DEC、ADD、SUB、MUL、DIV、SET、SETE、GETE、AND、OR、NOT、XOR、ARCON、ARCOF、ARSET、ARCCT。
12.3 DNC程序操作

DNC程序可通过主页面的程序管理中的外部程序进行打开，将光标选定U盘程序后，按[输入]键则可打开程序，并切换到程序页面进行显示，DNC程序不可以进行编辑，只能通过上下光标移动，原则上不能无限的向上移动光标，可以一直往下移动光标，并通过输入数字可以检索到相应的程序行，不支持向上检索行号。翻页键、组合键无效（[转换]+[翻页]及[转换]+上下方向键）。
13 GPC模块（外扩PLC或产线控制器）
13.1 GPC模块功能介绍

GPC模块为我司的另一款控制器，可配置多项功能，如PLC（GR-C系统不含PLC 功能）、生产控制器、扩展轴等。可通过网关的方式与GRC控制系统无缝对接。以实现PLC的灵活编程控制以及GPC通过外接触摸屏实现生产线的管理功能。关于GPC的更多详情请参考《GPC*说明手册》或向您的供应商/销售经理咨询。
13.2 GPC模块功能配置

使用GPC模块必须设置网关调试界面里的逻辑ID设置（主页面>>系统设置>>网关调试>>逻辑ID设置，请参考3.7.1.11章节）。系统默认GL端ID为32，GN端ID为1。若未连接网关则为随机值。关于更多GR-C与GPC模块的调试及连接信息请向您的供应商/销售经理索取专用调试说明文档。

第九章焊接应用
1 焊接原理

机器人焊接主要是外部利用数字焊机或模拟焊机与机器人本体组合，内部通过GSK-Link总线通信方式、标准I/O和虚拟I/O，使机器人按照发送的指令控制机械手臂和焊机完成一系列空间轨迹来完成焊接。
2 {应用}菜单

{应用}菜单由11个子菜单项组成，按[选择]键选择{应用}菜单，会弹出其子菜单，如图9-2-1所示：

 图9-2-1 

弹出子菜单后，光标位置为上次离开该子菜单时的位置。通过上下方向键选择子菜单，[取消]键可关闭离开该子菜单界面。通过[选择]键即可进入相应菜单界面。
2.1 {焊接设置}菜单界面

{焊接设置}菜单界可对焊接作业的相关参数进行配置。如图9-2-1-1、图9-2-1-2和图9-2-1-3所示：

 图9-2-1-1 

 图9-2-1-2 

 图9-2-1-3 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一有三个页面，通过翻页键进行翻页，通过上下方向键可移动光标，通过数值键输入各个选项的值，并按下[输入]键进行确认输入；

焊接设置界面用来配置当前焊接的一些特性。有如下参数可以设置：

当前焊机名称：选择电源厂家。

焊机类型：选择电源类型。

电弧成功检测：设定引弧成功检测功能为 时，焊接开始时，引弧未成功则报警。

电弧耗尽检测：设定电弧耗尽检测功能为 时，焊接结束时，电弧未关闭则报警。

熔敷粘丝检测：设定电弧耗尽检测功能 时，焊接结束时，检测熔敷检测信号，若检测到熔敷粘丝信号，此时系统会自动熔敷解除，当系统达到解除熔敷次数后还是检测到熔敷粘丝信号，则系统会产生熔敷解除失败报警。

气体耗尽检测：设定气体耗尽功能为 时，若检测气体耗尽到信号则报警。

金属线耗尽检测：设定金属线耗尽功能为 时，若检测金属线耗尽到信号则报警。

电源异常检测：设定电源异常检测功能为 时，若检测电源异常到信号则报警。

冷却异常检测：设定冷却异常检测功能为 时，若检测冷却异常到信号则报警。

气体清洗时间：焊接准备时的气体清洗时间。

提前送气时间：焊接准备时的提前送气时间。

焊口处理时间：焊接结束前的焊口处理时间。

缓降处理时间：焊接结束前从焊接电流电压下降到息弧电流电压时的时间。

理时间。

熔敷检测指令延时时间：焊接结束后，设置熔敷检测指令信号延时时间检查熄弧指令是否下发有效。

熔敷检测延时时间：焊接结束后，设置熔敷检测延时时间检查熄弧是否正常结束。

熔敷检测时间：焊接结束后，设置熔敷检测信号时间检查是否有粘丝现象。

金属线进给或回绕时间：金属线做自动送丝或回抽丝的时间。

正常焊接速度设置：机器人自动焊接时焊接速度。

再引弧次数：在焊接开始段引弧失败后做自动再引弧的次数。

再引弧前进或后退的距离：在焊接开始段引弧失败后，自动前进或后退作再引弧的距离。距离不为0时有效。

再引弧前进或后退的速度：在焊接开始段引弧失败后，自动前进或后退作再引弧动作的速度设置。

刮擦距离：指刮擦启动而空运行的距离。刮擦距离不为0时，刮擦功能有效，且需定义引弧成功信号。

刮擦返回速度：指刮擦启动而在空中运行过程中成功产生电弧时，返回焊接开始点的移动速度。

熔敷解除次数：指定进行自动熔敷解除的次数。检测熔敷时，进行熔敷解除处理，再次进行熔敷检测，确认有熔敷的时候，反复进行熔敷解除处理。

区域二含有2个按钮：

【设置】按钮：将区域一选择的内容，设置到系统。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。

注意：在进入该界面进行焊接作业相关参数配置之前，应该先配置焊机的初始化参数。若使用数字焊机进行焊接，则需要先在{数字焊机}菜单界面进行数字焊机配置；若使用模拟焊机进行焊接，则需要现在{模拟焊机}菜单界面进行模拟焊机配置。
2.2 {焊机控制}菜单界面

{焊机控制}菜单界面可对焊机进行点动送丝、检气、抽丝等手动控制的功能，如图9-2-2-1所示。

 图9-2-2-1 

该界面仅有1个区域组成，该区域有4个按钮：

【点动送丝】按钮：按下[选择]键，可控制焊机进行点动送丝，松开[选择]键则停止点动送丝。

【抽丝】按钮：按下[选择]键，可控制焊机进行抽丝，松开[选择]键则停止抽丝。

【检气】按钮：按下[选择]键，可控制焊机进行检气，松开[选择]键则停止检气。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。

注意：这类焊机控制功能需要在应用生效且系统处于示教模式状态下方可执行，否则控制无效。焊机控制功能与焊机自身所提供的功能相关，若焊机无此类功能，则控制无效。 
2.33 {引弧条件}菜单界面

{引弧条件}菜单界面可对引弧条件参数配置，如图9-2-3-1所示：

 图9-2-3-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一，通过上下方向键可移动光标，通过数值键输入各个选项的值，并按下[输入]键进行确认输入。

“条件文件号”：目前系统可创建30个引弧条件，可通过引弧指令ARCON进行引用。

“模式选择”：可支持0-3四种模式。

“焊接电流”：起弧时所指定的电流值。

“焊接电压”：起弧时所指定的电压值。

“定时器”：起弧的时间。

“速度”：焊接速度。

区域二含有2个按钮：

【设置】按钮：将区域一所输入的值设置到系统。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
2.4 {熄弧条件}菜单界面

{熄弧条件}菜单界面可对熄弧条件参数配置，如图9-2-4-1所示：

 图9-2-4-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一，通过上下方向键可移动光标，通过数值键输入各个选项的值，并按下[输入]键进行确认输入。

“模式选择”：可支持0-3四种模式。

“条件文件号”：目前系统可创建12个熄弧条件，可通过熄弧指令ARCOF进行引用。

“焊接电流”：熄弧时所指定的电流值。

“焊接电压”：熄弧时所指定的电压值。

“定时器”：熄弧的时间。

区域二含有2个按钮：

【设置】按钮：将区域一所输入的值设置到系统。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。
2.5 {摆焊条件}菜单界面

{摆焊条件}菜单界面可对摆焊条件参数配置，如图9-2-5-1所示：

 图9-2-5-1 

该界面由2个区域组成，[TAB]键可以将光标在2个区域之间切换。

区域一，通过上下方向键可移动光标，“摆焊条件号”、“周期长度”和“端点停止时间”可通过数值键输入各个选项的值，并按下[输入]键进行确认输入；“形式”、“摆动形式”、“平滑”可通过[选择]键进行修改。

“摆焊条件号”：目前系统可创建16个摆焊条件，可通过摆焊指令WVON进行引用。

“形式”：有单摆和三角摆。如图9-2-5-2。

 摆焊的动作形式 

 图9-2-5-2 

“摆动形式”：有关节形式、直线形式。

“平滑”：单摆、三角摆，每种形式分别被指定有/无平滑。如图9-2-5-3所示。

 图9-2-5-3 

“周期长度”：设定机器人摆焊时摆动的周期长度。如图9-2-5-4所示。

 图9-2-5-4周期长度对摆焊的影响 

“端点停止时间”：

区域二含有2个按钮：

【设置】按钮：将区域一所输入的值设置到系统。

【退出】按钮：退出该界面，返回主页面。[取消]键亦可退出。

注意：图9-2-5-4所示的振幅点1和振幅点2是分别通过指令REFR和REFT指定的示教点。 
2.6 {数字焊机}菜单界面

{数字焊机}菜单界面可对数字焊机初始化参数进行配置。
2.6.1 {数字焊机}菜单第一级界面

{数字焊机}菜单第一级界面显示了系统已经注册数字焊机的信息。如图9-2-6-1-1所示：

 图9-2-6-1-1 

该界面仅由1个区域组成，该区域显示了8个系统所能注册的数字焊机。通过上下方向键移动光标选择焊机，通过[选择]键即可进入相应的数字焊机参数配置界面。

前4个数字焊机类型为“厂家设定”，表示这类焊机是由厂家注册的，用户可以修改该类焊机的参数，用于焊接作业，但不可以将其删除或者覆盖；后4个数字焊机类型为“用户设定”，表示这类焊机是由用户自定义的，用户可根据自身的需求，注册不一样的焊机。

注意：选择数字焊机时，要与当前进行焊接作业的数字焊机型号相一致。
2.6.2 {数字焊机}菜单第二级界面

在{数字焊机}菜单第一级界面，通过上下方向键选择要初始化的数字焊机，按下[选择]键即可进入第二级界面。这里选择了“北京时代TDNB-35”数字焊机。如图9-2-6-2-1所示：

 图9-2-6-2-1 

该界面由2个区域组成，[TAB]键可使光标在两个区域之间切换。

区域一，通过表格方式显示了该款数字焊机需要初始化的参数项。通过上下方向键，[翻页]键，[转换]组合键可移动上下移动光标进行浏览，通过左右方向键可在“序号”、“属性值”两列之间移动光标。当光标在“属性值”列时，通过数值键进行数值输入对应参数项的协议值（注1），最后按下[输入]键确认输入；当光标在“序号”列时，通过数值键输入参数项的序号，如12（此时系统并不显示用户输入的“12”），再按[输入]键可快速将光标移动到第12号参数处。“属性名称”列显示了需要配置的参数名，不同的数字焊机所要配置的参数个数不一样。“类型”列显示了对应参数的I/O类型（相对于机器人），若为“VOT”，表示该参数是由机器人向焊机通过虚拟输出端口进行参数值配置；若为“VOG”，表示该参数是由机器人向焊机通过虚拟组输出端口进行参数配置；若为“VIN”，表示该参数是由焊机向机器人通过虚拟输入端口进行反馈参数值；若为“VIG”，表示该参数是由焊机向机器人通过虚拟输入组端口进行反馈参数值；目前系统暂时无“VIN”和“VIG”类型参数的反馈功能。“端口”列显示了各个参数在虚拟I/O中的端口号。

每款数字焊机，0~10参数（又称为头部参数）是关于机器人与数字焊机进行连接的参数配置，因此“类型”列和“端口”列显示为“-”，表示不属于虚拟输入输出部分。在配置数字焊机初始化参数时，只需要配置头部参数和类型为VOT和VOG的参数。

区域二，由6个按钮组成：

【设置】按钮：根据区域一所输入的值，保存为该类数字焊机初始化的参数值，当在{焊接设置}菜单界面选择该数字焊机作为焊接作业的焊机时，系统将保存的参数值对该类焊机进行初始化。完成所有参数的修改，必需选择【设置】按钮才会生效。

【默认值】按钮：将区域一的所有参数赋予默认值。

【读入】按钮：“读入”功能是实现8个系统所注册的数字焊机之间相互拷贝的功能。用户可对“厂家设定”类型的数字焊机拷贝到“用户设定”类型的数字焊机，并根据实际需求做微小调整。

【文件读入】按钮：“文件读入”功能是实现从外部存储设备U盘中直接导入数字焊机配置文件（后缀名为DWD）的功能。通过与【生成文件】按钮配合，可实现机器人之间的数字焊机配置文件进行简单的共享。

【生成文件】按钮：“生成文件”功能是实现将区域1显示的内容生成一份该类型焊机的配置文件，并保存到U盘根目录的功能。

【退出】按钮：退出该界面，返回{数字焊机}菜单第一级界面。[取消]键亦可返回。

注：协议值，是指机器人和数字焊机之间互相传送的数字值，是离散的数字量；目标值，是指数字焊机收到机器人传送的协议值而反应的值，是连续的模拟量。如根据北京时代TDNB-35焊机协议，23号参数“焊接电流值”协议值的范围为300~3500，而焊接电流值的范围为30~350A，这里的焊接电流值就是目标值。若用户需要焊机输出240A（在引弧指令中指定）焊接电流，则需要机器人向焊接通过23号参数输出协议值为2400（系统自动根据目标值 240A以及数字焊机协议进行换算）。
2.7 {模拟焊机}菜单界面

{模拟焊机}菜单界面可对模拟焊机初始化参数进行配置。
2.7.1 {模拟焊机}菜单第一级界面

{模拟焊机}菜单第一级界面显示了系统已经注册模拟焊机的信息。如图9-2-7-1-1所示：

 图9-2-7-1-1 

该界面仅由1个区域组成，该区域显示了8个系统所能注册的模拟焊机。前四个模拟焊机类型为“厂家设定”，表示这类焊机是由厂家注册的，用户可以修改该类焊机的参数，用于焊接作业，但不可以将其删除或者覆盖；后4个模拟焊机类型为“用户设定”，表示这类焊机是由用户自定义的，用户可根据自身的需求，注册不一样的焊机。

进入该界面时，该界面属于浏览状态，即光标同时选中“序号”，“模拟焊机名称”，“类型”如上图。按[修改]键使界面进入修改状态，即光标只选中某一列，且光标只能处在“模拟焊机名称”列。

浏览状态下，通过上下方向键移动光标选择焊机，通过[选择]键即可进入相应的模拟焊机参数配置界面。

修改状态下，通过上下方向键移动光标选择焊机名，通过[选择]键弹出软键盘，进行对模拟焊机名称的修改。[取消]键返回浏览状态。

注意：选择模拟焊机时，要与当前进行焊接作业的模拟焊机型号相一致。
2.7.2 {模拟焊机}菜单第二级界面

在{模拟焊机}菜单第一级界面，浏览状态下，通过上下方向键选择要初始化的模拟焊机，按下[选择]键即可进入第二级界面。这里选择了“OTC350”模拟焊机。如图9-2-7-2-1所示：

 图9-2-7-2-1 

该界面由2个区域组成，[TAB]键可使光标在两个区域之间切换。

区域一，通过表格方式显示了该款模拟焊机需要初始化的参数项。通过上下方向键，[翻页]键，[转换]组合键可移动上下移动光标进行浏览。光标只能处在“属性值”列，通过数值键进行数值输入对应参数项的值，最后按下[输入]键确认输入。“属性名称”列显示了需要配置的参数名，所有的模拟焊机所要配置的参数一致。参数由信号端口参数（0~13号）、电流电压调整值参数（14~15号）和电流电压命令值与测量值参数（16~47号）组成（注1）。

区域二，由5个按钮组成：

【设置】按钮：根据区域一所输入的值，保存为该类模拟焊机初始化的参数值，当在{焊接设置}菜单界面选择该模拟焊机作为焊接作业的焊机时，系统将保存的参数值对该类焊机进行初始化。完成所有参数的修改，必需选择【设置】按钮才会生效。

【读入】按钮：“读入”功能是实现8个系统所注册的模拟焊机之间相互拷贝的功能。用户可对“厂家设定”类型的模拟焊机拷贝到“用户设定”类型的模拟焊机，并根据实际需求做微小调整。

【文件读入】按钮：“文件读入”功能是实现从外部存储设备U盘中直接导入模拟焊机配置文件（后缀名为WLD）的功能。通过与【生成文件】按钮配合，可实现机器人之间的模拟焊机配置文件进行简单的共享。

【生成文件】按钮：“生成文件”功能是实现将区域1显示的内容生成一份该类型

焊机的配置文件，并保存到U盘根目录的功能。

【退出】按钮：退出该界面，返回{数字焊机}菜单第一级界面。[取消]键亦可返回。

注：命令值，是指机器人和模拟焊机之间互相传送的连续模拟信号量；测量值，是指模拟焊机收到机器人传送命令值而反应的值，是连续的模拟量。如根据厂家测量的数据如下表：

 表9-2-7-2-1 

 0 1 2 

 序号 属姓名称 属性值 
 24 电流命令值5 5.38 
 25 电流测量值5 206.00 
 26 电流命令值6 6.40 
 27 电流测量值6 240.00 

对于该模拟焊机，若用户需要焊机输出240A（在引弧指令中指定）焊接电流，则需要机器人向模拟焊机输出命令值为6.40V的模拟信号量（系统自动根据测量值 240A以及模拟焊机初始化时所指定的电流测量值和电流命令值的关系进行换算）；若用户需要焊机输出 230A焊机电流，则需要机器人向模拟焊机输出命令值为6.1V的模拟量。
3 焊接指令
3.1 ARCON 

功能:

向焊机输出引弧条件和引弧指令。

格式：

ARCONAC电流，AV 电压/AVP 电压百分比，V速度，T时间；

ARCONWFR送丝速度，AV电压/AVP电压百分比，V速度，T时间；

ARCONASF引弧条件文件号；（0~29）

ARCONNCH 工艺号，V速度，T时间；

ARCON NV速度，T时间；

参数：

焊接电流AC 0.0~999.0 A 

 0 1 2 

 送丝速度 WFR 0~100 cm/min、m/min 
 焊接电压 AV 0.0~50.0 V 
 焊接电压百分比 AVP 20~150 
 工艺号 NCH 0~255 
 速度 V 0.0~4000.0 mm/s 
 定时器 T 0.0~99.0 S 

说明：

执行该指令后，焊机电源开关打开，按照设定的电流电压起弧。

这里的速度即为引弧的全局速度，直到引弧结束。
3.2 ARCOF 

功能：

向焊机输出熄弧条件和熄弧指令。

格式：

ARCOF AC 电流AV电压/AVP 电压百分比，T时间；

ARCOF WFR送丝速度，AV电压/AVP电压百分比，T时间；

ARCOF AEF熄弧条件文件号；（0~11）

ARCOF NCH 工艺号，T时间；

ARCOF T时间；

参数：

焊接电流AC 0.0~900.0 A 送丝速度WFR 0~100 cm/min、m/min 焊接电压AV 0.0~50.0 V 焊接电压百分比AVP 0.0~100工艺号NCH 0~255定时器T 0.0~99.0S 

说明：

执行该指令后，焊机电源开关关闭，按照设定的电流电压熄弧。起弧指令和熄弧指令要配合使用，每一条起弧指令必须配合一条熄弧指令使用，否则影响焊机下一次起弧。
3.3 WVON 

功能:

开始摆焊。

格式：

WCONWEV摆焊条件号（0~15)。

参数：

WEV摆焊条件选择。
3.4 WVOFF 

功能:

结束摆焊。

格式：

WCOFF 

参数：

无。
3.5 ARCSET 

功能：

分别改变焊接的电流、电压、速度格式：

ARCSET AC 电流

ARCSET AV电压

ARCSET V速度

ARCSET NCH 工艺号ARCSET WFR送丝速度ARCSET AVP电压百分比参数：

焊接电流AC 0.0~999.0 A 焊接电压AV 0.0~50.0 V 速度

V 0.0~4000.0 mm/s 工艺号NCH 0~255

送丝速度WFR 0~100 cm/min、m/min 

电压百分比AVP 20~150 %

说明：

执行该指令后，焊机安装重新设定的条件进行焊接。
3.6 ARCCT 

功能：

焊接执行中逐渐改变焊接条件。

格式：

ARCCTAC 电流AV电压DS/DE 距离 (mm)

参数：

焊接电流AC 0.0~999.0 A 焊接电压AV 0.0~50.0 V 离启动点距离DS 0.0~1500.0离目标点的距离DE 0.0~1500.0说明：

执行该指令后，焊机从当前点到指定点逐渐的改变焊接的电流电压。
3.7 REFB 

功能：

设定摆焊壁点位置(以摆焊起点为基准)，若为圆弧摆焊，选择圆弧平面法线方向上的点

格式：

REFBP*，E1 ，E2 ;；

说明：

这里P*代表点参数。
3.8 REFR 

功能：

设定摆焊振幅点1位置(以摆焊起点为基准)

格式：

REFRP*，E1 ，E2 ;

说明：

这里P*代表点参数。
3.9 REFT 

功能：

设定摆焊振幅点2位置(以摆焊起点为基准)

格式：

REFTP*，E1 ，E2 ;

说明：

这里P*代表点参数。

这三个取点的指令不能调换次序，次序错误将引起报警，使用外部轴时，必须与下面的运动保持指令一致，直到摆焊结束，否则出现警告。
4 手动操作
4.1 焊接应用有效

为了安全起见，机器人需要通过[转换]+[应用]键来使能应用，使能后会在界面左下方显示“应用有效”，如图9-4-1所示。在应用有效的情况下，再按[转换]+[应用]键可以禁用应用。另外，无论焊接指令是否已经使能，当机器人处于示教模式时，机器人不接受焊接指令，直接跳过执行。对于点动送丝、检丝、抽丝等焊机控制功能，仅在机器人处于示教模式且焊机指令已经使能的情况下方可执行。

 图9-4-1 

注：为保证安全，应禁止在应用使能的情况下对带虚拟I/O指令或者焊接指令的程序进行示教。
4.2 手动检气

在程序或者编辑界面，当焊接应用有效时，按住[转换]键+[数字3]键，则进行检气开，松开则检气关。
4.3 手动金属线进给/回绕

在程序或者编辑界面，当焊接应用有效时，按住[转换]键+[数字2]键，则进行送丝开，松开则送丝关。按住[转换]键+[数字1]键，则进行抽丝开，松开则抽丝关。
5 机器人与焊机的连接
将焊机与机器人正确连接，并选定焊接作业的焊机型号。
配置所选焊机的初始化参数。若选择数字焊机，则在{数字焊机}菜单界面进行初始化配置；若选择模拟焊机，则在{模拟焊机}菜单界面进行初始化配置。若之前已经完成配置，而且无需修改初始化参数时，则可跳过该步骤。这里选择模拟焊机OTC350作为本次焊接作业的焊机。
进入{焊接设置}菜单界面，配置此时焊接作业的参数。
通过[转换]+[应用]组合键，打开使能应用状态，若界面人机接口显示区提示“应用有效”，则表示此时机器人已经正确与焊机进行连接，且焊机已经被初始化；若提示“应用失败”，则表示机器人无法与焊机进行连接，则需要检查焊机与机器人之间的连接电路、以及初始化参数是否正确。
当机器人正确与焊机连接后，即可进入{焊机控制}菜单界面，对焊机进行点动送丝、检气、抽丝等手动控制。
6 焊接时序
7 焊接编程应用说明及安全操作事项
7.1 直线角焊接程序

 图9-7-1-1 

以图9-7-1-1焊接工件为例，进行焊接作业的步骤。

a.建立机器人与焊机的正确连接，参考“9.5机器人与焊机的连接”章节。

b．若此时使能应用已经打开，通过[转换]+[应用]键关闭使能应用。

c.新建程序，进入{编辑}界面，根据图 9-7-1-1的运动轨迹，编写程序如下:

 0 1 2 

 行号 指令 说明 
 MAIN; nan 0001 
 MOVJP1，V50，ZO; 移动到待机位置。 0002 
 0003 MOVJ P2，V50，Z0; 移动到焊接开始位置附近。 
 0004 MOVLP3，V50，ZO; 移动到焊接点。 
 ARCONAC200，AV20，T1, V50; 引弧，开始焊接。 0005 
 MOVLP4，V50，ZO; 移动到焊接结束位置。 0006 
 ARCOFF AC150，AV18，T1; 熄弧，焊接结束。 0007 
 MOVL P5，V50,Z0; 移动到焊接结束位置附近。 0008 
 MOVJP6，V50，ZO; 移动到安全位置。 6000 
 END; nan 0010 

d.进入{程序}界面，单步示教该程序，确认机器人运动轨迹。

e.[转换]+[应用]键开启使能应用，并将系统切换到再现模式，开始再现程序，完成焊接任务。
7.2 正逆（连续）圆弧轨迹焊接程序

 图9-7-2-1 

以图9-7-2-1焊接工件为例，进行焊接作业步骤：

a）建立机器人与焊机的通讯连接。

b）如果此时应用有效已经打开，请按[转换]+[应用]进行关闭。

c）新建程序，根据图9-7-2-1编辑运动轨迹程序如下：

 0 1 2 

 行号 指令 说明 
 0001 MAIN; nan 
 0002 MOVJ P0 ,V80 ,Z0 ; 移动到待机位置（P00） 
 0003 MOVJ P1 ,V80 ,Z0 ; 移动到焊接开始位置附近(P01) 
 0004 MOVL P2 ,V100 ,Z0 ; 移动到焊接开始位置(P02) 
 0005 ARCON AC100 ,AVP100 ,V8 ,T0.2 ; 焊接开始 
 0006 MOVC P3 ,V100 ,Z0 ; 圆弧轨迹开始位置（P03) 
 0007 MOVC P4 ,V100 ,Z0 ; 圆弧轨迹中间位置(P04) 
 0008 MOVC P5 ,V100 ,Z0 ; 圆弧轨迹结束位置 (P05) 
 6000 MOVL P6 ,V100 ,Z0 ; 正逆（连续）圆弧打断点 (P06) 
 0010 MOVC P7 ,V100 ,Z0 ; 圆弧轨迹开始位置（P07) 
 0011 MOVC P8 ,V100 ,Z0 ; 圆弧轨迹中间位置 (P08) 
 0012 MOVC P9 ,V100 ,Z0 ; 圆弧轨迹结束位置 (P09) 
 0013 MOVL P10 ,V100 ,Z0 ; 移动到焊接结束位置 (P10) 
 0014 ARCOF AC80 ,AV90 ,T0.2 ; 焊接结束 
 0015 MOVJ P11 ,V80 ,Z0 ; 移动到不碰触工件和夹具的位置（P11） 
 0016 MOVJ P12 ,V80 ,Z0 ; 移动到待机位置 (P12) 
 0017 END; nan 

d）按F2进入程序界面，单步示教该程序，确认机器人运动轨迹及安全。

e）按[转换]+[应用]打开应用有效，并将系统切换到再现模式，开始再现运行，完成焊接任务。
7.3 弧焊机器人焊接参数指令说明

 0 1 2 

 焊机类型 指令 说明 
 普通模 拟焊机 ARCON AC10O,AV17,V8 ,T0.2; 分别给定电流、电压 
 普通模 拟焊机 ARCOF AC100,AV17,T0.2; 分别给定电流、电压 
 麦格米 特数字 焊机 ARCON AC100,AVP100,V8,T0.2; AC 电流；AVP 电压百分比（一元化） 
 麦格米 特数字 焊机 ARCOF AC100,AVP100,T0.2; AC电流；AVP 电压百分比（一元化） 
 EWM数字 焊机 ARCON WFR5,AVP100,V8,T0.2; WFR送丝速度;AVP 电压百分比(一元化） 
 EWM数字 焊机 ARCOF WFR5,AVP100,T0.2; WFR送丝速度；AVP 电压百分比（一元化） 
7.4 常见的焊接缺陷现象处理方法

 0 1 2 

 焊接缺陷 发生原因 调整方法 
 气孔: 由于H2,N2,CO2 和Ar等产生的 坑、气孔等缺陷的 总称。 保护气体流量不足 在可以忽略风的影响，基本流量为 10~30L/分。 根据作业条件改变气体流量。 
 气孔: 由于H2,N2,CO2 和Ar等产生的 坑、气孔等缺陷的 总称。 喷嘴上有飞溅 除去堆积的飞溅。 选择合适的焊接条件，防止产生过多的飞 溅。 调整焊枪角度、喷嘴高度，减少附着飞溅。 
 气孔: 由于H2,N2,CO2 和Ar等产生的 坑、气孔等缺陷的 总称。 风的影响 关闭门窗。 焊接过程中避免使用风扇。 使用隔板。 
 工件表面有氧化 皮，油，锈等 用稀料、刷子、砂轮机等去除杂物。 nan 
 表面有油漆 用稀料等擦拭。 nan 
 焊接电流、电压、 焊接速度等不合适 在合适的电压范围内使用。 根据弧长调整电压。 nan 
 焊枪角度，焊丝干 伸长度不合适 使焊枪的前倾角更小。 焊丝干伸长度根据焊接条件来设定。 nan 

 0 1 2 

 焊接缺陷 发生原因 调整方法 
 咬边： 焊接电流过大 减小焊接电流。 
 焊接结束后，母材 弧电压不合适 取合适的电压或偏低的电压。 
 上出现的未填满 焊接速度过快 降低焊接速度。 
 焊接金属的沟槽 部分。 焊枪角度，焊丝尖 端点未对准 取合适的焊枪角度和焊丝尖端位置。 
 虚焊： 焊接界面没有充 分融合。 焊接条件不适 调整焊接电流、电压、焊接速度、焊丝尖端 位置、焊枪角度等。 
 虚焊： 焊接界面没有充 分融合。 焊接表面不清洁 除去油、锈等污物。 
 熔深不足: 母材熔融部分到 焊接表面不够长。 焊接条件不合适 （焊接电流太低或 选取合适的焊接电流、电压、焊接速度、焊 
 熔深不足: 母材熔融部分到 焊接表面不够长。 焊接电压太低容易 发生） 丝尖端位置、焊枪角度等。 
 焊瘤: 突出于焊趾或焊 缝根部的焊缝金 属与母材未融合 而重叠的部分。（T 型搭接焊时常见) 焊接电流过大 焊丝尖端位置 不合适 焊枪角度不合 适 T型搭接焊时，设定较低的电流，或设定 合适的电压。 T型搭接焊时，焊丝尖端位置设在工件前 数毫米处。 薄板焊接时，焊丝尖端位置在工件 1~1.5mm处。 
 驼峰: 焊缝表面有突出 的部分，向上立焊 或向上倾斜焊时 常见。 焊接电流太高 焊接电压太低 焊接速度太快 或太慢 取合适的电压或稍高的电压。 选取合适的焊接速度。 
 塌陷: 焊缝表面有凹下 的部分，向下立焊 或向下倾斜焊时 常见。 焊接电压太高 焊接速度太快 降低焊接电压。 降低焊接速度。 
 焊缝弯曲: 焊缝像蛇一样。 焊丝弯曲、扭 曲 导电嘴内径变 大 缩短焊丝干伸长度 使用较好的焊丝 更换新导电嘴 改变焊接方向 
7.5 机器人操作注意事项

机器人使用操作前必须认真阅读GR-C机器人控制系统操作说明书。

1．请不要带者手套操作示教盘和操作盘。

2．在点动操作机器人时要采用较低的倍率速度以增加对机器人的控制机会。

3．在按下示教盘上的点动键之前要考虑到机器人的运动趋势。

4．要预先考虑好避让机器人的运动轨迹，并确认该线路不受干涉。

5．机器人周围区域必须清洁、无油，水及杂质等。

6．在开机运行前，须知道机器人根据所编程序将要执行的全部任务。

7．须知道所有会左右机器人移动的开关、传感器和控制信号的位置和状态。

8．必须知道机器人控制器和外围控制设备上的紧急停止按钮的位置，准备在紧急情况下按这些按钮。

9．永远不要认为机器人没有移动其程序就已经完成。因为这时机器人很有可能是在等待让它继续移动的输入信号。
7.6 焊接机器人及焊接设备日常维护要求

 0 1 

 机器人系统维护流程 机器人系统维护流程 
 1.电缆连接 1.电缆连接 
 a 电焊机正负电缆 
 q 焊枪电缆 
 c 控制器连接电缆(地线) 
 d 控制器连接电缆(控制线) 
 e 示教器连接电缆 
 2.机器人本体 2.机器人本体 
 a 检查外观污损情况 
 b 检查是否有杂音、颤动 
 c 原点对中标记是否吻合 
 3.机器人控制器（包括示教器） 3.机器人控制器（包括示教器） 
 a 确认外观及内部是否整洁 
 b 确认紧急停止按钮是否正常 
 c 确认控制箱风扇是否正常 

 0 1 2 

 机器人系统维护流程 机器人系统维护流程 nan 
 d 检查示教器显示是否正常 nan 
 e 检查控制箱的密封情况 nan 
 4.系统安全装置是否正常工作 4.系统安全装置是否正常工作 nan 
 5.确认安全护栏是否完好 5.确认安全护栏是否完好 nan 
 6.夹具及工件安全安装到位 6.夹具及工件安全安装到位 nan 
 7.确认送丝机的紧固及清扫确认 7.确认送丝机的紧固及清扫确认 nan 
 8.清枪、剪丝装置清扫 8.清枪、剪丝装置清扫 nan 
 9.确认送丝管连接 9.确认送丝管连接 nan 
 10.安全支架动作确认及除尘 10.安全支架动作确认及除尘 nan 
 a 焊接是否偏离轨迹 焊接是否偏离轨迹 
 b 确认安全支架是否松动 确认安全支架是否松动 
 11.控制箱除尘、清扫 11.控制箱除尘、清扫 12.检查气体阀门是否松动 
 13.检查气体流量是否正确 13.检查气体流量是否正确 14.检查电源线是否破损、松动 
 15.工作现场清扫 15.工作现场清扫 16.电气系统工作正常 
 nan nan nan 
 nan nan nan 
 nan nan nan 

 0 1 2 3 

 日常检查要求(闭合电源前) 日常检查要求(闭合电源前) 日常检查要求(闭合电源前) 日常检查要求(闭合电源前) 
 部件 项目 维修 备注 
 接地电缆/其他 电缆 松动、断开、破损 再拧紧或更换 nan 
 机器人本体 是否沾有灰尘和飞 溅物 清除沾有灰尘和 飞溅物 请勿使用压缩空气清 理灰尘和飞溅物，否则 异物可能进入护盖内 部，对本体造成损害。 
 安全护栏 损坏 维修 nan 
 作业现场 是否整洁 清理现场 nan 

 0 1 2 3 

 日常检查要求(闭合电源后） 日常检查要求(闭合电源后） 日常检查要求(闭合电源后） 日常检查要求(闭合电源后） 
 部件 维修 备注 项目 
 紧急停止开关 立即断开伺服电 源 维修，如有不明 情况请联系我司 开关未做修好前请勿 使用机器人 
 原点对中标记 执行原点复位 后，检查各原点 对中标记是否重 合。 如果对中标记不 重合请联系我司 按下急停开关，断开伺 服电源后才卡以接近 机器人进行检查。 
 机器人本体 自动运转、手动 操作时查看各轴 运动是否平滑、 稳定（无异常噪 声、振动) 如有原因不明时 请联系我司 未做修好前请勿使用 机器人 
 风扇 查看风扇的转动 情况，是否沾有 灰尘。 清洁风扇 清洁风扇前请断开所 有电源 

 0 1 2 

 维护保养特别注意事项--机器人部分 维护保养特别注意事项--机器人部分 维护保养特别注意事项--机器人部分 
 部位 注意事项 后果 
 本体 本体的注油孔不许加注普通黄油 各轴不能灵活转动 
 本体 不许用压缩空气清理灰尘或飞溅物 对本体造成损害 
 控制箱 所有线缆不许踩踏、砸压、挤碰 线缆破损 
 控制箱 不能与大容量用电设备接在一起 死机 
 示教器 不能摔碰 黑屏 
 示教器 避免线缆缠绕 线缆断 
 示教器 显示面板避免划擦 液晶面板损坏 

 0 1 2 

 维护保养特别提示----电焊机及附件 维护保养特别提示----电焊机及附件 维护保养特别提示----电焊机及附件 
 部位 注意事项 后果 
 电焊机 不能过载使用 焊机烧损 
 电焊机 输出电缆连接牢靠 焊接不稳、接头烧损 
 焊枪 导电嘴磨损后必须及时更换 送丝不稳、不能正常焊 接 
 焊枪 送丝管必须及时清理 送丝阻力大，不能正常 焊接 
 送丝机 压臂压力调整与焊丝直径相符 送丝不稳、不能正常焊 接 
 送丝导管 送丝管必须及时清理 送丝阻力大、不能正常 焊接 
 送丝导管 弯曲半径不能太小 送丝阻力大、不能正常 焊接 
 送丝盘 注意盘轴润滑 送丝阻力大、不能正常 焊接 

 0 1 2 

 维护保养特别提示----焊材和保护气 维护保养特别提示----焊材和保护气 维护保养特别提示----焊材和保护气 
 焊丝 选用优质焊丝 材质不合格、焊接不稳 定 丝径不均、镀层不均匀 
 焊丝 选用优质焊丝 送丝不畅、不能正常焊 接 镀层强度不好、镀铜容 易脱落、阻塞送丝管 
 保护气 气体必须纯净 $\mathrm{CO}_{2}$ 路、送丝阻力大、不能 正常焊接 容易产生气孔、飞溅大 
 保护气 混和气配比准确、混合均匀 焊接不稳 
8 寻位
8.1 寻位功能原理

寻位功能原理是利用焊丝或者喷嘴与工件表面接触时停止动作，并记录此时的位置来找到工件加工轨迹的实际路径。
8.2 一维寻位

一维寻位只适用于一个轴发生移动且不旋转的情况下使用，一个方向最少取一个点。一个方向可以多个寻位点，最多支持15个。取多个点的平均值，可以减少寻位误差。

编程实例：

SENSORTOUCHONTASKO；//打开寻位任务O号参数

SEEKP P1, P2, PX0(1),V80;//沿用户坐标系X方向寻位

SEEKPSET PX0;//计算偏移值放在PX0变量中

MOVL P3，V50，ZO;//需要偏移点

SEEKPOFF;//偏移结束

SENSOR TOUCHOFF;//关闭寻位任务
8.3 二维寻位

二位寻位适合于两个方向的平移不旋转的情况。工件上两个方向要相互垂直，用户坐标系在两个方向上要重合。两个方向可以随意组合XY,XZ,YZ。每个方向上要至少取一个寻位点，也可以取多个寻位点求平均值。最多寻位点15个，用于减少误差。

编程实例：

SENSORTOUCHON TASK1;//打开寻位任务1号参数

SEEKP P1,P2, PX1(1),V80;//沿用户坐标系X方向寻位

MOVJ P10,V50,Z0;//回到寻位安全点

SEEKP PP3,P4, PX1(2)，V80;//沿用户坐标系Y方向寻位

SEEKPSET PX1;//计算偏移值放在PX1变量中

MOVL P5，V50，ZO;//需要偏移点

//偏移结束SEEKPOFF;

SENSOR TOUCHOFF;/关闭寻位任务
8.4 三维寻位

三维寻位适合于三个方向平移不旋转的情况，工件上的三个方向要两两垂直，用户坐标系在三个方向上要重合。每个方向至少取一个寻位点，也可以取多个寻位点求平均值，最多寻位点15个，可以减少误差。

编程实例:

SENSORTOUCHONTASK2； //打开寻位任务2 号参数

SEEKP P1, P2, PX2(1),V80;//沿用户坐标系X方向寻位

MOVJ P10,V50，Z0;//回到寻位安全点

SEEKP P3, P4, PX2(2), V80;//沿用户坐标系Y方向寻位

MOVJ P11,V50，Z0;//回到寻位安全点

SEEKP P5, P6, PX2(3),V80;//沿用户坐标系Z方向寻位

SEEKPSET PX2;//计算偏移值放在PX2变量中

MOVL P7，V50，ZO;//需要偏移点

SEEKPOFF;//偏移结束

SENSOR TOUCHOFF;/关闭寻位任务
8.5 一维加旋转寻位

一维加旋转适合于并绕着其他两个方向中的任意一个方向旋转，旋转方向由参数轴方向设置。沿着用户坐标系寻位，一个方向最少取两个寻位点，也可以取更多的寻位点，最多寻位点个数为15。但是所有寻位点必须在同一条直线上，这样可以减少寻位误差。

编程实例：

SENSOR TOUCHON TASK3;//打开寻位任务3号参数

SEEKP P1, P2, PX3(1), V80;//沿用户坐标系X方向寻位

SEEKP PP3,P4,PX3(1),V0;//沿用户坐标系X方向寻位

SEEKPSET PX3;//计算偏移值放在PX3变量中

MOVL P5，V50，ZO;//需要偏移点

SEEKPOFF;//偏移结束

SENSOR TOUCHOFF;//关闭寻位任务
8.6 二维加旋转寻位

二维加旋转寻位适合于两个方向的平移且绕着垂直于两方向旋转的工件。两个方向可以随意组合XY,XZ,YZ,沿着用户坐标系寻位。一个方向最少取两个寻位点，也可以取更多的寻位点，最多寻位点个数为15，但是每个方向的寻位点必须在一条直线上，这样可以减少寻位误差。

编程实例：

SENSOR TOUCHONTASK4;//打开寻位任务4号参数

SEEKP P1, P2, PX4(1),V80;//沿用户坐标系X方向寻位

SEEKP P3, P4, PX4(1)，V80;//沿用户坐标系X方向寻位

MOVJ P10,V50，ZO;//回到寻位安全点

SEEKP P5, P6, PX4(2), V80;//沿用户坐标系Y方向寻位

SEEKP P7, P8, PX4(2), V80;//沿用户坐标系Y方向寻位

SEEKPSET PX4;//计算偏移值放在PX4变量中

MOVL P9，V50，Z0;//需要偏移点

SEEKPOFF;//偏移结束

SENSOR TOUCHOFF;/关闭寻位任务
8.7 三维加旋转寻位

三维加旋转寻位适用于三个方向的平移且三个方向旋转的工件。其中两个方向最少需要取两个寻位点，另外一个方向取三个点来确定面。这个方向由参数轴方向确定。也可以取更多的寻位点，最多寻位点个数为15，但是不确定面的每个方向的所有寻位点必须在同一直线上，确定面的方向所有点要在一个水平面上，这样可以减少误差。

编程实例：

SENSOR RTOUCHONTASK5;//打开寻位任务5号参数

SEEKP P1, P2, PX5(1),V80;//沿用户坐标系X方向寻位

SEEKP P3, P4, PX5(1), V80;//沿用户坐标系X方向寻位

MOVJ P20,V50，ZO;//回到寻位安全点

SEEKP P5, P6, PX5(2), V80;//沿用户坐标系Y方向寻位

SEEKP P7, P8, PX5(2), V80;//沿用户坐标系Y方向寻位

MOVJ P21,V50，Z0;//回到寻位安全点

SEEKP P9, P10, PX5(3), V80;//沿用户坐标系Z方向寻位SEEKP P11, P12, PX5(3),V80;//沿用户坐标系Z方向寻位SEEKP P13, P14, PX5(3);,V80;//沿用户坐标系Z方向寻位SEEKPSET PX5;//计算偏移值放在PX5变量中MOVL P7，V50，ZO;//需要偏移点SEEKPOFF;//偏移结束SENSORTOUCHOFF;/关闭寻位任务
8.8 圆内径寻位

圆内径寻位适合于圆内侧寻位，只针对二维平移，需要在用户坐标系下寻位两个方向，一个方向上需要寻两个点，且方向相反。另一个方向只需寻一个点即可。

编程实例：

SENSOR TOUCHON TASK6;//打开寻位任务6号参数

SEEKP P1, P2, PX6(1),V80;//沿用户坐标系X正方向寻位

SEEKP P3, P4, PX6(1),,V80;//沿用户坐标系X负方向寻位

MOVJ P10,V50，Z0;//回到寻位安全点

SEEKP P5, P6, PX6(2),V80;//沿用户坐标系Y方向寻位

SEEKPSET PX6;//计算偏移值放在PX6变量中

MOVL P5，V50，ZO;//需要偏移点

SEEKPOFF;//偏移结束

SENSOR TOUCHOFF;/关闭寻位任务
8.9 寻位参数说明

1>寻位任务号：范围0—9，共10个任务号

2>寻位是否有效：寻位功能开关

3>寻位速度：寻位搜索的速度，最大20mm/s 

4>通电输出DOUT：指示寻位正在进行

5>检查输入DIN：寻位接通信号

6>寻位设备：1--焊丝和喷嘴，2--喷嘴

7>最大旋转角度：限制旋转的最大角度

8>最大移动范围：限制移动的最大范围

9>导入偏移量PX0--99：对应PX0--PX99

10>用户坐标系号：对应用户坐标系U0—U9

11>寻位类型选择：1--一维，2--二维，3--三维，4--一维加旋转，

5--二维加旋转，6--三维加旋转，7--圆内径

12>是否相关寻位：暂时无用

13>接口选择：暂时无用

14>轴方向：1---X，2---Y，3---Z 
9 电弧传感
9.1 电弧传感功能原理

电弧跟踪功能是在二氧化碳气体弧焊中所使用的一种功能，如果在恒压源中，流过焊丝线与焊接工件电流会随着焊丝的干伸长不一样发生变化，焊丝的干伸长变长电流值变小，焊丝的干伸长变短电流值变大。通过分析电流值的变化得出水平及垂直方向的路径修正数据，实时修正机器人的运动轨迹，达到焊缝跟踪的目的。以下图为焊接没有偏移与向右偏移后电流值的波形图。电弧跟踪一般只适合在较大电流的焊接环境下，如200A以上，不适用铝板焊接等特殊的焊接工艺。
9.2 左右方向的补偿

焊接电源在不同的焊接模式下有不同的电源特性，如lorch在noraml焊接模式下是恒流源，但是在pulse模式下是一个恒压源，则电流电压特性则不一样。

A：恒压源

焊接线位于坡口中央时的电流波形图

 焊接线在坡口右侧时的电流波形图 

 B：恒流源TIG焊焊接线位于坡口中央时电压波形 

 焊接线位于坡口右侧时电压波形 

 左右方向的补偿当前只针对摆焊来设计，偏移量的计算通过电流或电压的值变 

化反映到摆动平面上偏移值上的变化。摆动平面由摆动坐标系确定。调整偏移量时一定要先确定坐标系的方向与偏移量变化的关系。
9.33 上下方向的补偿

电流采样

上下方向的补偿

上下方向的补偿可以针对所有电弧跟踪的焊接。那么偏移量的计算在摆动焊接过程中通过电流或电压的值变化反映到垂直摆动平面上偏移值上的变化，摆动平面由摆动坐标系确定。针对直线或圆弧焊接上下方向的补偿沿着焊丝指向的方向，即工具坐标的Z 方向或用户坐标系的某个方向。
9.4 影响电弧跟踪的要因及使用指南
金属线种类的变更2.线径的变更
焊接条件的变更4.焊接形状的变更5.焊接辅助气体的构成6.横摆条件的变更
9.5 电弧跟踪指令

1>电弧跟踪开指令

ASTONTASK ;

2>电弧跟踪关指令

ASTOFF 
10 焊缝跟踪
10.1 焊缝跟踪功能介绍

机器人激光焊缝跟踪是通过激光测出物件的外形线轮廓，对轮廓线进行图像处理，识别出焊缝的类型，并计算出焊缝相对激光中心点的偏移，把激光图像坐标转换到机器人坐标，机器人控制器根据偏移值对机器人的轨迹进行调整实现焊缝跟踪。

 图9-10-1激光跟踪系统 

激光跟踪系统一般包括两个子系统：机器人控制系统和激光传感器系统。传感器系统通过激光传感设备实时采集到焊缝的图像，经图形处理后提取焊缝中心特征点的坐标值，这时的测量值为传感器坐标系下的一个坐标值，这个坐标值通过网络通信传到机器人控制系统，在机器人控制系统中通过相关的数学模型进行转换得到在机器人坐标系下的坐标值，通过这个坐标值可以获得与实际位置的一个偏移，从而实现焊缝的实时跟踪。
10.2 焊缝跟踪指令格式

1 激光开指令格式

LASERONTASK ;

说明：

执行这个指令后，激光线打开，初始化任务号参数，可以进行测量。其它激光跟踪指令都是按这个任务号的相关参数控制运行。

2 激光关指令格式

LASEROFF;

说明：

执行这个指令，关激光线，不能进行测量。

3 激光搜寻模式开始指令格式

LASER SEARCHON;

说明：

打开激光搜寻模式。

4 激光搜寻模式结束指令格式

LASER SEARCHOFF;

说明：

关闭激光搜寻模式。

5 激光搜寻运动指令格式

LASERSEARCHP位姿变量名PX变量 V ；

说明：

执行这个指令按速度V运行到位姿变量所在的位置，然后按任务号设定搜索模式速度，PX变量所指定的方向，任务号设定的搜索距离，以直线插补的运行方式运行，搜索到指定的焊缝后停止运行，焊缝所在的位置记在PX变量中。

LASER SEARCH P1, PX1 (1) , V100;

6 激光跟踪开始指令格式

LASER TRACKON;

说明：

激光跟踪开始。

7 激光跟踪结束指令格式

LASER TRACKOFF;

说明：

激光跟踪结束。

8 运动到激光搜索起始点指令格式

LASERMOVSTARTPX变量V ；

说明：

机器人运动到焊缝起始点。这个指令要等到前面指令都执行完了才能译码执行。

编程示例：

LASER MOVSTART PX1,V100;
10.3 焊缝跟踪编程应用

LASERON TASK(1);//打开激光并初始化任务编号1参数

LASER SEARCHON;//启动激光搜寻模式

LASER SEARCH P1,PX2(1), V80;//以MOVL运行到P1以X方向搜寻

LASER SEARCHOFF;/关闭激光搜寻模式，搜寻点放到PX2

MOVL P8, V50, Z0;//运行到示教焊缝的起点激光跟踪

LASER MOVSTART PX1,V100;//运行到搜寻点

LASER TRACKON;//开始执行焊缝跟踪

ARCON AC200,AV20, T1 ,V50;//执行焊接引弧

MOVL P8, V50, Z0;//进行焊缝轨迹跟踪

ARCOFF AC150 ,AV18;//执行焊接息弧

LASER TRACKOFF;//跟踪结束

LASEROFF;//激光关闭

第十章视觉应用
1 视觉机理

机器人主动或者被动的获知摄像头拍摄到的物体的位置，然后机器人移动到指定的位置实现相应的动作。
2 网络IP设置

机器人与视觉通讯是基于TCP的XML协议结构。机器人作为客户端，默认的IP地址为192.168.42.165。必须注意的是远端IP必须和机器人IP属于同一网段。
3 视觉变量

视觉变量明细窗口

此部分数据由视觉软件传输，在此界面中不可编辑；

TYPE:

指明VR中存储的数据的类型，即软件中指明的补偿方式，补偿方式可以是用户坐标偏移量，也可是工具坐标偏移量。

类型有：

Fixed Frame Offset:用户坐标系补偿，Found pos目标在用户坐标系下的绝对位置，

offset 目标在用户坐标系下相对模板的偏移量

机器人在用户坐标系下通过Vision检测目标当前位置相对初始位置的偏移并自动补偿抓取位置。

ToolOffset:工具坐标偏移量，未实现，先隐藏

机器人在工具坐标系下通过Vision检测在机器人手爪上的目标当前位置相对初始位置的偏移并自动补偿放置位置。

Found Position :

发送基坐标系下的位置，即目标在机器人基坐标系下的绝对位置和项目偏移量。

Frame :

当TYPE中为fixedFrameOffset,时，指的是使用的用户坐标系号，

当为ToolOffset时，指使用的工具坐标系号

Model ID:

检测到的工件的ID，即模板序列号

Encoder:

仅在视觉动态跟随时使用，用于记录触发拍照跟随时的编码器值

Offset :

目标当前位置相对初始位置的偏移

Found Pos :

目标在指定坐标系下的的绝对位置

Meas :

测量信息显示，可通过测量数据的不同进行分类动作。
4 视觉指令
4.11 VISIONTSYN;

功能:

与视觉软件进行时间同步，未成功连接时报警。
4.2 DETECT;

功能：

启动摄相头拍照一次。
4.3 GETVISIONVR[变量名]，LAB[变量名];

功能:

获取视觉变量值，未成功则跳转到LAB[变量名]。
4.4 GETNFOUNDR[变量名]；

功能：

获取摄相头内的物品个数，存入R[变量名]中。
4.5 SETPOSROBOT[变量名];

功能：

发送机器人当前位置给视觉软件。
4.6 SETPOS USRCOORD;

功能：

发送机器人当前用户坐标系给视觉软件。
4.7 GETIFPASSR[变量名];

功能：

获取视觉拍照结果，将结果放在变量中。
4.8 INITQUEUE[变量名];

功能:

初始化视觉软件中视觉变量的序列值。
4.9 GETQ VR[变量名]，QUEUE[变量名]，T(值)，LAB[变量名]；

功能：

从视觉软件中视觉变量的序列中获取一个变量值，

如果在时间T(值)内，未获取到则跳转到LAB[变量名]。
4.10 DETECTON 

功能:

开启视觉软件的定时拍照功能。
4.11 DETECTOFF;

功能:

关闭视觉软件的定时拍照功能。
4.12 GETVI[变量名]，VR[变量名]，TYPE;

功能：

获取VR[变量名]中的TYPE属性值放入I[变量名]中。
4.13 GETVI[变量名]，VR[变量名]，FRAME;

功能:

获取VR[变量名]中的FRAME属性值放入I[变量名]中。
4.14 GETVI[变量名]，VR[变量名]，MODELID;

功能:

获取VR[变量名]中的MODELID属性值放入I[变量名]中。
4.15 GETVI[变量名]，VR[变量名]，MEAS(值);

功能：

获取VR[变量名]中的MEAS属性第(值)个值放入I[变量名]中。
4.16 GETVI[变量名]，VR[变量名]，ENCODER;

功能：

获取VR[变量名]中的ENCODER属性值放入I[变量名]中。
4.17 GETVI[变量名]，VR[变量名]，FOUNDPOS;

功能：

获取VR[变量名]中的FOUNDPOS属性值放入PX[变量名]中。
4.188 GETVI[变量名]，VR[变量名]，OFFSET;

功能:

获取VR[变量名]中的OFFSET属性值放入PX[变量名]中。
5 视觉静态编程实例

实例1:

说明：由外部传感器触发相机拍照，机器人在预备点P1位置等待视觉数据，当收到视觉数据后，在P2位姿进行偏移OFFSET.此时视觉端应对应使用FOUNDPOS偏移类型。

MAIN;

MOVL P1 ,V100 ,Z0;

LABO:

GETVISION VR0,LAB0;

GETV PX0,VR0,OFFSET;

SHIFTON PX0;

MOVL P2 ,V100 ,Z0 ;

SHIFTOFF;

END;

实例2:

说明：由外部传感器触发相机拍照，机器人在预备点P1位置等待视觉数据，当收到视觉数据后，机器人直接运动到视觉指定的位姿，此时视觉端应对应使用FOUNDPOS 偏移类型。

MAIN;

MOVL P1 ,V100 ,Z0 ;

LABO:

GETVISION VR0,LAB0;

GETV PX0,VR0,FOUNDPOS;

ADDP P3 ,PX0 ;

MOVL P3 ,V100 ,Z0 ;

END;

实例3:

说明：由外部传感器触发相机拍照，机器人在预备点PO位置等待视觉数据，创建用户坐标系USER0，并在此用户坐标系下示教P1点，当收到视觉更新的用户坐标时，计算并运动到新用户坐标系下的P1点。此时视觉端应对应使用FOUNDPOS偏移类型。

MAIN;

MOVL P0 ,V100 ,Z0 ;

LAB0:

GETVISION VR0,LAB0;

GETV PX0,VR0,FOUNDPOS;

SETCOOR VUSERO,PX0;

COORCHGON USERO,VUSERO;

MOVL P1 ,V100 ,Z0 ;

COORCHGOFF;

END;

实例4:

说明：由外部传感器触发相机拍照，机器人在预备点P0位置等待视觉数据，创建用户坐标系USER5，接收视觉数据，对P1在用户坐标系5下偏移VR0.OFFSET。此时视觉端应对应使用FIXFRAMEOFFSET 偏移类型

MAIN;

MOVL P0 ,V100 ,Z0 ;

LABO:

GETVISION VR0,LABO;

COORCHGON USER5

VMOVL P1 ,V100 ,Z0 ,VOFFSET ,VR0 ;

COORCHGOFF;

END;

第十一章动态跟随应用
1 跟随参数

视觉跟随参数设置在：主页面>>参数设置>>运动参数

外部轴追赶距离：一般设置为传送带速度的一半。

外部轴跟随速度：即传送带的速度，需要人工测量。

外部轴追赶X方向：距离跟随位置X方向的距离。

外部轴追赶Y方向：距离跟随位置Y方向的距离。

外部轴追赶Z方向：距离跟随位置Z方向的距离。

触发距离：从信号触发到机器人开始跟随的距离。

跟随补偿时间：用于线性补偿的时间，与传送带速度乘积可以转化成距离。

触发端口：用作系统输入的触发跟随的起始。

触发方式：设置为无效时为机器人不可以进行跟随，设置为相机触发时，则机器人接收相机数据进行跟随，此时的I/O端口对于机器人来说是无效的。设置为机器人触发时，则机器人接收到I/O信号时，跟随传送带运动。
2 跟随指令
2.1 BANDON;

功能：

启动跟随功能,接下来的运动指令会跟随传送带运动。
2.2 BANDOFF;

功能：

关闭跟随功能,接下来的运动指令不会跟随传送带运动。
3 跟随应用
3.1 视觉跟随应用

机器人根据视觉提供的工件位姿进行位姿纠正并随匀速运动的传送带运动跟随抓取工件。

机器人设置过程：

用户坐标系设置：动态抓取应用中，需要建立两个用户坐标系。首先，在视觉下方传送带上的标定板建立一个用户坐标系，然后将传送带上标定板顺着传动带方向移动一定距离(触发距离)到一个新的位置，然后利用标定板再标定一个新的用户坐标系，此用户坐标系即相机用户坐标系在运动方向上的平移。

运动方向设置：将前边两个用户坐标的原点相减得出的差值则为外部轴追赶X方向，外部轴追赶Y方向，外部轴追赶Z方向。需要将此参数输入到系统中。

跟随实例：

实例1:

说明：与视觉系统进行时间同步，等待视觉数据，当收到视觉数据时计算得出P1，P2，P3，P4点在用户5坐标系下偏移VR0.OFFSET的位姿，并根据传送带的运动进行跟随抓取。此时视觉端应对应使用FIXFRAMEOFFSET 偏移类型

MAIN;

VISION TSYN;

MOVL P0 ,V200 ,Z0 ;

LABO:

GETVISION VR0,LAB0;

BANDON;

COORCHGON USER5 ;

VMOVL P1,V100 ,Z0 ,VOFFSET ,VR0 ;

VMOVL P2 ,V100 ,Z0 ,VOFFSET ,VR0 ;

VMOVL P3 ,V100 ,Z0 ,VOFFSET VR0 ;

VMOVL P4 ,V100 ,Z0 ,VOFFSET ,VR0 ;

COORCHGOFF;

BANDOFF;

MOVL P0 ,V300 ,Z0 ;

END;
3.2 I/O 触发跟随应用

I/O触发跟随时必须将触发方式设置为机器人触发，机器人检测到外部信号进行跟随，机器人跟随传送带，并按自己预先定义的轨迹运动。此应用可用于喷涂，涂胶等领域。

I/O 跟随实例：

MAIN;

MOVJ PO ,V20 ,Z0 ;

BANDON;

MOVL P0 ,V300 ,Z0;

MOVL P1,V300,Z0;

BANDOFF;

MOVJ P0 ,V0 Z0 ;

END;

第十二章外部扩展接口
1 MODBUS接口
1.1 接口说明

MODBUS接口用于与具有此类接口的外部设备进行通讯。机器人控制系统既可以作为主站，也可以作为从站与外部设备进行信息交换。也可以用于两台机器人之间的数据交互。
1.2 接口配置

使用此接口，必须插上MODBUS 转接卡，实现物理连接。然后进行MODBUS的配置，如主从配置，从站ID配置，波特率设置等。具体参数设置在主页面>>应用>>MODBUS界面。
1.3 MODBUS指令

MSET 指令

格式
MSET DOn, ON/OFF;
MSET DOn, OTn/INn;
MSET DOn，OGn/IGn;
MSET AOn, Bn/Dn/In/Rn/PXn;

参数

DOn中的n取值范围为0-1024，INn/OTn取值范围为0-1024。IGn/OGn取值范围0-15。AOn中的n取值范围为0-9999，Bn/Dn/In/Rn/PXn中的取值范围为0-99。

功能

通过MODBUS发送一个数据，数据长度由被操作数决定。其中DO/AO为寄存器。10和变量为被操作数。

MGET 指令

格式
MGET INn/IGn,DIn;
MGET OTn/OGn,DIn;
MGET Bn/Dn/In/Rn/PXn,AIn;

参数

DIn中的n取值范围为0-1024，INn/OTn取值范围为0-1024。IGn/OGn取值范围0-15。AIn中的n取值范围为0-9999，Bn/Dn/In/Rn/PXn中的取值范围为0-99。

功能

通过MODBUS读取一个数据，数据长度由被操作数决定。其中DI/AI为寄存器。1/0和变量为被操作数。
2 DEVICENET接口
2.1 接口说明

DEVICENET接口用于与具有此类接口的外部设备进行通讯。机器人控制系统只能作为主站，外部设备作为从站，从而实现机器人与外部设备进行通讯。
2.2 接口配置

使用此接口，必须插上DEVICENET转接卡，实现物理连接。然后进行DEVICENET 的配置，如主从配置，从站ID配置，波特率设置等。具体参数设置在主页面>>应用>>DEVICENET界面。
2.2 I/O 映射

主页面>>输入输出>>I/O分配界面的外设卡配置选择映射I/O的起始和结束位，当DEVICENET外设连接上时会自动挂接过去。
3 以太网接口1（视觉模块）
3.1 接口说明

视觉模块通讯接口用于实现相机与机器人的连接。该接口遵循TCP/IP通讯标准，数据格式为XML的协议结构，用于机器人与视觉之间的连接。上位机可通过命令访问机器人的当前位置信息，并告知机器人需要移动到的目标位置。
3.2 接口配置

以太网接口1机器人控制器作为客户端，指定服务器端IP地址默认为192.168.0.96,上位机IP必须与机器人主控制器IP在同一网段。出厂标配不包含此项功能，需要用到此功能必须升级网络芯片，同时需要获得相关模块的支持许可。
4 以太网接口2（远程HMI)
4.1 接口说明

PC端HMI接口用于远端的HMI与机器人主控制器的连接。机器人作为下位机，接收并服务于上位机（远程HMI）发送来的命令。用户可以根据自己的需求开发定制HMI。
4.2 接口配置

以太网接口2作为服务器，默认的IP地址为192.168.42.165，端口号为20002，指定对方（客户端）端口号为20002。该接口遵循UDP/IP标准。上位机IP必须与机器人主控制器IP在同一网段。出厂标配不包含此项功能，需要用到此功能必须升级网络芯片，同时需要获得相关模块的支持许可。

附录一常用报警信息

 0 1 2 3 

 报警号 内容 原因 解决方法 
 3000001 Link通讯错误 总线环路断开 1.检查电柜急停是否按 下，如是则重新拔起，总 线连同后按下清除键即 可清除该报警； 2.检查连接各驱动的网线 是否连通，重新插好网线 观察总线是否连上，否则 考虑更换网线； 
 3000008 通讯数据异常 电柜急停按下/关节值 突变. 1.查看电柜急停按钮是否 按下，“是”则重新拔起； 2.检查编码器数据是否异 常。 
 2200031 GskLink连接超时 总线环路断连接异常 检查线路是否接触不良 
 2200034 HMI与SER通信异常 HMI与SER通讯超时 或断开 1、连接电缆接触不良 2、PC机软件配置错误 
 2200037 获取伺服参数超时 启动时获取伺服参数 超时 检查GskLink连接线是 否接触不良 
 2204003 机器人与DEVICENET 设备I/Q通信超时 机器人与焊机I/O通 信超时 1.检查机器人与焊机之间 通讯电缆连接是否正常 /2.焊接电源是否异常关 机/3.是否存在强干扰 
 2204007 机器人与DEVICENET 设备UCMM通信错误 机器人与焊机UCMM 通信错误 关机重新启动后再进行 连接 
 2204100 DEVICENET设备通 信超时报警 机器人与焊机间通信 长时未响应 1.检查通信电缆/2.减小设 备间的干扰 
 2204111 DEVICENET 设备故 障 机器人接收到焊机故 障信号出现报警 排除焊机故障并重新启 动 
 2300006 急停报警 急停开关被按下 1.查看示教盒急停按钮是 否按下,是则重新复位急 停按钮2.查看系统 IO,INO是否处于高电平 
 2420036 主电源掉电 主电源掉电 排除故障后重新上电 

 0 1 2 3 

 内容 原因 解决方法 2003002 
 J3 奇异状态 用MOVL或MOVC指 令时机器人目标点经 过（第二轴与第三轴 接近形成一条直线） 的地方 /1.考虑是否能可用 MOVJ 代 替 MOVL/MOVC(MOVJ运 行时不存在奇异状态)2. 重新正确取点. nan 
 2003003 J5奇异状态 用MOVL或MOVC指 令时机器人目标点经 过（第五轴与第四轴 接近形成一条直线) 的地方 nan 
 2003010 电机转角和关节值超 差 电机实际位置与控制 系统位置差值过大 1、排除电机故障 2、检查上电时序是否符 合规范 
 2400003 轴精度与电子齿轮比 不匹配 参数匹配错误 轴精度参数与伺服电子 齿轮比参数匹配有误，联 系厂家 
 nan nan 参数匹配错误 nan 
 2004000 J1轴速度超限 参数匹配错误 nan 
 2004001 J2轴速度超限 参数匹配错误 nan 
 2004002 J3 轴速度超限 参数匹配错误 nan 
 2004003 2004004 J4轴速度超限 J5轴速度超限 参数匹配错误 nan 
 2004005 2004006 J6轴速度超限 参数匹配错误 nan 
 2004007 T2轴速度超限 参数匹配错误 nan 
 2006001 J1+软限位 机器人运动范围超过 J1+方向设定的软限 位值 手动清除报警后,关节坐 标下单轴J1-方向低速运 动. 
 2006002 J2+软限位 机器人运动范围超过 J2+方向设定的软限 位值 手动清除报警后,关节坐 标下单轴J2-方向低速运 动. 
 2006003 J3+软限位 机器人运动范围超过 J3+方向设定的软限 位值 手动清除报警后,关节坐 标下单轴J3-方向低速运 动. 
 2006004 J4+软限位 机器人运动范围超过 J4+方向设定的软限 位值 手动清除报警后,关节坐 标下单轴J4-方向低速运 动. 

 0 1 2 3 

 报警号 内容 原因 解决方法 
 2006005 J5+软限位 机器人运动范围超过 J5+方向设定的软限 位值 手动清除报警后,关节坐 标下单轴J5-方向低速运 动. 
 2006006 J6+软限位 手动清除报警后,关节坐 标下单轴J6-方向低速运 动. 机器人运动范围超过 J6+方向设定的软限 位值 
 2006007 T1+软限位 机器人运动范围超过 T1+方向设定的软限 位值 手动清除报警后,关节坐 标下单轴T1-方向低速运 动. 
 2006008 T2+软限位 机器人运动范围超过 T2+方向设定的软限 位值 手动清除报警后,关节坐 标下单轴T2-方向低速运 动. 
 2006021 J1-软限位 机器人运动范围超过 J1-方向设定的软限位 值 手动清除报警后，关节坐 标下单轴J1+方向低速运 动 
 2006022 J2-软限位 机器人运动范围超过 J2-方向设定的软限位 值 手动清除报警后，关节坐 标下单轴J2+方向低速运 动 
 2006023 J3-软限位 机器人运动范围超过 J3-方向设定的软限位 值 手动清除报警后，关节坐 标下单轴J3+方向低速运 动 
 2006024 J4-软限位 机器人运动范围超过 J4-方向设定的软限位 值 手动清除报警后，关节坐 标下单轴J4+方向低速运 动 
 2006025 J5-软限位 机器人运动范围超过 J5-方向设定的软限位 值 手动清除报警后，关节坐 标下单轴J5+方向低速运 动 
 2006026 J6-软限位 机器人运动范围超过 J6-方向设定的软限位 值 手动清除报警后，关节坐 标下单轴J6+方向低速运 动 
 2006027 T1-软限位 机器人运动范围超过 T1-方向设定的软限 位值 手动清除报警后，关节坐 标下单轴T1+方向低速运 动 
 2006028 T2-软限位 机器人运动范围超过 T2-方向设定的软限 位值 手动清除报警后，关节坐 标下单轴T2+方向低速运 动 
 3009001 机器人零点异常 nan nan 

 0 1 2 3 

 报警号 内容 原因 解决方法 
 2001000 1.降低程序速度； 2.适当增大运动参数中 “最大允许位置速度”、 “最大允许姿态速度”的 值； 输入运动参数有误 运行程序时，运动过程 中系统检测到当前速 度超过“运动参数”界 面中给定的最大允许 位置速度或最大允许 姿态速度 
 1100017 平移指令不配对 指令运用不匹配 按说明书格式要求正确 编写平移指令 
 1100052 此端口被占用 1/0端口被占用 检查此I/O端口是否被占 用，合理分配使用I/0端 口； 
 2204202 焊接引弧未成功 机器人检测到没有正 常引弧 焊接电缆接触不良 焊接母材有油污、铁锈或 不易导电 引弧检测时间设置较短 
 1100046 两点不构成圆弧 编程格式错误 正确编程（3点才能构成 一段圆弧) 
 1100202 引弧指令不匹配 没有选择匹配的引弧 指令(检测到缺少息弧 指令) 选择匹配的引弧指令（焊 接区间是否有息弧指令) 
 1100208 没有打开焊机 没有执行焊机打开指 今 执行焊机打开指令 

附录二指令格式编辑

 0 1 2 

 指令名 格式种类 [转换]位置 
 MOVJ MOVJP，V，Z; MOVJP，V，Z，E1，EV; MOVJP，V，Z，E2，EV; MOVJP，V，Z，E1，E2，EV; 不同的MOVJ格 式可在编辑界面 把光标放于MOVJ 处按转换键可得 
 MOVL MOVLP，V，Z; MOVLP，V，Z，E1，EV; MOVLP，V，Z，E2，EV; MOVLP，V，Z，E1，E2，EV; MOVL 
 MOVC MOVCP，V，Z; MOVCP，V，Z，E1，EV; MOVCP，V，Z，E2，EV; MOVCP，V，Z，E1，E2，EV; MOVC 
 DOUT DOUT OT，ON/OFF; DOUT OT, STARTP,DSO DOUTOG，变量/常量； DOUT 
 DIN DIN变量，IN; DIN变量，IG; DIN 
 WAIT WAIT IN，ON/OFF，T; WAITIG，变量/常量，T; WAIT 
 JUMP JUMP LAB; JUMPLAB，IF变量/常量比较符变 量/常量； JUMP LAB, ； $\mathrm{IF}\;\mathrm{IN}=\mathrm{ON/OFF};$ JUMP 
 ARCON ARCONAC，AV，V，T; ARCONAC，AVP，V，T; ARCONV，T; ARCON ASF; ARCON 
 ARCOF ARCOFAC，AV，T; ARCOFAC，AVP，T; ARCOF T; ARCOF AEF; ARCOF 

 0 1 2 

 指令名 格式种类 [转换]位置 
 ARCSET ARCSETAC; ARCSETAV; ARCSET V; ARCSET 
 变量/常量 B，I，D，R，常量 变量/常量 
 比较符 ，>=，==， V 比较符 
 ON/OFF ON，OFF ON/OFF 

附录三常用运动参数

位置过渡的修正阈值因子，内部定义，不作修改，默认40

CR过渡等价的Z过渡等级，圆弧CR过渡时，对运动控制处理，对设定值，认为相应的Z值来等效处理。

姿态过渡速度倍乘系数，姿态过渡时，加速度有效的放大倍数，此值越大，过渡越快，此值越小，过渡越慢。

姿态过渡速度阈值因子，姿态过渡时，对位置速度的调整因子，此值越大，姿态过渡对位置速度的影响越小，从而位置速度越快，相反，位置越小。

外部轴过渡速度倍乘系数，外部轴过渡时，加速度有效的放大倍数，此值越大，过渡越快，此值越小，过渡越慢。

外部轴过渡速度阈值因子，外部轴过渡时，对位置速度的调整因子，此值越大，外部轴过渡对位置速度的影响越小，从而位置速度越快，相反，位置越小。

空缓冲等待次数，在运动控制时，有时由于线段太短，或启动速度太快，导致后续指令运动点来不及处理，从而出现运动空区。为避免此情况，可适当降低指令速度或者增大空缓冲等待次数。启动时，此值越大，在储存相对多的运动点后才运动。此值越小，在储存相对小的运动点后才运动。

位置等级1-8区间，

对移动命令MOVJ（关节动作）或MOVL（直线动作）的位置等级的指定，由这些参数决定

$$\begin{aligned} M0VL P*,V=100\quad&Z=1\\&\quad 一位置等级 \\&\quad——指定定位 \end{aligned}$$

设定此参数，指定程序点相对于示教点向内移动的范围。

机器人进入指定范围后开始向下一点移动，在移动区间的轨迹为圆弧，速度也成为连续平滑的速度。

再现时的动作如下图所示，由于实际轨迹比示教位置向内移动，在设定此参数时要充分考虑安全性。

位置等级

位置等级从0至8，共分为9级，可附加于移动命令“MOV”之后，

例：MOVL $\mathrm{P*}$ ,$V=100\quad Z=1$ （PL：位置等级)

各等级的特点如下：

0：与目标点的位置完全重合；

1至8：向内走圆弧轨迹。

以下是参数设置与处理各位置等级关系的详细说明。

等级0

距离目标点的各轴的偏差值（脉冲数）达到参数指定的位置设定范围时，判断为控制点到达指定位置。

达到指定位置后，按照命令，朝下一个目标点移动。

等级1至8

认可目标点前的一个假想位置，假想位置在何处，由位置等级决定。

在参数中，设定各位置等级对应的距离数据，判定假想目标位置由命令系统进行。

设定范围：由参数设定的各位置等级的范围（um)。