                                                        GSK218T 车床数控系统 使用手册  
 
目    录 
 
1   概  述..................................................................................................................................................................1 
1.1   简 介.............................................................................................................................................................1 
1.2   型号意义.......................................................................................................................................................1 
1.3   型 谱.............................................................................................................................................................1 
2  编 程......................................................................................................................................................................2 
2.1  编程基本知识.................................................................................................................................................2 
2.1.1  坐标轴定义............................................................................................................................................2 
2.1.2  工件坐标系和参考位置点（程序零点）............................................................................................3 
2.1.3  机床坐标系和机床零点（机械零点）................................................................................................4 
2.1.4  绝对坐标编程和相对坐标编程............................................................................................................4 
2.1.5  直径方式和半径方式编程....................................................................................................................5 
2.2  程序的构成.....................................................................................................................................................6 
2.2.1  程序的一般结构....................................................................................................................................6 
2.2.2  指令数值与小数点的关系....................................................................................................................8 
2.2.3   模态、非模态及初态..........................................................................................................................9 
2.3  控制轴...........................................................................................................................................................10 
2.3.1  控制轴数..............................................................................................................................................10 
2.3.2  设定单位..............................................................................................................................................10 
2.3.3  最大行程..............................................................................................................................................10 
2.4  主轴功能(S 功能)........................................................................................................................................10 
2.4.1  主轴开关量控制..................................................................................................................................10 
2.4.2  主轴模拟量控制.................................................................................................................................. 11 
2.5  刀具功能（T 功能）.................................................................................................................................... 11 
2.5.1  换刀过程..............................................................................................................................................12 
2.5.2  换刀相关参数......................................................................................................................................12 
2.6  刀具偏置.......................................................................................................................................................13 
2.6.1 基本的刀具偏置....................................................................................................................................14 
2.6.2 用于刀具偏置的T 代码........................................................................................................................14 
2.6.3   偏置....................................................................................................................................................15 
2.6.4   编程举例............................................................................................................................................16 
2.6.5  单独的T 代码......................................................................................................................................16 
2.6.6   定点对刀............................................................................................................................................17 
2.6.7   试切对刀............................................................................................................................................17 
2.6.8   回机床零点（机械零点）对刀........................................................................................................18 
2.7   辅助功能(M 功能)......................................................................................................................................19 
2.7.1  辅助功能（M 功能）...........................................................................................................................19 
2.7.2  M 代码调用子程序.............................................................................................................................21 
2.7.3   S 代码调用子程序.............................................................................................................................21 
2.7.4   T 代码调用子程序.............................................................................................................................21 
2.7.5  辅助功能参数......................................................................................................................................21 
2.7.6   与辅助功能有关的报警....................................................................................................................21 
2.7.7  子程序控制..........................................................................................................................................22 
2.7.7.1  主程序和子程序..........................................................................................................................22 
2.7.7.2  子程序调用M98...........................................................................................................................23 
2.7.7.3   从子程序返回M99.....................................................................................................................23 
2.8  准备功能（G 功能）....................................................................................................................................24 
2.8.1  快速定位G00.......................................................................................................................................26 


                                                        GSK218T 车床数控系统 使用手册  
 
2.8.2  直线插补G01.......................................................................................................................................27 
2.8.3  圆弧插补G02/G03...............................................................................................................................29 
2.8.4  暂停指令G04.......................................................................................................................................31 
2.8.5  返回机床零点（机械零点）G28........................................................................................................31 
2.8.6  等螺距螺纹切削指令G32...................................................................................................................32 
2.8.7  Z 轴攻丝循环G33................................................................................................................................35 
2.8.8  变螺距螺纹切削指令G34...................................................................................................................36 
2.8.9  工件坐标系设定G50...........................................................................................................................36 
2.8.10  每分进给 (G98)................................................................................................................................37 
2.8.11  每转进给 (G99)................................................................................................................................38 
2.8.12  恒线速控制(G96， G97)..................................................................................................................38 
2.8.13  单一型固定循环指令........................................................................................................................41 
2.8.13.1  外（内）圆切削循环G90.........................................................................................................41 
2.8.13.2  螺纹切削循环G92.....................................................................................................................43 
2.8.13.3  端面切削循环G94.....................................................................................................................46 
2.8.13.4  单一型固定循环指令的注意事项............................................................................................47 
2.8.14   复合型固定循环指令......................................................................................................................48 
2.8.14.1  外（内）圆粗车循环G71.........................................................................................................48 
2.8.14.2  端面粗车循环G72.....................................................................................................................51 
2.8.14.3  封闭切削循环G73.....................................................................................................................54 
2.8.14.4  精加工循环G70.........................................................................................................................56 
2.8.14.5  端面深孔加工循环G74.............................................................................................................56 
2.8.14.6  外圆切槽循环G75.....................................................................................................................58 
2.8.14.7  复合型螺纹切削循环G76.........................................................................................................60 
2.8.14.8  复合型固定循环指令注意事项................................................................................................63 
2.9   用户宏程序.................................................................................................................................................63 
2.9.1  用户宏指令..........................................................................................................................................64 
2.9.2  用户宏程序本体..................................................................................................................................64 
2.9.3  运算命令和转移命令（G65）............................................................................................................66 
2.9.4  关于用户宏程序本体的注意事项......................................................................................................70 
2.9.5  用户宏程序实例..................................................................................................................................70 
3   操  作................................................................................................................................................................72 
3.1  操作面板说明...............................................................................................................................................72 
3.1.1  LCD/MDI 面板.......................................................................................................................................72 
3.1.2  显示页面键..........................................................................................................................................72 
3.1.3  键盘的说明..........................................................................................................................................73 
3.1.4  机床操作面板......................................................................................................................................74 
3.2   手动操作.....................................................................................................................................................76 
3.2.1  手动返回参考位置点..........................................................................................................................76 
3.2.2  手动返回程序零点..............................................................................................................................77 
3.2.3  手动连续进给......................................................................................................................................78 
3.2.3  单步进给..............................................................................................................................................79 
3.2.4  手轮进给（选择功能）......................................................................................................................79 
3.2.5  手动辅助功能操作..............................................................................................................................80 
3.3   自动运行.....................................................................................................................................................82 
3.3.1  运转方式..............................................................................................................................................82 
3.3.2  自动运转的启动..................................................................................................................................84 
3.3.3  自动运转的执行..................................................................................................................................84 
3.3.4  自动运转的停止..................................................................................................................................84 
3.3.5  自动运转中冷却液控制......................................................................................................................85 
3.3.6  主轴点动控制......................................................................................................................................85 


                                                        GSK218T 车床数控系统 使用手册  
 
3.4  试运转...........................................................................................................................................................85 
3.4.1 全轴机床锁住........................................................................................................................................85 
3.4.2  辅助功能锁住......................................................................................................................................86 
3.4.3  进给速度倍率......................................................................................................................................86 
3.4.4  快速进给倍率......................................................................................................................................86 
3.4.5  空运转..................................................................................................................................................87 
3.4.6  进给保持后或者停止后的再启动......................................................................................................87 
3.4.7  单程序段..............................................................................................................................................87 
3.5   安全操作.....................................................................................................................................................89 
3.5.1  急停(EMERGENCY STOP)......................................................................................................................89 
3.5.2  超程......................................................................................................................................................89 
3.6  报警处理.......................................................................................................................................................89 
3.7  程序存储、编辑...........................................................................................................................................89 
3.7.1  程序存储、编辑操作前的准备..........................................................................................................89 
3.7.2  程序的新建，复制，重命名..............................................................................................................90 
3.7.3  把程序存入存储器中..........................................................................................................................90 
3.7.4  程序号检索..........................................................................................................................................90 
3.7.5  程序的删除..........................................................................................................................................91 
3.7.6  删除全部程序......................................................................................................................................91 
3.7.7  字的检索、插入、修改、删除..........................................................................................................92 
3.7.8  存储程序的个数..................................................................................................................................95 
3.7.9  存储容量..............................................................................................................................................95 
3.8  数据的显示、设定.......................................................................................................................................96 
3.8.1  补偿量..................................................................................................................................................96 
3.8.2  用户口令输入和修改..........................................................................................................................97 
3.8.3  用户宏变量的显示及设定..................................................................................................................99 
3.8.4  参数......................................................................................................................................................99 
3.8.5  诊断....................................................................................................................................................103 
3.9   显示...........................................................................................................................................................104 
3.9.1  状态显示............................................................................................................................................104 
3.9.2  键入数据显示....................................................................................................................................104 
3.9.3  程序号、顺序号的显示....................................................................................................................105 
3.9.4  程序存储器使用量的显示................................................................................................................105 
3.9.5  指令值的显示(程序键)....................................................................................................................106 
3.9.6  现在位置的显示(位置键)................................................................................................................106 
3.9.7  加工时间、零件数显示....................................................................................................................108 
3.9.8  报警显示(报警键)............................................................................................................................108 
3.9.9  液晶画面亮度调整............................................................................................................................108 
3.10  图形功能...................................................................................................................................................109 
4   连 接................................................................................................................................................................ 110 
4.1  系统连接框图............................................................................................................................................. 110 
4.1.1  接口位置布局.................................................................................................................................... 110 
4.1.2  接口说明............................................................................................................................................ 110 
4.1.3  连接框图............................................................................................................................................ 111 
4.2  各部件的连接............................................................................................................................................. 111 
4.2.1  电脑到驱动器的连接........................................................................................................................ 111 
4.2.2  信号说明............................................................................................................................................ 112 
4.3  系统到驱动器的连接................................................................................................................................. 113 
4.4  主轴编码器的连接..................................................................................................................................... 114 
4.5  RS232-C 标准串行接口（选件）............................................................................................................. 114 
4.6  模拟主轴接口（选件）............................................................................................................................. 114 


                                                        GSK218T 车床数控系统 使用手册  
 
4.7  手轮接口..................................................................................................................................................... 115 
4.8  电源接口的连接......................................................................................................................................... 115 
4.9  机床输入/输出接口................................................................................................................................... 116 
4.9.1  机床输入/输出接口连接表.............................................................................................................. 116 
4.9.2  输入信号............................................................................................................................................ 117 
4.9.3  信号说明............................................................................................................................................ 118 
4.9.4  输出信号............................................................................................................................................122 
4.9.5  主轴自动换档控制............................................................................................................................124 
4.9.6  卡盘控制............................................................................................................................................124 
4.9.7  尾座控制............................................................................................................................................125 
4.9.8  输入输出信号诊断表........................................................................................................................126 
4.9.9  功能描述............................................................................................................................................127 
5   机 床 调 试....................................................................................................................................................128 
5.1  接通电源前准备.........................................................................................................................................128 
5.2  机床调试.....................................................................................................................................................128 
5.2.1  急停开关............................................................................................................................................128 
5.2.2  驱动轴调试........................................................................................................................................128 
5.2.3  电动刀架调试....................................................................................................................................129 
5.2.4  机床主轴调试....................................................................................................................................130 
5.2.5  单步\手轮调整..................................................................................................................................130 
5.2.6  其它调整............................................................................................................................................130 
附录1  参数一览表............................................................................................................................................131 
Ⅰ  按顺序排列..............................................................................................................................................131 
Ⅱ  按功能排序..............................................................................................................................................144 
附录2   诊断表..................................................................................................................................................157 
附录3   报警一览表..........................................................................................................................................161 
附录4   规格一览表..........................................................................................................................................165 
附录5   GSK218T 与GSK980TA 的主要区别.....................................................................................................167 
附录6   记忆型螺距误差补偿功能..................................................................................................................172 
附录7   串口通讯软件使用说明......................................................................................................................175 
附录8   刀补C 机能操作说明（选配功能）..................................................................................................181 
 
 
 
 
 
 
 
 


GSK218T 使用手册 
 
 
1   概  述 
1.1   简 介 
GSK218T 车床数控系统（以下可简称为“系统”），是广州数控设备有限公司研制的经济与普及型数
控系统。 
作为经济与普及型数控系统的升级换代产品，GSK218T 系统具有以下性能特点： 
9 
采用32 位CPU、CPLD 硬件插补技术，实现高速μm 级控制； 
9 
采用四层线路板，集成度高，系统工艺结构合理，可靠性高； 
9 
液晶（LCD）中文显示，界面友好、操作方便； 
9 
加减速可调，可配套步进驱动器或伺服驱动器； 
9 
可变电子齿轮比，应用方便。 
 
 
1.2   型号意义 
GSK 980T  E    
 
 
 
 
类别代号 
 
980T 系列车床数控系统 
 
广州数控产品标志 
 
1.3   型 谱 
 
订 货 型 号 
说      明 
GSK218T 
420×260mm 铝合金立体操作面板 
 
 
 
 
 
 
 
 


                                                        GSK218T 车床数控系统 使用手册 
 
2 
2  编 程 
2.1  编程基本知识 
2.1.1  坐标轴定义 
对数控机床的坐标轴命名和对运动方向进行规定，是非常重要的，数控机床的设计者、操作者和维
修人员，都必须对其有一个正确统一的的理解。否则，将可能导致编程混乱、数据通讯出错、操作出事
故、维修不能正常进行等等。 
图2-1 为车床的轴线示意图。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                 图2-1 
 
本系统采用X 轴，Z 轴组成的直角坐标系进行定位和插补运动。X 轴为水平面的前后方向，Z 轴为
水平面的左右方向。向工件靠近的方向为负方向，离开工件的方向为正方向。 
本系统支持前、后刀座功能，且规定（从车床正面看）刀架在工件的前面称为前刀座，刀架在工件
的后面称为后刀座。图2-2 为前刀座的坐标系，图2-3 为后刀座的坐标系。从图2-2、图2-3 我们可以
看出，前后刀座坐标系的X 方向正好相反，而Z 方向是相同的。在以后的图示和示例中，用前刀座来说
明编程的应用，而后刀座车床数控系统可以类推。 
 
 


                                                        GSK218T 车床数控系统 使用手册 
 
3
 
Z
X
            
Z
X
 
 
图2-2 前刀座的坐标系                   图2-3 后刀座的坐标系 
2.1.2  工件坐标系和参考位置点（程序零点） 
工件坐标系（又称浮动坐标系）是编程人员在编程时使用的，编程人员选择工件上的某一已知点为
参考位置点（也称程序零点）建立一个新的坐标系，称为工件坐标系。工件坐标系一旦建立便一直有效，
直到被新的工件坐标系所取代。本系统使用的是G50指令代码定义的工件坐标系，如程序中无G50，则
以当前绝对坐标值为参考点建立工件坐标系。工件坐标系的原点的选择要尽量满足编程简单、尺寸换算
少、引起的加工误差小等条件。一般情况下，原点应选在尺寸标注的基准或定位基准上。对车床编程而
言，工件坐标系原点一般选在工件轴线与卡盘的端面（图2-4）或工件的端面（图2-5）的交点上。 
 
 
Z
X
 
 
 
 
图2-4 原点在卡盘的端面 


                                                        GSK218T 车床数控系统 使用手册 
 
4 
Z
X
 
图2-5 原点在工件的端面 
2.1.3  机床坐标系和机床零点（机械零点） 
机床坐标系是机床固有的坐标系，机床坐标系的原点称为机床零点（机械零点），通常安装在X轴
和Z轴的正方向的最大行程处。在机床经过设计、制造和调整后，这个原点便被确定下来，它是固定的
点。数控装置上电时并不知道机床零点，通常要进行自动或手动回机床零点，以建立机床坐标系。机床
回到了机床零点，找到所有坐标轴的原点，CNC就建立起了机床坐标系。 
注：若你的车床上没有安装机械原点，请不要使用本系统提供的有关机械原点的功能（如G28）。 
 
2.1.4  绝对坐标编程和相对坐标编程 
作为指令轴移动量的表示方法，有绝对值指令和相对值指令两种方法。绝对值指令是用轴移动的终
点位置的坐标值进行编程的方法，称为绝对坐标编程。相对值指令是用轴移动量直接编程的方法，称为
相对坐标编程。本系统中，绝对坐标编程采用地址X、Z，相对坐标编程采用地址U、W。 
表 2-1 
绝对值指令 相对值指令
备     注 
X 
U 
X 轴移动指令 
Z 
W 
Z 轴移动指令 
 
例：分别用绝对坐标、相对坐标、混合坐标编写图2-6 中A→B 程序。 
 
 
 
 
 


                                                        GSK218T 车床数控系统 使用手册 
 
5
 
图2-6  
 
表2-2 
编程方式 
绝对坐标编程 
相对坐标编程 
混合坐标编程 
程序 
G1 X200 Z50 
G1 U100 W-50 
G1 X200 W-50 
备注 
假定当前坐标点在A 点，采用直线插补进行移动 
 
注：当一个程序段中既出现X，又出现U 或既出现Z，又出现W 时，会产生＃132 报警：坐标值X 与U 或Z 与
W 同时出现。 
例如：G50 X10 Z20； 
G1 X20 W30 U20 Z30； 
2.1.5  直径方式和半径方式编程 
数控车床的所加工工件的外形通常是旋转体，其中X 轴尺寸可以用两种方式加以指定：直径方式和
半径方式。可由参数№.001 的Bit2 位设置。 
当参数№.001 的Bit2 位为1 时，用半径指定编程。 
当参数№.001的Bit2位为0时，用直径指定编程。 
 
表2-3 直径、半径指定说明 
项  目 
直径指定时 
半径指定时 
Z 轴指令 
与直径、半径指定无关 
X 轴指令 
直径值指定 
半径值指定 
地址U 的增量指令 
直径值指定 
半径值指定 
坐标系设定（G50） 
直径值设定 
半径值指定 
刀具偏置量的X 轴的值 
通过参数（№.002，ORC）指定直径值指定还是半径值指定
圆弧插补的半径指令（R，I，K） 
半径值指定 
半径值指定 


                                                        GSK218T 车床数控系统 使用手册 
 
6 
项  目 
直径指定时 
半径指定时 
X 轴方向的进给速度 
半径变化(mm/min、mm/rev) 
X 轴的位置显示 
显示直径值 
显示半径值 
注1：在本手册后面的说明中，如没有特别指定，均以直径指定予以描述。 
注2：关于刀具偏置使用直径/半径的意义是指当刀具偏置量改变时，工件外径用直径值/半径值变化。 
例如：直径指定时，若补偿量改变10mm，则切削工件外径的直径值改变10mm；用半径指定时，若补偿量改变
10mm，则切削工件外径的直径值改变20mm。 
 
2.2  程序的构成 
程序是控制数控机床完成零件加工的指令系列的集合。通过程序使刀具沿着直线、圆弧运动，同时
控制主轴启动与停止、冷却液开关等动作。 
2.2.1  程序的一般结构 
程序的一般结构如图2-7 所示。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
图2-7 程序的一般结构 
 
指令字 
指令字是构成程序段的要素。指令字是由地址和其后面的数字构成的（有时在数字前带有负号）。
地址是英文字母（A～Z）中的一个字母。它规定了其后数值的意义。在本系统中，可以使用的地址和意
义如表1-4所示。根据不同的指令，有时一个地址也有不同的意义。 
O0001； 
N0010 G50 X1000 Z100； 
N0020 G0 X40 Z5； 
N0030 G01 X10 Z-30 F200； 
N0040 G01 U50 W20 F100； 
……； 
……； 
……； 
N0200 M30； 
% 
 
程
序
号
 
程
序
段
顺
序
号
 
程
 
序
 
段
 
结
 
束
 
符
程
序
程
序
结
束
符
指令字


                                                        GSK218T 车床数控系统 使用手册 
 
7
 X 
1000 
地址  数字 
指令字 
                  
 Z
- 5 0 0
地址  数字 
指令字
 
 
表2-4 指令字一览表 
地 址 
取 值 范 围 
功 能 意 义 
O 
0～9999 
程序名 
N 
0～9999 
顺序号 
G 
00～99 
准备功能 
-9999.999～9999.999（mm） 
X 向坐标地址 
X 
0～9999.999（s） 
暂停时间指定 
Z 
-9999.999～9999.999（mm） 
Z 向坐标地址 
-9999.999～9999.999（mm） 
X 向增量 
-9999.999～9999.999（mm） 
G71、G72、G73 指令中X 向精加工余量 
0.001～9999.999（mm） 
G71 中切削深度 
U 
-9999.999～9999.999（mm） 
G73 中X 向退刀距离 
-9999.999～9999.999（mm） 
Z 向增量 
0.001～9999.999（mm） 
G72 中切削深度 
-9999.999～9999.999（mm） 
G71、G72、G73 指令中Z 向精加工余量 
W 
-9999.999～9999.999（mm） 
G73 中Z 向退刀距离 
-9999.999～9999.999（mm） 
圆弧半径 
0.001～9999.999（mm） 
G71、G72 循环退刀量 
1～9999999（次） 
G73 中粗车次数 
0～9999.999（mm） 
G74、G75 中切削后的退刀量 
0～9999.999（mm） 
G74、G75 中切削到终点时候的退刀量 
0～9999.999（mm） 
G76 中精加工余量 
R 
-9999.999～9999.999（mm） 
G90、G92、G94 中锥度 
-9999.999～9999.999（mm） 
圆弧中心相对起点在X 轴矢量 
I 
0.06～25400（牙/inch） 
英制螺纹牙数 
K 
-9999.999～9999.999（mm） 
圆弧中心相对起点在Z 轴矢量 
0～8000（mm/min） 
分进给速度 
0.001～500(mm/rev) 
转进给速度 
F 
0.001～500（mm） 
公制螺纹导程 
S 
0～9999（r/min） 
主轴转速指定 


                                                        GSK218T 车床数控系统 使用手册 
 
8 
地 址 
取 值 范 围 
功 能 意 义 
00～04 
多档主轴输出 
10～99 
子程序调用 
T 
0100～0800 
刀具功能、子程序调用 
M 
00～99 
辅助功能输出、程序执行流程、子程序调用
0～9999999（0.001s） 
暂停时间 
0～9999 
调用子程序号 
0～999 
子程序调用次数 
0.001～9999.999（mm） 
G74、G75 中X 向循环移动量 
 
G76 中螺纹切削参数 
P 
1～9999 
程序段顺序号 
1～9999 
程序段顺序号 
0～9999.999（mm） 
G74、G75 中Z 向循环移动量 
Q 
1～9999.999（mm） 
G76 中第一次切入量 
H 
01～99 
G65 中运算符 
L 
01～99 
G92 中的螺纹头数 
 
顺序号和程序段 
程序是由多个指令构成的，把它的一个指令单位称为程序段。程序段之间字符“；”分开。 
在程序段的开头可以用地址N和后面四位数构成的顺序号 
N □□□□ 
顺序号（0000～9999，前面零可省略） 
地址N 
顺序号的顺序是由小到大的，其间隔可不等。程序段中可不带顺序号，也可以仅在重要的程序段带
有，当然也可以全部程序段都带有。 
程序名 
本系统中，系统的存储器里可以存储250个用户程序。为了把这些程序相互区别开，在程序的开头，
用地址O及后面四位数构成程序名。 
○ □□□□ 
程序号（0000～9999，前导零可省略） 
地址O 
程序结束 
程序从程序名开始，以“％”结束。 
2.2.2  指令数值与小数点的关系 
在本系统中，有些指令不能输入小数点，通过参数可设置编程时是否能加入小数点，表2-5 列出了


                                                        GSK218T 车床数控系统 使用手册 
 
9
指令数值与小数点的关系如下： 
 
表 2-5 
地址 
是否带小数点 
№.011的Bit0=1 
№.011的Bit0=0 
备注 
指令：G1 X20 
定位点：20 
指令：G1 X20 
定位点：0.02 
 
X 
是 
指令：G4 X20 
延时：20秒 
指令：G4 X20 
延时：0.02秒 
 
Z 
是 
指令：G1 Z20 
定位点：20 
指令：G1 Z20 
定位点：0.02 
 
U 
是 
指令：G1 U20 
增量值：20mm 
指令：G1 U20 
增量值：0.02mm 
 
W 
是 
指令：G1 W20 
增量值：20mm 
指令：G1 W20 
增量值：0.02mm 
 
R 
是 
 
 
I 
是 
 
 
K 
是 
 
 
与地址X 相
同 
P 
否 
指令：G4 P2 
延时：0.002秒 
S 
否 
 
与小数点无
关 
 
2.2.3  模态、非模态及初态 
模态是指相应字的功能和状态一经执行，以后一直有效直至其功能和状态被重新执行，也就是说，
在以后的程序段中若使用相同的功能和状态，可以不必再输入该字段。 
 
例如下列程序： 
G0 X100 Z100；（快速定位至X100 Z100处） 
X120 Z30；（快速定位至X120 Z30处，G0为模态指定，可省略不输） 
G1 X50 Z50 F300；（直线插补至X50 Z50处，进给速度300mm/min G0→G1，） 
X100；（直线插补至X100 Z50处，进给速度300mm/min，G1、Z50、F300均为模态指定，可
省略不输） 
G0 X0 Z0；（快速定位至X0 Z0处） 
 
非模态是指相应字段的功能和状态一经执行仅一次有效，以后需使用相同的功能和状态必须再次执
行，也就是说，在以后的程序段中若使用相同的功能和状态，必须再次输入该字段。 
初态是指系统上电后默认的功能和状态，也就是说，上电后如未指定相应的功能状态系统即按初态
的功能和状态执行。本系统的初态为G00、G40、G97、G98、M05、M09、M33。 


                                                        GSK218T 车床数控系统 使用手册 
 
10 
例如下列程序： 
O0001； 
X100 Z100；（快速定位至X100 Z100处，G0为系统初态） 
G1 X0 Z0 F100；（直线插补至X0 Z0处，每分进给，进给速度为100mm/min，G98为系统上电
初态） 
 
2.3  控制轴 
2.3.1  控制轴数 
 
控制轴数 
2轴（X，Z） 
同时控制轴数 
2轴（X，Z） 
 
2.3.2  设定单位 
 
输入/输出制 
最小设定单位 
最小移动单位 
X：0.001  mm （直径指定） 
Z：0.001  mm 
X：0.0005  mm 
Z：0.001   mm 
公制输入公制输出 
X：0.001  mm （半径指定） 
Z：0.001  mm 
X：0.001   mm  
Z：0.001   mm 
半径指定时，选择参数为X轴半径编程。 
设定单位请参照机床制造厂家的说明书。 
2.3.3  最大行程 
最大行程 = 最小设定单位×9999999 
2.4  主轴功能(S 功能) 
通过地址S和其后面的数值，把代码信号送给机床，用于机床的主轴控制。在一个程序段中可以指
令一个S代码。 
关于可以指令S代码的位数以及如何使用S代码等，请参照机床制造厂家的说明书。 
当移动指令和S代码在同一程序段时，移动指令和S功能指令同时开始执行。 
2.4.1  主轴开关量控制 
当参数号001BIT4=0时，用地址S和其后面两位数控制主轴转速。 
指令格式： S__ 
系统可提供4 级主轴机械换挡。（当没有选择模拟主轴机能时），S代码与主轴的转速的对应关系
及机床提供几级主轴变速，请参照机床制造厂家的说明书。 
档位信号：S1～S4 


                                                        GSK218T 车床数控系统 使用手册 
 
11
S 代码的执行时间可由参数号№087设定。 
设定值：0～9999999  
设定时间 = 设定值×4 毫秒。 
 
 
 
 
 
 
注1：当在程序中指定了上述以外的S 代码时，系统将产生以下报警并停止执行。 
182：S 代码错，程序中编入了非法的S 代码。 
注2：在S 两位数时，若指令S4 位数，系统同样会产生182 号报警。 
 
2.4.2  主轴模拟量控制 
当参数号001BIT4=1 时，用地址S 和其后面的4 位数值，直接指令主轴的转数(转/分)，根据不同
的机床厂家转数的单位也往往不同。 
指令格式： S__ 
当选择主轴模拟量控制时，系统可实现主轴无级调速。 
 
2.5  刀具功能（T 功能） 
用地址T 及其后面2 位数来选择机床上的刀具。在一个程序段中，可以指令一个T 代码。移动指令
和T 代码在同一程序段中指令时，移动指令和T 代码同时开始。 
关于T 代码如何使用的问题，请参照机床制造厂家发行的说明书。 
用T 代码后面的数值指令，进行刀具选择。其数值的后两位用于指定刀具补偿的补偿号。 
 
T□□ □□ 
              
 
 
 
系统可提供的刀具数由参数号№081设定，最大设定为8。 
 
 
刀具选择号 
刀补号 
开始执行下个程序段 
S  代码开始执行 
设定时间


                                                        GSK218T 车床数控系统 使用手册 
 
12 
2.5.1  换刀过程 
   
刀架正转输出(TL+  005。6) 
刀架锁紧输入(TCP  00.7) 
刀架到位输入(T4～T1  00.3~00.0) 
刀架反转输出(TL-  005。7) 
T1=#082
T2=#088 
Tb<#085
Ta<#083*刀位数 
 
 
图中P083等是对应参数号设置的时间参数。 
当Ta≥（P083）×此次换刀位数时。产生报警 185：换刀时间过长.从刀架开始正转经过Ta时间后指定的刀位
到达信号仍然没有接收到时，产生报警。 
当Tb≥P085时。产生报警  186：在刀架反转锁紧时间内未接到刀架反转锁紧信号。 
 
T 代码开始执行时，首先输出刀架正转信号(TL+)，使刀架旋转，当接收到T代码指定的刀具的到位
信号后，关闭刀架正转信号，延迟 T1 时间后，刀架开始反转而进行锁紧(TL-)，并开始检查锁紧信号
*TCP，当接收到该信号后，延迟参数号P088设置的时间，关闭刀架反转信号(TL-)，如执行的刀号与现
在的刀号（自动记录在诊断№049）一致时，则换刀指令立刻结束，并转入下一程序段执行；否则产生
187号报警。 
当系统输出刀架反转信号后，在参数号P085设定的时间内，如果系统没有接收到*TCP信号，系统
将产生报警.并关闭刀架反转信号。 
  
 
2.5.2  换刀相关参数 
1） 系统参数 
刀架到位信号（*T8～*T1） 由参数P009的Bit1 TSGN 设定高或低电平有效。 
 
TSGN 
0 :  刀架到位信号高电平有效.（常闭） 
 
 
    1 :  刀架到位信号低电平有效.（常开） 
刀架锁紧信号（*TCP） 由参数P009的Bit0 TCPS 设定高或低电平有效。 
 
TCPS 
0 :  刀架锁紧信号低电平有效；（常开） 
 
 
    1 :  刀架锁紧信号高电平有效。（常闭） 


                                                        GSK218T 车床数控系统 使用手册 
 
13
注：当无刀架锁紧信号时，可以不接该信号，设置参数TCPS为低电平有效，通过设置时间P085来设置反转锁紧时间。
218T没引出*TCP信号 ，TCPS常设“1”。 
 
2） 诊断参数 
T1    ：刀架正转停止到刀架反转锁紧开始的延迟时间。 
       参数号 №082，设定值 0～9999999   单位：4ms    
T刀数 ：刀架的刀数选择。 
       参数号 №081，设定值 1～8 单位：个。    
T2    ：接收到刀架反转锁紧信号后的延迟时间。 
       参数号 №085，设定值 0～9999999   单位：4ms    
T一刀位：换一刀位所需的最长时间。 
       参数号 №083，设定值 0～9999999   单位：4ms。    
T全刀位：从第一把刀换到最后一刀位所需的最长时间。 
       参数号 №084（高字节），设定值 0～9999999 
      （0～1048s）单位：16ms。     
T现刀号：当前刀具号。 
   诊断号 №049。此值由系统自动设定，当第一次使用时或清除存储器后需手动换刀一次即
自动设定。 
Ta ： 执行T 代码时，系统自动计算的从当前刀位换到指定的刀位所需要的最长时间 
      Ta = T一刀位×换刀的刀位数。 
 
例：假定总刀位数为6 
a）现刀位是1，指定刀位5，则换刀的刀位数为4。 
b）现刀位是5，指定刀位2，则换刀的刀位数为3。 
Tb ： 接收到刀架反转锁紧信号的最长时间信号。 
2.6  刀具偏置 
在实际加工中，编程使用的基准刀与实际加工刀具很少一致，这时标准位置与实际刀尖的距离就作
为偏置量。 
本系统中，刀具偏置仅由T 代码来控制，不受G 代码的控制。 
 


                                                        GSK218T 车床数控系统 使用手册 
 
14 
2.6.1  基本的刀具偏置 
 
X 轴偏置量
Z 轴偏置量
标准刀具
实际刀具
 
偏置的结果是使标准刀具的刀尖在编程的轨迹上移动，刀具的安装要与程序中标准刀具的起始点相
符合，然而实际加工使用的刀具很少能与标准刀具相符。这种情况下，标准位置与实际刀尖位置间的距
离就作为偏置量。 
 
2.6.2  用于刀具偏置的T 代码 
T 代码具有下述意义: 
 T □□  □□ 
刀具偏置号 
 
刀具选择号 
a) 刀具选择 
刀具选择是通过指定与刀具号相对应的T 代码来实现的。 
关于刀具选择号与刀具的关系请参照机床制造商发行的手册。 
b) 刀具偏置号 
用于选择与偏置号相对应的偏置值。偏置值必须通过键盘单元输入。相应的偏置号有两个偏置 
量，一个用于X 轴，另一个用于Z 轴。 
 
 
 
偏 置量 
偏置号 
X轴的偏置量 
Z轴的偏置量 
01 
02 
03 
.. 
.. 
.. 
0.040 
0.060 
0 
. 
. 
. 
0.020 
0.030 
0 
. 
. 
. 
 
当指定了T 代码且它的偏置号不是00 时刀具偏置有效。 


                                                        GSK218T 车床数控系统 使用手册 
 
15
如果偏置号是00，则刀具偏置功能被取消。 
偏置值可设定的范围如下： 
毫米输入：0～999.999mm 
通过设定参数(№002： ORC)可对X 轴的刀具偏置量进行直径/半径规格的指定。 
2.6.3  偏置 
偏置X、Z 是对编程轨迹而言。T 代码指定偏置号的偏置值，在每个程序段的终点位置被加上或减 
去。 
 
 
 
 
 
 
 
 
 
 
a）偏置矢量 
在上图中，具有偏置X、Z 的矢量叫做偏置矢量。补偿就起偏置矢量的作用。 
b）偏置取消 
当T 代码的偏置号选择了00 时偏置被取消。在取消的程序段的末尾，偏置矢量为零。 
N1 G01 U50.0 W100.0 T0202； 
N2 W100.0： 
N3 U0.0 W50.0 T0200； 
偏置轨迹 
 
 
 
 
 
 
 
 
 
 
偏置X，Z 进行的补偿（偏置矢量） 
编程轨迹 
该程序段有T 代码偏置指令 
偏置后的轨迹 
N2 
N1 
（假定02 号偏置号中已经定了偏置值） 
（假定02 号偏置号中已经定了偏置值） 
偏置后的轨迹 
编程轨迹 
N3 


                                                        GSK218T 车床数控系统 使用手册 
 
16 
2.6.4  编程举例 
刀尖偏置（Z，X）                       刀具号 
刀具#1……B（0.120，0.200）              01 
刀具#2……C(-0.180，-0.050)                02 
 
 
 
 
 
 
 
 
 
 
 
 
 
图2－8 
 
(编程例1) 
G50 X280.0 Z240.0； 
G00 X120.0 Z200.0 T0101； 
G01 Z140.0 F30； 
X160.0 Z80.0； 
G03 X227.7 Z30.0 R53.81； 
G00 X280.0 T0100； 
#1 刀具的刀尖与这个程序的编程轨迹相同。 
（编程例2） 
通过对例1 进行下列改动，可使#2 刀具的刀尖轨迹与编程轨迹相同。 
T0101→T0202 与T0100→T0200 
 
 
2.6.5  单独的T 代码 
T 指令代码与执行移动功能的指令在同一程序段时，执行刀具长度补偿的移动速度，由移动指令决
定是切削进给还是快速移动速度。 
系统参数NO.002 的Bit0=0，执行单独的T 指令时，执行刀具长度补偿的速度由当前模态决定：当
前模态为切削进给时，以当前切削进给的速度执行刀具长度补偿；当前模态为G00 时，以当前快速移
刀具号 
轴 
01 
02 
X 
-0.200 
+0.050 
Z 
-0.120 
+0.180 
(280,30) 
(227.7,30) 
(160，80)
P(280,240) 
(120,200) 
(120,140)
Z 
x 


                                                        GSK218T 车床数控系统 使用手册 
 
17
动速度执行刀具长度补偿。 
系统参数NO.002 的Bit0=1 时，执行单独的T 指令时，刀具长度补偿与后续的第一个移动指令同
时执行，执行刀具长度补偿的速度由该移动指令决定。 
 
2.6.6  定点对刀 
当设定偏置量时，如仅键入地址键(X、Z、U、W)后直接按IN 键（无数字键）时，则现在的相对坐
标值作为与该地址对应的偏置量而被设置。用下列步骤，使用很方便。    
1）将基准刀具的刀尖定位到标准点； 
2）复位相对坐标(U，W)，使其坐标值为零； 
3）选择基准刀对应的偏置号（按刀偏键）； 
4）按X0，按IN ，按Z0，按IN，使基准刀对应的偏置量为零； 
5）移动实际加工用的刀具并定位到标准点； 
6）在选择偏置号后，按X 或U，和Z 或W，IN，则相对坐标值被置到相应的偏置号中。 
     相应地，标准刀具和实际刀具的差被指示出来； 
7）重复步骤（6），可找出其它刀偏。 
注:偏置量的计数器输入方式是否有效，取决于参数NO.009的位NOFC的设置。 
 
2.6.7  试切对刀 
在设定偏置量时可用下列简便的方法，当根据标准刀具设定了坐标系后，移动实际刀具至工件表面，
输入工件表面的实际测量值，系统自动计算出其差值作为该把刀具的偏置值。 
 
Z
X 
β
α
表面A
表面B
 
1)  用基准刀试切工件设定基准坐标系。 
a)  用手动方式，沿A 表面切削； 
b)  在Z 轴不动的情况下沿X 轴释放刀具，并且停止主轴旋转； 
    c)  测量A 表面与工件坐标系零点之间的距离“β”，进入录入方式，按[程序]，输入G50 Z“β” 
        把当前的Z 向绝对作标设为“β”，然而设偏置号（基准刀偏置号+100）Z=“β”； 
d)  用手动方式沿B 表面切削； 


                                                        GSK218T 车床数控系统 使用手册 
 
18 
e)  在X 轴不动的情况下，沿Z 轴释放刀具，并且停止主轴旋转； 
f） 测量直径“α”，进入录入方式，按[程序]，输入G50 X“α”把当前的X 向绝对坐标设为“α”。 
 
2） 非基准刀偏置设置 
a)  用手动方式，沿A 表面切削； 
b)  在Z 轴不动的情况下沿X 轴释放刀具，并且停止主轴旋转； 
c) 测量A 表面与工件坐标系零点之间的距离“βˊ”并且将所测得的值设到一偏置号Z 中， 
该偏置号=要设偏置量的偏置号+100； 
d)  用手动方式沿B 表面切削； 
e)  在X 轴不动的情况下，沿Z 释放刀具，并且停止主轴旋转； 
f) 测量距离“αˊ”，并且将所测得的值设到一偏置号X 中。 
该偏置号=要设偏置量的偏置号 +100。 
例如：为了将偏置量设到偏置号03 的偏置单元中，就须向偏置号为103 的偏置单元中设定“ 
αˊ”和“βˊ”。 
如果在B 表面上刀具的坐标值为105.0，测得的距离是104.0，对应于偏置号为103 设定的 
值则为104.0， 对应于偏置号03 的偏置量则自动地设定为1.0。 
3） 重执行步骤（2）将其他非基准刀设置。 
注1：用于刀具偏置的直接测量值输入是否有效，要依参数(009号参数的DOFSI位)而定。 
注2：距离“α”按直径值设定。 
2.6.8  回机床零点（机械零点）对刀 
用此对刀方法不需要基准刀，在刀具磨损或调整任何一把刀时，只要对此刀进行重新对刀即可。对
刀前及断电后重新上电，只要回一次机械零点即可继续加工，操作简单方便。但对刀时不能带刀偏。使
用这对刀方法时，请设置2号参数BIT0 PTSR为1，即刀偏执行方式为坐标偏移方式。 
 
Z
X 
β
α
表面A 
表面B
 
 
操作步骤如下： 


                                                        GSK218T 车床数控系统 使用手册 
 
19
1） 按机械回零键进入机械回零操作方式，使两轴回一次机械零点； 
2） 选择任意一把刀，不带刀补； 
3） 在手动方式下沿A表面切削； 
4） Z轴不动，刀具沿X轴退出工件外，停止主轴旋转； 
5） 按刀补键进入刀偏数据界面，按↑或↓键移动光标至100号后面的偏置号，选择某一刀偏号作
为当前刀具的偏置号； 
6） 测量A表面与工件坐标系零点之间的距离“β”，输入“Z”、“β”，按输入键，此时系统自
动计算Z方向的刀偏值并设定； 
7） 起动主轴，在手动方式下，X轴不动，沿B表面往Z负方向加工一段距离，再X轴不动，往Z正方
向退出工件； 
8） 测量直径“α”，输入“X”、“α”，按输入键，此时系统自动计算Z方向的刀偏值并设定； 
9） 移动刀具到安全位置，换另一把刀，同样不带刀补； 
10） 重复3～9步骤，完成其它刀的对刀。 
注1：用本方法对刀时，不能带刀补，如T0100等； 
注2：必须确认机床有机床零点，否则不能使用此方法； 
注3：使用此方法对刀后，在程序中不得使用G50设定坐标系； 
注4：以下参数必须设置 
P002 BIT6 TOC必须设定为1（偏移矢量复位时不变）； 
P003 BIT7 ABOT必须设定为0（绝对坐标断电记忆）； 
P006 BIT6 APRS必须设定为1（回参考点自动设定坐标系）。 
2.7   辅助功能(M 功能) 
移动指令和 M同在一个程序段中时，移动指令和M指令同时开始执行。 
(例) N1 G01 X50.0 Z-50.0 M05 ；(主轴停止) 
 
移动指令和主轴停
止指令同时开始 
Z
X 
 
2.7.1  辅助功能（M 功能） 
在地址M后面指令2位数值，系统把对应的控制信号送给机床，用来控制机床相应功能的开或关。M 
代码在一个程序段中只允许一个有效，M代码信号为电平输出，保持信号。 
M 代码： 
M03 ：主轴正转。 
M04 ：主轴反转。 


                                                        GSK218T 车床数控系统 使用手册 
 
20 
M05 ：主轴停止。 
M08 ：冷却液开。 
M09 ：冷却液关（不输出信号）。 
M10 ：尾座进。 
M11 ：尾座退。 
M12 ：卡盘夹紧。 
M13 ：卡盘松开。 
M32 ：润滑开。 
M33 ：润滑关（不输出信号）。 
M00 ：程序暂停，按‘循环起动’程序继续执行。 
M30 ：程序结束，程序返回开始。 
M41~M44 ：主轴自动换挡机能（详参见120页） 
除M00，M30 外，其它 M 代码的执行时间（不是脉冲宽度）可由参数号№86设定。 
设定值：0～9999999  
设定时间 = 设定值×4 ms。 
 
 
 
注1：当在程序中指定了上述以外的M代码时，系统将产生以下报警并停止执行。 
181：M代码错，程序中编入了非法的M代码。 
注2：M，S，T起动后，即使方式改变，也仍然保持，可按‘复位’键关闭（由参数012BIT0设置是否有效）。 
下面的M代码规定了特殊的使用意义 
1)  M30(程序结束) 
 1) 表示主程序结束。 
 2) 停止自动运转，处于复位状态。 
 3) 返回到主程序开头。 
 4) 加工件数加1。 
2)  M00：程序暂停 
当执行了M00的程序段后，停止自动运转。与单程序段停同样，把其前面的模态信息全部保存
起来。CNC开始运转后，再开始自动运转。 
3) M98/M99(调用子程序/子程序返回) 
格式：M98 P□□□□□□□ 
                               调用子程序号（范围：0000～9999） 
                               调用次数（范围：1～999） 
用于调用子程序。或程序结尾为M99时，程序可重复执行。子程序的嵌套可到四重。详细见2.7.7 子
程序控制。 
注1：M00，M30 的下一个程序段即使存在，也存在不进缓冲存储器中去。 
设定时间
M 代码开始执行 
开始执行下程序段 


                                                        GSK218T 车床数控系统 使用手册 
 
21
注2：执行M98 和M99 时，代码信号不输出。 
 
2.7.2  M 代码调用子程序 
M代码，当系统执行标准以外的M代码时，调用的子程序为： 
M□□：调用子程序90□□。 
 
2.7.3  S 代码调用子程序 
参数号P004 BIT2（CM98）设置为1时，当执行标准M，S，T以外的代码时，系统不产生报警，而
去调用相应的一个子程序。结合宏输入输出接口变量，用户可以根据需要扩展辅助功能代码。 
S代码，当系统执行S10~S99，调用的子程序为： 
S□□：调用子程序91□□。 
注1：当选择主轴模拟电压输出时，S代码不调用子程序。 
注2：当执行非标准的M，S，必须编入对应的子程序。否则会产生078报警。 
注3：非标准的M，S，T代码不能在录入方式下运行，否则会产生M/S或T码错的报警或＃130报警。 
注4：在对应的子程序中即可以编入轴运动指令，也可以对输出点进行控制（关和开），也可以根据DI的信号进行
转跳或进行循环，或某一DI信号作为M/S/T的结束信号。关于DI/DO见宏程序一章。 
 
2.7.4  T 代码调用子程序 
T代码，当系统执行标准以外的T代码时，调用的子程序为： 
T□□：调用子程序92□□。 
如T28 ，调用子程序9228 
 
2.7.5  辅助功能参数 
参数号№081～094 为用户参数，用户可根据实际情况进行设定。 
设定：打开程序保护开关，在录入方式下，选择参数画面，移动光标至要设定的序号前，键入数据，
按“IN”后键入的数据输入。 
移动光标的方法： 
1） 用翻页及光标键 
2） 用检索的方法：P→要检索的参数号→IN。 
 
2.7.6  与辅助功能有关的报警 
与辅助机能有关的报警通过外部信息画面显示，当产生报警时，系统自动切换到外部信息画面，在
LCD的上部显示出报警出报警的详细内容，在LCD的下端闪烁显示“报警”。 
181：M代码错。 


                                                        GSK218T 车床数控系统 使用手册 
 
22 
程序中编入了非法的M代码。 
182：S代码错。 
程序中编入了非法的S代码。 
183：T代码错。 
程序中编入了非法的T代码。 
185：换刀时间过长。从刀架开始正转经过Ta时间后指定的刀位到达信号仍然没有接收到时，产生报警。 
186：在刀架反转缩紧时间内未接到刀架反转缩紧信号。 
044：卡盘未夹紧启动主轴. 
045：主轴运转时松开卡盘. 
250：尾座进退中自动运行或开启主轴或主轴旋转时执行了尾座进退指令。 
 
 
2.7.7  子程序控制 
2.7.7.1  主程序和子程序 
为简化编程，当相同或相似的加工轨迹、控制过程需要多次使用时，就可以把该部分的程序指令编
辑为独立的程序进行调用。调用其它程序的程序称为主程序，被调用的程序（以M99结束）称为子程序。
子程序和主程序一样占用系统的程序容量和存储空间，子程序也必须有自己独立的程序名，子程序可以
被其它任意主程序调用，也可以独立运行。子程序结束后就返回到主程序中继续执行，见下图所示。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Ｏ0001; 
G50 X100 Z100; 
M3 S1 T0101; 
G0 X0 Z0; 
G1 U200 Z200 F200; 
M98 P21006; 
G0 X100 Z100; 
M5 S0 T0100; 
M30; 
% 
Ｏ1006; 
G1 X50 Z50; 
U100 W200; 
U30 W-15 R15 F250; 
M99; 
% 
调用
返回
主程序
子程序 
图2-9 


                                                        GSK218T 车床数控系统 使用手册 
 
23
2.7.7.2  子程序调用M98 
指令格式： 
M98  P○○○□□□□ 
 
 
 
 
 
指令功能：当前程序段的其它指令执行完成后，系统不执行下一程序段，而是去执行P 指定的子程
序，子程序最多可执行999 次。 
注意：在MDI 方式下不能调用子程序！ 
 
2.7.7.3  从子程序返回M99  
指令格式： M99  P○○○○ 
 
 
 
 
指令功能： （子程序中）当前程序段的其它指令执行完成后，返回主程序中由P指定的程序段继续 
执行，当未输入P时，在返回主程序中调用当前子程序的M98指令的后一程序段继续执行。如果M99
用于主程序结束（即当前程序不是由其它程序调用执行），当前程序反复执行。 
示例：图2-10表示了调用子程序（M99中有P指令字）的执行路径。图2-11表示M99中无P指令字调
用及返回执行路径。 
 
主程序                           子程序 
  
 
 
 
 
 
 
 
 
 
 
 
 
调用次数（1-999），调用1 次时，可不输入
被调用的子程序号（0000～9999）。当调用次数
未输入时，子程序号的前导0 可省略；当输入调
用次数时，子程序号必须为4 位数； 
返回主程序执行的程序段号（0000～9999），
前导0 可以省略。 
O1009； 
N0010 ………; 
N0020……….; 
N0030……….; 
N0040 M98 P1010; 
N0050……….; 
N0060……….; 
N0070……….; 
…….. 
O1010； 
N1020………; 
N1030………; 
……… 
……… 
N1100 M99 P0070; 
% 
图2-10


                                                        GSK218T 车床数控系统 使用手册 
 
24 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                      
   
 
本系统最多可以调用四重子程序，即可以在子程序中调用其它子程序（图2-12为二重）。 
 
O0001； 
... 
... 
... 
M98P1000; 
... 
... 
... 
... 
M30; 
主程序 
O1000；
...
...
...
M98P2000;
...
...
...
...
M99;
一重子程序
O2000；
...
...
...
M98P3000; 
...
...
...
...
M99;
二重子程序
一重嵌套 
二重嵌套  
图2-12 二重子程序嵌套 
 
2.8  准备功能（G 功能） 
准备功能——G指令代码由G及其后二位数值组成，它用来指定刀具相对工件的运动轨迹、进行坐
标设定等多种操作，G指令一览表见表2-6。 
G □□ 
数字（00～99，首位0可以不输入） 
地址G 
G指令被分为00、01、02、03、06、07组。其中00组属于非模态指令。其余组的为模态G指令。 
模态G指令一经执行，其功能和状态一直有效，当同组的其他G指令被执行后，原G指令功能和状
态被注销。 
初态G指令是指系统上电后初始的模态，G指令的初态有G00、G97、G98、G40、G21。 
Ｏ0001； 
G50 X100 Z100； 
M3 S1 T0101； 
G0 X0 Z0； 
G1 U200 Z200 F200; 
M98 P21006; 
G0 X100 Z100; 
M5 S0 T0100; 
Ｏ1006; 
G1 X50 Z50; 
U100 W200; 
U30 W-15 R15 F250; 
M99; 
% 
调用
返回
主程序 
子程序
图2-11


                                                        GSK218T 车床数控系统 使用手册 
 
25
非模态G指令一经执行，其功能和状态仅一次有效，以后需使用相同的功能和状态必须再次执行。 
在同一个程序段中可以指令几个不同组的G指令，如果在同一个程序段中指令了两个以上的同组G
指令时，产生131号报警。没有共同指令字的不同组G代码可以放在同一程序段中，功能同时有效并且
与先后顺序无关。如果使用了表2-6以外的G指令或指令了不具有的选择功能的G指令，则出现报警。 
表2-6 G 指令一览表 
代 码 
组别 
格      式 
说      明 
*G00 
G00 X(U)__Z(W) __ 
定位，快速移动，各轴速率参数
设定 
G01 
G01 X(U)__Z(W) __ __F 
直线插补 
G02 
G02 X(U)_Z(W)_R_(I_K_)  F_ 
顺时针圆弧插补，CW 
G03 
01 
G03 X(U)_Z(W)_R_(I_K_)  F_ 
逆时针圆弧插补，CCW， 
G04 
00 
G04 P_；或G04 X_； 
暂停  
G20 
G20 
英制单位选择 
*G21 
06 
G21 
公制单位选择 
G28 
00 
G28 X(U)__Z(W) __ 
返回参考点，X、Z 指定中间点 
*G40 
G40 
刀具半径补偿取消 
G41 
G41 
左侧刀具半径补偿 
G42 
07 
G42 
右侧刀具半径补偿 
G32 
01 
G32 X(U)__Z(W) __F(I) 
等螺距螺纹切削 
G33 
01 
G33 Z(W) __F(I) 
攻丝循环 
G34 
01 
G34 X(U)__Z(W) __F(I)  K__ 
变螺距螺纹切削 
G50 
00 
G50 X(U)__Z(W)__ 
坐标系设定 
G65 
00 
G65 Hm P#I  Q#J  R#K 
宏指令（具体见后） 
G70 
G70 P(ns) Q(nf) 
精加工循环 
G71 
G71 U(ΔD) R(E)  
G71 P(NS) Q(NF) U（ΔU）W(ΔW) F(F) S(S) 
T(T) 
外圆粗车循环 
G72 
G72 W (ΔD) R (E)  
G72 P(NS) Q(NF) U(ΔU) W(ΔW) F(F) S(S) 
T(T) 
端面粗车循环 
G73 
G73 U (ΔI) W (ΔK) R (D)  
G73 P(NS) Q(NF) U(ΔU) W(ΔW) F(F) S(S) 
T(T) 
封闭切削循环 
G74 
00 
G74 R(e)  
G74 X(U) Z(W) P(Δi) Q(Δk) R(Δd) F(f) 
端面深孔加工循环 


                                                        GSK218T 车床数控系统 使用手册 
 
26 
G75 
G75 R(e)  
G75 X(U) Z(W) P(Δi) Q(Δk) R(Δd) F(f) 
外圆内圆切槽循环 
G76 
G76 P(m) (r) (a) Q(△dmin) R(d) 
G76 X(U) Z(W) R(i) P(k) Q(△d) F(L) 
复合型螺纹切削循环 
G90 
G90 X(U)__ Z(W)__ R__ F__ 
外圆，内圆车削循环 
G92 
G92 X(U)__ Z(W)__ R__ F(I)__J__K__ 
螺纹切削循环 
G94 
01 
G94 X(U)__ Z(W)__ R__ F__  
端面车削循环 
G96 
G96 S 
恒线速控制 
*G97 
02 
G97 S 
取消恒线速控制 
*G98 
G98 
每分进给 
G99 
03 
G99 
每转进给 
注1：带有*记号的G 代码，当电源接通时，系统处于这个G 代码的状态。 
注2：00 组的G 代码是一次性G 代码。 
 
2.8.1  快速定位G00 
指令格式：G00 X（U）  Z（W）  ； 
指令功能：两轴同时以各自的快速移动速度移动到X（U）、Z（W）指定的位置。 
两轴是以各自独立的速度移动的，其合成轨迹并非直线，因此不能保证各轴同时到达终点，编程时
应特别注意。X、Z轴各自的快速移动速度分别由参数№.021、№.022设定，也可通过操作面板的快速移
动速度倍率开关进行修调。 
X（U）：X 向定位终点的绝对（相对）坐标；  
Z（W）：Z 向定位终点的绝对（相对）坐标； 
X(U)、Z (W)取值范围：（－9999.999～＋9999.999）mm 
 
 
 
 
 
 
 
 
 
 
 
                                  图2－13 
 
 
A
B
Z
W
U/2
X轴
Z轴
X


                                                        GSK218T 车床数控系统 使用手册 
 
27
例：如图2-14，刀具从A 点快速定位到B 点，相关尺寸如图所示。 
 
 
 
 
 
 
 
 
 
图2-10 
   
                             图2－14 
编程如下： 
G0 X20 Z25；（绝对编程，直径编程） 
G0 U-22 W-18；（相对编程，直径编程） 
2.8.2  直线插补G01 
指令格式：G01  X（U）_  Z（W）_  F_； 
功能意义：刀具从当前位置以F 指定的合成进给速度移动到X（U）、Z（W）指定的位置，轨迹为
从当前点到指定点的连线。可通过操作面板的进给倍率按钮进行进给速度的16 级修调。插补轨迹如图
2-11 所示。 
X（U）：X 向插补终点的绝对（相对）坐标；  
Z（W）：Z 向插补终点的绝对（相对）坐标； 
X、U、Z 、W 取值范围：（－9999.999～＋9999.999）mm 
F：X、Z 轴的合成进给速度，模态指令字。其取值范围与是G98 还是G99 状态有关，具体如下： 
表2-7 
 
G98（mm/min） 
G99（mm/r） 
取值范围 
1~7600 
0.001~500 
 
指令轨迹： 
X轴
Z轴
B
A
20
25
18
11


                                                        GSK218T 车床数控系统 使用手册 
 
28 
当前点
终点
X
L
Z
U/2
W
X轴
Z轴
 
图2-15 
 
对于两轴同时移动的插补方式，F指定为两轴的合成进给速度。 
从图2-15可知： 
X轴方向上的进给速度FBX
B=U
L
×F： 
Z轴方向上的进给速度FBZ
B=W
L
×F。（其中L＝
2
2
/ 4
U
W
+
，U为直径值） 
例：如图2-16所示，请编写从当前点到终点的直线插补程序。 
程序如下（直径编程）： 
G01 X60.0 Z7.0；（绝对值编程） 
G01 U20.0 W-25.0；（相对值编程） 
 
图2-16 
 


                                                        GSK218T 车床数控系统 使用手册 
 
29
2.8.3  圆弧插补G02/G03 
指令格式： 
G02                       R_ 
X（U）_Z（W）_             F_； 
G03                      I_K_ 
指令功能：两轴同时从起点位置（当前程序段运行前的位置）以R指定的值为半径或以I、K值确定
的圆心顺时针（G02）/逆时针（G03）圆弧插补至X（U）、Z（W）指定的终点位置。 
X（U）：X 向圆弧插补终点的绝对（相对）坐标；  
Z（W）：Z 向圆弧插补终点的绝对（相对）坐标； 
R：圆弧半径； 
I：圆心相对圆弧起点在X 轴上的坐标值；（半径指令） 
K：圆心相对圆弧起点在Z 轴上的坐标值； 
X、U、Z 、W、R、I、K 取值范围：（－9999.999～＋9999.999）mm 
F：圆弧切削速度。 
X
圆
弧
起
点
X轴
I
Z轴
Z
W
圆
弧
终
点
K
U/2
R
             
X
U/2
X轴
K
I
Z轴
Z
W
R
圆
弧
起
点
圆
弧
终
点
 
图2-17 G03 轨迹图                           图2-18 G02 轨迹图 
 
顺时针或逆时针与采用前刀座坐标系还是后刀座坐标系有关，具体见图2-19。 
 
G02 
G03
X 
Z
G02
G03 
X
Z 
 
图2-19 
 
 


                                                        GSK218T 车床数控系统 使用手册 
 
30 
例：用G02指令编写图2-20程序。 
φ63.06
X
Z
起点
终点
圆心
18.929
3.554
 
图2-20  
程序如下（刀具当前点在起点）： 
G02 X63.06 Z30.0 R19.26 F300 ；          或 
G02 U17.81 W-20.0 R19.26 F300 ；         或 
G02 X63.06 Z30.0 I18.929 K-3.554 F300 ；   或 
G02 U17.81 W-20.0 I18.929 K-3.554 F300 ； 
 
注意 
● 
圆弧中心用地址I、K指定时，其分别对应于X，Z轴（见图2-17、图2-18 ）。I、K表示从圆 
弧起点到圆心的矢量分量，根据方向带有符号； 
● 
指令格式中地址I、K或R至少必须指定一个，否则系统产生报警； 
● 
地址X（U）、Z（W）可省略一个或全部，当省略一个时，表示省略的该轴的起点和终点一
致；同时省略表示终点和始点是同一位置； 
● 
当X（U）、Z（W）同时省略时，若用I、指令圆心时，表示全圆；I、K和R不能同时指令，
否则产生报警； 
● 
当I=0、K=0可以省略； 
● 
R指定时，当R>0时，指定的为小于180度的圆弧；对于大于180度的圆弧，只可以用I、K
指定。 
 
 
 
 
 


                                                        GSK218T 车床数控系统 使用手册 
 
31
2.8.4  暂停指令G04 
指令格式：G04 P__ ；或 
G04 X__ ；  
指令功能：此指令可以推迟下个程序段的执行，推迟时间为指令的时间。指令范围从0.001～
9999.999秒。当不指定P、X时，表示程序段间准确停。 
当系统参数№.11的BIT0位=1时，单位如表2-8所示： 
表2-8 
地址 
P 
X 
单位 
0.001s 
1s 
当系统参数№.11的BIT0位=0时，单位如表2-9所示： 
表2-9 
地址 
P 
X 
单位 
0.001s 
0.001s 
注：G04 后同时有P 与X、P 与U 指令时，X、U 指令有效，P 指令无效。 
 
2.8.5  返回机床零点（机械零点）G28 
指令格式：G28 X（U）   Z（W）    ； 
指令功能：此指令使指令的轴经过X（U）、Z（W）指定的中间点返回到机械零点。指令中可指令
一个轴，也可指定两个轴。 
 
表2-10 
指  令 
功  能 
G28 X（U）    
X轴回机械零点，Z轴保持在原位 
G28 Z（W）     
Z轴回机械零点，X轴保持在原位 
G28  
保持在原位 
G28 X（U）   Z（W）     
X、Z轴同时回机械零点 
 
指令动作过程（动作过程见图2-21）： 
（1）快速从当前位置同时以各自独立的速度定位到指令轴的中间点位置（A点→B点）。 
（2）快速从中间点以各自独立的速度定位到机械零点（B点→R点）。 
（3）若非机床锁住状态，返回机械零点完毕时，回零结束指示灯亮。 


                                                        GSK218T 车床数控系统 使用手册 
 
32 
 
当前点A 
Z
X 
中间点B
（X，Z）
参考点R 
 
图2-21 
 
注1：在电源接通后，如果一次也没进行手动返回机械零点，指令G28时，从中间点到机械零点的运动和手动返回机械零
点时相同。 
注2：从A点→B点及B点→R点过程中，两轴是以各自独立的速度定位的，因此，其轨迹并非一定是直线； 
注3：如机床未安装机械零点，不得使用此功能。 
 
2.8.6  等螺距螺纹切削指令G32 
指令格式：G32 X（U）__Z（W）__ F（I）__； 
指令功能：两轴同时从起点位置（G32指令运行前的位置）到X（U）、Z（W）指定的终点位置的
螺纹切削加工（轨迹如图2-22所示）。此指令可以切削等导程的直螺纹、锥螺纹和端面
螺纹。G32螺纹切削时，需退刀槽。 
X（U）：X 向螺纹切削终点的绝对（相对）坐标；  
Z（W）：Z向螺纹切削终点的绝对（相对）坐标； 
X(U)、Z(W)取值范围：（－9999.999～＋9999.999）mm 
F：公制螺纹导程，即主轴每转一转刀具相对工件的移动量，取值范围：（0.001～500）mm，模态
参数； 
I：英制螺纹每英寸牙数，取值范围为（0.06～25400）牙/英寸，模态参数。 


                                                        GSK218T 车床数控系统 使用手册 
 
33
X轴
终点
当前点
Z轴
W
U/2
X
Z
Fx
Fz
a
 
   图2-22  
本系统不分长短轴，程序设定的螺纹导程为锥面上的导程。当需要换算到长短轴的长度时，算法如
下，具体见图2-23。 
Z
X
锥度螺纹
α
 
图2-23 
螺纹切削注意事项 
● 
在螺纹切削开始及结束部分，一般由于升降速的原因，会出现导程不正确部分，考虑此因
素影响，指令螺纹长度比需要的螺纹长度要长，如图2-24。 
● 
在切削螺纹过程中，进给速度倍率无效，恒定在100%。 
● 
在螺纹切削时主轴必须开动，否则产生报警；在螺纹切削过程中，主轴不能停止。 
● 
在螺纹切削过程中主轴倍率无效，因为如果改变主轴倍率，会因为升降速影响等因素导致
不能切出正确的螺纹。 
● 
进给保持在螺纹切削中无效，在执行螺纹切削状态之后的第一个非螺纹切削程序段后面，
可用单程序段停来停止。 
● 
若前一个程序段为螺纹切削程序段，当前程序段也为螺纹切削，在切削开始时不检测主轴
位置编码器的一转信号。 
● 
主轴转速必须是恒定的，当主轴转速变化时，螺纹会或多或少产生偏差。 
● 
F、I同时出现在一个程序段时，系统会产生报警。 
导程LZ＝F×COSα 
导程LX＝F×SINα


                                                        GSK218T 车床数控系统 使用手册 
 
34 
实例1：用G32指令编写图2-24程序，螺纹导程：4mm。 
δ2
X
Z
δ1
50
70
 
    图2-24  
程序如下：取δ1 = 3mm，δ2 = 1.5mm，总切深1mm（单边），分两次切入。 
G00 X49 Z3；（第一次切入1mm） 
G32 W-74.5 F4.0；  
G00 X55； 
W74.5； 
X48；（第二次再切入1mm） 
G32 W-74.5 F4.0； 
G00 X55 
W74.5； 
M30 
 
实例2：用G32 指令编写图2-25 程序。长轴为Z 轴，螺纹导程：3mm 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
图2-25 
X轴
当前点
Z轴
40
50
δ2
δ1
终点


                                                        GSK218T 车床数控系统 使用手册 
 
35
程序如下：取δ1 = 2mm，δ2 = 1mm，总切深1mm（单边），分两次切入。 
G00 X19 Z2；（第一次切入1mm） 
G32 X49 Z-43 F3； 
G00 X55；  
Z2； 
G0 X18；（第二次再切入1mm） 
G32 X48 Z-43 F3； 
G0 X55； 
Z2； 
M30 
2.8.7  Z 轴攻丝循环G33 
指令格式：G33 Z（W）__ F（I）__； 
指令功能：Z轴从起点位置（G33指令运行前的位置）到Z（W）指定的终点位置的刚性攻丝（轨迹
如图2-23所示），主轴反转返回循环起点，再恢复主轴的正向旋转。 
Z（W）：Z向螺纹切削终点的绝对（相对）坐标； 
Z(W)取值范围：（－9999.999～＋9999.999）mm 
F：公制螺纹导程，即主轴每转一转刀具相对工件的移动量，取值范围:（0.001～500）mm，模态
参数； 
I：英制螺纹每英寸牙数，取值范围为（0.06～25400）牙/英寸，模态参数。 
 
Ｇ33 Z 轴攻牙循环的执行过程： 
1） 轴进刀攻丝； 
2） 关主轴； 
3） 等待主轴完全停止； 
4） 主轴反转；（与原来旋转方向相反） 
5） Z 轴退刀至加工起点； 
6） 主轴停止； 
7） 主轴恢复循环前的主轴旋转方向。 
 
 
 
 
 
 
 
 
图  2-26  G33 攻丝循环 
30 
10
X 
Z


                                                        GSK218T 车床数控系统 使用手册 
 
36 
例：螺纹导程2mm 的单头螺纹 
Ｎ００１０ Ｍ３ 
；启动主轴 
Ｎ００２０ Ｇ３３ Ｚ－４０ F２  ；攻丝循环 
Ｎ００３０ Ｇ０ Ｚ１００ Ｘ３０ 
；继续加工 
 
注1：由于本指令为刚性攻丝。在主轴停止信号有效后主轴还将有一定的减速时间。此时Z 轴将仍然跟随主轴的转 
动，直到主轴完全停止，因此实际加工时螺纹的底孔应比实际的需要稍深一些，具体的长度应根据攻丝时主轴 
转速高低和是否有主轴刹车装置而定。 
注2：其他注意事项G32 螺纹切削相同。 
注3：本指令为模态指令。 
注4：在本指令中输入X 值时会产生报警：＃009 输入了非法字地址符。 
 
2.8.8  变螺距螺纹切削指令G34 
指令格式：G34 X（U）__Z（W）__ F（I）__K__； 
指令功能：两轴同时从起点位置（G34指令运行前的位置）到X（U）、Z（W）指定的终点位置的 
螺纹切削加工。此指令可以切削变导程的直螺纹、锥螺纹和端面螺纹。G34螺纹切削时， 
需退刀槽。 
X（U）：X 向螺纹切削终点的绝对（相对）坐标；  
Z（W）：Z向螺纹切削终点的绝对（相对）坐标； 
X(U)、Z(W)取值范围：（－9999.999～＋9999.999）mm 
F：公制螺纹导程，螺纹起点的螺距，取值范围：（0.001～500）mm，模态参数； 
I ：英制螺纹每英寸牙数，螺纹起点的螺距，取值范围：（0.06～25400）牙/英寸，模态参数； 
K：主轴每转螺距的增量或减量。 
    K的取值范围：（±0.001～500）mm、（±0.06～25400）牙/英寸 
当K值的增加或减少使螺距超过允许值或螺距减少到0或负值时，系统会产生报警；同时如果螺
距变化较大时，可能会出现螺纹加工中加减速较慢而导致螺距不准的现象。 
 
 
2.8.9  工件坐标系设定G50 
1）工件坐标系设定 
指令格式：G50 X  Z ； 


                                                        GSK218T 车床数控系统 使用手册 
 
37
指令功能：此指令用来建立一个以（x ，z）为参考点的工件坐标系，并将（x ，z）点设置为参考 
位置点（程序零点）。坐标系一旦建立，后面指令中绝对值指令的位置都表示在该坐标系中 
的位置直至再次使用G50 指令设置新的坐标系。 
当参数设置为直径编程时X 向为直径指定，参数设置为半径编程时X 向为半径指定。 
 
 
 
 
 
 
 
 
 
 
 
图2-27 
  
如图2-27 所示，当执行指令G50 X100 Z150 后，建立了如图所示的工件坐标系，并将（X100 Z150）
点设置为程序零点。 
注1：一般情况下，G50 应在程序开头设定工件坐标系，用在中间位置可能会导致程序运行的轨迹与理想的轨迹有出入。 
注2：一般情况下，用G50 设定坐标系时应在刀补取消状态；若在补偿状态用G50 设定坐标系，那么设定后显示的值是
刀偏值以后的值。如下表： 
表2-11 
刀补状态 
执行G50 X20 Z20 后坐标显示值 
01 号刀补值 
T0100 
X：20       Z：20 
T0101 
X：32   Z：43(以坐标偏移方式执行刀补) 
X：-12 
Z：-23 
注3： G50 设定坐标系时，程序段不能跟M、S、T 指令，否则报警。 
 
2） 坐标系平移 
指令格式：G50 U  W ； 
指令功能：根据上述指令，现在坐标系中刀具上的某一点（x，z）例如刀尖，在所建的坐标系中的
位置为：X+U，Z+W。 
当参数设置为直径编程时X 向为直径指定，参数设置为半径编程时X 向为半径指定。 
注1： G50 坐标系设定程序段中不能与M、S、T 指令共段，否则产生报警。 
 
2.8.10  每分进给 (G98) 
G98 是每分进给状态。刀具每分钟走的距离， 
用F 后面的数值直接指令。 
G98 是模态的，一旦指令了G98 状态，在G99(每转进给)指令之前，一直有效。 
程序零点 


                                                        GSK218T 车床数控系统 使用手册 
 
38 
2.8.11  每转进给 (G99) 
G99 是每转进给状态。主轴每转刀具的进给量用F 后面的数值直接指令。 
G99 是模态的，一旦指令了G99 状态，在G98(每分进给)指令之前，一直有效。 
 表2.3.9 每分进给和每转进给 
 
每  分  进   给 
每  转  进  给 
指 定 地 址 
F 
F 
指 定 代 码 
G98 
G99 
指 定 范 围 
1～8000mm/min 
(F1～F8000) 
0.001～500.00mm/rev 
(F0.001～F500) 
限  制  值 
每分进给、每转进给都限制在某一固定的速度上。此限制值由机床厂家设定。(限制
值是倍率后的数值) 
倍      率 
每分进给、每转进给都可用0～150％的倍率(10％一挡) 
 
注1:当位置编码器的转速在1 转/分以下时，速度会出现不均匀。如果不要求速度均匀地加工，可用1 转/分以下的转速
这种不均匀会达到会么程度，不能一概而论，不过在1 转/分以下，转速越慢，越不均匀。 
注2：G98，G99 是模态的，一旦指令了，在另一个代码出现前，一直有效。 
注3：F 代码最多允许输入7 位。但是，即使输入进给速度值超过限制值，移动时也限制在限制值上。 
注4：使用每转进给时，主轴上必须装有位置编码器。 
2.8.12  恒线速控制(G96， G97)  
所谓的恒线速控制是指S 后面的线速度是恒定的，随着刀具的位置变化，根据线速度计算出主轴转
速，并把与其对应的电压值输出给主轴控制部分，使得刀具瞬间的位置与工件表面保持恒定的关系。 
线速度的单位如下： 
 
输入单位 
线速度单位 
公   制 
m/min(米/分) 
 
线速度单位根据机械厂家不同有时会不同。 
恒线速控制指令如下： 
G96 S__ ； 
S 后数值指定的是刀尖的切线方向的线速度  
恒线速控制指令取消如下： 
G97 S__； 
S 后数值指定的是主轴转速       
恒线速控制时，旋转轴必须设定在零件坐标的Z 轴(X=0)上来。 
 


                                                        GSK218T 车床数控系统 使用手册 
 
39
 
Z 
X 
            
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
1） 主轴速度倍率 
对于指定的线速度或转速，根据主轴倍率选择，可以使用50%，60%，70%，80%，90%，100%，
110%，120％的倍率。 
2） 主轴最高转速限制 
 
用G50 S 后面的数值，可以指令恒线速控制的主轴最高转速(转/分)。 
G50 S__  ； 
在恒线速控制时，当主轴转速高于上述程序中指定的值时，则被限制在主轴最高转速上。 
3） 快速进给(G00) 时的恒线速控制 
对于用G00 指令的快速进给程序段，当恒线速控制时，不进行时刻变化的刀具位置的线速度控
制，而是计算程序段终点位置的线速度。这是因为快速不进行切削的缘故。 
注1：当电源接通时，对于没设定主轴最高转速的状态，即为不限制状态。对于限制，只适用于G96 状态，G97 状态
时不限制。 
注2：G50 S0；意味着限制到0rev/min。 
20 40 60 80 100 120140160180200220240260280300
200 
600 
400 
800 
1200 
1000 
1400 
1600 
1800 
2000 
2200 
2400 
2600 
2800 
3000 
0 
0
0 
5 
1 0 0 
2 0 0 
3 0 0 
4 00
S为600
m min
由图中可知，在约160mm（半径）
处，主轴转速（r/min）的数值和线速
（m/min）的数值是一致的。 
单位（mm）
（n） 


                                                        GSK218T 车床数控系统 使用手册 
 
40 
注3：在G96 状态中，被指令的S 值，即使在G97 状态中也保持着。当返回到G96 状态时，其值恢复。 
G96 S50；（50m/min） 
G97 S1000；（1000r/min） 
G96 X3000；（50m/min） 
注4：机床锁住时，机床不动，对应程序中X 坐标值的变化，进行恒线速控制。 
注5：切螺纹时，恒线速控制也是有效的，因此切螺纹时，用G97 方式使恒线速控制无效，以使主轴以同一转速转动。 
注6：每转进给（G99），在恒线速控制方式下（G96），虽然无使用意义，但仍有效。 
注7：从G96 状态变为G97 状态时，G97 程序段如果没有指令S 码（转/分），那么G96 状态的最后转速作为G97 状态
的S 码使用。 
N100 G97 S800；（800r/min） 
… 
N200 G96 S100；（100m/min） 
… 
N300 G97；  （Xr/min） 
X 是N300 前一个程序段的转速，即从G96 状态变为G97 状态时，主轴速度不变。G97→G96 时，G96 状态的S
值有效。如果S 值没有指令，则S=0 m/min。 
注9：恒线速控制中指定的线速度是相对于编程轨迹的，而不是刀补后的位置的线速度。 
程序实例: 
 
        300   400   500   600   700   800   900   1000  1100  1200  1300  1400 1500 
100 
200 
300 
400 
400 
600 
700 
500 
编程轨迹
补偿后的轨迹
2
1 
4 
3
半径值 
675 
375 
Φ400 
Φ600 
N11
N14
N15 
N16 
1050
X 
Z 
 
 
 


                                                        GSK218T 车床数控系统 使用手册 
 
41
 (直径指定) 
N8 G00 X1000.Z1400.； 
N9 T0303； 
N11 X400.Z1050.； 
N12 G50 S3000；        (指定最高转速) 
N13 G96 S200；         (线速度200m/min) 
N14 G01 Z700. F1000； 
N15 X600. Z400.； 
N16 Z....； 
 
CNC 是用程序中的X 坐标值进行线速度计算，改变主轴转速使其达到指定的线速度。当有补偿时，
不是用补偿后的X 坐标值进行计算的。上例的N15 的终点，不是转塔中心位置，而是刀尖位置，也就是
说，刀尖在Φ600 处，线速度为200 米/分，X 坐标值为负时，取绝对值进行计算。 
2.8.13  单一型固定循环指令 
在有些特殊的粗车加工中，由于切削量大，同一加工路线要反复切削多次，此时可利用固定循环功
能，用一个程序段可实现通常由多个程序段指令才能完成的加工路线。并且在重复切削时，只需改变相
应的数值，对简化程序非常有效。单一型固定循环指令有外（内）圆切削循环G90、螺纹切削循环G92
和端面切削循环G94。 
在下面的说明图中，是用直径指定的。当半径指定时，用U/2替代U、X/2替代X。 
 
2.8.13.1  外（内）圆切削循环G90 
指令格式：G90 X（U）__ Z（W）__ R__ F__； 
指令功能：执行该指令时，可实现圆柱面、圆锥面的单一循环加工，循环完毕刀具回起点位置。图2-28、 
图2-29 中虚线（R）表示快速移动，实线（F）表示切削进给。在增量编程中地址U 后面的数 
值的符号取决于轨迹1 的X 方向，地址W 后面的数值的符号取决于轨迹2 的Z 方向。 
其中：X、Z：循环终点绝对坐标值，单位：mm； 
U、W：循环终点相对循环起点的坐标，单位：mm； 
R：循环起点与循环终点的半径之差，单位：mm； 
X(U)、Z (W)、R 取值范围：（－9999.999～＋9999.999）mm 
F：循环中X、Z 轴的合成进给速度，模态指令。 


                                                        GSK218T 车床数控系统 使用手册 
 
42 
X轴
Z
W
4(R)
2(F)
1(R)
U/2
X/2
Z轴
3(F)
 
图2-28 
X轴
Z
W
4(R)
2(F)
R
1(R)
U/2
X/2
Z轴
3(F)
 
图2-29 
根据起刀点位置的不同，G90 指令有四种轨迹，如图2-30 所示。 
1）U＜0，W＜0，R＜0 
2）U＜0，W＜0，R＞0 
        
z 
但 |R|≤|U/2|  
z 
 
 
 
 
  
 
 
 
x                                         x 
 
 
U 
R 
W 
D 
A 
B 
C 
U 
R
W 
A
B 
C 
D 


                                                        GSK218T 车床数控系统 使用手册 
 
43
3）U＞0，W＜0，R＜0 
4）U＞0，W＜0，R＞0 
但 |R|≤|U/2|                      z 
z 
 
 
 
 
 
x 
x 
 
图2-30 G90 指令运行轨迹 
 
例：用G90 指令编写图2-31 零件程序，零件尺寸如图2-31 标示。 
Φ120
Φ60
轴
轴
 
图2-31  
程序如下： 
O0001； 
M3 S300； 
G0 X130 Z5； 
G90 X120 Z-110 F200；（C→D） 
X60 Z-30；（A→B） 
G0 X130 Z-30； 
G90 X120 Z-80 R-30 F150；（B→C） 
M5 S0； 
M30； 
 
2.8.13.2  螺纹切削循环G92 
 
指令格式： G92X(U)__ Z(W)__J__K__ F__ L__； （公制螺纹） 
                 
 
 
                              
       指定螺纹导程(L) 
G92X(U)__ Z(W)__ J__K__ I __ L__；（英制螺纹） 
           
U 
R 
W 
A
B 
C 
D 
U
R
W 
A
B 
C 
D 
指定螺纹导程(牙数/英寸) 


                                                        GSK218T 车床数控系统 使用手册 
 
44 
  
其中：X(U)、 Z(W) 终点坐标，J、K分别为X、Z向的退尾长度，L为螺纹头数 
英制螺纹导程‘I’为模态指令，可以省略。 
 
指令功能：执行该指令，可进行等导程的直螺纹、锥螺纹单一循环螺纹加工，循环完毕刀具回起点
位置。螺纹切削时不需退刀槽。当用户不用J、K设定螺纹的退尾长度时，可由参数号068的
THDCH设置螺纹的退尾长度，螺纹倒角宽度=THDCH X 0.1 X 螺距；在增量编程中地址U后
面的数值的符号取决于轨迹1的X方向，地址W后面的数值的符号取决于轨迹2的Z方向。图
2-32、图2-33中虚线（R）表示快速移动，实线（F）表示切削进给。当J、K设定值时，按J、
K设定值执行X、Z轴退尾；当只设定J或K值时，按45度退尾执行；当不需要退尾时，可设J0
或K0即可。 
其中：X、Z：循环终点坐标值，单位：mm； 
U、W：循环终点相对循环起点的坐标，单位：mm； 
J、K：退尾长度，为无符号数。单位：mm；J 为半径指定； 
R：螺纹起点与螺纹终点的半径之差，单位：mm； 
X(U)、Z(W)、R 取值范围：（－9999.999～＋9999.999）mm； 
F：公制螺纹导程，取值范围为（0.001～500），单位：mm，模态指定； 
I：英制螺纹每英寸牙数，取值范围为（0.06～25400），单位：牙/英寸，模态指定； 
L：螺纹头数，取值范围为（1～99），单位：头，模态指定；不指定时默认为1； 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
图2-32 


                                                        GSK218T 车床数控系统 使用手册 
 
45
)
F)
X/2
R)
)
Z
刀具
X
 
图2-33 
说明 
● 
关于螺纹切削的注意事项，与G32螺纹切削相同，详情请参阅本手册2.8.6。 
● 
螺纹切削循环中若有进给保持信号（暂停）输入，循环继续直到3的动作结束后停止； 
● 
螺纹导程范围，主轴速度限制等，与G32的螺纹切削相同； 
● 
当用G92加工直螺纹时，如G92的起刀点与螺纹终点在X方向相同时，将产生报警，因为无
法识别螺纹为内螺纹或外螺纹。 
例：先用G90 指令编写图2-34 零件程序，再用G92 指令加工螺纹。零件尺寸如图2-34 标示。 
Φ
轴
轴
 
图2-34  
程序如下： 
O0001； 
M3 S300； 
G0 X150 Z50； 
T0101；（外圆车刀） 
G0 X130 Z5； 
G90 X120 Z-110 F200；（C→D） 
X60 Z-30；（A→B） 
G0 X130 Z-30； 
G90 X120 Z-80 R-30 F150；（B→C） 
G0 X150 Z150； 
T0202；（螺纹刀） 
G0 X65 Z5； 


                                                        GSK218T 车床数控系统 使用手册 
 
46 
G92 X58.5 Z-25 F3；（加工螺纹，分4刀切削） 
X57.5 Z-25； 
X56.5 Z-25； 
X56 Z-25； 
M5 S0； 
M30； 
 
2.8.13.3  端面切削循环G94 
指令格式：G94 X（U）__ Z（W）__ R__ F__； 
指令功能：执行该指令时，可进行端面的单一循环加工，循环完毕刀具回起点位置。图2-35、图 
2-36 中R 表示快速移动， F 表示切削进给。在增量编程中地址U 后面的数值的符号取决于轨 
迹2 的X 方向，地址W 后面的数值的符号取决于轨迹1 的Z 方向。 
其中：X、Z：循环终点绝对坐标值，单位：mm； 
U、W：循环终点相对循环起点的坐标，单位：mm； 
R：循环起点与循环终点的Z 轴坐标之差，单位：mm； 
X(U)、Z(W)、R 取值范围：（－9999.999～＋9999.999）mm 
F：循环中X、Z 轴的合成进给速度，模态指令。 
             
 
图2-35                                      图2-36  
 
根据起刀点位置的不同，G94 指令有四种轨迹，如图2-37 所示： 
 
1) U<0，W<0，R<0                                 2) U<0，W<0，R>0(│R│≤│W
│) 
 
Z  
Z 
 
 
 
 
 
X 
   X 
 
U/2 
R 
W 
A 
B 
C 
D 
R
U/2 
W 
A 
B 
C
D 


                                                        GSK218T 车床数控系统 使用手册 
 
47
    
 3) U>0，W<0，R>0 (│R│≤│W│)             4) U>0，W<0，R<0 
 
 
Z                                          Z 
 
 
 
 
 
  X 
X 
图2-37 G94 指令运行轨迹 
例：用G94 指令编写图2-31 零件程序。 
程序如下： 
O0002； 
M3 S1； 
G0 X130 Z5； 
G94 X120 Z-110 F100；（D→C） 
G0 X120 Z0； 
G94 X60 Z-30 R-50；（C→B→A） 
M5 S0； 
M30； 
 
2.8.13.4  单一型固定循环指令的注意事项 
1） 在单一型固定循环中，数据X（U），Z（W），R 都是模态值，当没有指定新的X（U），Z（W），
R 时，前面指令的数据均有效； 
2） 在单一型固定循环中，对于X（U），Z（W），R 的数据，当指令了G04 以外的非模态G 指令
或G90、G92 或G94 以外的01 组的指令时，被清除。 
3） 在G90、G92 或G94 程序段后只有无移动指令的程序段时，则不会重复此固定循环。  
（例）  N003 M3； 
… 
… 
N010 G90 X20.0 Z10.0 F2000； 
N011 M8；（不会重复执行G90） 
… 
… 
4） 在固定循环状态中，如果指令了M，S，T，那么，固定循环可以和M，S，T 功能同时进行。
如果不巧，象下述例子那样指令M，S，T 后取消了固定循环（由于指令G00，G01）时，请再
次指令固定循环。 
U/2 
R 
W 
D 
C 
B 
A 
U/2 
R
W
D 
C 
B
A 


                                                        GSK218T 车床数控系统 使用手册 
 
48 
（例）N003 T0101； 
… 
N010 G90 X20.0 Z10.0 F2000； 
N011 G00 T0202； 
N012 G90 X20.5 Z10.0； 
 
 
 
2.8.14  复合型固定循环指令 
为更简化编程，本系统提供了六个复合型固定循环指令，分别为：外（内）圆粗车循环G71；端
面粗车循环G72；封闭切削循环G73；精加工循环G70；端面深孔加工循环G74；外圆切槽循环G75及
复合型螺纹切削循环G76运用这组复合循环指令，只需指定精加工路线和粗加工的吃刀量等数据，系统
会自动计算粗加工路线和走刀次数。 
 
 
 
2.8.14.1  外（内）圆粗车循环G71 
指令格式：G71 U
U（Δd）
U R
U（e）
U； 
G71 P（NS） Q（NF） U（Δu） W（Δw）F   S   T  ； 
N（NS） ．．．．．； 
      ．．．．．．．．； 
．．．．F； 
．．．．S； 
．．．．T；          精加工路线程序段 
·                 
 
    
N（NF）．．．．．；  
                                 
指令功能：系统根据NS～NF程序段给出工件精加工路线，吃刀量、进刀与退刀量等自动计算粗加 
工路线，如图2-38所示。用与Z轴平行的动作进行切削。对于非成型棒料可一次成型。 
其中：Δd：切深，无符号。切入方向由AA'方向决定（半径指定），取值范围为（0.001～9999.999），
单位：mm。模态指定，一直到下个指定以前均有效。另外，用参数（№.071）也可以
指定，根据程序指令，参数值也改变。 
e：退刀量（半径指定），单位：mm。模态指定，在下次指定前均有效。用参数（№.072）
也可设定，用程序指令时，参数值也改变。 
NS：精加工路线程序段群的第一个程序段的顺序号。 
NF：精加工路线程序段群的最后一个程序段的顺序号。 
Δu：X轴方向精加工余量的距离及方向，取值范围为（±9999.999），单位：mm。 
Δw：Z轴方向精加工余量的距离及方向，取值范围为（±9999.999），单位：mm。 


                                                        GSK218T 车床数控系统 使用手册 
 
49
F：切削进给速度，其取值范围为（1～9999.999），单位：mm/min； 
S：主轴的转速； 
T：刀具、刀偏号； 
 
 
 
 
 
 
 
 
 
 
 
 
图2-38 G71 指令运行轨迹 
说明 
● 
△d，△u都用同一地址U指定，其区分是根据该程序段有无指定P，Q区别。 
● 
循环动作由P，Q指定的G71指令进行。 
● 
在G71循环中，顺序号NS～NF之间程序段中的F、S、T功能都无效，全部忽略。G71程序
段或以前指令的F，S，T有效。顺序号NS～NF间程序段中F、S、T只对G70指令循环有效。 
● 
在带有恒线速控制选择功能时，顺序号NS～NF之间程序段中的G96或G97无效，在G71
或以前程序段指令的有效。 
● 
根据切入方向的不同，G71指令轨迹有下述四种情况（图2-39），但无论哪种都是根据刀具
平行Z轴移动进行切削的，Δu、Δw的符号如下： 
 
A
A'
B 
U(-)..W(+) 
A
A'
B 
U(-)..W(-) 
A
A'
B 
U(+)..W(+) 
A
A'
B 
U(+)..W(-) 
Z 
X 
直线，圆弧插补
都可以 
 
图2-39  
● 
在A至A'间顺序号NS的程序段中可含有G00或G01指令，但不能含有Z轴指令。 
● 
在A'至B间，X轴、Z轴必须都是单调增大或减小。 
程序指定的轨迹
△D
△W
△U/2
快速进给
切削进给


                                                        GSK218T 车床数控系统 使用手册 
 
50 
● 
在顺序号NS到NF的程序段中，不能调用子程序。 
例：用复合型固定循环G71的编写图2-40的零件程序。 
起点
(200,10)
0.5
2
a
b
c
d
e
 
图2-40  
 
程序如下： 
O0001； 
N010 G50 X220.0 Z50；（设定座标系） 
N020 M3 S300；（主轴正转，转速；300转/分钟） 
N030 M8；（开冷却） 
N040 T0101；（调入粗车刀） 
N050 G00 X200.0 Z10.0；（快速定位，接近工件） 
N060 G71 U4.0 R1.0；（每次切深4mm[半径]，退刀1mm[半径]） 
N070 G71 P080 Q120 U1 W2.0 F100 S200；（对a---d粗车加工，余量X方向1mm，Z方向2mm） 
N080 G00 X40.0；（定位到X40）                                    
N090 G01 Z-30.0 F100 S200；（a→b） 
N100 X60.0 W-30.0；（b→c）                   精加工路线a→b→c→d→e程序段  
N110 W-20.0；（c→d）                                    
N120 X100.0 W-10.0；（d→e）                             
N130 G00 X220.0 Z50.0； （快速退刀到安全位置） 
N140 T0202；（调入2号精加工刀，执行2号刀偏） 
N160 G70 P80 Q120；（对a---d精车加工） 
N170 M05 S0； （关主轴，停转速） 
N180 M09；（关闭冷却） 
N190 G00 X220.0 Z50.0 T0100；（快速回安全位置，换回基准刀，清刀偏） 
N200 M30；（程序结束） 
 


                                                        GSK218T 车床数控系统 使用手册 
 
51
2.8.14.2  端面粗车循环G72 
指令格式：G72 W
U（Δd）
U R 
U（e）
U； 
G72 P
U（NS）
U Q
U（NF）
U U
U（Δu）
U W
U（Δw）
UF   S   T  ； 
N（NS） ．．．．．； 
 ．．．．．．．； 
．．．． F； 
．．．．S； 
．．．．T；          精加工路线程序段 
·                  
    
                            
·                
N（NF）．．．．．； 
指令功能：系统根据NS～NF程序段给出工件精加工路线，吃刀量、进刀退刀量等自动计算粗加工 
路线，用与X轴平行的动作进行切削。对于非成型棒料可一次成型。 
其中： 
Δd：切深，无符号。切入方向由AA'方向决定，取值范围为（0.001～9999.999），单位：mm。模
态指定，一直到下个指定以前均有效。另外，用参数（№.071）也可以指定，根据程序指令，
参数值也改变。 
e：退刀量，单位：mm。模态指定，在下次指定前均有效。用参数（№.072）也可设定，用程序
指令时，参数值也改变。 
NS：精加工路线程序段群的第一个程序段的顺序号。 
NF：精加工路线程序段群的最后一个程序段的顺序号。 
Δu：X轴方向精加工余量的距离及方向，取值范围为（±9999.999），单位：mm。 
Δw：Z轴方向精加工余量的距离及方向，取值范围为（±9999.999），单位：mm。 
F：切削进给速度，其取值范围为（1～9999.999），单位：mm/min； 
S：主轴的转速； 
T：刀具、刀偏号； 


                                                        GSK218T 车床数控系统 使用手册 
 
52 
程序指定的轨迹
切削进给
快速进给
△U/2
△W
△D
       
图2-41  
说明 
● 
△d，△u都用同一地址U指定，其区分是根据该程序段有无指定P，Q区别。 
● 
循环动作由P，Q指定的G72指令进行。 
● 
在G72循环中，顺序号NS～NF之间程序段中的F、S、T功能都无效，全部忽略。G72程序
段或以前指令的F，S，T有效。顺序号NS～NF间程序段中F、S、T只对G70指令循环有效。 
● 
在带有恒线速控制选择功能时，顺序号NS～NF之间程序段中的G96或G97无效，在G71
或以前程序段指令的有效。 
● 
根据切入方向的不同，G72指令轨迹有下述四种情况（图2-42），但无论哪种都是根据刀具
平行X轴移动进行切削的，Δu、Δw的符号如下： 
● 
在A至A'间顺序号NS的程序段中可含有G00或G01指令，但不能含有X轴指令。 
● 
在A'至B间，X轴、Z轴必须都是单调增大或减小。 
● 
在顺序号NS到NF的程序段中，不能调用子程序。 
 
 
 
 
 
 
 
 
 
 
 
图2-42 G72 指令轨迹的四种形状 
U(-)..W(+).. 
U(+)..W(+).. 
U(-)..W(-).. 
直线和圆弧插补都可以
B 
B 
U(+)..W(-).. 
X 
B
B 
Z
A’ 
A 
A’ 
A’ 
A 
A’ 
A 
A


                                                        GSK218T 车床数控系统 使用手册 
 
53
例：用复合型固定循环G72的编写下图2-43的零件程序。 
φ
φ
φ
起点
（176，10）
 
图2-43  
 
 
程序如下： 
O0002； 
N010 G50 X220.0 Z50.0；（设定工件坐标系） 
N015 T0202；（换2号刀，执行2号刀偏） 
N017 M03 S200；（主轴正转，转速200） 
N020 G00 X176.0 Z10.0；（快速定位，接近工件） 
N030 G72 W7.0 R1.0；（进刀量7mm，退刀量1mm） 
N040 G72 P050 Q090 U4.0 W2.0 F100 S200；（对a--d粗车，X留4mm，Z留2mm余量） 
N050 G00 Z-55.0  S200 ；（快速定位） 
N060 G01 X160.0 F120；（进刀至a点） 
N070 X80.0 W20.0；（加工a—b）                   精加工路线程序段 
N080 W15.0；（加工b—c） 
N090 X40.0 W20.0 ；（加工c—d） 
N100 G0 X220.0 Z50.0；（快速退刀至安全位置） 
N105 T0303；（换3号刀，执行3号刀偏） 
N110 G70 P050 Q090；（精加工a—d） 
N120 M5 S0 T0200；（停主轴，换2号刀，取消刀补）； 
N130 G0 X220.0 Z50.0；（快速返回起点） 
N140 M30；（程序结束） 
 
 


                                                        GSK218T 车床数控系统 使用手册 
 
54 
2.8.14.3  封闭切削循环G73 
指令格式：G73 UU（Δi）U W U（Δk）U R U（d）U；  
G73 PU（NS）U QU（NF）U UU（Δu）U WU（Δw）UF   S   T  ； 
指令功能：利用该循环指令，可以按NS～NF 程序段给出的轨迹重复切削，每次切削刀具向前移动
一次。对于锻造，铸造等粗加工已初步形成的毛坯，可以高效率地加工。 
其中：Δi：X轴方向退刀的距离及方向（半径值），单位：mm；模态指定，一直到下次指定前均有
效。另外，用参数（№.073）也可设定，根据程序指令，参数值也改变。 
Δk：Z轴方向退刀距离及方向，单位：mm；模态指定，一直到下次指定前均有效。另外，
用参数（№.074）也可设定，根据程序指令，参数值也改变。 
D：封闭切削的次数，单位：次；模态指定，一直到下次指定前均有效。另外，用参数（№.075）
设定，根据程序指令，参数值也改变。 
NS：构成精加工形状的程序段群的第一个程序段的顺序号； 
NF：构成精加工形状的程序段群的最后一个程序段的顺序号； 
Δu：X轴方向的精加工余量，取值范围为（0.001～9999.999），单位：mm ，根据参数№.1
第3位的设置，给定值为半径值或直径值； 
Δw：Z轴方向的精加工余量，取值范围为（0.001～9999.999），单位：mm； 
F：切削进给速度，其取值范围为（1～9999.999），单位：mm/min； 
S：主轴的转速； 
T：刀具、刀偏号； 
△K+△W
△W
′
△U/2
△i+△U/2
到D段分为（d-1）份
 
图2-44 G73 指令运行轨迹 
说明 
● 
在NS～NF间任何一个程序段上的F、S、T功能均无效。仅在G73中指定的F、S、T功能有
效。 
● 
Δi，ΔK，ΔU，ΔW都用地址U，W指定，其区别根据有无指定P，Q来判断。 
● 
G73中NS到NF间的程序段不能调用子程序。 


                                                        GSK218T 车床数控系统 使用手册 
 
55
● 
根据NS～NF程序段来实现循环加工，编程时请注意Δu、Δw、Δi、Δk的符号。循环结
束后，刀具返回A点。 
● 
当程序中Δi，ΔK任一个为0时，需在程序中编入U0或W0；或将参数＃73及＃74设置为0。
否则可能会受到上一次G73程序的设定值影响。 
例：用封闭切削循环指令G73编写图2-45所示零件的加工程序 
轴
起点
(200,10)
轴
16
 
图2-45 G73 指令举例图 
程序如下：（直径指定，公制输入） 
N010 G50 X260.0 Z50.0 ；（设置工件坐标系） 
N011 G99 G00 X200.0 Z10.0 M03；（指定转进给，快速定位至起点，启动主轴） 
N012 G73 U14.0 W14.0 R3 ；（X向退刀28mm，Z向退刀14mm） 
N013 G73 P014 Q019 U4.0 W2.0 F0.3 S0180 ；（粗车，X留4mm，Z留2mm精车余量） 
N014 G00 X80.0 W-10.0 ； 
N015 G01 W-20.0 F0.15 S0600 ； 
N016 X120.0 W-10.0 ； 
N017 W-20.0 S0400 ；                 精加工形状程序段 
N018 G02 X160.0 W-20.0 R20.0 ； 
N019 G01 X180.0 W-10.0 S0280 ； 
N020 M05 S0 ；（停主轴） 
N021 G0 X260.0 Z50.0 ；（快速定位） 
N022 M30 ；（程序结束） 
 


                                                        GSK218T 车床数控系统 使用手册 
 
56 
2.8.14.4  精加工循环G70 
指令格式：G70 P
U（NS）
U Q
U（NF）
U； 
指令功能：执行该指令时刀具从起始位置沿着NS～NF程序段给出的工件精加工轨迹进行精加工。 
在用G71，G72，G73进行粗加工后时，可以用G70指令进行精车。 
其中：NS：构成精加工形状的程序段群的第一个程序段的顺序号； 
NF：构成精加工形状的程序段群的最后一个程序段的顺序号。 
G70 指令轨迹由NS～NF 之间程序段的编程轨迹决定。NS、NF 在G70～G73 程序段中的相对位
置关系如下： 
．．．．．．．． 
．．．．．．．． 
G71/G72/G73 P（NS） Q（NF） U（Δu） W（Δw） F   S   T  ； 
N（NS） ．．．．．． 
 ．．．．．．．． 
· F              
· S   
· T   
·  
 
·                
N（NF）．．．．．．                              
· 
G70 P（NS） Q（NF）； 
· 
说明 
● 
在G71 G72 G73 程序段中规定的F、S和T功能无效，但在执行G70时顺序号“NS”和“NF”
之间指定的F、S和T有效。 
● 
当G70循环加工结束时刀具返回到起点并读下一个程序段。 
● 
G70指令可含有M、S、T、F指令。 
● 
G70中NS到NF间的程序段不能调用子程序。 
例：见G71、G72指令实例。 
 
2.8.14.5  端面深孔加工循环G74 
指令格式：G74 R
U（e）
U； 
G74 X（U） Z（W）  P（Δi）Q（Δk）U RU（Δd）U F； 
指令功能：执行该指令时，系统根据程序段所确定的切削终点（程序段中X 轴和Z 轴坐标值所确定 
的点）以及e、Δi、Δk 和Δd 的值来决定刀具的运行轨迹。在此循环中，可以处理外形切削 
的断屑，另外，如果省略X（U），P， 只是Z 轴动作，则为深孔钻循环。轨迹如图2-46 所示。 
其中：e：每次沿Z 方向切削Δk 后的退刀量，设定范围为（0～9999.999），单位：mm；模态指


                                                        GSK218T 车床数控系统 使用手册 
 
57
定，一直到下次指定前均有效。另外，用参数（№.076）也可设定，根据程序指令，参数
值也改变。 
X：B点X方向的绝对坐标值，单位：mm； 
U：A到B的增量，单位：mm； 
Z：C点Z方向的绝对坐标值，单位：mm； 
W：A到C的增量，单位：mm； 
Δi：X方向的每次循环移动量（无符号、半径值），单位：mm； 
Δk：Z方向的每次切削移动量（无符号），单位：mm； 
Δd：切削到终点时X方向的退刀量（半径值），单位：mm，通常不指定，省略X（U）
和ΔI时，则视为0；   
F：切削进给速度。 
           Δk’ 
 
 
 
 
 
 
 
       C 
 
 
图2-46  
 
说明 
● 
e和Δd都用地址R指定，它们的区别根据有无指定X（U），也就是说，如果X（U）被指令
了，则为Δd，如无指令X（U），则为e； 
● 
循环动作用含X（U）指定的G74指令进行。 
例：用G74 指令编写图2-47 零件程序，零件尺寸如图2-47。 
e 
△k
△k
△k 
△k 
 F      F      F      F       F 
 R       R    R         R
 W 
Z 
U/2
A
△i
△i’
B 
X 
△d 
0＜△k’≤△k 
0＜△i’≤△i 


                                                        GSK218T 车床数控系统 使用手册 
 
58 
80
 
图2-47  
 
程序如下： 
O0001；（程序名） 
G50 X100 Z50；（快速定位） 
M3 S500；（启动主轴，置转速500） 
G0 X40 Z5；（定位到加工起始点） 
G74 R1 ；（加工循环） 
G74 X20 Z60 P2 Q2 F50； 
G0 Z50；（Z向退刀） 
X100；（X向退刀） 
M5 S0；（停主轴） 
M30；（程序结束） 
 
 
 
2.8.14.6  外圆切槽循环G75 
指令格式：G75 R
U（e）
U；  
G75 X（U）   Z（W）   PU（Δi）U QU（Δk）U RU（Δd）U F  ； 
指令功能：执行该指令时，系统根据程序段所确定的切削终点（程序段中X 轴和Z 轴坐标值所确定 
的点）以及e、Δi、Δk 和Δd 的值来决定刀具的运行轨迹。相当于在G74 中，把X 和Z 
调换，在此循环中，可以进行端面切削的断屑处理，并且可以对外径进行沟槽加工和切断加 
工（省略Z、W、Q）。轨迹如图2-48 所示。 
其中：e：每次沿X 方向切削Δi 后的退刀量，设定范围为（0～9999.999），单位： mm；模态指
定，一直到下次指定前均有效，另外，用参数（№.076）也可设定，根据程序指令，参


                                                        GSK218T 车床数控系统 使用手册 
 
59
数值也改变，半径指令； 
X：C 点Z 方向的绝对坐标值，单位：mm； 
U：A 到C 的增量，单位：mm； 
Z：B 点的Z 方向绝对坐标值，单位：mm； 
W：A 到B 的增量，单位：mm； 
Δi：X 方向的每次循环移动量（无符号，半径值），单位：mm； 
Δk：Z 方向的每次切削移动量（无符号），单位：mm； 
Δd：切削到终点时Z 方向的退刀量，通常不指定，省略X（U）和ΔI 时，则视为0； 
F：切削进给速度。 
 
G74、G75 都可用于切断、切槽或孔加工。可以使刀具进行自动退刀。 
 
 
 
 
 
 
 
                                      A 
 
 
 
 
 
 
 
                                           C                                                 
B 
 
 
 
图2-48 
说明： 
● 
e和Δd都用地址R指定，它们的区别根据有无指定X（U），也就是说，如果X（U）被指令
了，则为Δd，如无指令X（U），则为e； 
● 
循环动作用含X（U）指定的G75指令进行。 
例：用G75 指令编写图2-49 零件程序，零件尺寸如图2-49。 
F   
F 
 
F   
F 
    
F 
R 
 
R   
R 
   
R 
X 
Z 
△i
e 
U/2
△d
 W


                                                        GSK218T 车床数控系统 使用手册 
 
60 
 
图2-49  G75 指令切削实例图 
 
程序如下： 
O0001；（程序名） 
G50 X150 Z50；（快速定位） 
M3 S500；（启动主轴，置转速500） 
G0 X125 Z-20；（定位到加工起始点） 
G75 R1 ；（加工循环） 
G75 X40 Z-50 P2 Q2 F50； 
G0 X150；（X向退刀） 
Z50；（Z向退刀） 
M5 S0；（停主轴） 
M30；（程序结束） 
 
 
 
2.8.14.7  复合型螺纹切削循环G76 
指令格式：G76 P
U（m）（r）（a）
U Q
U（△dmin）
U R
U（d）
U； 
G76 X（U）   Z（W）   RU（i）U PU（k）U QU（△d）U F（I）  ； 
指令功能：系统根据指令地址所给的数据自动计算并进行多次螺纹切削循环螺纹加工完成，指令轨
迹如图2-50 所示。 
其中： 
X、Z：螺纹终点（螺纹底部）坐标值，单位：mm； 
U、W：螺纹终点相对加工起点的坐标值，单位：mm； 
m：最后精加工的重复次数1～99，此指定值是模态的，在下次指定前均有效。另外用参数（№.077）
也可以设定，根据程序指令，参数值也改变。最后精加工的重复次数，其范围是1～99； 
r：螺纹倒角量。如果把L 作为导程，在0.01～9.9L 的范围内，以0.1L 为一挡，可以用00~99 两
位数值指定。该指定是模态的，在下次指定前一直有效。另外，用参数（№.068）也可以设定，


                                                        GSK218T 车床数控系统 使用手册 
 
61
根据程序指令也可改变参数值。在G76 程序中设定螺纹倒角量后，在G92 螺纹切削循环中也起
作用。 
a：刀尖的角度（螺纹牙的角度可以选择80°，60°，55°，30°，29°，0°6 种角度。把此角
度值原数用两位数指定。此指定是模态的，在下次被指定前均有效。另外，用参数（№.078）也
可以设定，根据程序指令也可改变参数值。刀尖的角度。可以选择80°、60°、55°、30°、
29°、0°六种角度； 
△dmin：最小切入量，单位：mm。当一次切入量（△D×
N -△D×
1
N −）比△dmin 还小时，
则用△dmin 作为一次切入量。该指定是模态的，在下次被指定前均有效。另外，用参数（№.079）
也可以设定，用程序指令也改变参数值。最小切入量，可用参数（№.079）设定，设定范围为（0～
9999999），单位：0.001mm； 
d：精加工余量，单位：mm。此指定是模态的，在下次被指定前均有效。并且用参数（№.080）也
可以设定，用程序指令，也改变参数值。精加工余量，可用参数（№.080）设定，设定范围为（0～
9999999），单位：0.001mm； 
i：螺纹部分的半径差，单位：mm，i=0 为切削直螺纹； 
k：螺纹牙高（X 轴方向的距离用半径值指令），单位： mm； 
△d：第一次切削深度，半径值，单位： mm。 
F：螺纹导程，单位：mm； 
I：每英寸牙数。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
图2-50 
切入方法的详细情况见图2-51： 
W
U/2
X轴
Z
D
X/2
C
A
E
Z轴
B


                                                        GSK218T 车床数控系统 使用手册 
 
62 
 
图2-51  
说明： 
● 
用P、Q、R指定的数据，根据有无地址X（U），Z（W）来区别。 
● 
循环动作由地址X（U），Z（W）指定的G76指令进行。 
● 
循环加工中，刀具为单侧刃加工，刀尖的负载可以减轻. 
● 
第一次切入量为△d，第N次为△D×
N ，每次切削量是一定的 
● 
考虑各地址的符号，有四种加工图形，也可以加工内螺纹。在图2-50所示的螺纹切削中，
只有B，C间用F指令的进给速度，其他为快速进给。 
循环中，增量的符号按下列方法决定： 
U：由轨迹A 到C 方向决定； 
W：由轨迹C 到D 的方向决定； 
R（I）：由轨迹A 到C 的方向决定； 
P（K）：为正； 
Q（△D）：为正。 
● 
关于切螺纹的注意事项，与G32切螺纹相同。 
● 
螺纹倒角量的指定，对G92螺纹切削循环也有效。 
● 
m，r，a同用地址p一次指定。 
例：用螺纹切削复合循环G76指令编图2-52程序，加工螺纹为M68×6。 
6
60.64
68
62
 
图2-52  
程序如下： 
G50 X100 Z50；（设置浮动坐标系） 
M3 S300；（启动主轴，指定转速） 
切削点放大图


                                                        GSK218T 车床数控系统 使用手册 
 
63
G00 X80 Z10；（快速定位到加工起点） 
G76 P011060 Q0.1 R0.2；（进行螺纹切削） 
G76 X60.64 Z-62 P3.68 Q1.8 F6.0； 
G00 X100 Z50；（返回程序起点） 
M5 S0；（停主轴） 
M30；（程序结束） 
 
2.8.14.8  复合型固定循环指令注意事项 
1）在指定复合型固定循环的程序段中P，Q，X，Z，U，W，R等必要的参数，在每个程序段中必
须正确指令。 
2）在G71，G72，G73指令的程序段中，如果有P指令了顺序号，那么对应此顺序号的程序段必须
指令01组G指令的G00或G01，否则P/S报警（№.65）。 
3）在MDI方式中，不能执行G70，G71，G72，G73，G74，G75，G76指令。即使指令了，也不
执行。 
4）在G70，G71，G72，G73程序段中，用P和Q指令顺序号的程序段范围内，不能有下面指令。 
★ G00，G01，G02，G03以外的01组指令； 
★ M98/M99； 
★ G04在粗加工最后成形一刀及精加工中有效。 
5）在执行复合固定循环（G70～G76）中，可以使动作停止插入手动运动，但要再次开始执行复合
型固定循环时，必须返回到插入手动运动前的位置。如果不返回就再开始，手动的移动量不加
在绝对值上，后面的动作将错位，其值等于手动的移动量。 
6）执行G70，G71，G72，G73时，用P，Q指定的顺序号，在这个程序内不能重合。 
7）对于G76指定切螺纹的注意事项，与G32切螺纹和用G92螺纹切削循环相同，对螺纹倒角量的指
定，对G92螺纹切削循环也有效。 
2.9   用户宏程序 
把由一组指令实现的某种功能象子程序一样事先存入存储器中，用一个命令代表这些功能。程序中
只要写出该代表命令，就能实现这些功能。把这一组命令称为用户宏程序本体，把代表命令称为“用户
宏命令”。用户宏程序本体有时也简称宏程序。用户宏指令也称为宏程序调用命令。 
 
 
 
 
 
 
 
 
 
用户宏命令 
主程序 
 
 
完成某功能的一组指
令 
用户宏程序本体 


                                                        GSK218T 车床数控系统 使用手册 
 
64 
编程人员不必记忆用户宏程序本体，只要记住作为代表命令的用户宏指令就行了。 
用户宏程序最大特点是在用户宏程序本体中，能使用变量。变量间可以运算，并且用宏指令命令可
以给变量赋值。 
2.9.1  用户宏指令 
用户宏指令是调用用户宏程序本体的命令。 
指令格式如下： 
M98P□□□□； 
 
利用上述指令，可调用用P 指定的宏程序本体。 
2.9.2  用户宏程序本体 
在用户宏程序本体中，可以使用一般的CNC 指令，也可使用变量，运算及转移指令。 
用户宏程序的本体，以O 后续的程序号开始，用M99 结束。 
 
 
 
 
 
 
 
 
1） 变量的使用方法 
用变量可以指令用户宏程序本体中的地址值。变量值可以由主程序赋值或通过键盘设定，或者在执 
行用户宏程序本体时，赋给计算出的值。 
可使用多个变量，这些变量用变量号来区别。 
a）变量的表示 
用#后变量号来表示度量，格式如下： 
#（i=200，202，203，204……） 
（例）#205，#209，#1005 
b）变量的引用 
用变量可以置换地址后的数值。 
如果程序中有”﹤地址﹥# i”或者”﹤地址﹥－# i”，则表示把变量的值或者把变量的值的负值作为地
址值。 
（例）F#203…当#203=15 时，与F15 指令是同样的。 
Z-#210…当#210=250 时，与Z-250 是同样的。 
G#230…当#230=3 时，和G3 是同样的。 
用变量置换变量号时，不用##200 描述，而写为#9200，也就是#后面的“9”表示置换变量号。 
用户宏程序本体的构成
被调用的宏程序本体的程序号 
08000； 
G65 H01... ...； 
G00 X#101... .. 
… 
… 
G65 H82...； 
M99 
程序号 
运算指令 
使用变量的CNC 指令 
转移指令 
用户宏程序本体结束 


                                                        GSK218T 车床数控系统 使用手册 
 
65
下面的三行是置换变量号的实例。 
（例）#200 = 205 时，#205 = 500 时 
X#9200 和X500 指令是同样的 
X-#9200 和X-500 指令是同样的 
注1：地址O和N不能引用变量。不能用O#200，N#220编程。 
注2：如果超过了地址所规定的最大指令值，不能使用。#230 = 120时，M#230超过了最大指令值。 
注3：变量值的显示和设定：变量值可以显示在LCD画面上，也可以用按键给变量设定值。 
 
2）变量的种类 
根据变量号的不同，变量分为公用变量和系统变量，它们的用途和性质都不同。 
a） 公用变量#200～#231 
公用变量在主程序以及由主程序调用的各用户宏程序中是公用的。即某一用户宏程序中使用的变量# i
和其它宏程序使用的# i 是相同的。因此，某一宏程序中运算结果的公用变量 # i 可以用于其他宏程序中。 
公用变量的用途，系统中不规定，用户可以自由使用。 
公用变量#200～#231，切断电源清除，电源接通时全部为“0”。 
b） 公用变量#500～#515 
此变量用法跟＃200～＃231 一样，但切断电源后，变量的数据保留，在下次通电后仍可继续使用上次
的数据。 
c）系统变量 
此变量的用途在系统中是固定的。 
接口输入信号#1000～#1015（选择机能—需配相应的选择件） 
系统读取到作为接口信号的系统变量#1000～1015 的值后，便可知道接口输入信号的状态。 
 
位号：7 
6 
5 
4 
3 
2 
1 
0 
*TCP 
DIQP 
*DECX 
DITW 
*SP 
*ST 
*DECZ 
*ESP 
#1007 
XS6：49 
#1006 
XS6：47 
#1005 
XS40：1
#1004 
XS40：2 
#1015 
XS40：7 
#1014 
XS40：8 
#1013 
XS40：9 
#1012 
XS40：10
 
T08 
T07 
T06 
T05 
T04 
T03 
T02 
T01 
#1011 
XS40：19
#1010 
XS40：20 
#1009 
XS40：21
#1008 
XS40：22
#1003 
XS40：
3 
#1002 
XS40：4 
#1001 
XS40：5 
#1000 
XS40：
6 
 
这16 位DI 信号的值在系统内部自动赋给宏变量（#1000—#1015）。与其它判断跳转宏指令一起使
用可作各种处理。#1005—#1015 是对应各点的值（0/1）。 
接口输出信号#1100～#1107（选择机能—需配相应的选择件）。 
002 
编程变量号 
插座脚号 
001 
宏程序 


                                                        GSK218T 车床数控系统 使用手册 
 
66 
可以给系统变量#1100～1107 赋值，以改变输出信号的状态。 
 
位号：7 
6 
5 
4 
3 
2 
1 
0 
TL- 
TL+ 
DOQPS 
DOTWS
S04/M44
S03/M43 
S02/M43 
S01/M41
#1107 
XS40：12 
#1106 
XS40：13 
#1105 
XS39：10
#1104 
XS39：9
#1103 
XS39：8
#1102 
XS39：14 
#1101 
XS39：1 
#1100 
XS39：5
 
这8 位DO 信号可以通过宏变量（#1100—#1107）的赋值而输出1 或0。 
 
2.9.3  运算命令和转移命令（G65） 
一般形式： 
G65 Hm P# i  Q# j  r# k； 
m：01～99 表示运算命令或转移命令功能。 
# i：存入运算结果的变量名。 
# j：进行运算的变量名1，也可以是常数。 
# k：进行运算的变量名2，也可以是常数。 
 
意义：# i = #j O # k 
 
 
（例）P#200 Q#201 R#202…..#200 = #201 O #202； 
P#200 Q#201 R15….#200 = #201 O 15； 
P#200 Q-100 R#202…..#200 = -100 O #202； 
注1：变量值不含小数点。各变量值所表示的意义同用各地址不带小数点所表示的意义是同样的。 
（例）#200 = 10 
X#200=X 10mm(毫米输入时)  
注2：常数直接表示，不带# 
注3：用G65 指定的H 代码，对偏置量的选择没有任何影响。 
 
G 代码 
H 码 
功  能 
格  式 
定  义 
G65 
H01 
赋值 
G65 H01 P#I  Q#J 
#i=#j 
G65 
H02 
加法 
G65 H02 P#I  Q#J 
R#K 
#i=#j+#k 
G65 
H03 
减法 
G65 H03 P#I  Q#J 
R#K 
#i=#j-#k 
006 
宏程序 
编程变量号 
插座脚号 
诊断号 
运算符号，由Hm 指定


                                                        GSK218T 车床数控系统 使用手册 
 
67
G65 
H04 
乘法 
G65 H04 P#I  Q#J 
R#K 
#i=#j×#k 
G65 
H05 
除法 
G65 H05 P#I  Q#J 
R#K 
#i=#j÷#k 
G65 
H11 
逻辑加（或）G65 H11 P#I  Q#J 
R#K 
#i=#j OR #k 
G65 
H12 
逻辑乘（与）G65 H12 P#I  Q#J 
R#K 
#i=#j AND #k 
G65 
H13 
异或 
G65 H13 P#I  Q#J 
R#K 
#i=#j XOR #k 
G65 
H22 
绝对值 
G65  H22 P#I  Q#J 
#i=  #j 
G65 
H23 
取余数 
G65 H23 P#I  Q#J 
R#K 
#i=#j-trunc(#j÷#k)×#k 见
注 
G65 
H24 
十进制变为
二进制 
G65  H24 P#I  Q#J 
#i=BIN(#j) 
G65 
H25 
二进制变为
十进制 
G65  H25 P#I  Q#J 
#i=BCD(#j) 
G65  
H80 
无条件转移 
G65  H80 PN 
转向N 
G65 
H81 
条件转移1 
G65 H81 PN  Q#J 
R#K 
IF #j=#k，GOTO N 
G65 
H82 
条件转移2 
G65 H82 PN  Q#J 
R#K 
IF #j≠#k，GOTO N 
G65 
H83 
条件转移3 
G65 H83 PN  Q#J 
R#K 
IF #j＞#k，GOTO N 
G65 
H84 
条件转移4 
G65 H84 PN  Q#J 
R#K 
IF #j＜#k，GOTO N 
G65 
H85 
条件转移5 
G65 H85 PN  Q#J 
R#K 
IF #j≥#k，GOTO N 
G65 
H86 
条件转移6 
G65 H86 PN  Q#J 
R#K 
IF #j≤#k，GOTO N 
G65 
H99 
产生P/S 报
警 
G65  H99  PN 
产生400+N 号的P/S 报警 
 
1）运算命令 
a）变量的赋值，# I = # J 
G65 H01 P# I Q# J； 


                                                        GSK218T 车床数控系统 使用手册 
 
68 
（例）G65 H01 P# 201 Q1005；   （#201 = 1005） 
G65 H01 P#201 Q#210；   （#201 = #210） 
G65 H01 P#201 Q-#202；   （#201 = -#202） 
b）加算 # I = # J + # k 
G65 H02 P# I Q# J R#K； 
（例）G65 H02 P# 201 Q202 R15；   （#201 = #202+15） 
c）减算# I = # J－# k 
G65 H03 P# I Q# J R# k； 
（例）G65 H03 P# 201 Q#202 R#203；   （#201 = #202－#203） 
d）乘算# I = # J×# k 
G65 H04 P# I Q# J R# k； 
（例）G65 H04 P# 201 Q#202 R#203；   （#201 = #202×#203） 
e）除算# I = # J/# k 
G65 H05 P# I Q# J R# k； 
（例）G65 H05 P# 201 Q#202 R#203；   （#201 = #202 / #203） 
f）逻辑加（或） 
G65 H11 P# I Q# J R# k； 
（例）G65 H11 P# 201 Q#202 R#203；   （#201 = #202 or #203） 
g）逻辑乘（与） 
G65 H12 P# I Q# J R# k； 
（例）G65 H12 P# 201 Q#202 R#203；   （#201 = #202 and #203） 
h）异或 
G65 H13 P# I Q# J R# k； 
（例）G65 H13 P# 201 Q#202 R#203；   （#201 = #202 xor #203） 
i）取绝对值 
G65 H22 P# I Q# J ； 
（例）G65 H22 P# 201 Q#202；   （#201 = |#202|） 
j）取余数 
G65 H23 P# I Q# J R# k； 
（例）G65 H23 P# 201 Q#202 R#203；   （#201=#202-trunc(#202÷#203)×#203） 
k）十进制转换为二进制 
G65 H24 P# I Q# J； 
（例）G65 H24 P# 201 Q#202；   （#201 = BIN(#202)） 
l）异或 
G65 H25 P# I Q# J； 
（例）G65 H25 P# 201 Q#202；   （#201 = BCD(#202)） 
注1：用度指定（P）～（S）的单位，单位是1%度。 


                                                        GSK218T 车床数控系统 使用手册 
 
69
注2：在各运算中，当必要的Q，R 没指定时，其值作为零参加运算。 
 
2）转移命令 
a）无条件转移 
G65 H80 Pn；  n：顺序号 
（例）G65 H80 P120；（转到N120 程序段） 
注：无条件跳转指令使用时，如果在宏程序单段无效的情况下，应避免以下情况发生： 
 N120 G65 H80 P120； 
 会造成系统一定时间内反应较为迟钝； 
N120 G65 H80 P130； 
N130 G65 H80 P120； 
  会造成系统不能正常运行. 
b）条件转移1 #J.EQ.# K ( = ) 
G65 H81 Pn Q#J R# K；  n：顺序号 
(例) G65 H81 P1000 Q#201 R#202； 
当# 201 = #202 时，转到N1000 程序段，当#201 ≠ #202 时，顺序执行。 
c）条件转移2 #J.NE.# K ( ≠ ) 
G65 H82 Pn Q#J R# K；  n：顺序号 
(例) G65 H82 P1000 Q#201 R#202； 
当# 201 ≠ #202 时，转到N1000 程序段，当#201 = #202 时，程序顺序执行。 
d）条件转移3 #J.GT.# K ( ＞ ) 
G65 H83 Pn Q#J R# K；  n：顺序号 
(例) G65 H83 P1000 Q#201 R#202； 
当# 201 ＞ #202 时，转到N1000 程序段，当#201 ≤ #202 时，程序顺序执行。 
e）条件转移4 #J.LT.# K ( ＜ ) 
G65 H84 Pn Q#J R# K；  n：顺序号 
(例) G65 H84 P1000 Q#201 R#202； 
当# 201 ＜ #202 时，转到N1000 程序段，当#201 ≥ #202 时，程序顺序执行。 
f）条件转移5 #J.GE.# K ( ≥ ) 
G65 H85 Pn Q#J R# K；  n：顺序号 
(例) G65 H85 P1000 Q#201 R#202； 
当# 201 ≥ #202 时，转到N1000 程序段，当#201 ＜ #202 时，顺序执行。 
g）条件转移6 #J.LE.# K ( ≤ ) 
G65 H86 Pn Q#J R# K；  n：顺序号 
(例) G65 H86 P1000 Q#201 R#202； 
当# 201 ≤ #202 时，转到N1000 程序段，当#201 ＞ #202 时，顺序执行。 
h）发生P/S 报警 


                                                        GSK218T 车床数控系统 使用手册 
 
70 
G65 H99 Pi      i：报警号+400 
(例) G65 H99 P15 
发生P/S 报警415. 
 
注1:当转移地址的顺序号指定为正值时，开始是顺序方向然后是逆方向检索，指定负值时，开始是逆方向，然后是
正方向。 
注2：也可以用变量指定顺序号。 
G65 H81 P#200 Q#201 R#202； 
当条件满足时，程序移到#200指定的顺序号的程序段。 
 
2.9.4  关于用户宏程序本体的注意事项 
1） 用键输入的方法 
在地址G、X、Z、U、W、R、I、K、F、H、M、S、T、P、Q 的后面按#键，#便被输入进去。 
2） 在MDI 状态，也可指令运算，转移命令。 
除G65 以外，其它地址数据能用键输入，而不能显示。 
3） 运算、转移命令的H、P、Q、R 必须写在G65 之后，写在G65 以前的地址只有O、N。 
H02 G65 P#200 Q#201 R#202；    …错误 
N100 G65 H01 P#200 Q10；   …正确 
4)  单程序段 
通常在运算、转移命令的程序段执行时，即使单程序段开关ON 时也不停止。但是根据参数（№.013 
SBKM），可以使之单程序段停止。这种情况一般用于宏程序调试。 
5） 变量值在-2P
32
P～+2P
32
P-1 的范围内，但只能正确显示-9999.999～9999.999。超过上述范围时，显示
*******。 
6） 子程序的嵌套可到四重。 
7） 变量值只取整数，所以运算结果出现小数点时舍掉。请特别注意运算顺序。 
8） 运算、转移命令的执行时间，因条件不同而异，一般平均值可考虑为10 毫秒。 
2.9.5  用户宏程序实例 
1） 自定义用户指令M61（自动送料） 
主程序 
○0001； 
N10 G50 X100 Z100； （定义坐标系） 
N20 G00 U50 F100； （快速定位） 
N30 G01 U0.8 (送料) 
N40 M61；（调用09061 子程序） 
N50 G0 X100 Z100； （送料结束，坐标回零） 
N60 M99； （往复执行） 


                                                        GSK218T 车床数控系统 使用手册 
 
71
 
子程序（自定义M61） 
○9061； 
N10 G65 H01 P#1104 Q1；（U04=1 输出送料信号指示） 
G65 H82 P20 Q#1004 R1； （判断X14=1 时，执行下条程序，X14=0 时执行N20 号程序） 
G65 H01 P#1100 Q0； （取消送料信号指示U04=0） 
M99 P50；（转到主程序N50） 
N20 M99 P30；（转到主程序N30）             
                        
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 


                                                        GSK218T 车床数控系统 使用手册 
 
72 
 
 
3   操  作 
3.1  操作面板说明 
3.1.1  LCD/MDI 面板 
GSK218T的LCD/MDI面板见下图。 
 
 
3.1.2  显示页面键 
显示页面键是用于选择各种显示画面的。GSK218T共有七种显示画面：位置，程序，刀补，报 
警，设置，参数，诊断。 
页面解释 
[位置]：按下其键，LCD显示现在位置，共有四页，[相对]，[绝对]，[总和]，[位置/程序]，通过翻
页键转换。     
[程序]：程序的显示、编辑等，共有三页，[MDI/模]，[程序]， [目录/存储量]。 
[刀补]：设定补偿量和宏变量，共有两项，[偏置]， [宏变量]，反复按此键时在两种显示页面间切
换。 
[报警]：显示报警信息。 
[设置]：设置显示及加工轨迹图形显示，反复按此键时在两种显示页面间切换。 


                                                        GSK218T 车床数控系统 使用手册 
 
73
[参数]：系统参数及螺补参数显示，共有两项，[参数]， [螺距补偿参数]，反复按此键时在两种显
示页面间切换。 
[诊断]：诊断信息及软键盘机床面板显示，反复按此键时在两种显示页面间切换。 
3.1.3  键盘的说明 
序号 
名   称 
用         途 
1 
复位(//)键 
解除报警，CNC复位 
2 
输出(OUT)键 
从RS232接口输出文件启动 
3 
地址/数字键 
输入字母、数字等字符 
4 
输入键(IN) 
用于输入参数，补偿量等数据。从RS232接口输入文件的启动。
MDI方式下程序段指令的输入。 
 
5 
 
取消(CAN)键 
消除输入到键输入缓冲寄存器中的字符或符号。键缓冲寄存器的内
容由LCD显示。 
例：键输入缓冲寄存器的显示为： 
N0001 时，按(CAN)键，则N0001被取消。 
 
 
6 
 
 
光标移动键 
有四种光标移动。 
↓: 使光标向下移动一个区分单位。 
↑: 使光标向上移动一个区分单位。 
→: 使光标向右移动一个区分单位。 
←: 使光标向左移动一个区分单位。 
持续地按光标上下左右键时，可使光标连续移动。 
W、L: 用于设定参数开关的开与关及位参数，位诊断详细显示的位
选择。 
 
7 
 
翻页键 
有两种换页方式。 
：使LCD画面的页顺方向更换（下页）。 
：使LCD画面的页逆方向更换（上页）。 
8 
INS、DEL、ALT键 
用于程序的插入、删除、修改的编辑操纵。 
9 
转换键 
位参数内容提示方式切换：逐位提示或字节提示。 
 
 
 
 
 
 
 
 
 


                                                        GSK218T 车床数控系统 使用手册 
 
74 
 
 
3.1.4  机床操作面板 
机床操作面板上的各开关键如下表所示。 
 
表 各按钮的说明 
图 形 符 号 
名  称 
用         途 
 
循环启动按钮 
自动运行的启动。 
 
进给保持按钮 
自动运行中刀具减速停止。 
录入
 
录入方式选择键 
选择录入操作方式。 
自动
 
自动方式选择键 
选择自动操作方式 
编辑
  
编辑方式选择键 
选择编辑操作方式。 
机械零点
 
机械回零方式选择键
选择机械回零方式操作方式。 
手动
 
手动方式选择键 
选择手动操作方式。 
手轮
 
手轮/单步方式选择键
选择手轮/单步操作方式。 
 
快速进给开关 
手动快速进给。 
程序零点
 
返回程序起点 
返回程序起点开关为ON时，为回程序零点方式。 
 
快速进给倍率 
选择快速进给倍率。 
 
主轴倍率 
主轴倍率选择。（含主轴模拟输出时） 


                                                        GSK218T 车床数控系统 使用手册 
 
75
 
单步/手轮移动量
选择单步一次的移动量（单步方式）。 
 
急停 
机床紧急停止（用户外接）。 
单段
 
单段 
程序单段。 
跳段
 
跳段 
程序跳段。 
机床锁
 
机床锁住 
机床锁住。 
辅助锁
 
辅助锁住 
辅助锁住。 
空运行
 
空运行 
空运行。 
进给速度倍率 
在自动运行中，对进给速率进行倍率。 
 
手动连续进给速度选择手动连续进给的速度。 
 
手摇轴选择 
选择与手摇脉冲发生器相对应的移动轴。 
冷却
 
冷却液起动 
冷却液起动（详见机床厂提供的使用说明书）。 
润滑
 
润滑液起动 
润滑液起动（详见机床厂提供的使用说明书）。 
换刀
 
手动换刀 
手动换刀（详见机床厂提供的使用说明书）。 
正转
 
主轴正转起动 
手动主轴正转起动 
反转
 
主轴反转起动 
手动主轴反转起动 
停止
 
主轴停止 
手动停止主轴转动 
 


                                                        GSK218T 车床数控系统 使用手册 
 
76 
3.2   手动操作 
3.2.1  手动返回参考位置点 
每台机床都把机床上某一固定点作为机床的参考位置点，每次回机床参考位置点后再回到加工起点
可消除累积误差。在加工之前先回机床参考位置点，再确定加工起点，记下加工起点的坐标，在每次断
电后重新启动应先回机床参考点，再回到记下的加工起点后启动程序。可避免断电后人为移动机床使机
床实际位置与系统坐标不相符合而开机后不重新确定加工起点就启动程序而发生事故。 
1)  选择模式，有机床零点（机械零点）与无机械零点两种方式，在（参数006号）的Bit0、1位设
置，0表示无机械零点模式，1表示有机械零点模式。 
2)  按参考位置点方式键，选择回参考点操作方式，这时液晶屏幕右下角显示[机械回零] 
 
   
3)  选择移动轴 
       
 
机床沿着选择轴方向移动。 
a) 当参数P006号的Bit0=0，Bit1=0时，为回零方式A，回参考点过程如下： 
回零坐标轴以G0速度向机床坐标系零点移动（即X0或Z0），到达零点后，回零轴坐标清零。回
零完成。 
b) 当参数P006号的Bit0=1，Bit1=1，Bit4=0， Bit5=0时，为回零方式B，回参考点过程如下： 
① 零坐标轴以快速速度向正方向移动，回零撞块压下回零减速开关后，坐标轴开始减速到系统设
定的最低速度(参数P043定义的速度)并以此速度移动，直到回零撞块脱离回零减速开关； 
② 回零坐标轴继续以最低速度（系统内部设定）运行，当检测到电机编码器的一转信号（或接近
开关零点的信号）时，到达坐标轴零点，停止运动，回零轴机床坐标清零，回零完成。 
     回零方式B只需要一个撞块作为减速信号，零点信号由驱动器提供。 
c) 当参数P006号的Bit0=1，Bit1=1，Bit4=1， Bit5=1时，为回零方式C，回参考点过程如下： 
① 回零坐标轴以快速速度向正方向移动，回零撞块压下回零减速开关后，坐标轴开始减速到系统
设定的最低速度(参数P043定义的速度)，并以此速度移动； 
② 当回零撞块脱离回零减速开关后，检测零点信号，当系统压下零点撞块后，系统以最低速度（系
统内部设定）运行，当脱离零点档块时，即作为零点，系统停止运动，并回零轴机床坐标清零，回
零完成。 
    回零方式C需要两个撞块，分别作为减速及零点信号。 


                                                        GSK218T 车床数控系统 使用手册 
 
77
G0速度
号参数设定速度
系统最低速度
到达零点后速度为0
V型撞块
 
4)  返回参考点后，返回参考点指示灯亮。 
 X     Z
 
返回参考点结束指示灯 
注1：返回参考点结束时，返回参考点结束指示灯亮。 
注2：返回参考点结束指示灯亮时，在下列情况下灭灯。 
1）从参考点移出时。 
2）按下急停开关。 
注3：参考点方向，请参照机床厂家说明书，然后根据参数P005 的Bit0 和Bit1 位确定。回参考点之前，应使刀架停留
在机床参考点的负方向。 
注4：在机床上没有安装机床参考点开关时，切记将P006 参数的Bit0 和Bit1 置成零，回机械零点选择A 方式，此时不
要执行回零，否则会因无减速开关，刀架一直高速移动而造成事故。 
3.2.2  手动返回程序零点 
1）按下返回程序零点键，选择返回程序零点方式，这时液晶屏幕右下角显示[程序回零]。 
 
2）选择移动轴 
 
机床沿着程序零点方向移动。回到程序零点时，坐标轴停止移动。返回程序起点指示灯亮。 
 X     Z
 
 
返回程序起点指示灯 
注1：返回参考点结束时，返回参考点结束指示灯亮。 
注2：系统通电后必须执行过G50，否则会产生＃021 报警。 


                                                        GSK218T 车床数控系统 使用手册 
 
78 
3.2.3  手动连续进给 
1) 按下手动方式键，选择手动操作方式，这时液晶屏幕右下角显示[手动方式]。 
 
2) 按下手动轴向运动开关，一直到达参考点后，方可松开。机床向选择的轴向运动。 
 
注：手动期间只能一个轴运动，如果同时选择两轴的开关，也只能是先选择的那个轴运动。 
3) 选择JOG进给速度 
 
进给倍率(%) 进   给  速   度(mm/min) 
0 
0 
10 
2.0 
20 
3.2 
30 
5.0 
40 
7.9 
50 
12.6 
60 
20 
70 
32 
80 
50 
90 
79 
100 
126 
110 
200 
120 
320 
130 
500 
140 
790 
150 
1260 
 
4)  快速进给 
按下快速进给键时，可进行‘开→关→开...’切换，当为‘开’时，位于面板上部指示灯亮，关时
指示灯灭。选择为开时， 手动以快速速度进给。 
 


                                                        GSK218T 车床数控系统 使用手册 
 
79
                                                                      
                  手动快速键          动快速指示灯 
                                                                         
       按此开关为ON时，刀具可在已选择的轴方向上快速进给。 
注1:快速进给时的速度，时间常数，加减速方式与用程序指令的快速进给(G00 定位)时相同。 
注2:在接通电源或解除急停后，如没有返回参考点，当快速进给开关为 ON（开）时，手动进给速度为JOG 进给速度或
快速进给。 
注3：在编辑/手轮方式下，按键无效。指示灯灭。其它方式下可选择快速进给，转换方式时取消快速进给。 
3.2.3  单步进给 
1) 按下单步方式键，选择单步操作方式，这时液晶屏幕右下角显示[单步方式]。（没有选择手轮机能时）； 
2) 选择移动量：按下增量选择键，选择移动增量，相应的选择在液晶屏幕左下角显示。 
 
                                         步进进给量 
输入单位制 
0.001 
0.01 
0.1 
公制输入(mm） 
0.001 
0.01 
0.1 
3) 选择移动轴 
        
                                         轴选择键 
按一次轴选择键，则在此轴方向上移动一个移动量开关选择的进给量，OFF后再次ON时，再移动一次。 
注1：移动速度与JOG 进给速度相同。 
注2：按快速进给按钮后便进行快速进给，此时快速进给倍率也有效。 
3.2.4  手轮进给（选择功能） 
转动手摇脉冲发生器（手轮），可以使机床微量进给。 
 


                                                        GSK218T 车床数控系统 使用手册 
 
80 
1) 按下手轮方式键，选择手轮操作方式，这时液晶屏幕右下角显示[手轮方式]。 
2) 选择手轮运动轴：在手轮方式下，按下相应的键，则选择其轴，所选手轮轴的地址[U]或[W]闪烁。 
                                  轴选择键 
注：在手轮方式下，按键有效。所选手轮轴的地址[U]或[W]闪烁。 
3) 转动手轮 
 
 
手摇脉冲发生器（手轮） 
顺时针转：+方向 
逆时针转：-方向 
4) 选择移动量：按下增量选择键，选择移动增量，相应在屏幕左下角显示移动增量。 
                                 
 
 
移动量选择开关 
 
每 一刻 度 的 移 动 量 
输入单位制 
0.001 
0.01 
0.1 
公制输入(mm） 
0.001 
0.01 
0.1 
 
注1：上表中数值根据机械传动不同而不同。 
注2：手摇脉冲发生器的速度要低于5r/min。如果超过此速度，即使手摇脉冲发生器回转结束了，发出脉冲就会出现刻度
和移动量不符。 
注3：在手轮/单步方式下，按键有效。 
 
3.2.5  手动辅助功能操作 
1） 手动换刀 


                                                        GSK218T 车床数控系统 使用手册 
 
81
  手动/手轮/单步方式下，按下此键，刀架旋转换下一把刀。（参照机床厂家的使用说明书） 
 
2） 冷却液开关 
  手动/手轮/单步方式下，按下此键，同带自锁的按钮，进行‘开→关→开...’切换。 
 
3） 润滑开关 
  手动/手轮/单步方式下，按下此键，同带自锁的按钮，进行‘开→关→开...’切换。 
 
4） 主轴正转 
 
  手动/手轮/单步方式下，按下此键，主轴正向转动起动。 
 
5） 主轴反转 
 
  手动/手轮/单步方式下，按下此键，主轴反向转动起动。 
 
6） 主轴停止 
 
  手动/手轮/单步方式下，按下此键，主轴停止转动。 
键指示灯：无论是在何种方式下，只要主轴停止，键指示灯则亮，否则指示灯灭。 
 
7） 主轴倍率增加，减少（选择主轴模拟机能时） 
      
注：相应倍率变化在屏幕左下角显示，在选择主轴模拟机能时，按切换键可切换快速倍率及主轴倍率的显示。 
 
8） 面板指示灯 
                     
回零完成灯：返回参考点后，已返回参考点轴的指示灯亮，移出零点后灯灭。 
 
 X     Z 
%
增加：按一次增加键，主轴倍率从当前倍率以下面的顺序增加一挡 
       50％→60％→70％→80％→90％→100％→110％→120％→120％·· 
      
减少：按一次减少键，主轴倍率从当前倍率以下面的顺序递减一挡 
       120％→110％→100％→90％→80％→70％→60％→50％→50％··· 


                                                        GSK218T 车床数控系统 使用手册 
 
82 
MST
 
快速灯  单段  跳段  机床锁  辅助锁 空运行 
 
注：1主轴正，反向 
2冷却键 
3润滑键 
4换刀键 
仅在手动方式下起作用。 
当没有冷却液或润滑液输出时，按下冷却键或润滑，输出相应的点。当有冷却液或润滑液输出时，按下冷却键或润
滑键，关闭相应的点。在换刀过程中，换刀键无效，按复位键（RESET）或急停可关闭刀架正/反转输出，并停止换刀过
程。在手动方式起动后，改变操作方式时，输出保持不变。但可通过自动方式下执行相应的M代码关闭对应的输出。 
同样，在自动方式执行相应的M代码输出后，也可在手动方式下按相应的键关闭相应的输出。 
复位时，对M08，M32，M03，M04输出点是否有影响影决于参数（参数012号的Bit0位RSJG）。 
急停时，关闭主轴，冷却，润滑，换刀输出。 
 
3.3   自动运行 
3.3.1  运转方式 
1） 存储器运转 
a) 首先把程序存入存储器中 
b) 选择要运行的程序。 
c) 把方式选择于自动方式的位置。 
d) 按循环启动按钮。 
                                自动方式选择键    自动循环起动 
   按循环启动按钮后，开始执行程序。 
2） MDI运转 
从LCD/MDI面板上输入一个程序段的指令，并可以执行该程序段。 
        例： X10.5 Z200.5 ； 
 
 
a)  把方式选择于MDI的位置(录入方式)。 


                                                        GSK218T 车床数控系统 使用手册 
 
83
          
b)  按[程序]键 
c)  按[翻页]按钮后，选择如下图的画面。 
 
  
程序                        O2000 N0100 
 
地址 
                       录入方式     
（程序段值）         （模态值） 
    X
    Z
    U  
    W
    R
    F
    M
    S
    T
    P
    Q
     F   200
G01 M
G97 S
G98 T  
 
G21
G40
    SACT  0000
     S 0000 T0200 
 
 
d)  键入X10.5。 
e)  按IN键。X10.5输入后被显示出来。按IN键以前，发现输入错误，可按CAN键， 
然后再次输入X和正确的数值。如果按IN键后发现错误，再次输入正确的数值。 
f)  输入Z200.5。 
g)  按IN，Z200.5被输入并显示出来。 
 
 
程序                        O2000 N0100 
 
地址 
                       录入方式     
（程序段值）         （模态值） 
    X   10.500 
    Z  200.500 
    U  
    W
    R
    F
    M
    S
    T
    P
    Q
     F   200
G01 M
G97 S
G98 T
 
G21
G40
    SACT  0000
    S000 T0200 
 
h) 按循环起动键 
   按循环起动键前，取消部分操作内容。为了要取消Z200.5，其方法如下: 
① 依次按W、0、IN键。 
② 按循环启动按钮。 


                                                        GSK218T 车床数控系统 使用手册 
 
84 
3.3.2  自动运转的启动 
存储器运转 
 1) 选择自动方式 
 2) 选择程序 
 3) 按操作面板上的循环启动按钮 
 
3.3.3  自动运转的执行 
启动自动运转后，程序执行如下： 
1)  从指定的程序中，读取一个程序段指令。 
2)  译码已读取的程序段指令，并变成可执行的数据。 
3)  开始执行此程序段。  
4)  读取下个程序段指令。 
5)  译码下个程序段的指令，变成可执行的数据，该过程也称缓冲。 
6)  前一个程序段执行结束后，由于有缓冲寄存器可以立即开始下个程序段的执行。光标移至即 
将执行的程序段。 
7)  以后便重复(4)、(5)、(6)，执行自动运转，直至程序结束。 
 
3.3.4  自动运转的停止 
使自动运转停止的方法有两种，一是用程序事先在要停止的地方输入停止命令，二是按操作面板上
按进给保持按钮使它停止。 
1） 程序停(M00) 
含有M00的程序段执行后，停止自动运转，与单程序段停止相同，模态信息全部被保存起来。按循
环起动键，能再次开始自动运转。 
2） 程序结束(M30) 
a) 表示主程序结束。 
b) 停止自动运转，变成复位状态。 
c) 返回到程序的起点。 
3） 进给保持 
 
进给保持键      循环起动键 
在自动运转中，按操作面板上的进给保持键可以使自动运转暂时停止。 
 按进给保持按钮后，机床呈下列状态。 
 a) 机床在移动时，进给减速停止。 


                                                        GSK218T 车床数控系统 使用手册 
 
85
 b) 在执行暂停中，休止暂停。 
 c) 执行M、S、T的动作后，停止。 
按自动循环起动键后，程序继续执行。 
 
 
4） 复位 
用LCD/MDI上的复位键，使自动运转结束，变成复位状态。在运动中如果进行复位，则机械减速后
停止。 
                       复位键 
 
3.3.5  自动运转中冷却液控制 
在自动方式下，面板冷却按键
功能有效，此按键每按一次M08输出状态翻转一次。 
 
3.3.6  主轴点动控制 
在自动方式下，10号参数Bit3必须为1，94号参数为非零数值，且系统处于运行结束状态时，主轴
点动控制功能才有效。 
按主轴正转按键后，主轴旋转延时94 号参数设定的时间后自动停止旋转。 
注1：当主轴为模拟量控制时，需先执行S指令后才能有效。 
 
3.4  试运转 
3.4.1 全轴机床锁住 
机床锁住开关为ON时，机床不移动，但位置坐标的显示和机床运动时一样，并且 M、S、T都能执
行。 
此功能用于程序校验。 
按一次此键，同带自锁的按钮，进行‘开→关→开...’切换，当为‘开’时，指示灯亮，关时指示
灯灭。 
 
机床锁住灯 


                                                        GSK218T 车床数控系统 使用手册 
 
86 
3.4.2  辅助功能锁住 
如果机床操作面板上的辅助功能锁住开关置于ON位置，M、S、T代码指令不执行，机床被锁住。 
此功能用于程序校验。 
注：M00，M30，M98，M99按常规执行。在手动方式下按常规执行。 
3.4.3  进给速度倍率 
用进给速度倍率开关，可以对由程序指定的进给速度倍率。 
进给速度倍率按键 
        
具有0%～150%的倍率共16档。 
注：进给速度倍率开关与手动连续进给速度开关通用。 
 
 
3.4.4  快速进给倍率 
 
快速进给倍率选择键 
快速倍率有 FO，25％，50％，100％四挡。 
可对下面的快速进给速度进行100%、50%、25%的倍率或者为FO的值上。 
1)   G00快速进给； 
2)   固定循环中的快速进给； 
3)   G28 时的快速进给； 
4)   手动快速进给； 
5)   手动返回参考点的快速进给； 
当快速进给速度为6m/min时，如果倍率为50%，则速度为3m/min。 
 


                                                        GSK218T 车床数控系统 使用手册 
 
87
3.4.5  空运转 
                                                                   
当空运转开关为ON时，不管程序中如何指定进给速度，而以下面表中的速度运动。 
            
程     序    指    令 
 
快速进给 
切削进给 
手动快速进给按钮ON（开） 
快速进给 
JOG进给最高速度 
手动快速进给按钮OFF（关） JOG进给速度或快速进给  
见注 
JOG进给速度 
 
注: 用参数设定(参数002号的第2位RDRN)，也可以快速进给。 
3.4.6  进给保持后或者停止后的再启动 
在进给保持开关为ON 状态时，(自动方式或者录入方式)， 按循环启动按钮，自动循环开始继续运
转。 
 
3.4.7  单程序段 
      
当单程序段开关置于ON时，单程序段灯亮，执行程序的一个程序段后，停止。 
如果再按循环启动按钮，则执行完下个程序段后，停止。 
 
注1：在G28中，即使是中间点，不能进行单程序段停止。 
注2：在单程序段ON时，执行固定循环G90，G92 G94，G70~G75时，见下页表 
注3：M98＿； M99；及G65的程序段不能单程序段停止。但M98、M99程序段中，除N，O，P以外还其它地址时，能单程
序段停止。  
 


                                                        GSK218T 车床数控系统 使用手册 
 
88 
G 代码 
刀具轨迹 
说    明 
G90 
 
 
 
 
 
 
1～4 作为一个循环。动作4 结束
停止 
G92 
 
 
 
 
 
 
1～4 作为一个循环。动作4 结束
后停止。 
G94 
 
 
 
 
 
 
1～4 作为一个循环。动作4 结束
后停止。 
G70 
 
 
 
 
 
 
 
1～7 作为一个循环。动作7 结束
后停止。 
G71，G72 
 
 
 
 
 
 
 
 
 
注：此图是G71 的情况，G72 相同 
1～4，5～8，9～12，13～16，
17～20 作为一个循环。循环结束
后停止。 
G73 
 
 
 
 
 
 
 
 
1～6 作为一个循环。循环结束后
停止。 
G74，G75 
 
 
 
 
 
 
 
1～10 作为一个循环。循环结束
后停止。 
G76 
1~12 作为一个循环。循环结束后
停止。 
2
1
4
3
2
1
4
3
2
1
4
3
2
1
4
3
3 
1 
4
2 
4
2
1
3
2
4
7
1
3
5
6
4
19
18
17
13
14
16
15 
9
10
12
11 
5
6
8
7 
3 
2
1
4
3
2
5
6
1
9 
1
2
10


                                                        GSK218T 车床数控系统 使用手册 
 
89
3.5   安全操作 
3.5.1  急停(EMERGENCY STOP) 
 按下急停按纽，使机床移动立即停止，并且所有的输出如主轴的转动，冷却液等也全部关闭。旋
转按纽后解除，但所有的输出都需重新起动。      
红色 
 
      
紧急停 
(EMERGENCY STOP) 
一按按钮，机床就能锁住，解除的方法是旋转后解除。 
 
3.5.2  超程 
如果刀具进入了由参数规定的禁止区域(存储行程极限)，则显示超程报警，刀具减速后停止。此时
用手动，把刀具向安全方向移动，按复位按钮，解除报警。具体的范围，请参照机床厂家随行的使用说
明书。 
 
3.6  报警处理 
当出现异常运转时，请确认下列各项的内容： 
1) 当液晶屏幕显示报警时。 
请参照附录“报警代码一览表”确定故障原因。如果显示PS□□□，是关于程序或者设定数据方
面的错误。请修改程序或者修改设定的数据。 
2) 在液晶屏幕上没显示报警代码时。 
可根据液晶屏幕的显示知道系统运行到何处和处理的内容，请参照“CNC的状态显示”。 
 
3.7  程序存储、编辑 
 
            编辑键 
 
3.7.1  程序存储、编辑操作前的准备 
在下节以后，要介绍程序的存储、编辑操作，为此有必要介绍一下操作前的准备。 
（1） 把程序保护开关置于“开”上（见注）。 


                                                        GSK218T 车床数控系统 使用手册 
 
90 
(2)  按编辑键将操作方式设定为编辑方式 
(3)  按程序键，显示程序界面即可编辑程序。 
 
注: 为了保护零件程序，在【设置】页面上设有程序保护开关(参阅3.8.2)，只有该开关ON 时，才可编辑程序。   
 
3.7.2  程序的新建，复制，重命名 
1) 新建程序 
a) 选择方式(编辑方式)； 
b) 按程序键，显示程序画面； 
c) 按地址 
TOT ； 
d) 键入程序名（数字键输入）； 
e) 按EOB 键； 
2) 复制程序 
a) 选择方式(编辑方式)； 
b) 按程序键，显示程序画面； 
c) 按地址 
TOT ； 
d) 键入程序名（数字键输入）； 
e) 按 转换键。 
 3) 重命名程序 
a) 选择方式(编辑方式)； 
b) 按程序键，显示程序画面； 
c) 按地址 
TOT ； 
d) 键入程序名（数字键输入）； 
e) 按 修改键。 
注1：程序新建时，当输入的程序名的程序存在则为打开该程序。 
注2：复制程序与程序重命名时目标程序的程序名不能与存储器上任一已有的程序名相同。否则报警。 
 
3.7.3  把程序存入存储器中 
程序在新建，复制，重命名，检索时均会自动存入存储器中；程序被编辑时，切换工作方式或切换
显示界面也将存储编辑信息。 
注：程序编辑过程中断电，上次保存后的编辑信息不会保存，故编辑较长的程序时，应不时的切换工作方式或显示
界面以保存程序编辑信息。 
 
3.7.4  程序号检索 
当存储器存入多个程序时，按程序键时，总是显示指针指向的一个程序，即使断电，该程序指针也


                                                        GSK218T 车床数控系统 使用手册 
 
91
不会丢失。可以通过检索的方法调出需要的程序(改变指针)，而对其进行编辑或执行，此操作称为程序
检索。 
1) 检索指定程序号 
a) 选择方式(编辑或自动方式)； 
b) 按程序键，显示程序画面； 
c) 按地址 
TOT ； 
d) 键入要检索的程序号（数字键输入）； 
e) 按↓键； 
f) 检索结束时，在LCD 画面显示检索出的程序并在画面的右上部显示已检索的程序号。如果没有
该程序，则出现P/S 031 号报警。 
2) 扫描法 
a) 选择方式(编辑或自动方式)； 
b) 按程序键； 
c) 按地址 
TOT ； 
d) 按↓或↑键。 
编辑方式时，反复按 
TO T，↓或↑键，可逐个显示存入的程序。 
↓键检索时，依已有的程序号递增的顺序检索，如果检索到最大的程序号如9999 仍未找到时，将
从程序号0 开始重新检索。↑键检索相反。 
 
3.7.5  程序的删除 
删除存储器中的程序 
1) 选择编辑方式； 
2) 按程序键，显示程序画面； 
3) 按地址 O ； 
4) 用键输入程序号； 
5) 按删除键，则对应键入程序号的存储器中程序被删除。 
注：删除不存在的程序时系统将报警（P/S报警：014  删除文件不存在）。 
 
3.7.6  删除全部程序 
删除存储器中的全部程序。 
1)  选择编辑方式； 
2)  按程序键，显示程序画面； 
3)  按地址键 O ； 
4)  输入 –9999 并按删除键，则全部程序被删除。 
 


                                                        GSK218T 车床数控系统 使用手册 
 
92 
3.7.7  字的检索、插入、修改、删除 
存入存储器中程序的内容，可以改变。 
a)  把方式选择为编辑方式； 
b)  按程序键，显示程序画面； 
c)  选择要编辑的程序； 
d)  检索要编辑的字。有以下两种方法(见注2)； 
① 用扫描(SACN)的方法 
②用检索字的方法 
e)  进行字的修改、插入、删除等编辑操作。 
注1：字的概念和编辑单位：所谓字是由地址和跟在它后面的数据组成。对于用户宏程序，字的概念完全没有了，通称为
“编辑单位”。在一次扫描中，光标显示在“编辑单位”的开头。插入时，插入的内容在“编辑单位”之后。编辑 单
位的定义： 
1）从当前地址到下个地址之前的内容。如：G65 H01 P#103 Q105；中有4 个编辑单位。 
2）所谓地址是指字母；（EOB）为单独一个字。 
根据这个定义，字也是一个编辑单位。在下面关于编辑的说明中，所谓字，正确地应该说“编辑单位”。 
注2：光标总是在某一编辑单位的下端，而编辑的操作也是在光标所指的编辑单位上进行的，在自动方式下程序的执行也
是从光标所指的编辑单位开始执行程序的。将光标移动至要编辑的位置或要执行的位置称之为检索。 
 
1） 字的检索 
a) 用扫描的方法 
一个字一个字地扫描。 
① 按→键时 
 N100 X100.0 Z120.0 ; M03; N110 M30 ; 
 
此时，在画面上，光标一个字一个字地顺方向移动。也就是说，在被选择字的地址下面，显示出光
标。如此时光标在程序行末尾位置，按→键后光标移动到下一行开头位置。 
② 按←键时 
 N100 X100.0 Z120.0 ; M03 ; N110 M30 ; 
 
 
此时，在画面上，光标一个字一个字地反方向移动。也就是说，在被选择字的地址下面，显示出光
标。如此时光标在程序行开始位置，按←键后光标移动到上一行末尾位置。 
  ③ 按下翻页键，画面翻页，光标移至下页开头的字。 


                                                        GSK218T 车床数控系统 使用手册 
 
93
④按上翻页键，画面翻到前一页，光标移至开头的字。 
⑤按↑键时，光标移至程序上一行开头的字。 
⑥按↓键时，光标移至程序下一行开头的字。 
b)  检索字的方法 
从光标现在位置开始，顺方向或反方向检索指定的字。 
 
检索S02
光标现在位置
检索方向
N100 X100.0 Z120.0 ; S02 ; N110 M30 ;
 
 
① 用键输入地址S 
② 用键输入'0'、'2' 
③ 按光标↓键，开始检索。 
如果检索完成了，光标显示在S02 的下面。如果不是按光标↓键，而是按光标↑键，则向反方向
检索。 
c) 用地址检索的方法 
 从现在位置开始，顺方向检索指定的地址。 
 
  
光标现在位置
检索地址M
检索方向
N100 X100.0 Z120.0 ; S02 ; N110 M30 ;
 
① 按地址键 
TM T； 
② 按光标↓键； 
检索完成后，光标显示在T MT的下面。如果不是按光标↓键，而是按光标↑键，则反方向检索。 
 
d) 返回到程序开头(不包括程序名行)的方法 
 
 
 
检索方向
程序开头
光标现在位置 
O0200 ；N100 X100.0 Z120.0 ; S02 ; N110 M30 ; 
 
 
① 方法1 
按复位//键(编辑方式，选择了程序画面)，当返回到开头后，在LCD 画面上，从头开始显示程序的
内容。 
② 方法2 
检索程序号。 


                                                        GSK218T 车床数控系统 使用手册 
 
94 
2）  字的插入 
a) 检索或扫描到要插入的前一个字； 
b) 用键输入要插入的地址。本例中要插入T； 
c) 用键输入15； 
d) 按插入键。 
 
程序                               O0050 
N1234 
O0050 ; 
N1234 X100.0 Z120.0 ; 
S02 ; 
N5678 M03 ; 
M30 ; 
% 
 
 
 
地址 
 
 
 
 
   行2     S0000  
T0200 
 
图3.7.9(2) 插入T15前的画面 
 
程序                               O0050 
N1234 
O0050 ; 
N1234 X100.0 Z120.0 T15; 
S02 ; 
N5678 M03 ; 
M30 ; 
% 
 
 
 
地址 
 
 
 
 
   行2     S0000  
T0200 
 
图3.7.9 (2) 插入T15后的画面 
3） 字的修改 
光标现在位置
要变更为M03 时
N100 X100.0 Z120.0 T15 ; S02 ; N110 M30 ;
 
 
a)  检索或扫描到要变更的字； 


                                                        GSK218T 车床数控系统 使用手册 
 
95
b)  输入要变更的地址，本例中输入M； 
c)  用键输入数据； 
d)  按修改键，则新键入的字代替了当前光标所指的字。 
如输入M03，按修改键时 
 
光标现在位置
变更后的内容
N100 X100.0 Z120.0 M03 ; S02 ; N110 M30 ;
 
4） 字的删除 
光标现在位置
要删除Z120.0
N100 X100.0 Z120.0 M03 ; S02 ; N110 M30 ;
 
a)  检索或扫描到要删除的字； 
b)  按删除键，则当前光标所指的字被删除。 
 
光标现在位置
删除后
N100 X100.0 M03 ; S02 ; N110 M30 ;
 
 
3.7.8  存储程序的个数 
系统标准配置可存储程序250 个。 
 
3.7.9  存储容量  
存储程序总容量：8160KB。 
3.7.10  程序传输 
3.7.10.1  从PC 机到CNC 
先用通讯电缆连接好PC机与CNC，打开CNC的程序开关，在PC机中打开GSKCOMM218T用户版
通讯软件。以下在通讯软件进行操作。 
根据PC的接口选择COM1~COM4，根据系统95号参数选择串口通讯波特率，如9600等，点击“打
开串口” 按钮；在“传输方式”选择“接收文件”方式，点击“获取CNC目录” 按钮，在文件列表栏
会列出CNC中的文件目录，表示PC机与CNC间连接成功。 
在“传输方式”选择“发送文件”方式，点击“添加文件”按钮，此时出现打开文件的对话框，选
择要传输的程序，点击“打开”按钮，此时文件列表栏会列出要传输的程序文件名。点击“开始发送”
按钮，会出现传输状态界面，当该界面消失时，表示传输完成。 


                                                        GSK218T 车床数控系统 使用手册 
 
96 
3.7.10.2  从CNC 到PC 
先用通讯电缆连接好PC机与CNC，打开CNC的程序开关，在PC机中打开GSKCOMM218T用户版
通讯软件。以下在通讯软件进行操作。 
根据PC的接口选择COM1~COM4，根据系统95号参数选择串口通讯波特率，如9600等，点击“打
开串口” 按钮；在“传输方式”选择“接收文件”方式，点击“获取CNC目录” 按钮，在文件列表栏
会列出CNC中的文件目录，表示PC机与CNC间连接成功。 
在文件目录前的复选框中，将不需要传输的程序号前的“勾”去掉，点击“开始接收”按钮，此时
会出现浏览文件夹对话框，选择程序存放的文件夹后，按“确定”按钮，会接收状态界面，当该界面消
失时，表示接收完成。 
3.7.10.3  从CNC 到CNC 
用户可以在CNC 间传输单个程序，其输出的具体操作步骤如下： 
1、先打开GSK218T 系统的程序开关，选择编辑操作方式并进入程序页面显示；  
2、GSK218T 系统键盘上键入地址键
，键入欲传输的程序名；当需要输出全部程序时，先键
入地址键
，再输入“－9999”； 
3、按GSK218T 系统键盘上的
键，传送开始，GSK218T 系统的LCD 右下角显示“通讯中”
字样并闪烁，PC 机屏幕显示输入的程序；当该字符消失时，表示通讯结束。若显示“串口未连接”，
表示系统间的连接有问题；若出现“通讯出错”表示可能串口间的波特率设置有问题，或降低波特
率。 
3.8  数据的显示、设定 
3.8.1  补偿量 
1） 刀具补偿量的设定和显示(刀补键) 
刀具补偿量的设定方法可分为绝对值输入和增量值输入两种。 
a) 绝对值输入时 
① 按刀补键 
② 因为显示分为多页，按翻页按钮，可以选择需要的页。 
 


                                                        GSK218T 车床数控系统 使用手册 
 
97
 
偏置                           O0001 N0001 
序号    X         Z        R     T 
000   0.000 
001  10.000 
002  -1.000 
003   0.000  
004   0.000 
005   0.000 
006   0.000 
007   0.000 
008   0.000 
现在位置（相对坐标） 
    U    0.000          W    0.000 
地址                  
S0000 T0200  
                        录入方式 
 0.000
10.000
 1.000
 0.000 
 0.000
 0.000
 0.000
 0.000
 0.000
 0.000
10.000
 1.000
 0.000 
 0.000
 0.000
 0.000
 0.000
 0.000
 0 
 1 
 1 
 3  
 5 
 0 
 2 
 6 
 0 
 
 
③ 把光标移到要输入数据的序号的位置。 
扫描法：按上、下光标键顺次移动光标 
检索法：用下述按键顺序直接移动光标至键入的位置 
按P/Q 键，转入搜索状态，此时输入数字，再按输入/IN 键，光标会移动到指定的序号。 
按取消键取消搜索状态。 
④ 按地址 X 或 Z 后，用数据键，输入补偿量(可以输入小数点) 
⑤ 按输入/IN键后，把补偿量输入，并在LCD 上显示出来。 
 
b) 增量值输入 
① 把光标移到要变更的补偿号的位置。 
(与(a)-3)的操作相同) 
② 如要改变X 轴的值，键入 U ，对于Z 轴，键入 W 。 
③ 用数据键键入增量值。 
④ 按输入/IN键，把现在的补偿量与键入的增量值相加，其结果作为新的补偿量显示出来。 
(例)已设定的补偿量 5.678 
键盘输入的增量 1.5 
新设定的补偿量 7.178(为5.678+1.5) 
注:在自动运转中，不能变更补偿量。 
 
3.8.2  用户口令输入和修改 
1） 用户口令输入和修改([设置]键) 
 a) 选择录入方式（MDI）； 
 b) 按设置键，显示用户口令。    
 


                                                        GSK218T 车床数控系统 使用手册 
 
98 
 
修改用户口令: 
用户口令                       O2000 N0100 
 
 
                        
录入方式 
输入用户口令: 
确认新口令  : 
             
 
   S0000  T0200 
 
 
c) 移动光标可以进行输入，修改用户口令等操作。 
 
用户口令由1-6位数字组成，输入口令后按输入/IN键，口令正确后可修改用户口令，可在设置页面
打开参数开关。修改用户口令时，需两次输入相同的口令才能成功。 
只有输入正确的密码后，才能打开参数开关及程序开关，否则产生P/S 170号报警。 
注：系统初始密码：111111 
2）  参数开关及程序开关状态设置 
 ① 按设置键 
② 按翻页键，显示参数开关及程序开关状态画面 
 
 
设置                          O2000 N0100 
                          S0000 T0200 
                       录入方式     
 
 
参数开关：  /关    开 
程序开关：   关  /开 
 
按W ，D/L键可使参数及程序开关处于关、开的状态，参数处于开状态时，CNC显示P/S100号报
警，此时方可输入参数，输入完毕后，按W使参数开关处于关的状态，复位键（RESET， // ）按后可
清除100号报警。 
 


                                                        GSK218T 车床数控系统 使用手册 
 
99
3.8.3  用户宏变量的显示及设定 
公用变量（#200～#231）的值可以显示在LCD上。 
 
 
 
偏置                         O0001N0001 
 序号     数据        序号       数据 
200     10.000 
201     -1.000 
202      0.000  
203      0.000 
204      0.000 
205      0.000 
206      0.000 
207      0.000 
现在位置（相对坐标） 
    U    0.000          W    0.000 
地址 
                        录入方式 
208     10.000 
209     -1.000 
210      0.000  
211      0.000 
212      0.000 
213      0.000 
214      0.000 
215      0.000 
 
 
如果宏变量的值超过9999999.999或小于-9999999.999，则显示为‘********’。 
1)  显示 
按两下刀补键 
2)  设定 
① 选择显示要设定的变量号所在的页； 
② 把光标移到要设定的变量号的位置； 
③ 用数据输入键，输入数值； 
④ 按输入/IN键，输入变量值。 
 
3.8.4  参数 
CNC和机床连接时，通过参数设定，使驱动器特性、机床规格、功能等最大限度地发挥出来。其内
容随机床不同而不同，所以请参照机床厂家编制在机床使用说明书中的参数表。参数的意义详见附录。 
 
3.8.4.1  参数的显示 
a） 按参数键 
b） 按翻页按钮，选择页。 
在参数显示画面，在LCD的下部有一参数详细内容显示行，显示当前光标所在的参数的详细内容。 
 


                                                        GSK218T 车床数控系统 使用手册 
 
100 
 
   
   位参数                                 O0010 N0010 
     序 号    数  据  
 
   序号  
数据 
      001     00000100         009     00001111 
      002     10101010         010     10000001 
      003     00000000         011     00000010 
      004     01110000         012     00000000 
      005     01000000         013     00000000 
      006     00000011         014     10000111 
      007     00000000         015     00000000 
      008     00000011         016     00000000 
AUN TOC ORC  *** CCMO  SCRP  RDRN  PTSR 
Bit7: AUN:0/1:自动序号无/有效 
   序号 002                         
S0000 T0200 
                                 
录入方式 
参数详细内容显示行 
 
①  位参数 
参数№001～016 是位参数，最左侧是最高位(BIT7)，依次为BIT6，BIT5，BIT4及BIT3，BIT2，
BIT1，BIT0。对于位参数而言，参数详细内容显示行有两种显示，一种是该参数所有位的英文缩写，另
外一种是每一位的详细中文显示。 
可以按W键(递增位)，D/L键(递减位)依次显示各位的详细信息。 
←和→键同样可显示各位详细信息且有光标显示当前位的位置。 
 
②  数据参数 
参数详细内容显示此时只有一行，即该参数的实际意义，如: 
017   X 轴指令倍乘比 
3.8.4.2  参数的设定 
参数可以从键盘面板上设定或PC机上输入。 
a) 从面板上设定 
① 设定参数开关为开(必须先输入用户口令，口令正确后才能设定)； 
② 选择录入方式； 
③ 按参数，使之显示出参数的画面； 
④ 按翻页按钮，显示出要设定参数所在的页； 
⑤ 把光标移到要变更的参数号所在位置； 
方法1：按光标↓或↑键移动到要设定的参数号。 
方法2：按以下方法按P/Q键，输入参数号，按输入/IN键（第4步可省略） 
⑥ 用数字键输入参数值； 


                                                        GSK218T 车床数控系统 使用手册 
 
101
 
输入位参数时，如果按位修改参数中的某一位，只能输入1或0(←或→键可进入按位修改状态)；
不按位修改时，输入数据不足8位的补0。如输入100，则位参数数据为00000100。 
⑦ 按输入/IN键，参数值被输入并显示出来； 
⑧ 所有的参数设定及确认结束后，选择设置画面，把参数开关设定到关的状态； 
⑨为了解除报警状态，按复位（ // ）按钮。但是发生000 号报警时，需将电源进行OFF/ON操     
作。 
b) 从备份中读入参数值（界面见下页图） 
 
系统设计有参数值和螺距补偿值的备份功能。下面以参数值为例进行说明，螺距补偿值的备份
功能与参数值相似，不再详细说明。在参数值I/O界面，通过上下移动操作键选择参数值输入功能和参
数值输出功能，当选择参数值输出时，系统可以将当前正在使用的参数值（包括位参数和数据参数）进
行备份，根据当前所选择的A、B、C或D（通过左右箭头操作键选取）可将备份文件保存为4个备份盘，
A盘作为系统出厂时设定的参数，存盘时不能对A盘进行操作。当选择参数值读盘功能时，首先通过左
右操作键选定A、B、C或D，也即选定参数文件电子盘号，按输入键即完成读盘后，系统正在使用的参
数即更新为新输入的参数。详细操作过程如下： 
① 设定参数开关为开(必须先输入用户口令，口令正确后才能设定)； 
② 选择录入方式； 
③ 按参数，使之显示出参数的画面； 
④ 按转换键，进入参数值I/O页面； 
⑤ 上下移动光标至“参数值读盘”位置； 
⑥ 按输入/IN键，系统将从用户的存储器打开相应的电子盘并读入数据，成功后，LCD左下显示“读
盘完成”。 
如果用户分区上没有该文件，系统自动停止输入。左右键选择A，B，C，D无效，系统均从存储器
用户分区上打开文件。 
c) 将参数值存盘（界面见下页图） 
①～④同上。 
⑤上下移动光标至“参数值存盘”位置。 
⑥ 按输出/OUT键，系统将参数值写入存储器用户选定的电子盘号内，成功后，LCD左下显示“输
出完成”。 
如果用户分区上已存在参数，新的参数会将原参数覆盖。 


                                                        GSK218T 车床数控系统 使用手册 
 
102 
参数值I/O
O0000 N0000
参数值读盘：  /A   B   C   D
参数值存盘：  /B     C     D
<输入>键读盘，<输出>键存盘
S0000 T0100
录入方式
 
                   参数电子盘操作界面 
 
注1：PC 机输入参数值文件时，文件内容需按如下格式：序号+(TAB 或空格)+参数值 
如: 001 00011000 
  017  
2 
序号必须为三位，不足的需补0，序号不能省略；参数值省略该序号的参数值为0；文件中不能出现空行，否则
空行后其他序号的参数值均为0；文件结束必须有两行以上的空行（所有通过PC 机输入的文件均必须有此特征）。 
注2:在部分参数设定后，必须断电时才有效(发生000 号报警时) 
注3:与RS232C 接口有关的参数，在输入之前，需要由面板MDI 设定。 
 
3.8.4.3  参数的传输 
a）从PC到CNC 
先用通讯电缆连接好PC机与CNC，打开CNC的程序开关，在PC机中打开GSKCOMM218T用户版
通讯软件。以下在通讯软件进行操作。 
根据PC的接口选择COM1~COM4，根据系统95号参数选择串口通讯波特率，如9600等，点击“打
开串口” 按钮；在“传输方式”选择“接收文件”方式，点击“获取CNC目录” 按钮，在文件列表栏
会列出CNC中的文件目录，表示PC机与CNC间连接成功。 
在“传输方式”选择“发送文件”方式，点击“添加文件”按钮，此时出现打开文件的对话框，选
择要传输的参数表，点击“打开”按钮，此时文件列表栏会列出要传输的参数表文件名。点击“开始发
送”按钮，会出现传输状态界面，当该界面消失时，表示传输完成。 
b）从CNC到PC 
先用通讯电缆连接好PC机与CNC，打开CNC的程序开关，在PC机中打开GSKCOMM218T用户版
通讯软件。以下在通讯软件进行操作。 


                                                        GSK218T 车床数控系统 使用手册 
 
103
根据PC的接口选择COM1~COM4，根据系统95号参数选择串口通讯波特率，如9600等，点击“打
开串口” 按钮；在“传输方式”选择“接收文件”方式，点击“获取CNC目录” 按钮，在文件列表栏
会列出CNC中的文件目录，表示PC机与CNC间连接成功。 
在文件目录前的复选框中，将不需要传输的程序号及参数文件名前的“勾”去掉，点击“开始接收”
按钮，此时会出现浏览文件夹对话框，选择程序存放的文件夹后，按“确定”按钮，会接收状态界面，
当该界面消失时，表示接收完成。 
c）从CNC到CNC 
先用通讯电缆连接好CNC与CNC，打开CNC的参数开关。以下在要输出参数的CNC进行操作。 
选择编辑方式，进入参数界面，；按面板上的
键，此时在屏幕的下方出现“通讯中”的字符；
如果CNC间连接不正常时，界面下方会出现“串口未连接”的报警；当该字符消失时，表示通讯完毕；
当出现“通讯出错”的报警时，请检查两个CNC的波特率是否一致或降低串口的传输波特率。通讯结束
后，接收参数的CNC其当前参数已全部更新，请重新上电即可。 
系统参数及螺距误差补偿参数的传输方式一致。 
3.8.5  诊断 
CNC和机床间的DI/DO信号的状态，CNC和PC间传送的信号状态，PC 内部数据及CNC内部状态
等都可以通过诊断显示出来。同时，也可通过相应的设定，直接向机床侧输出，也可以对辅助机能的各
参数进行设定。每个诊断号对应的意义及设定方法请参照维修说明书。 
 
1） 诊断的显示 
a) 按诊断键，选择诊断显示页面，（[诊断]与[机床面板]显示页面为同一键，反复按时，在两页面
之间进行切换）。 
b) 按翻页按钮，选择需要的页。 
在诊断显示画面，在LCD 的下部有三个诊断详细内容显示行，显示当前光标所在的诊断号的详细 
内容。 
 
 


                                                        GSK218T 车床数控系统 使用手册 
 
104 
 
   
  诊断                           
 
O0010 N0010 
      序 号      数  据         序 号     数  据 
  _001     00101101        009     00110011  
   002     00110000        010     00000000 
   003     00000000        011     00000000 
   004     00000000        012     00000000 
   005     00100000        013     00000000 
   006     00000000        014     00000000 
   007     00000000        015     00000000 
   008     00000000        016     00000000 
  诊断信息 
  机床侧的输入信号（I/O 板） 
  Bit1: *TCP  DIQP  DECX  BDT  *SP  ST  DECZ  *ESP  
  序号 000                             S 0000  T0200 
                              
 
录入方式 
诊断详细内容显示行 
 
2）软键盘机床面板 
 
在诊断显示页面，按诊断键切换诊断/机床面板显示页面，在机床面板显示页面时，用”1、2、
3、4、5”键分别切换机床锁住、辅助功能锁住、单程序段、空运行、程序选跳开关。 
3） 厂家使用的口令 
 
在机床面板显示页面按转换/CHG键，进入厂家使用的口令输入页面，如果忘记用户口令，可
以先输入正确的厂家口令，再到用户口令页面修改用户口令(不需输入原用户口令即可修改)。 
 
3.9   显示 
3.9.1  状态显示 
画面最下行软体键显示行的上一行为状态显示行，内容如下： 
报警:有报警发生，按报警，可知道报警的详细内容，闪烁显示。 
操作方式:显示当前的操作方式：自动方式、编辑方式、手动方式、单步/手轮方式、录入方 
 式、机械回零方式、程序回零方式 
 
3.9.2  键入数据显示 
状态显示行的上一行显示提示符及正在输入的键值。 
提示符:在可进行键入的画面才有提示符。不可键入的,画面中没有提示符。 
1） 需输入地址字符时 


                                                        GSK218T 车床数控系统 使用手册 
 
105
地址 —— 只能输入地址键 
数字 —— 只能输入数字键 
2） 直接输入数据时  
序号005  ...   可设定值(键入参数值) 
序号=       …      可输入序号值(搜索状态) 
提示符后面，显示已键入的键值，当按下输入/IN键时，键入值消失。 
 
3.9.3  程序号、顺序号的显示 
程序号、顺序号如下图所示，显示在右上部。 
 
 
 
 
 
 
程序                        O2000 N0100 
O2000； 
N100 G50 X0 Z70.; 
N110 G00 X70.; 
N120 Z-70.; 
N130 G01 X17.5 F2000; 
N140 Z7.5 
N150 G03 X-17.5 Z17.5 R17.5; 
N160 G01 X-25.; 
N170 G02 X27.5 W 27.5 R27.5; 
N180 G01 X-15.; 
N190 G00 X0 Z0 ; 
 
状态行 
键入数据行 
 地址                    行:2   S0000 T0200
                       自动方式     
程序号及顺序号 
 
 
在编辑方式下，编辑程序时显示在编辑中的程序号和光标位置的是前一个顺序号。 
在非编程方式时，显示出最后执行的程序号和顺序号。在程序号检索和顺序号检索之后，显示出 
被检索的程序号和顺序号。 
 
3.9.4  程序存储器使用量的显示 
用下列操作，可以显示程序存储器的使用情况。 
1） 选择非编辑方式 
2） 按程序键 
3） 按翻页键直到出现目录 
4） 目录内容 
a) 已存程序数：已存入的程序数(包括子程序)。 
    剩余：尚可存入的程序数。 
b) 已用存储量：存入的程序占用的存储容量(用字符数显示)。 
    剩余：还可以使用的程序存储容量。 
c) 程序目录表：依次显示存入程序的程序号，当程序较多时，可以用[转换/CHG]键查 
 
 
看。 


                                                        GSK218T 车床数控系统 使用手册 
 
106 
 
3.9.5  指令值的显示(程序键) 
1) 按程序键 
2) 按翻页按钮可分别显示下面2种画面 
a) 显示正在执行程序段的指令值和当前的模态值 
 
 程序                           O2000 N0100
地址 
程序段值          模态值 
    X      10.000
G00   Z       2.000
    U 
    W 
    R 
    F 
    M 
    S 
    T 
    P 
    Q 
G01 M
G97 S 
  0000
G98 T 
  0200
G21
G40
        
 
  SRPM  0000 
 
  SSPM  0000 
 
  SMAX  0500 
 
  SACT  0000 
 
  S0000 T0200 
录入方式
F 
 
 
注：此页在编辑方式时不能显示。 
b) 显示存储器内正在执行的程序段所在页的一页程序 
 
 
程序                           O2000 N0100 
O2000；
N100 G50 X70.Z0 ; 
N110 G00 X20. ; 
N120 W-30.;
N130 G01 X-25.; 
N140 G02 X27.5 Z27.5 R27.5; 
N150 G01 X-15.; 
N160 G00 X0 Z0; 
 
 地址                   
行:2   S0000 
                       自动方式     
 
 
3.9.6  现在位置的显示(位置键) 
1)  按位置键 
2)  按翻页按钮，显示以下三个画面 
a) 显示零件坐标系的绝对位置 


                                                        GSK218T 车床数控系统 使用手册 
 
107
 
现在位置（绝对坐标）           
                            
                            录入方式 
编程速率： 500        G 功能码：G01，G98 
实际速率： 500        加工件数：  
10
进给倍率：100%        切削时间：05:28:08 
快速倍率：100%                  S0000 T0200 
O0008    N0000
X        16.000 
Z        56.000 
 
注1：显示主轴的实际转速时，必须在主轴上装有1024或1200线的位置编码器。 
注2：实际速率 = 编程的F速率×倍率。当G00，空运行或取参数   P27号的值作为上限时的速率不能显示。 
注3：在螺纹切削时，实际速率 = 编程速率，倍率无效。 
注4：每分进给时当编程速率超出15000mm/min出现P/S011报警。 
注5：每转进给的编程速率显示仅在含有每转进给有运动轴的程序段正在执行时显示，如果其后的指令不是含有每
转进给的程序段且没有指定新的F时，当执行到下程序段时编程速率及实际速率项按每分进给速率显示。  
b) 显示相对坐标系的[相对]位置 
 
 
现在位置（相对坐标）           
                            
                            录入方式 
编程速率： 500        G 功能码：G01，G98 
实际速率： 500        加工件数：  
10 
进给倍率：100%        切削时间：05:28:08 
快速倍率：100%                  S0000 T0200 
O0008    N0000
U        16.000 
W        56.000 
 
 
       开机后，只要机床运动，其运动位置即可由相对位置显示出来，并可随时清零。 
相对位置清零：按 U 或 W 键，此时所按键的地址闪烁，然后按取消/CAN，此时在闪烁的地址
的相对位置被复位成0.000。 
c) 显示综合位置 
 


                                                        GSK218T 车床数控系统 使用手册 
 
108 
 
现在位置                        O0001 N0000 
录入方式   
 （相对坐标）           （绝对坐标） 
U     18.000           X     0.000    
W     38.000           Z     0.000 
 （机床坐标）           （余移动量） 
X      0.000           X     0.000    
Z      0.000           Z     0.000 
                            S0000 T0200 
 
同时显示下面坐标系中的现在位置。 
① 相对坐标系中的位置(相对坐标)。 
② 零件坐标系中的位置(绝对坐标)。 
③ 机械坐标系中的位置(机床坐标)。 
④ 剩余移动量（自动及录入方式有效）。 
d) 编程速度，倍率及实际速度显示 
在显示现在位置的画面上，可以显示实际的机械进给速度。 
3.9.7  加工时间、零件数显示 
在位置显示的画面上，显示出加工时间和加工的零件数，意义如下： 
编程速率：程序中由F代码指定的速率 
实际速率：实际加工中，经倍率后的实际加工速率 
进给倍率：由进给倍率开关选择的倍率 
G功能代码：当前正在执行程序段中的G 代码01组和03组的值 
加工件数：当程序执行到M30时，+1；开机后，可选择清零或保持，由3号参数Bit6设定。 
切削时间：当自动运转启动后，开始计时，单位依次为小时、分、秒。开机后，可选择断电清
零或保持，由3号参数Bit6设定。且在位置界面下，按T键后加工时间及零件件数闪
铄，按取消件可对其进行清零，再按T件后取消该操作。 
3.9.8  报警显示(报警键) 
发生报警时，在LCD的最下面一行闪烁显示“报警”。按报警键，可显示出报警号和报警内容。关
于报警号的意义请参照附录。 
在报警显示画面，在LCD 的中间有一报警详细内容显示行，显示当前P/S 报警号及报警的详细内
容。 
3.9.9  液晶画面亮度调整 
在位置页面的第一页（相对坐标），按 U 或 W  使U 或W 闪烁，此时按， 
↑键：变暗。（第一次按键会变亮，之后，每按一次，逐渐变暗） 


                                                        GSK218T 车床数控系统 使用手册 
 
109
↓键：每按一次，逐渐变亮。 
再次按 U 或 W 可取消亮度调整，屏幕上U或W恢复正常显示。 
3.10  图形功能 
刀具路径可以直接在LCD 上画出，因此可以在LCD 上检查程序加工的轨迹，刀具路径也可以进行
移动。 
图形参数设定 
图形参数在程序运行前须事先进行设定，这些参数只能在录入方式下才能设定。 
① [图形]与[设置]键为同一键，反复按时，在[图形]与[设置]画面间进行切换。 
② 在[图形]菜单中，按          键，可在图形参数与图形显示之间切换。 
③ 在图形参数显示状态，通过光标键        ，  移动光标至要设定的参数下： 
④ 在录入方式下，输入数据，按输入/IN 键。输入图形参数值。 
⑤ 重复步骤③和④设定需要设定的参数。 
 
图形参数的含义说明 
① 座标选择：设定绘图平面（XZ=0，ZX=1） 
当设为0 时，为XZ 坐标；当设为1 时，为ZX 坐标，如下图 
 
 
 
 
② 缩放比例：设定绘图的比例。 
③ 图形中心：设定工件坐标系下LCD 中心对应的工件坐标值。 
④ 最大最小值：当对轴最大、最小值作了设定之后，CNC 系统会自动对缩放比例，图形中心值自
动设定。 
X 最大值：加工程序中X 向最大值 
X 最小值：加工程序中X 向最小值 
z 最大值：加工程序中Z 向最大值 
Z 最小值：加工程序中Z 向最小值 
刀具路径的描述（图形显示） 
在图形显示页面，可以监测所运行程序的加工形状。 
① 按 S 键，由进行作图状态，‘*’号移至S 前；正在作图。 
② 在自动/录入/手动方式运行，绝对坐标值改变，对应的运动轨迹则会描述出来。 
③ 按 T 键，则进行停止作图状态，‘*’号移至T 前；停止作图。 
④ 按 R 键，则清除已绘出的图形。 
⑤ 可以通过↑，↓，←，→键随时调整绘图原点在屏幕上的位置以更好的显示图形。 
X 
Z 
（0） 
Z 
X 
（1）


                                                        GSK218T 车床数控系统 使用手册 
 
110 
4   连 接 
4.1  系统连接框图 
4.1.1  接口位置布局 
XS2
JTAG
XS36
XS37
XS38
电源
软升
通讯
变频器
手轮
XS32
XS30
XS31
XS33
XS42
XS39
XS40
XS41
编码器
X轴
Z轴
Y轴
输出2
输出1
输入1
输入2
GSK218T后视图 
 
4.1.2  接口说明 
1）电源接口（+5V、+24V、0V） 
9 个接线端子，用于系统及接口电源。 
2）XS30，XS31，X33 分别为X，Z，Y 轴驱动接口 
15 芯D 型插座（孔）。 
3）XS32 主轴编码器接口（增量式脉冲编码器1024 线或1200 线） 
15 芯D 型插座（孔） 
4）XS36 通用PC 机接口（RS232 口）  
9 芯D 型插座（孔） 
5）XS37 变频器摸拟接口（0―10V）  
9 芯D 型插座（针） 
6）XS38 手轮接口  
9 芯D 型插座（针） 
7）XS39 ，XS40 输入输出接口  
XS39 为25 芯D 型插座（孔），XS40 为25 芯D 型插座（针） 


                                                        GSK218T 车床数控系统 使用手册 
 
111
8）XS41 ，XS42 扩展输入输出接口 
XS41 为25 芯D 型插座（针），XS42 为25 芯D 型插座（孔）。 
4.1.3  连接框图 
 
4.2  各部件的连接 
4.2.1  电脑到驱动器的连接 
1） 电脑侧接口图 
 
 
 
 
 
 
 
 
 
2） 接口信号连接表 
X 轴驱动器 Z 轴驱动器  主轴编码器   PC 机     变频器      手轮    机床输入\输出接口      电源盒
GSK218T 
XS30 
XS31
XS32 
XS36
XS37
XS38
XS39
XS40 
XS2 
AM26LS31 
+5V          
      
12V
CP- 
CP+
DIR- 
DIR
*SE
EN1
EN2
PC
DAL


                                                        GSK218T 车床数控系统 使用手册 
 
112 
 
1 
2 
3 
4 
5 
6 
7 
8 
9 
10 
11 
12 
13 
14 
15 
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
XS30: DB15F (X 轴)
XS31: DB15F (Z 轴)
 XCP+ 
XDIR+ 
XPC 
+24 
XDALM 
*XSET 
  XEN 
  0V 
XCP-
XDIR-
0V
+5V
+5V
 0V 
 0V 
ZCP+
ZDIR+
ZPC
+24 
ZDALM
*ZSET
  ZEN 
  0V 
ZCP- 
ZDIR- 
0V 
+5V 
+5V 
0V 
0V 
 
 
 
4.2.2  信号说明 
1） 单脉冲运动指令信号 
       XCP+，XCP-，ZCP+，ZCP-为指令脉冲信号，XDIR+，XDIR-，ZDIR+，ZDIR-为运动方向信号，这
两组信号均为差分输出。 
       连接线路图如下： 
                       
 
2） 驱动器报警信号ALM（输入） 
该信号在系统侧的接收方式如下。可由参数(008)设定为低电平“0”驱动器故障，还是高电平“1”
驱动器故障。 
CP+ 
CP- 
6N137
CNC侧 


                                                        GSK218T 车床数控系统 使用手册 
 
113
+5V
+12V
输入到系统的信号
R＝2K
XDALM
 
图4.2.2a 
输入到系统的信号有效电平可由用户通过参数设定为低电平还是高电平有效。该类型的输入电路要
求驱动器用下列方式提供信号： 
 
 
 
 
 
 
 
 
 
 
 
 
 
图4.2.2b 
 
 
3） CNC 系统准备好信号EN（触点输出） 
该触点闭合时表示CNC系统已经准备好。当CNC系统检测到报警时，将会断开这个触点信号。 
4） 设定信号*SET（输出） 
该信号在系统无运动指令输出时为高电平，有运动指令输出时为低电平。 
5） 返回参考点用信号PC 
     该信号在系统侧的接收电路如下图所示： 
0V 
DALM 
DALM 
方式一 
方式二 


                                                        GSK218T 车床数控系统 使用手册 
 
114 
 
PC 
输入到系统的信号
R＝4.7K 
 
 
    图4.2.2c 
注：如果驱动器输出PC 信号为5V 电平，跳线使SR3028，SR3030，SR3032（510Ω）导通，如果驱动器输出PC 信号
为24V 电平，跳线使SR3027，SR3029，SR3031（4.7KΩ）导通。 
用户应提供的PC 信号的波形如下图所示： 
   参考点返回方向 
参考点 
用接近开关信号) 
     (PC) 
用编码器PC 信号时 
(一转信号) 
忽略 
减速信号 
 
图4.2.2d 


                                                                GSK218T 车床数控系统 使用手册 
 
113
6） 用一接近开关作为减速开关同时用作回零开关的连接方法。 
 
+24V
接PC 信号 
2K
+24V 
接近开关 
接*D EC 信号
 
图4.2.2e 
注意： 
使用这种回零方式时，006 号参数的ZCX、ZCZ 必须设定为“1”。 
 
4.3  系统到驱动器的连接 
1
CP+
9
CP-
2
Dir+
10
Dir-
12
+5V
7
EN
11
0V
5
Dalm
金属外壳
1
CP+
9
CP-
2
Dir+
10
Dir-
3
Dv+
11
Dv-
14
COM
6
Alm
金属外壳
GSK980TE与DY3驱动器连接
GSK980TE(X、Z轴)
X30、X31
DY3驱动器
信号接口：
脉冲+
脉冲-
方向+
方向-
使能
报警
 
  
 
 
 
图4.3.1 


                                                       GSK218T 车床数控系统 使用手册 
 
114 
4.4  主轴编码器的连接 
   GSK218T 系统可使用1024 线或1200 线增量式位置编码器。下图中的*PCS，PCS，*PBS，PBS， 
   *PAS，PAS 分别对应/Z，Z，/B，B，/A，A。 
 
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
XS32: DB15F (主轴位置编码器)
*PCS
PCS
*PBS
PBS
*PAS
PAS
0V
+5V
+5V
0V
0V
 
                            
                            
4.5  RS232-C 标准串行接口（选件） 
GSK218T 数控系统可通过RS232-C 串行接口与通用PC 机进行通讯（必须配备218T 通讯软件）。连
接图如下。 
电缆的连接图如下： 
 
                 XS36                               COM1/COM2（9 孔D 型插头） 
 
控 
制 
单 
元 
DCD 
RXD 
TXD 
DTR 
GND 
DSR 
RTS 
CTS 
 
1 
2 
3 
4 
5 
6 
7 
8 
DCD
RXD
TXD
DTR 
GND 
DSR 
RTS
CTS
1
2
3
4
5
6
7
8
通 
用 
PC 
机 
 
               
                                         图4.5b 
注：屏蔽层焊接在插头金属体上。 
 
4.6  模拟主轴接口（选件） 
模拟主轴接口SVC端可输出0 – 10V电压，接口信号排列如下： 


                                                       GSK218T 车床数控系统 使用手册 
 
115
 
1
2
3
4
5
6
7
8
9
0V
0V
SVC
XS37:(DB9M)
控制单元
XS37
电压输入接口
变频器
 
      
图4.6 
注：屏蔽层焊接在插头金属体上。 
 
4.7  手轮接口 
 
         
 
1 
2 
3 
4 
5 
6 
7 
8 
9 
+5V 
0V 
+5V 
 HB 
0V 
XS38:(DB9M) 
控制单元
XS38
手轮 
HA
金属外壳 
屏蔽层 
HB
 
 
4.8  电源接口的连接 
本系统使用GSKPC电源，共有两组输入电压：+5V， +24V，＋24V使用公共端COM，＋5V使用
0V。其中+5V供给系统内部用（5A电流），+24V供给外部接口用（2A电流）。 
 
 
 
 
 
 
 
 
电源盒端子 
220V
L 
N 
GND 
+24 
COM 
 
0V 
+5 
XS2
6、7 
9 
 
3、4
1、2


                                                       GSK218T 车床数控系统 使用手册 
 
116 
4.9  机床输入/输出接口 
4.9.1  机床输入/输出接口连接表 
22
23
24
25
13
14
15
16
17
18
19
20
21
9
10
11
12
1
2
3
4
5
6
7
8
22
23
24
25
13
14
15
16
17
18
19
20
21
9
10
11
12
1
2
3
4
5
6
7
8
脚号
功能
功能
S2/M42
S3/M43
DOTWJ
M08
M05
DOQPJ
M04
SPZD
S1/M41
AGND
M32
AGND
M03
AGND
S4/M44
AGND
DOTWS
AGND
DOQPS
AGND
DIQP
AGND
*TCP
VCC24
VCC24
脚号
功能
功能
*DECX
AGND
DITW
AGND
T04
AGND
T03
AGND
T02
AGND
T01
T08
*SP
T07
ST
T06
*DECZ
T05
*ESP
VCC24
VCC24
AGND
TL+/UO6
AGND
TL-/UO7
XS39     输出
XS40     输入
 
22
23
24
25
13
14
15
16
17
18
19
20
21
9
10
11
12
1
2
3
4
5
6
7
8
22
23
24
25
13
14
15
16
17
18
19
20
21
9
10
11
12
1
2
3
4
5
6
7
8
STM
M30
WARN
STAR
TRIAN
AGND
AGND
VCC24
VCC24
VCC24
VCC24
VCC24
VCC24
VCC24
GR1
GR2
DOOR
PCH
SPEN
LIMITX
LIMITZ
OW1
OW2
PROLOCK
AGND
AGND
AGND
AGND
AGND
VCC24
VCC24
VCC24
VCC24
脚号
功能
功能
脚号
功能
功能
TLOCK
XS 42    扩展输出
XS 41    扩展输入
 
 
注1：部分输入、输出可定义多种功能，在上表中用“/”表示； 
注2：输出功能有效时，该输出信号与0V 导通。输出功能无效时，该输出信号与0V 截止； 
注3：输入信号与+24V 导通时输入功能有效，反之输入功能无效。带“*”记的输入信号与+24V 导通时输入
功能无效，反之输入功能有效； 
注4：+24V、0V 与CNC 配套电源盒的同名端子等效。 


                                                       GSK218T 车床数控系统 使用手册 
 
117
4.9.2  输入信号 
1) 直流输入信号A 
直流输入信号A 是从机床到CNC 的信号，它们来自机床侧的按键，极限开关，继电器的触
点（包括DECX，DECZ，ESP，TCP，ST，SP，DITW，X16等）。 
a）.机床侧的触点应满足下列条件： 
触点容量：DC30V、16mA以上 
开路时触点间的泄漏电流：1mA以下（电压26.4V） 
闭路时触点间的电压降：2V以下（电流8.5mA，包括电缆的电压降） 
b)  此类信号的信号回路如图4.9.2a所示 
＋24V
＋5V
机床侧
CNC 侧
0V
输入信号
1K
4.7K
0.1
0V
 
 
图4.9.2a 
2） 直流输入信号B 
直流输入信号B 是从机床到CNC 的信号，并且是在高速下使用的信号（T1~T8）。 
a) 机床侧的触点应满足下列条件： 
触点容量：DC30V、16mA 以上 
开路时触点间的泄漏电流：1mA 以下（电压为26.4V 时） 
闭路时触点间的电压降：24V 以下（电流8.5mA，包括电缆的电压降） 
b) 此类信号的信号回路如图4.9.2b所示 
 


                                                       GSK218T 车床数控系统 使用手册 
 
118 
 
＋24V
＋5V 
机床侧 
CNC 侧
0V 
输入信号
1K 
4.7K
0.1
0V
4.7K 
 
 
图4.9.2b 
 
4.9.3  信号说明 
1） 输入信号 
a） T01～T08 刀位信号 
有效电平为低。当其中的一个信号为低电平时，表示此时的刀架处于该刀号位置。连接图如下所示，
图中8 只上拉电阻外接。 
刀架到位电平信号可通过参数号009 的BIT1 位设置（0 为高电平有效，1 为低电平有效） 
 
 
+24V 
T01 
T02 
T03 
T04 
T05 
T06 
控制单元 
2K*8
 0V 
T07
T08
 
图4.9.3a 
b） TCP：刀架锁紧信号 
在换刀过程中，刀架到位后系统输出刀架反转信号(TL-)，并开始检查锁紧信号TCP，当接收到该
信号后，延迟参数号№085 设置的时间，关闭刀架反转信号(TL-)，T 代码指令结束，程序继续执行下一
程序段。当系统输出刀架反转信号后，在参数号№088 设定的时间内，如果系统没有接收到TCP 信号，
系统将产生报警并关闭刀架反转信号。若刀架控制器无刀架锁紧信号输出时，可把参数№009 的Bit0 


                                                       GSK218T 车床数控系统 使用手册 
 
119
TCPS 设定为1，此时电脑不检查刀架锁紧信号。 
当前的刀号存在诊断№049 中。当换刀正常结束时，系统自动修改此值。在显示屏的右下角的T 显
示当前指令的T 代码及刀补号。开机时，T 代码置№049 作为初值。在正常换刀时，这两个值是相同的
当指令T 码后，由于某种原因刀架没有到位时，这两个值不相同，T 显示指令的刀号，而№049 保持换
刀前的刀号不变。当指令的刀号与№049 一致时，系统不进行换刀。所以当前刀号与№049 不同时，需
再执行换刀，直到№049 为当前的刀号。 
手动换刀时，在换刀结束后，T 代码及№049 才修改为新的值。 
换刀时序图： 
   
刀架正转输出(TL+  005。6) 
刀架锁紧输入(TCP  00.7) 
刀架到位输入(T4～T1  00.4~00.0) 
刀架反转输出(TL-  005。7) 
T1=#082 
T2=#088
Tb<#085
Ta<#083*刀位数
 
图  4.9.3b 
图中#83 等是对应参数号设置的时间参数. 
当Ta≥（#083）×此次换刀位数时。产生报警 185：换刀时间过长.从刀架开始正转经过Ta 时间
后指定的刀位到达信号仍然没有接收到时，产生报警。 
当Tb≥#088 时。产生报警  186：在刀架反转缩紧时间内未接到刀架反转锁紧信号。 
刀架到位信号（T8～T1） 由参数№009 的Bit1 TSGN 设定高或低电平有效。 
TSGN 
0 :  刀架到位信号高电平有效。（常开） 
 
    1 :  刀架到位信号低电平有效。（常闭） 
刀架锁紧信号（*TCP） 由参数№009 的Bit0 TCPS 设定高或低电平有效。 
TCPS 
0 :  刀架锁紧信号低电平有效。（常开） 
 
    1 :  刀架锁紧信号高电平有效。（常闭） 
 
c） DECX、DECZ  减速开关信号 
该信号在返回机械参考点时使用，为常闭触点。返回参考点的过程如下： 
选择机械原点方式，之后按相应轴的手动进给键，则机床将以快速移动速度向参考点方向运动。
当返回参考点减速信号（DECX、DECZ ）触点断开时（压上减速开关），进给速度立即下降，之后
机床以固定的低速（参数№043设定）继续运行。当减速开关释放后，减速信号触点重新闭合，之后
系统检测编码器的一转信号或者磁开关信号（PC信号）。如该信号为高电平，则运动停止。同时点
亮操作面板上相应轴的回零指示灯。返回参考点操作结束。在回零键释放之前，手动进给将一直无效。 
每一个轴的返回参考点方向可以由参数进行设定。连接图如下所示： 


                                                       GSK218T 车床数控系统 使用手册 
 
120 
+24V
控制单元
DECX
DECZ
 
图4.9.3c 
   d） ST和SP信号 
自动循环启动信号ST和进给保持信号SP的作用与系统面板中的自动循环启动键和进给保持键的
作用相同。参数014位MST（BIT0）=0，M@SP（BIT1）=0时，ST、SP信号有效，否则该点信号为
空，当M@SP（BIT1）=0时，必须外接进给保持开关，否则进给保持信号一直有效。 
     
+24V
XS40 插座
 SP
 ST
无锁常闭点
 
 
e） ESP 紧急停止信号 
该信号为常闭触点信号。当触点断开时，控制系统复位，并使机床紧急停止。产生急停后，系统
准备好信号EN将断开。同时封锁运动指令输出。 
本系统具有软件限位功能以进行超程检查，可以不安装超程检查限位开关。但是，当驱动器产生
故障，使机床的运动超出软件限位的范围时，为使机床能停止运动，必须安装行程限位开关。其连接
图如下所示： 
 
+X
-X
+Z
-Z
限位暂时解除开关
+24V
ESP（XS40）
急停开关
 
 
图4.9.3 a 
 
使用上图的连接时，参数014位MESP（BIT3）=0，若为1，上图功能不起作用。这里说明的急停
信号（*ESP）的连接为标准连接。用户在进行该信号的连接时，应尽可能的按此方法进行连接。 
 
f） LIMITZ、LIMITX硬限位信号 


                                                       GSK218T 车床数控系统 使用手册 
 
121
该信号为常闭触点信号。当触点断开时，控制系统复位，并使机床紧急停止。产生急停后，系统产
生硬限位报警，同时封锁运动指令输出。 
该功能有效时，可将各轴的硬件限位与ESP独立出来，各轴限位时能准确反映出来。 
使用该功能时，参数008位LMTZ、LMTX需设置为1，若为0，该功能不起作用。同时可通过LTVZ、
LTVX来设定该信号为高/低电平有效。当高电平有效时，该信号与＋24V接通时报警；当低电平有效时，
该信号与0V接通时报警。产生报警后需按报警解除键（参照下图4.9.3 b）待报警解除后，才能移动两轴。 
＋24V
－Z
＋Z
Z轴限位解除
＋
－X
轴限位解除
L
I
M
I
T
X
LIMITZ
 
                            图  4.9.3 b 
 
g）  OW1、OW2外部报警信号 
该信号为常开触点信号。当触点闭合时，控制系统复位，并使机床紧急停止。产生急停后，系统
产生外部报警，同时封锁运动指令输出。 
该信号为提供给用户选择使用信号，用户可根据需要使用。 
使用该功能时，参数012位WAR2、WAR1需设置为1，若为0，该功能不起作用。同时可通过设
置WA2、WA1来设定该信号为高/低电平有效。高电平有效时，该信号与＋24V接通时报警；当低电
平有效时，该信号与0V接通时报警。产生报警后，需复位取消报警，才能进行加工。 
 
h） SPEN主轴旋转允许输入信号 
该信号为常开触点信号。当触点闭合时，可起动主轴。当触点断开时，控制系统复位，并使机床
紧急停止，并产生＃171报警，主轴停止旋转。 
当参数015位1SPEN设置为1时有效。若为0，该功能不起作用。 
 
i） DOOR防护门检测信号 
该信号为常闭触点信号。当触点断开时，控制系统复位，并使机床紧急停止。产生急停后，系统
产生防护门未关闭的报警，同时封锁运动指令输出。 
当参数016位5SFDR为1时该功能有效，系统在防护门打开时不能运行，加工时必须关闭防护门。
当该参数为0时，系统不检测防护门是否关闭。可通过参数016位6SFDV设定该信号为高/低电平有效。
当高电平有效时，该信号与＋24V接通表示防护门关闭，断开或与0V接通时报警；当低电平有效时，
该信号与0V接通表示防护门关闭，与＋24V接通时报警。 
该功能在自动方式下有效，其他方式不检测防护门。 
 
j） PCH压力检测信号 
该信号为常闭触点信号。当触点断开时，控制系统复位，并使机床紧急停止。产生急停后，系统
产生压力未到达的报警，同时封锁运动指令输出。 


                                                       GSK218T 车床数控系统 使用手册 
 
122 
当参数016位4PSCK为1时该功能有效，此时当压力偏低时，不能正常起动系统。可通过参数016
位3PSCV来设定该信号为高/低电平有效。当高电平有效时，该信号与＋24V接通表示压力到达设定值，
断开或与0V接通时报警；当低电平有效时，该信号与0V接通表示压力到达设定值，与＋24V接通时报警。 
当该功能有效时，系统一旦检测到压力低的报警信号有效，且信号保持时间超出参数092设定的值
时，系统产生报警，此时轴进给暂停、主轴停转、自动循环不能启动、关闭冷却及润滑。按复位键或断
电可取消报警。 
 
k） GR1、GR2换档到位信号 
该信号为常开触点信号。功能参考4.9.5。 
 
4.9.4  输出信号 
1） 输出信号 
直流输出信号用于驱动机床侧的继电器和指示灯。驱动电路使用晶体管（包括S1～S4、M3、M4、
M5、M8、M10、M11、M32、TL-、TL+、UO0—UO5、DOQPJ（M12）、DOQPS（M13）、SPZD）、
M51~M70。 
a） 输出用晶体管的规格： 
① 输出ON 时的最大负载电流，包括瞬间电流200mA 以下。 
② 输出ON 时的饱和电压，200mA 时最大为1.6V，典型值为1V。 
③ 输出OFF 时的耐电压，包括瞬间电压24+20%以下。 
④ 输出OFF 时的泄漏电流，100μA 以下。 
b） 输出回路： 
 
      
 CNC 侧
0V
继电器
+24V
 
 
      图4.9.4a     
本系统的输出信号全部由达林顿管提供，输出有效时相应的达林顿管导通。除TL-、TL+、SPZD为
脉冲信号（非保持输出）外，其它输出均为电平信号（输出保持），信号的公共端为＋24V。 
2） 输出信号说明 
a） S1～S4 主轴速度信号 
与UO0~UO5及M41~M44共用输出口选择主轴档位控制时S1、S2（二档）或S1~S4（四档）功能
有效，S1~S4只能一个信号有效。 
b） TL＋、TL－ 换刀信号 
TL＋为正向换刀信号，TL－为反向换刀信号。 
c） M03，M04，M05 主轴控制M 代码 


                                                       GSK218T 车床数控系统 使用手册 
 
123
M03为主轴正转，M04为主轴反转，M05为主轴停止。 
d） M08，M09（内部信号无输出）冷却液控制 
M08为冷却液开，M09为冷却液关。 
e） DOTWJ、DOTWS 尾座控制开关，DOTWJ 为尾座进，DOTWS 为尾座退。 
f） DOQPJ、DOQPS 卡盘控制，DOQPJ 为卡盘夹紧，DOQPS 为卡盘松开。 
DOQPJ与Y16、DOQPS与UO5共用输出口，DOQPJ卡盘夹紧，DOQPS卡盘松开，选择自动卡盘控
制时功能有效。在外卡方式时，功能刚好相反，详细见4.9.6。 
g） M32，M33（内部信号无输出）润滑控制 
M32为润滑油开，M33为润滑油关。 
h） 主轴制动信号SPZD 
动作关系如下： 
 
主轴制动 
主轴停止 
主轴正/反转
T 3
T 2
 
T2：从发出主轴停止信号到发出主轴制动信号的延迟时间。设定在参数号089中。 
T3：主轴制动时间，设定在参数号090中。 
 
i） 星三角起动信号STAR/TRIAN 
当参数015位7STAR设置为1时有效。当主轴起动时，STAR信号输出有效，延时参数093设定的
时间后，关闭STAR信号，输出TRIAN信号。 
主轴正/反转
信号
星型起动信
号
三角型起动
信号
号参数设定时间
 
j） 输出报警信号WARN 
当参数015位6OWAR设置为1时有效。当系统产生报警时，该信号输出有效；在取消报警时，同
时使该信号无效。该信号用于提醒用户系统处于报警状态。 
k） 加工完毕信号M30 
当参数015位5OM30设置为1时有效。当系统刚上电或执行M30后，处于工作完毕状态时，该信
号输出有效，当系统处于自动加工或运转过程中，该信号无效。该信号用于提醒用户系统处于加工完
毕状态。 
l） 自动运行信号STM 
当参数015位4OMST设置为1时有效。当系统正在自动执行时，该信号输出有效，执行M30或复
后该信号无效。 
WARN、M30与STM三个信号互锁，表示系统的报警、待机及加工三种状态。 
m)  刀架锁紧信号TLOCK 


                                                       GSK218T 车床数控系统 使用手册 
 
124 
当使用广州数控设备有限公司生产的SWD 卧式刀架时，该锁紧信号有效。详细参考该刀架的连
接说明。 
n)  扩展M 代码 
本系统增加了10 个用户自定义的输出口，分别用M51～M70 进行控制，其中奇数指令使该信号
有效，偶数指令使该信号无效，执行时输出长信号。如： 
Ｍ5１指令使１号用户输出点输出有效（输出低电平） 
Ｍ5２指令使１号用户输出点输出无效（输出高电平） 
 
4.9.5  主轴自动换档控制 
选择主轴变频控制（0~10V模拟电压输出）时，可支持4档主轴机械档位自动换档控制功能，通过
按档位设置P055~P058参数，在不同的档位使S指令转速与实际转速一致。 
相关参数：参数P001 BIT4、参数P010，P001 BIT4=1主轴变频控制功能有效。 
 
PAR010 
 
0 
1 
0 
 
AGER
AGIN
 
AGIM
 
 
 
 
AGER：设为1 时，自动换档功能有效。 
AGIN=0/1 时：换档至1、2 档时不检查/检查换档到位信号M41I（T07）、M42I（T08）。 
AGIM：M41I、M42I 设为0/1 时选择高/低有效电平。 
输入/输出信号： 
GR1：1 档到位信号 
GR2：2 档到位信号 
注：3、4 档无到位信号 
M41~M44：1~4 档换档输出（与S1~S4 共用接口） 
① 检查参数010 的 AGER 是否为1 并且选择的模拟主轴机能，否则产生报警180：主轴为档位控
制或主轴自动换档无效时，M41~M44 不可使用。 
② 是否与当前档位一致（检查输出状态），如果一致，M 代码结束，不进行换档。如果不一致，进
行换档过程③。 
③ 使主轴转速为参数066 设置的转速，如果有运动时暂停运动。 
④ 延迟 参数063〖换档时间1〗后，关闭原档位输出信号同时输出新的换档信号。 
⑤ 当换档为1 或2 档时，且参数010 AGIN 为1，则转⑥，否则转⑦ 
⑥ 检查1 或2 档到位输入信号（其电平可由参数010 AGIM 选择0 或1 电平有效），如果到位转⑦。 
⑦ 延迟参数064〖换档时间2〗，根据当前档位按P055~P058（对应1~4档）设置值输出主轴模拟电
压，换档M指令结束。 
注：开机时，换档信号M41~M44 无输出。默认档位1。 
 
4.9.6  卡盘控制 
 
相关参数 
PAR016 
 
0 
1 
6 
 
NWKP
 
 
 
 
 
SLSP
SLQP
 
NWKP=0/1：卡盘为内/外卡方式 


                                                       GSK218T 车床数控系统 使用手册 
 
125
当NWKP=0 时，执行M12 时DOQPJ 输出有效，DOQPS 无效；执行M13 时DOQPS 有效，DOQPJ
无效。 
当NWKP=1 时，执行M12 时DOQPS 输出有效，DOQPJ 无效；执行M13 时DOQPJ 有效，DOQPS
无效。 
 
SLQP=0/1：卡盘功能无效/有效 
SLSP=0/1：不/检查卡盘是否卡紧 
SLQP=1 与SLSP=1 时，如果卡盘未夹紧，则无法启动。（报警044，卡盘未夹紧启动主轴）。 
输入/输出信号： 
DIQP：卡盘夹紧/松开输入（XS39 的11 脚），一般为脚踏开关控制； 
M12/M13 分别作为卡盘夹紧/松开的控制信号指令； 
PAR016 中的SLQP=1 时，M12/M13 在MDI/自动方式下有效： 
以下为内卡方式，外卡方式与下相反： 
执行M12 后，DOQPS（XS39 的10 脚）输出0V，DOQPJ（XS39 的4 脚）输出24V，卡盘夹紧。 
执行M13 后，DOQPJ（XS39 的4 脚）输出0V，DOQPS（XS39 的10 脚）输出24V，卡盘松开。 
SLQP=1，SLSP=1，M3 或M4 有效时，执行M13 产生报警“045：主轴运转时松开卡盘”，输出
状态不变。 
SLQP=1 时，DOQPS、DOQPJ 在系统复位、急停时输出状态不变。 
动作时序： 
 
 输入信号：DIQP 
 
输出信号：DOQPJ 
 
输出信号：DOQPS 
 
 
 
注1：开机时，DOQPJ 及DOQPS 都输出0，第一次有卡盘输入信号时，DOQPJ 输出1。 
注2：在主轴旋转时或自动循环加工过程中，DIQP输入无效。 
 
4.9.7  尾座控制 
PAR016 
 
0 
1 
6 
 
 
 
 
 
 
SLTW 
 
 
 
SLTW=0/1：尾座控制功能无效/有效 
    输入/输出信号： 
DITW：尾座夹紧/松开输入（XS40 的2 脚） 
M10/M11 分别作为尾座夹紧/松开的控制信号指令 
PAR016 中的SLTW=1 时，M10/M11 在MDI/自动方式下有效： 
执行M10 后，DOTWS（XS39 的9 脚）输出0V，DOTWJ（XS39 的2 脚）输出24V，尾座进。 
执行M11 后，DOTWJ（XS39 的2 脚）输出0V，DOTWS（XS39 的9 脚）输出24V，尾座退。 
动作时序： 
 
  输入信号：DITW 
 


                                                       GSK218T 车床数控系统 使用手册 
 
126 
输出信号：DOTWJ 
 
输出信号：DOTWS 
 
 
注1：开机时，DOTWJ 及DOTWS 都输出0，第一次有尾座输入信号时，DOTWJ 输出1。 
注2：在主轴旋转时或自动循环加工过程中，DITW输入无效。 
 
4.9.8  输入输出信号诊断表 
 
系统所有输入\输出信号都可以通过诊断表显示出来。 
1） 机床到CNC 的信号表 
 
T6 
X15 
*DECX
X13 
*SP 
X12 
ST 
X11 
DECZ 
X10 
*ESP
T7 
 T5 
位号: 7 
6 
5
4
3
2
1 
0
001 
002 
003 
插座脚号 
T8 
X17 
TCP
SAR 
LTZ 
LTX 
SPEN 
#1007 
XS39：12 
#1005 
XS40：1
#1015 
XS40：7
#1011 
XS40：19 
#1010 
XS40：20
 
 
 
 
#1009 
XS40：21
#1008 
XS40：22
#1014 
XS40：8 
#1013 
XS40：9 
#1012 
XS40：10
#1004 
XS40：2
#1006 
XS39：11
X16 
DIQP 
X14 
DITW
  宏程序 
编程变量号 
 T4 
 T3 
 T2 
 T1 
 PSCK
 GR1 
 GR2 
 DOOR 
#1000 
XS40：6
#1001 
XS40：5 
#1002 
XS40：4 
#1003 
XS40：3
 
 
         004 
 
 
2） CNC 到机床的信号表 
 
 
 
 
 
 
LCK 
OWA2 
OWA1
 
 
 
 
 
 
 
 


                                                       GSK218T 车床数控系统 使用手册 
 
127
 
诊断号 
位号: 7 
6 
5
4
3
2
1 
0
005 
006 
插座脚号 
M03
M04 
M10 
M08
M32
XS39：7 
XS39：3 
XS39：2
XS39：15
XS39：6 
XS39：17 XS39:4 XS39：16
M05
M12 
SPZD 
M13 
M11 
TL- 
TL+ 
S04/M44 S03/M43 S02/M42 S01/M41
#1107 
XS40：13 
#1106 
XS40：12 
#1105 
XS39：10
#1104 
XS39：9 
#1103 
XS39：8
#1102 
XS39：14
#1101 
XS39：1 
#1100 
XS39：5
插座脚号 
  宏程序 
编程变量号 
Y10 
Y11 
Y12 
Y13 
Y14 
Y15
Y16 
Y17 
X20
X21 
X22
X23
X24
X25
X26 
X27 
 
 
 
4.9.9  功能描述 
在诊断显示页面，按“诊断”键切换诊断/机床面板显示页面，在机床面板显示页面时，用“1”“2”
“3”“4”“5”键分别切换。 
 
机床面板                       O0000 N0000 
 
                       录入方式     
机床锁住（键1）：◆ 关  开 
U   0.000        W  0.000   
S 0000  T 0100
辅助锁住（键2）：◆ 关  开 
单程序段（键3）：◆ 关  开 
空运行  （键4）：◆ 关  开 
程序选跳（键5）：◆ 关  开 
现在位置（相对座标） 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
按键 
作用 
键1：机床锁住开关。(数字键1) 
键2：辅助锁住开关。(数字键2) 
键3：单程序段开关。(数字键3) 
键4：空运行开关。  (数字键4) 
键5：程序选跳开关。(数字键5) 


                                                       GSK218T 车床数控系统 使用手册 
 
128 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
5   机 床 调 试 
5.1  接通电源前准备 
系统通电前必须保证，系统电源无短路，急停开关，限位开关已正确连接。 
5.2  机床调试 
5.2.1  急停开关 
急停信号可通过参数号14BIT3位屏蔽。 
MESP=1时，急停无效，调试用。 
MSEP=0时，急停有效，正常使用。 
诊断号001BIT0位可检查急停信号有否输入。为1表示急停开关已连接（开关信号为常闭信号）。 
 
5.2.2  驱动轴调试 
1）驱动报警 
通电时若显示X轴或Z轴驱动器报警，应先检查驱动器报警灯是否亮（步进驱动器）或显示报警（伺
服驱动器），亮则为驱动器有问题，需对驱动器进行处理，再检查驱动报警线是否断开，若无上述现象，
则为报警参数所设电平与驱动器不匹配，这时可改动参数号008BIT0、1位（ALMZ、ALMX分别对应Z、
X轴）。改动完毕按下复位键（\\）可消除驱动器报警。 
2）驱动电机方向调整 
若出现驱动电机运转方向与电脑坐标方向不一致时，可改变参数号007BIT0、1位（DIRZ，DIRX
分别对应Z、X轴，按W或D键可切换该位参数解释）或该变压器驱动器方向选择开关。 
3）电子齿轮调整 
a）计算公式 
CMR：指令倍乘系统（参数№017～018） 
CMD：指令分频系数（参数№019～020） 


                                                       GSK218T 车床数控系统 使用手册 
 
129
a：步距角（度） 
L：步进电机一转对应机床的移动量（mm） 
例：Z向步进电机直联，步距角0.6度，丝杆螺距6mm，X向减速比3/5，步距角0.75度，丝杆螺距4mm，
选用驱动器设为10细分挡，因此Z向步距角为0.06度，X向步距角为0.075度。 
① X向计算方法 
σ=0.075  L=3/5*8 
系统最小输出单位是CMRX/CMDX=1/1(单位：0.001mm。) 
参数号017CMRX=1，参数号019CMDX=1 
② Z向计算方法 
a=0.06 L=6 
系统最小输出单位是CMRZ/CMDZ=1/1(单位：0.001mm。) 
参数号018CMRZ=1，参数号020CMDZ=1 
注：无论是配置何种距角的电机，系统的最小编程单位都为0.001mm，而最小输出单位则取决于a及L，a，L愈小，分
辩率愈高，但会使速度降低，反之，a，L愈大，速度愈高，但会使分辨率降低。 
4） 快速移动速度及线性加减速调整 
参数号021及022分别为X、Z轴快速移动速度设值设范围（0—7600mm/min），其中X轴减半。 
参数号023及024分别为X、Z轴快速移动时线性加减速时间常数设值设置范围（40—1000）。 
参数号025及026分别为X、Z轴快速移动时S型加减速时间常数设值设置范围（40—1000）。 
参数号028为切削进给时加减速的低速下限值，取值范围（40～100mm/min）。 
参数号029及030分别为切削进给时的S加速、减速时间常数，取值范围（40～1000）。 
参数号031为切削进给时的直线加减速时间常数，取值范围（40～1000）。 
注：配步进驱动器时，建议加减速时间数值大于或等于300；配伺服驱动器时，数值可设为100。 
5） 切削进给上限速度 
参数号027为切削进给上限速度设置，必须设为8000。 
6） 螺纹加工调整 
a）退尾长度调整 
参数号068THDCH为退尾长度设置，螺纹倒角宽度=THDCH*1/10*螺距。 
b) 螺纹加工指数加减速 
参数号069为螺纹加工两轴的直线加减速常数，通常设为100。 
7） 机床零点（机械零点）调整 
必须确定回零减速开关正确连接，诊断号001BIT5（DECX）及诊断号001BIT1（DECZ）可检查。 
必须确定零点信号正确连接，诊断号009BIT0（PCX）及诊断号009BIT1（PCZ）可检查，如正确，电
机转动一周后此位变为“1”。 
参数号006BIT5、4（ZCZ，ZCX分别对应Z、X轴）通常这两位设“0”。 
参数号005BIT0、1（ZMZ，ZMX分别对应Z、X轴）通常这两位设“1”，为正向回零。 
8） 丝杆间隙补偿 
参数号036、037分别为X、Z轴丝杆间隙补偿量。 
 
5.2.3  电动刀架调试 
必须确认刀位输入信号线正确连接，可通过诊断号002BIT0-7（T01-08）检查，正确时到位信号显
示“0”，其它位显示“1”（或到位信号显示“1”，其它位显示“0”）。 
换刀时刀架电机正/反转信号正确输出，可通过诊断号006BIT6、7（TL-、TL+）检查。 
要使刀架正常动转以下参数必须正确设定： 


                                                       GSK218T 车床数控系统 使用手册 
 
130 
参数号009=00001101（BIT0=1刀架锁紧信号为高电平有效，BIT0=0刀架锁紧信号为低电平有效。
BIT1=1表示刀架到位信号为低电平有效，BIT1=0表示刀架到位信号为高电平有
效） 
参数号081=4（总刀位数选择，最大为8） 
参数号082=100（换刀T1时间） 
参数号083=1000（移动一刀位所需的时间上限） 
参数号084=15000（从第一把刀换到最后一把刀的时间上限） 
参数号085=100（刀架反转锁紧时间，刀架锁不紧时可适当调长一点） 
参数号088=500（未接到*TCP的报警时间） 
 
5.2.4  机床主轴调试 
主轴为变频器控制时，参数号001BIT4=1，若非变频器控制时参数号001BIT4=0。 
系统可配备1024或1200线编码器（输出A、A＼、B、B＼、Z、Z＼信号），通过参数052来设定。
当主轴与编码器间的传动比不是1：1时，可通过设置053、054号参数设定主轴与编码器的齿轮齿数
来调整。 
诊断号009BIT2（PCS）可检查主轴编码器螺头信号。 
主轴为变频器控制时，调整参数号055值，可使输入转速指令（S代码），与实际转速一致。 
参数号089为主轴指令停止到主轴制动输出时间，090为主轴制动时间。当089=50、090=60时， 
M05发出产200ms后，进行240ms主轴制动。 
 
5.2.5  单步\手轮调整 
参数号001BIT3=1，外接电子手轮有效，单步点动无效；001BIT3=0，外接电子手轮无效，单步点
动有效。 
 
5.2.6  其它调整 
参数号                                                                     诊断位 
0 
1 
0 
 
AGER 
AGIN
 
AGIM
SPT 
 
 
 
 
0 
1 
4 
 
KEY1 
SKEY
 
 
MESP
MOT 
M@SP 
MST 
 
0 
1 
5 
 
 
 
 
 
 
 
SPEN 
 
 
0 
1 
6 
 
 
 
 
 
 
SLTW 
SLSP 
SLQP
 
AGER=1/0：主轴自动换档功能有效/无效。 
AGIN：为1 时，换第一档或第二档，需检查换档到位信号；为0 时，不检查换档到位信号。 
AGIM=0/1：M411/*SPEN、M412/*STEN信号有效电平选择（0/1电平有效）。（功能在扩展口） 
SPT=0/1：主轴点动功能无效/有效。（可在参数094设置主轴点动延时时间） 
SLTW=0/1：尾座控制功能无效/有效 
SLQP：为1 时卡盘控制有效；为0 时卡盘控制无效。 
SLSP：为1 时当选择卡盘时，如果卡盘未卡紧，则主轴无法启动（报警0015，运动停止）；为0 时不
检查卡盘是否卡紧。 
MST=1：屏蔽外接循环启动（ST）信号，此时它不是循环启动开关。 


                                                       GSK218T 车床数控系统 使用手册 
 
131
M@SP=1：屏蔽外接暂停（SP）信号，此时它不是暂停开关。  
M@SP=0: 外接暂停（SP）信号有效，此时必须外接暂停开关，否则电脑显“暂停”报警。 
MOT=1：不检查软限位。 
MESP=1：屏蔽急停（ESP）信号，急停输入无效。 
SKEY=1：屏蔽程序开关，禁止编辑程序。 
KEY1=1：开机时程序开关为开。 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
附录1  参数一览表 
 
1  按顺序排列 
0 
0 
1 
 
 
SCW
 
MDSP
WHLA
RAD 
 
 
 
SCW：“1”系统为英制系统，“0”系统为公制系统。 
摸拟主轴(MDSP)：主轴为变频器控制或受摸拟量控制时设为“1”。 
手轮(WHLA)：“1”为手轮方式 “0”为单步方式 
半径编程(RAD)：X轴半径编程设为“1”。 
 标准设定：0 0 0 0 0 0 0 0 
 
0 
0 
2 
 
AUN 
TOC 
ORC
 
CCMP
SCRP 
RDRN PRSR
 
AUN      1：编辑时自动加序号 
0：编辑时不自动加序号 
TOC      1：偏移矢量复位时不变 
           0：偏移矢量复位时清零 
ORC      1：偏置值以半径表示 
           0：偏置值以直径表示 
CCMP     1：有刀补C功能 
           0：无刀补C功能 
SCRP     1：有螺补功能 
           0：无螺补功能 
RDRN     1：空运行快速运动指令有效 
           0：空运行快速运动指令无效 
PRSR     1：以座标偏移方式执行刀补 
           0：以刀具移动方式执行刀补 
标准设定：0 0 0 0 0 0 1 0 
 
0 
0 
3 
 
ABOT 
MNT
DECZ
DECX
DRDY
PCMD 
 
 
 


                                                       GSK218T 车床数控系统 使用手册 
 
132 
ABOT   1： 绝对坐标断电不记忆。 
0：绝对坐标断电记忆。 
MNT 
  1： 加工时间及加工件数断电不记忆。 
0：加工时间及加工件数断电记忆。 
    DECZ    1：Z轴返回参考点时减速信号为“1”表示减速 
0：Z轴返回参考点时减速信号为“0”表示减速 
DECX    1：X轴返回参考点时减速信号为“1”表示减速 
0：X轴返回参考点时减速信号为“0”表示减速 
DRDY    1：驱动器/伺服准备号信号为1时表示准备好 
0：驱动器/伺服准备号信号为0时表示准备好 
PCMD    1：输出波形是脉冲 
0：输出波形是方波 
标准设定：0 1 0 0 0 1 0 0  
 
0 
0 
4 
 
 
SMA
M30
PPD 
 
CM98 
 
 
 
SMA 
  1：S代码时主轴手动换档 
0：S代码时主轴自动换档 
M30 
  1：M30执行时，光标立即返回开头 
0：M30执行后，再次循环起动时光标返回开头 
PPD 
  1：用绝对零点编程（G50）也设置相对坐标值 
0：用绝对零点编程（G50）不设置相对坐标值 
CM98   0：编入系统标准以外的M，S，T代码时，系统将会产生相应的报警。 
1：编入系统标准以外的M，S，T代码时，系统不产生报警，而会自动去调用一个对应的 
子程序。 
1.1：M代码，当系统执行标准以外的M代码时，调用的子程序为： 
M○○：调用子程序90○○。 
1.2：S代码，当系统执行S10～S99时，调用的子程序为： 
S□□：调用子程序91□□ 
注：当选择主轴模拟电压输出时，S代码不调用子程序。 
1.3：T代码，当系统执行T10～T99时，调用的子程序为： 
T△△：调用子程序92△△。 
注1：当执行非标准的M，S，T时，必须编入对应的子程序。否则会产生078号报警。 
注2：非标准的M，S，T代码不能在MDI方式下运行，否则会产生M/S或T代码的报警。 
注3：在对应的子程序中即可以编入轴运动指令，也可以对输出点进行控制（关和开），也可以根据DI的信号进
行转跳或进行循环，或某一DI信号作为M/S/T的结束信号。关于DI/DO见下面的诊断说明。 
        标准设定：0 0 1 0 0 0 0 0 
0 
0 
5 
 
WHFT 
ISOT
 
 
 
 
ZMZ 
ZMX
WHFT 
1：工件坐标系平移有效 
0：工件坐标系平移无效 
ISOT 
1：在通电或急停后，没有返回参考点，手动快速有效 
0：在通电或急停后，没有返回参考点，手动快速无效 
ZMZ 
1：当接通电源时，Z轴的参考点返回方向及原始的反向间隙方向为正 
0：当接通电源时，Z轴的参考点返回方向及原始的反向间隙方向为负 
ZMX 
 1：当接通电源时，X轴的参考点返回方向及原始的反向间隙方向为正 
0：当接通电源时，X轴的参考点返回方向及原始的反向间隙方向为负 


                                                       GSK218T 车床数控系统 使用手册 
 
133
标准设定：01000000 
 
0 
0 
6 
 
 
APRS
ZCZ 
ZCX 
 
 
RTMZ RTMX
 
APRS 
1：返回参考点后作自动坐标系设定 
0：不作自动坐标系设定 
ZCZ 
1：Z轴为磁开关回零方式C。（在有机械零点时有效） 
0：返回机械零点需要减速开关及零位信号 
ZCX 
1：X轴为磁开关回零方式C。（在有机械零点时有效） 
0：返回机械零点需要减速开关及零位信号 
 
如果机床零点在轴‘正’端（从负向向正向回零）时，需设置参数P006 ZMZ～ZMX为负向回零方
向。 
如果机床零点在轴‘负’端（从正向负向回零）时，需设置参数P006 ZMZ～ZMX为正向回零方向。 
联接时，除需将接近开关连接到系统的减速信号端以外，还需将其连接到系统的零点信号。 
RMTZ  1：Z轴有机械零点 
0：Z轴无机械零点 
RMTX 
1：X轴有机械零点 
0：X轴无机械零点 
 
标准设定：00000000 
0 
0 
7 
 
HAND 
 
 
BDEC
 
 
DIRZ 
DIRX
 
HAND 
1：手轮顺时针旋转方向为负 
0：手轮顺时针旋转方向为正 
BDEC 
1：间补以升降速方式补偿 
0：间补以固定频率方式补偿 
DIRZ 
1：Z轴电机旋转方向为正 
0：Z轴电机旋转方向为负 
DIRX 
1：X轴电机旋转方向为正 
0：X轴电机旋转方向为负 
标准设定：00000000 
 
0 
0 
8 
 
 
 
LTVZ 
LTVX
LMTZ
LMTX 
ALMZ ALMX
 
LTVZ 
1：Z轴硬限位高电平有效 
0：Z轴硬限位低电平有效 
LTVX  1：X轴硬限位高电平有效 
0：X轴硬限位低电平有效 
LMTZ 
1：检测Z轴硬限位 
0：不检测Z轴硬限位 
LMTX 
1：检测X轴硬限位 
0：不检测X轴硬限位 
ALMZ  1：Z轴驱动器报警电平为低电平 
0：Z轴驱动器报警电平为高电平 


                                                       GSK218T 车床数控系统 使用手册 
 
134 
ALMX  1：X轴驱动器报警电平为低电平 
0：X轴驱动器报警电平为高电平 
标准设定：00000011 
 
0 
0 
9 
 
ACC4 
ACC3
ACC2
ACC1
NOFC
DOFSI TSGN TCPS
 
ACC4、ACC3、ACC2、ACC1：共同控制加减速。其中： 
 
0000：(前)直线型加减速 
 
0001：(前)S型加减速 
 
0100：(后)直线型加减速 
 
其他：待增加 
NOFC 
0：计数方式输入偏置量无效 
1：计数方式输入偏置量有效 
DOFSI 0：刀偏直接测量方式输入偏置量无效 
1：刀偏直接测量方式输入偏置量有效 
TSGN   1：刀架到位低电平有效 
0：刀架到位高电平有效 
TCPS 
1：刀架锁紧信号高电平有效 
0：刀架锁紧信号低电平有效 
 
标准设定：000001110 
 
0 
1 
0 
 
AGER 
AGIN
 
AGIM
SPT 
 
 
SWD
AGER 
0：主轴自动换档无效 
1：主轴自动换档有效 
AGIN 
0：换一档二档不检查到位信号 
1：换一档二档检查到位信号 
AGIM 
1：换档到位信号高电平有效 
0：换档到位信号低电平有效 
SPT    1：自动方式主轴点动有效 
0：自动方式主轴点动无效 
SWD   1：系统选配SWD卧式刀架（广州数控设备有限公司生产，六工位或八工位） 
0：通用刀架 
标准设定：0000000 
 
0 
1 
1 
 
 
 
 
 
 
 
EAL 
POD
. 
EAL 
 0：报警时不可编程. 
1：报警时可编程 
POD 
 0：不可以用小数点编程 
1：可以用小数点编程 
       标准设定：0 0 0 0 0 0 0 1 
 
0 
1 
2 
 
WAR2 WAR1
 
 
WA2
WA1 
 
RSJG
 


                                                       GSK218T 车床数控系统 使用手册 
 
135
WAR2 
1：外部报警2有效 
0：外部报警2无效 
WAR1 
1：外部报警1有效 
0：外部报警1无效 
WA2 
1：外部报警2高电平有效 
0：外部报警2低电平有效 
WA1 
1：外部报警1高电平有效 
0：外部报警1低电平有效 
RSJG 
1：按复位键时，对输出M03，M04，润滑，冷却没有影响 
0：按复位键时，系统自动关闭M03，M04，润滑，冷却输出 
       标准设定：0 0 0 0 0 0 0 0 
 
0 
1 
3 
 
 
 
 
 
 
 
RTMC SBKM
        
RTMC 
  1：宏程序公用变量复位时清空 
0：宏程序公用变量复位时不变 
SBKM 
  1：在执行宏指令时单程序段有效。 
0：在执行宏指令时单程序段无效。 
        标准设定：0 0 0 0 0 0 0 1 
 
0 
1 
4 
 
KEY1 
SKEY
 
 
MESP
MOT M@SP 
MST 
KEY1     1：开机时程序开关为开 
0：开机时程序开关为关 
SKEY     1：屏蔽程序开关 
0：不屏蔽程序开关 
MESP     1：屏蔽急停（ESP）信号 
0：不屏蔽急停（ESP）信号 
MOT      1：不检查软限位 
0：检查软限位 
M@SP    1：屏蔽外接（SP）信号 
0：不屏蔽外接（SP）信号 
MST      1：屏蔽外接（ST）信号 
0：不屏蔽外接（ST）信号 
标准设定：1 0 0 0 1 1 1 1 
 
0 
1 
5 
 
STAR OWAR
OM30
OMST
 
 
SPEN 
 
STAR     1：主轴星三角型起动有效 
0：主轴星三角型起动无效 
OWAR    1：输出报警信号有效（可接信号灯表示系统处于报警状态） 
0：输出报警信号无效 
OM30     1：输出M30信号有效  
0：输出M30信号无效 
OMST     1：输出STM信号有效 
0：输出STM信号无效 
SPEN     1：主轴旋转允许输入有效 


                                                       GSK218T 车床数控系统 使用手册 
 
136 
0：主轴旋转允许输入无效 
标准设定：0 0 0 0 0 0 0 0 
 
0 
1 
6 
 
NWKP SFDV
SFDR
PSCK
PSCV
SLTW SLSP 
SLQP
NWKP    1：卡盘为外卡方式 
0：卡盘为内卡方式 
SFDV    1：防护门信号高电平有效 
0：防护门信号低电平有效 
SFDR    1：循环启动时检测防护门信号，防护门打开时不允许起动 
0：循环启动时不检测防护门信号 
PSCK     1：循环启动时检测压力信号，压力未到达时不允许起动  
0：循环启动时不检测压力信号 
PSCV     1：压力检测信号高电平有效 
0：压力检测信号低电平有效 
SLTW     1：尾座功能有效  
0：尾座功能无效 
SLSP     1：主轴起动时检查卡盘是否夹紧 
0：主轴起动时不检查卡盘状态 
SLQP     1：卡盘功能有效 
0：卡盘功能无效 
标准设定：0 0 0 0 0 0 0 0 
 
0 
1
7 
 
X轴坐标指令倍乘比CMRX 
       标准设定： 1（此数与齿轮比，丝杆螺距，脉冲当量有关） 
 
0 
1
8 
 
Z轴坐标指令倍乘比CMRZ 
 
CMRX，CMRZ：各个坐标的指令倍乘比 
设定范围：  1～65535  
    标准设定： 1（此数与齿轮比，丝杆螺距，脉冲当量有关） 
 
0 
1
9 
 
X轴指令分频系数CMDX 
         
 
0 
2
0 
 
Z轴指令分频系数CMDZ 
 
CMDX，CMDZ：各个坐标的指令分频系数。 
设定范围：  1～65535  
标准设定： 1（此数与齿轮比，丝杆螺距，脉冲当量有关） 
 
0 
2
1 
 
X轴快速速率（mm/min） 
 
设定范围：  30～30000（直径编程时最大不能超过15000） 
标准设定： 3800（直径编程时设定值为实际速度的一半） 
 
0 
2
2 
 
Z轴快速速率（mm/min） 
 


                                                       GSK218T 车床数控系统 使用手册 
 
137
设定范围：  30～30000 
标准设定： 7600 
 
0 
2
3 
 
X轴线性加减速时间常数（用于快速移动） 
 
设定范围：  8～4000 
标准设置： 100  步进驱动器时应设在300以上） 
 
0 
2
4 
 
Z轴线性加减速时间常数（用于快速移动） 
 
设定范围：  8～4000 
标准设置： 100 （步进驱动器时应设在300以上） 
 
0 
2
5 
 
X轴S加减速时间常数（用于快速移动） 
 
设定范围：  8～4000 
标准设置： 100 （步进驱动器时应设在300以上） 
 
0 
2
6 
 
Z轴S加减速时间常数（用于快速移动） 
 
设定范围：  8～4000 
标准设置： 100 （步进驱动器时应设在300以上） 
 
0 
2
7 
 
切削进给上限速度（mm/min） 
 
切削进给上限速度(适用于所有坐标)。 
设定量：  0～8000  单位：mm/min 
标准设定： 8000 
0 
2
8 
 
切削进给时的加减速的低速下限值（mm/min） 
 
设定量： 0～500   单位：mm/min 
标准设定： 40  
 
0 
2
9 
 
切削进给时的S加速时间常数 
 
设定量： 8～4000 
标准设定： 100（步进驱动器时应设在300以上） 
 
0 
3
0 
 
切削进给时的S减速时间常数 
 
设定量：8～4000 
标准设定： 100（步进驱动器时应设在300以上） 
 
0 
3
1 
 
切削进给时的直线加减速时间常数 
 
设定量：8～4000 
标准设定： 100（步进驱动器时应设在300以上） 
 
0 
3
2 
 
快速移动倍率最低速度Fo（mm/min） 


                                                       GSK218T 车床数控系统 使用手册 
 
138 
设定量：  0～8000 
    标准设定： 100   单位：mm/min 
 
0 
3
3 
 
反向间隙补偿的脉冲频率 
 
设定量： 1～16384  单位：Hz 
标准设定： 5 
 
0 
3
4 
 
补偿反向间隙的速度值（mm/min） 
 
设定量： 1～1000  单位：mm/min   
标准设定： 40 
  
0 
3
5 
 
补偿反向间隙的直线加减速时间 
 
设定量： 1～1000   
标准设定： 40 
 
0 
3
6 
 
X轴间隙补偿量（μm） 
         
设定量： 0～65535 
标准设定： 0 
 
0 
3
7 
 
Z轴间隙补偿量（μm） 
设定量： 0～65535 
标准设定： 0 
0 
3
8 
 
螺距误差补偿倍率（各轴通用） 
 
设定量： 1～8  
    标准设定： 1 
 
0 
3
9 
 
X轴螺距误差补偿原点 
 
0 
4
0 
 
Z轴螺距误差补偿原点 
 
设定量： 0～255     
标准设定：0 
 
0 
4
1 
 
X轴螺距误差补偿间隔（μm） 
 
0 
4
2 
 
Z轴螺距误差补偿间隔（μm） 
 
设定量： 1000～9999999  单位：μm 
标准设定： 1000 
 
0 
4
3 
 
返回参考点时的低速，（FL）速度（mm/min） 
 
设定量： 6～600 单位：mm/min 


                                                       GSK218T 车床数控系统 使用手册 
 
139
标准设定： 200 
 
0 
4
4 
 
回零后自动坐标系设定X值（μm） 
  
0 
4
5 
 
回零后自动坐标系设定Z值（μm） 
 
回零后自动坐标系设定的绝对坐标值 
设定量：  ±9999999  单位：μm  
标准设定： 0 
 
0 
4
6 
 
X轴正向行程极限（μm） 
 
    设定量：  ±9999999  单位：μm 
标准设定： 9999999 
 
0 
4
7 
 
X轴负向行程极限（μm） 
       
    设定量：  ±9999999  单位：μm 
标准设定： -9999999 
 
0 
4
8 
 
Z轴正向行程极限（μm） 
     
    设定量：  ±9999999  单位：μm 
标准设定： 9999999 
 
0 
4
9 
 
Z轴负向行程极限（μm） 
       
设定量：  ±9999999  单位：μm 
标准设定：-9999999 
 
0 
5
0 
 
编程时自动插入程序顺序号的增量 
     
设定量： 0～9999 
标准设定： 10 
 
0 
5
1 
 
主轴模拟调正数据 
        
设定量： -999～999 
标准设定： 999 
 
0 
5
2 
 
主轴编码器线数 
 
设定量： 1024、1200 
标准设定： 1024 
 


                                                       GSK218T 车床数控系统 使用手册 
 
140 
0 
5
3 
 
主轴和编码器齿轮比：主轴齿数 
 
设定量：  1～65535 
标准设定： 1 
 
0 
5
4 
 
主轴和编码器齿轮比：编码器齿数 
 
设定量： 1～65535 
标准设定：1 
 
0 
5
5 
 
主轴指令为10V时，齿轮1档主轴转速 
0 
5
6 
 
主轴指令为10V时，齿轮2档主轴转速 
0 
5
7 
 
主轴指令为10V时，齿轮3档主轴转速 
0 
5
8 
 
主轴指令为10V时，齿轮4档主轴转速 
设定量： 1～9999 
标准设定： 9999 
 
0 
5
9 
 
未用 
 
0 
6
0 
 
未用 
 
0 
6
1 
 
未用 
 
0 
6
2 
 
未用 
 
 
0 
6
3 
 
换档时间1 
 
0 
6
4 
 
换档时间2 
 
设定量：  0～9999999  单位：×4ms 
标准设定：50 
    
0 
6
5 
 
每转进给最大切削进给速度（mm/rev） 
 
设定量：  0～500  单位：mm/rev 
标准设定：500 
 
0 
6
6 
 
主轴换档时的转速（r/min） 
 
设定量：  0～9999  单位：r/min 
标准设定：0 
 
0 
6
7 
 
恒线速控制下的主轴转速下限值（r/min） 
 
设定量：  0～9999  单位：r/min 
标准设定：100 


                                                       GSK218T 车床数控系统 使用手册 
 
141
 
0 
6
8 
 
螺纹切削的倒角宽度（THDCH） 
 
设定量：  0～99   
螺纹倒角宽度＝THDCH×1/10×螺距 
标准设定：5 
 
0 
6
9 
 
在螺纹切削中（G92）X轴的直线加减速常数 
 
设定量：  6～4000   
标准设定：40 
 
0 
7
0 
 
在螺纹切削中（G92）各轴的S加减速下限值 
 
设定量：  6～4000  单位：mm/min 
标准设定：40 
 
0 
7
1 
 
多重固定循环（G71，G72）的切削深度 
 
设定量：  0～9999999  单位：0.001mm 
标准设定：0 
 
0 
7
2 
 
多重固定循环（G71，G72）的退刀量 
 
设定量   0～9999999  单位：0.001mm 
标准设定：0 
 
0 
7
3 
 
多重固定循环（G73）在X轴向的总切削量 
 
设定量：  ±9999999  单位：0.001mm 
标准设定：0 
 
0 
7
4 
 
多重固定循环（G73）在Z轴向的总切削量 
 
设定量：  ±9999999  单位：0.001mm 
标准设定：0 
 
0 
7
5 
 
多重固定循环（G73）的循环切削次数 
 
设定量：  0～9999999  单位：次 
标准设定：0 
 
0 
7
6 
 
多重固定循环（G74，G75）的退刀量 
 
设定量：  0～9999999  单位：0.001mm 
标准设定：0 
 
0 
7
7 
 
多重固定循环（G76）精加工的重复次数 


                                                       GSK218T 车床数控系统 使用手册 
 
142 
 
设定量：  0～9999999  单位：次 
标准设定：0 
 
0 
7
8 
 
多重固定循环（G76）的刀尖角度 
 
设定量：  0，29，30，55，60，80 
标准设定：0 
 
0 
7
9 
 
多重固定循环（G76）的最小切削深度 
 
设定量：  0～9999999  单位：0.001mm 
标准设定：0 
 
0 
8
0 
 
多重固定循环（G76）的精加工余量 
 
设定量：  0～9999999  单位：0.001mm 
标准设定：0 
 
0 
8
1 
 
总刀位数选择 
 
设定量：  0～8   
标准设定：4 
 
0 
8
2 
 
换刀T1时间 
 
设定量：  0～9999999  单位：×4ms 
标准设定：100 
 
0 
8
3 
 
移动一刀位所需的时间上限 
 
设定量：  0～9999999  单位：×4ms 
标准设定：1000 
 
0 
8
4 
 
从第一把刀换到最后一把的时间上限 
 
设定量：  0～9999999  单位：×4ms 
标准设定：15000 
 
0 
8
5 
 
刀架反转锁紧时间 
 
设定量：  0～9999999  单位：×4ms 
标准设定：100 
 
0 
8
6 
 
M代码执行持续时间 
 
设定量：  0～9999999  单位：×4ms 
标准设定：100 
 


                                                       GSK218T 车床数控系统 使用手册 
 
143
0 
8
7 
 
S代码执行持续时间 
 
设定量：  0～9999999  单位：×4ms 
标准设定：100 
 
0 
8
8 
 
未接到*TCP的报警时间 
 
设定量：  0～9999999  单位：×4ms 
标准设定：500 
 
0 
8
9 
 
主轴指令停止到主轴制动输出时间 
 
设定量：  0～9999999  单位：×4ms 
标准设定：100 
 
0 
9
0 
 
主轴制动输出时间 
 
设定量：  0～9999999  单位：×4ms 
标准设定：100 
 
0 
9
1 
 
卡盘夹紧到位时间 
 
设定量：  0～9999999  单位：×4ms 
标准设定：100 
 
0 
9
2 
 
压力检测时间设置 
 
设定量：  0～9999999  单位：×4ms 
标准设定：100 
 
0 
9
3 
 
星三角起动时间常数 
 
设定量：  0～9999999  单位：×4ms 
标准设定：100 
 
0 
9
4 
 
主轴点动延时时间 
 
设定量：  0～9999999  单位：×4ms 
标准设定：100 
 
0 
9
5 
 
串口通讯波特率 
 
设定量：  4800、9600、19200、38400、57600、115200 
标准设定：9600 
 
0 
9
6 
 
系统启动时间 
 
设定量：  0～99999999  单位：×4ms 
标准设定：0 


                                                       GSK218T 车床数控系统 使用手册 
 
144 
 
0 
9
7 
 
信号去抖动宽度时间 
 
设定量：  2～15（无特殊情况，不要改变标准设置） 
标准设定：2 
 
0 
9
8 
 
待用 
 
0 
9
9 
 
待用 
 
1 
0
0 
 
待用 
 
1 
0
1 
 
待用 
 
1 
0
2 
 
待用 
 
1 
0
3 
 
待用 
 
1 
0
4 
 
待用 
 
1 
0
5 
 
待用 
 
1 
0
6 
 
待用 
 
2  按功能排序 
2.1  X、Z 轴控制逻辑 
系统参数号 
0 0 3 
 
 
 
 
 
 
PCMD
 
 
PCMD =0: 系统输出波形是方波。 
=1: 系统输出波形是脉冲。 
本系统暂时都按脉冲输出。 
 
系统参数号 
0 0 7 
 
 
 
 
 
 
 
DIRZ 
DIRX
DIRX、DIRZ：X、Z轴电机旋转方向选择。 
机床移动方向与指令要求方向不符时，可调整此参数进行修正。 
 
系统参数号 
0 0 8 
 
 
 
 
 
 
 
ALMZ 
ALMX
ALMX、ALMZ：驱动器报警电平选择。 
=0: XDALM、ZDALM信号与0V接通时报警。 
=1: XDALM、ZDALM信号与0V断开时报警。 
根据驱动器报警信号输出是高电平还是低电平进行调整此参数。 
 


                                                       GSK218T 车床数控系统 使用手册 
 
145
2.2  加减速控制 
系统参数号 
0 
0 
9 
 
ACC4 
ACC3 
ACC2
ACC1
 
 
 
 
ACC4、ACC3、ACC2、ACC1：共同控制加减速。其中： 
 
=0000： (前)直线型加减速 
 
=0001： (前)S型加减速 
 
=0100： (后)直线型加减速 
 
系统参数号 
0 
2 
1 
X轴快速速率 
0 
2 
2 
 
Z轴快速速率 
X、Z轴快速移动速率（半径值） 
设定范围：X=30～3800（单位：毫米/分）     Z=30～7600（单位：毫米/分） 
标准设置：X：3800         Z：7600 
X配伺服电机时设为3800，配步进电机时设为3000。 
Z配伺服电机时设为7600，配步进电机时设为6000。 
 
 
系统参数号 
0 
2 
3 
X轴线性加减速时间常数（用于快速移动） 
0 
2 
4 
 
Z轴线性加减速时间常数（用于快速移动） 
X、Z轴快速移动时，线性加减速时间常数值，数值越大，加减速过程越慢。 
设定范围：8～4000 
配伺服电机时设为100，配步进电机时设为300以上。 
 
系统参数号 
0 
2 
5 
X轴S加减速时间常数（用于快速移动） 
0 
2 
6 
 
Z轴S加减速时间常数（用于快速移动） 
X、Z轴快速移动时，线性加减速时间常数值，数值越大，加减速过程越慢。 
设定范围：8～4000 
配伺服电机时设为100，配步进电机时设为300以上。 
 
系统参数号 
0 
2 
7 
 
切削进给上限速度 
X、Z轴切削进给上限速度。 
设定范围：1～8000（单位：毫米/分） 
标准设置：8000 
 
系统参数号 
0 
2 
8 
 
切削进给时的加减速的低速下限值 
切削和手动进给时的指数加速的起始速度，减速的终止速度。设置的速度越大，加减速过程越快，
启动或停止时冲击越大。 
设定范围：0～8000（单位：毫米/分） 
标准设置：40 
 
系统参数号 
0 
2 
9 
 
切削进给时的S加速时间常数 
切削进给和手动进给时S加减速时间常数。 
设定范围：0～4000 
配伺服电机时设为100，配步进电机时设为300以上。 


                                                       GSK218T 车床数控系统 使用手册 
 
146 
 
系统参数号 
0 
3 
0 
 
切削进给时的S减速时间常数 
切削进给和手动进给时S减速时间常数。 
设定范围：0～4000 
配伺服电机时设为100，配步进电机时设为300以上。 
 
系统参数号 
0 
3 
1 
 
切削进给时的直线加减速时间常数 
切削进给和手动进给时直线加减速时间常数。 
设定范围：0～4000 
配伺服电机时设为100，配步进电机时设为300以上。 
 
系统参数号 
0 
3 
2 
 
快速移动倍率最低速度Fo 
X、Z轴快速移动时，F0（最低的快速速率）的速率。  
设定范围：6～8000（单位：毫米/分） 
标准设置：100 
 
 
2.3  机床安全防护 
系统参数号 
0 0 8 
 
 
 
LTVZ
LTVX
LMTZ
LMTX
 
 
LTVZ  =0：Z 轴硬限位低电平有效。 
=1：Z 轴硬限位高电平有效。 
LTVX  =0：X 轴硬限位低电平有效。 
=1：X 轴硬限位高电平有效。 
LMTZ  =0：Z 轴硬限位检测功能无效。 
=1：Z 轴硬限位检测功能有效。 
LMTX  =0：X 轴硬限位检测功能无效。 
=1：X 轴硬限位检测功能有效。 
 
系统参数号 
0 1 6 
 
 
SFDV 
SFDR
PSCK
PSCV
 
 
 
SFDV  =0：防护门信号低电平有效。 
=1：防护门信号高电平有效。 
SFDR  =0：防护门检测功能无效。 
 
  =1：防护门检测功能有效。 
PSCK  =0：压力低检测功能无效。  
 
  =1：压力低检测功能有效。 
PSCV  =0：压力检测信号低电平有效。 
 
  =1：压力检测信号高电平有效。 
 
系统参数号 
0 9 2 
 
压力检测时间设置 
压力检测出现报警前等待时间 
设定范围： 0～9999999  （单位：×4ms） 
 


                                                       GSK218T 车床数控系统 使用手册 
 
147
系统参数号 
0 1 4 
 
 
 
 
 
MESP
MOT
M@SP 
MST 
MESP =0：急停功能有效。 
=1：急停功能无效。 
MOT  =0：检查软件行程限位。 
=1：不检查软件行程限位。 
M@SP =0：外接暂停（*SP）信号有效。此时必须外接暂停开关，否则系统显示“暂停”。 
=1：外接暂停（*SP）信号无效，此时不是暂停开关，可由宏指令定义（#1015）功能。 
MST  =0：外接循环启动（ST）信号有效。 
=1：外接循环启动（ST）信号无效。 
 
系统参数号 
0 4 6 
 
X轴正向行程极限 
0 4 7 
 
X轴负向行程极限 
0 4 8 
 
Z轴正向行程极限 
0 4 9 
 
Z轴负向行程极限 
软限位的极限 
设定范围： ±9999999  （单位：μm） 
 
2.4  机床回零与坐标显示 
系统参数号 
0 
0 
2 
 
 
RDRN
 
 
 
 
 
 
RDRN  =0:  空运行快速运动指令无效。 
=1:  空运行快速运动指令有效。 
 
系统参数号 
0 
0 
3 
 
 
 
DECZ
DECX
 
 
 
 
DECZ  =0：Z轴返回参考点时减速信号为“0”表示减速。 
=1：Z轴返回参考点时减速信号为“1”表示减速。 
DECX  =0：X轴返回参考点时减速信号为“0”表示减速。 
=1：X轴返回参考点时减速信号为“1”表示减速。 
 
系统参数号 
0 
0 
4 
 
 
 
 
PPD 
 
 
 
 
PPD  =0：用G50设置绝对坐标与返回参考点时，仅设置绝对坐标。 
=1：用G50设置绝对坐标与返回参考点时，同时设置相对坐标与绝对坐标。 
 
 
系统参数号 
0 
0 
5 
 
 
ISOT 
 
 
 
 
ZMZ 
ZMX 
ISOT  =0：在开机或急停后、返回机械零点之前，手动快速移动无效。 
=1：在开机或急停后、返回机械零点之前，手动快速移动有效。 
ZMX、ZMZ: X 轴、Z 轴的机械零点返回方向和初始的反向间隙方向。 
=0：返回机械零点方向及间隙方向为负。 
=1：返回机械零点方向及间隙方向为正。 
 
系统参数号 
0 
0 
6 
 
 
APRS
ZCZ 
ZCX 
 
 
RTMZ 
RTMX
APRS  =0：返回参考点后，不自动设定绝对坐标系。  
=1：返回参考点后系统自动设定绝对坐标系，坐标值由系统参数NO.044 和NO.045 设置。 
ZCX、ZCZ =0：返回机械零点时，需要独立的减速信号和零位信号。 
=1：返回机械零点时，用一个接近开关同时作减速信号和零位信号。 


                                                       GSK218T 车床数控系统 使用手册 
 
148 
用接近开关同时作为减速开关和回零开关时须设置为1 
ZRSZ、ZRSX： X、Z 轴有无机械零点。   
=0：X、Z 轴无机械零点，执行回机械零点时，不检测减速信号和零点信号，直接回到机床坐
标系的零点。 
=1: X、Z 轴有机械零点，执行回机械零点时，需要检测减速信号和零点信号 
 
系统参数号 
0 
4 
3 
 
返回参考点时的低速，（FL）速度 
X、Z 轴返回机械零点时，低速的速度。 
设定范围：6～8000（单位：毫米/分） 
标准设置：200 
 
系统参数号 
0 
4 
4 
 
回零后自动坐标系设定X值 
0 
4 
5 
 
回零后自动坐标系设定Z值 
回零点后，X、Z 轴绝对坐标系设定值。 
设定范围：0～9999999  （单位：μm） 
标准设置：0    
 
2.5  螺纹功能 
系统参数号 
0 
2 
7 
 
切削进给上限速度 
X、Z轴切削进给上限速度。 
设定范围：1～8000（单位:毫米/分） 
标准设置：8000 
 
 系统参数号 
0 
6 
8 
 
螺纹切削的倒角宽度（THDCH） 
螺纹切削时的退尾宽度。螺纹退尾宽度=THDCH × 0.1×导程 
设定范围：0～99  
标准设置：5 
 
系统参数号 
0 
6 
9 
 
在螺纹切削中（G92）X轴的直线加减速常数 
螺纹切削中，X轴的直线加减速时间常数；数值越大，加减速过程越慢。 
设定范围：6～4000（单位：毫秒） 
标准设置：40 
 
系统参数号 
0 
7 
0 
 
在螺纹切削中（G92）各轴的S加减速时间常数 
螺纹切削中，各轴的S加减速时间常数；数值越大，加减速过程越慢。 
设定范围：6～8000（单位：mm/min） 
标准设置：40 
 
 


                                                       GSK218T 车床数控系统 使用手册 
 
149
2.6  主轴控制 
系统参数号 
0 0 1 
 
 
 
 
MDSP
 
 
 
 
MDSP =0：主轴转速开关量控制。 
=1: 主轴转速模拟电压控制。 
 
系统参数号 
0 1 0 
 
AGER 
AGIN
 
AGIM
SPT 
 
 
 
AGER  =0：主轴自动换档功能无效。 
=1：主轴自动换档功能有效。 
AGIN =0：主轴自动换档至1、2 档时，不检查换档到位信号M41I、M42I。 
=1：主轴自动换档至1、2 档时，检查换档到位信号M41I、M42I。 
AGIM  =0：换档到位信号M41I、M42I 低电平有效。 
=1：换档到位信号M41I、M42I 高电平有效。 
SPT  =0：自动方式主轴点动功能无效。 
      =1：自动方式主轴点动功能有效。 
 
系统参数号 
0 1 2 
 
 
 
 
 
 
 
 
RSJG
RSJG  =0：按复位键时，系统关闭M03，M04，M08，M32 输出信号按复位键时。 
=1：系统不关闭M03、M04、M08、M32输出信号。 
 
系统参数号 
0 1 5 
 
 
 
 
 
 
 
SPEN 
 
SPEN  =0：主轴旋转允许输入无效 
=1：主轴旋转允许输入有效 
 
 
系统参数号 
0 
5 
1 
 
主轴摸拟调正数据 
主轴最高速度指令模拟电压输出为10V 时电压偏置补偿值，设置值增大，输出电压相应提升。 
设定范围：-999-999 
标准设置：999 
 
系统参数号 
0 
5 
2 
 
主轴编码器线数 
主轴编码器线数。 
设定范围：1024、1200 
标准设定：1024 
 
系统参数号 
0 
5 
3 
 
主轴和位置编码器的齿轮比（主轴齿数） 
0 
5 
4 
 
主轴和位置编码器的齿轮比（编码器齿数） 
主轴和位置编码器的齿轮比。 
设定范围：1～65535 
标准设定：1 
 
系统参数号 


                                                       GSK218T 车床数控系统 使用手册 
 
150 
0 
5 
6 
 
主轴指令为10V时，齿轮1档主轴转速 
0 
5 
7 
 
主轴指令为10V时，齿轮2档主轴转速 
0 
5 
8 
 
主轴指令为10V时，齿轮3档主轴转速 
0 
5 
9 
 
主轴指令为10V时，齿轮4档主轴转速 
主轴模拟电压输出为10V 时，分别对应第1、2、3、4 档的主轴最高转速。当主轴自动换档有效时，
对应执行指令M41、M42、M43、M44 时的主轴转速。系统上电或自动换档功能无效时，默认
为第1 档的转速。 
设定范围：1～9999 （单位:转/分） 
标准设置：9999 
 
系统参数号 
0 6 3 
 
换档时间 1 
自动换档信号输出延迟时间1 
设定范围：0～9999999  （单位： 4ms） 
标准设置：50 
 
系统参数号 
0 6 4 
 
换档时间 2 
自动换档信号输出延迟时间2 
设定范围：0～9999999  （单位： 4ms） 
标准设置：50 
 
系统参数号 
0 6 5 
 
每转进给最大切削进给速度 
每转进给最大切削进给速度。 
设定范围：0～9999  （单位：mm/rev） 
标准设置：500 
 
系统参数号 
0 6 6 
 
主轴换档时的转速 
恒线速控制下的主轴转速下限值。 
设定范围：0～9999  （单位：rev/min） 
标准设置：0 
 
 
系统参数号 
0 6 7 
 
恒线速控制下的主轴转速下限值 
主轴换档时的转速 
设定范围：0～9999  （单位：rev/min） 
标准设置：100 
 
系统参数号 
0 8 6 
 
M 代码执行持续时间 
M 代码执行持续时间。 
设定范围：0～9999999  （单位： 4ms 单位） 
标准设置：100 


                                                       GSK218T 车床数控系统 使用手册 
 
151
 
系统参数号 
0 8 7 
 
S 代码执行持续时间 
S 代码执行持续时间。 
设定范围：0～9999999  （单位： 4ms 单位） 
标准设置：100 
 
系统参数号  
0 8 9 
 
主轴指令停止到主轴制动输出时间 
执行M05后延迟输出主轴制动的时间。 
设定范围：0～9999999  （单位： 4ms 单位） 
标准设置：100 
 
系统参数号  
0 9 0 
 
主轴制动输出时间 
主轴制动输出时间。 
设定范围：0～9999999  （单位： 4ms 单位） 
标准设置：100 
 
系统参数号  
0 9 4 
 
主轴点动延时时间 
主轴点动延时时间。 
设定范围：0～9999999  （单位： 4ms 单位） 
标准设置：100 
 
 
2.7  卡盘控制 
系统参数号 
0 1 6 
 
NWKP 
 
 
 
 
 
SLSP 
SLQP
NWKP  =0： 卡盘方式为内卡方式。 
      =1： 卡盘方式为外卡方式。 
SLSP  =0：卡盘功能有效时，不检查卡盘是否夹紧。 
          =1：卡盘功能有效时，检查卡盘是否夹紧。 
SLQP  =0：卡盘控制功能无效。 
=1：卡盘控制功能有效。 
 
系统参数号 
0 9 1 
 
卡盘夹紧到位时间 
卡盘夹紧到位时间。 
设定范围：0～9999999  （单位： 4ms 单位） 
标准设置：100 
 
2.8  尾座控制 
系统参数号 


                                                       GSK218T 车床数控系统 使用手册 
 
152 
0 1 6 
 
 
 
 
 
 
SLTW
 
 
SLTW  =0：尾座控制功能无效。 
              =1：尾座控制功能有效。 
 
2.9  刀具补偿 
系统参数号 
0 0 2 
 
 
TOC 
ORC
 
CCMP
 
 
PTSR
TOC    =0:  刀具偏置状态在复位时被清零。 
=1:  刀具偏置状态在复位时不变。 
ORC   =0:  刀具偏置值以直径表示。 
=1:  刀具偏置值以半径表示。 
CCMP  =0:  刀尖半径补偿功能无效。 
=1:  刀尖半径补偿功能（选配功能）有效。 
PTSR  =0:  以移动方式执行刀具长度补偿。 
=1:  以坐标偏移方式执行刀具长度补偿。 
 
系统参数号 
0 0 9 
 
 
 
 
 
NOFC
DOFSI
 
 
NOFC   =0 ：计数方式输入偏置量无效。 
=1 ：计数方式输入偏置量有效。 
DOFSI  =0 ：刀偏直接测量输入无效。 
=1 ：刀偏直接测量输入有效。 
 
2.10  刀架控制 
系统参数号 
0 0 9 
 
 
 
 
 
 
 
TSGN 
TCPS
TSGN =0 ：刀架到位信号高电平有效。 
=1 ：刀架到位信号低电平有效。 
TCPS =0 ：刀架锁紧信号低电平有效。  
=1 ：刀架锁紧信号高电平有效。 
 
系统参数号 
0 8 1 
 
总刀位数 
总刀位数 
设定范围：1～8 
标准设置：4 
 
系统参数号 
0 8 2 
 
换刀T1 时间 
换刀延迟时间T1：刀架正转停止到刀架反转锁紧开始的延迟时间。 
设定范围：0～9999999 （单位：4毫秒） 
标准设置：100 
 
系统参数号 
0 8 3 
 
移动一刀位所需的时间上限 
换刀时，移动一个刀位所需的时间上限。 


                                                       GSK218T 车床数控系统 使用手册 
 
153
设定范围：0～9999999 （单位：4 毫秒） 
标准设置：100 
 
系统参数号 
0 8 4 
 
从第一把刀换到最后一把的时间上限 
最大换刀时间。 
设定范围：0～9999999 （单位：4 毫秒） 
标准设置：15000 
 
系统参数号 
0 8 5 
 
刀架反转锁紧时间 
刀架反转锁紧时间。 
设定范围：0～9999999 （单位：4 毫秒） 
标准设置：100 
 
系统参数号  
0 8 8 
 
未接到*TCP 的报警时间 
 
未接收到*TCP 的报警延迟时间T2：刀具到位后经过T2 时间没有收到*TCP 信号则报警。 
设定范围：0～9999999 （单位：4 毫秒） 
标准设置：500 
 
2.11  编辑与显示 
系统参数号 
0 0 4 
 
 
 
M30 
 
 
CM98
 
 
M30   =0:  M30 执行完毕后，须再次按循环起动键光标才返回程序开头继续执行。 
=1:  M30执行完毕后，光标立刻返回程序开头。 
CM98  =0： 编入系统标准以外的M、S、T 代码时，系统将会产生P/S 的报警。 
=1： 编入系统标准以外的M、S、T代码时，调用一个对应的子程序。 
 
系统参数号 
0 1 1 
 
 
 
 
 
 
 
EAL 
POD 
EAL   =0：系统报警时，不可以编辑程序。 
=1：系统报警时，可以编辑程序。 
POD  =0：不可以用小数点编程。 
=1：可以用小数点程。 
 
诊断参数号 
0 1 4 
 
KEY1 
SKEY 
 
 
 
 
 
 
KEY1 =0： 开机时程序形状为关。 
     =1： 开机时程序形状为开。 
SKEY =0： 设置界面程序开关可以打开，可以编辑程序。 
=1： 设置界面程序开关不可以打开，禁止编辑程序。 
 
系统参数号 
0 3 4 
 
串口通讯波特率 
串口通讯波特率。 
设定范围：4800、9600、19200、38400、57600 
标准设置：9600 


                                                       GSK218T 车床数控系统 使用手册 
 
154 
 
2.12  精度补偿 
系统参数号 
0 0 7 
 
 
 
 
BDEC
 
 
 
 
BDEC =0：反向间隙补偿A，以固定的脉冲频率输出。 
=1：反向间隙补偿B，脉冲频率按加减速特性输出。 
 
系统参数号 
0 3 3 
 
反向间隙补偿的脉冲频率 
反向间隙补偿脉冲频率的设定值。（各轴共用） 
设定范围：0～2000 （单位：Hz） 
标准设置：40 
 
系统参数号 
0 3 4 
 
补偿反向间隙的速度值 
补偿反向间隙的速度值。 
设定范围：0～1000（单位： mm/min） 
标准设置：40 
 
系统参数号 
0 3 5 
 
补偿反向间隙的直线加减速时间 
补偿反向间隙的直线加减速时间 
设定范围：0～1000 
标准设置：40 
 
系统参数号 
0 
3 
6 
 
X轴间隙补偿量 
X轴反向间隙补偿量。 
设定范围：0～65535（单位：0.001毫米） 
标准设置：0 
 
系统参数号 
0 
3 
7 
 
Z轴间隙补偿量 
Z轴反向间隙补偿量。 
设定范围：0～65535（单位：0.001毫米） 
标准设置：0 
 
系统参数号 
0 0 3 
 
 
 
 
 
 
SCRP
 
 
SCRP   =0：螺距误差补偿功能无效。 
=1：螺距误差补偿功能有效(选配功能)。 
 
系统参数号 
0 3 8 
 
螺距误差补偿倍率（各轴通用） 
螺距误差实际的补偿量为设定的补偿量乘以倍率。 
设定范围：1～8 


                                                       GSK218T 车床数控系统 使用手册 
 
155
标准设置：1 
   
系统参数号 
0 
3 
9 
 
X轴螺距误差补偿原点 
X 轴螺距误差零点 
设定范围：0～255 
标准设置：0 
 
系统参数号 
0 
4 
0 
 
Z轴螺距误差补偿原点 
Z 轴螺距误差零点 
设定范围：0～255 
标准设置：0 
       
系统参数号 
0 
4 
1 
 
X轴螺距误差补偿间隔 
X 轴的螺距误差补偿间隔 
设定范围：0～99999999  （单位：0.001mm） 
标准设置：1000 
 
系统参数号 
0 
4 
2 
 
Z轴螺距误差补偿间隔 
Z 轴的螺距误差补偿间隔 
设定范围：0～99999999  （单位：0.001mm） 
标准设置：1000 
 
螺距补偿参数号 
0 
0 
0 
 
X、Z轴螺补值 
  
 
 
2 
5 
5 
 
X、Z轴螺补值 
X、Z 轴螺补值 
 
2.13  通讯功能 
系统参数号 
0 
9 
5 
 
串口通讯波特率 
串口通讯波特率 
设定范围：4800、9600、19200、38400、57600、115200  
标准设置：9600 
 
 
 
 
 
 
 
 
 
 


                                                       GSK218T 车床数控系统 使用手册 
 
156 
 
 
 
 
 
 
 
 
 
 


GSK218T使用手册  
 
157
附录2   诊断表 
1  DI/DO 诊断信息 
1.1  机床侧输入信号（I/O 板） 
机床侧的输入信号诊断信息直接对应于系统的硬件电路。如果硬件电路出现故障时，可通过这部分
信息加以确认。表中每个信号在印刷板中的具体位置请察看逻辑图。 
1）诊断表： 
 诊 断 号                                      含      义 
0 
0 
1 
 
*TCP 
DIQP
*DECX 
DITW 
*SP 
ST 
DECZ
*ESP
                                       
 0   0 
 2 
 
T08 
T07
T06 
T05 
T04 
T03 
T02 
T01
                                      
0 
0 
3 
 
SAR 
LTZ 
LTX
SPEN 
PSCK
DOOR 
GR2 
GR1
      
0 
0 
4 
 
 
 
 
 
 
LCK 
OWA2
OWA1
 
 
2) 信号含义 
(a) *TCP：刀架锁紧信号 
(b) DIQP：卡盘脚踏开关。(输入信号，与+24V接通输入有效) 
(c) DITW：尾座控制输入信号 
(d) *DECX、*DECZ：对应轴的零点减速信号 
(e) *SP：进给保持信号 
(f) ST：自动循环启动信号 
(g) *ESP：急停信号 
(h) T01~T08：刀架到位信号 
(i) SAR：主轴转速到达信号 
(j) LTZ， LTX：对应轴的限位信号 
(k) SPEN：主轴旋转允许信号 
(l) PSCK：循环启动时检测压力信号 
(m) DOOR：防护门信号 
(n) GR1、GR2：换一挡、二挡到位信号 
(o) LCK：锁定键盘信号(暂时无效) 
(p) OWA1、OWA2：外部报警1、2信号 
 
1.2  输出到机床侧的信号（I/O 板） 
当对应位为“1”时，硬件电路中相应的输出晶体管应该导通。否则说明输出电路发生故障，和 
 
硬件的对应关系请察看逻辑图。 
1） 诊断表 
 诊 断 号                                      含      义 
0 
0 
5 
 
SPZD 
DOQP 
M05 
M32 
M08 
M10 
M04
M03
 
0 
0 
6 
 
TL－ 
TL＋ 
M13 
M11 
M44 
M43 
M42 
M41 
 
0 
0 
7 
 
 
 
 
STAR
TRIAN
WAR 
M30 
MST
 
2)  信号含义 
(a) SPZD： 主轴制动 


GSK218T使用手册  
 
158 
(b) DOQP：卡盘输出信号。 
(c) M05：主轴停止 
(d) M32：润滑油开 
(e) M08：冷却液开 
(f) M10：尾座进 
(g) M04：主轴反转 
(h) M03：主轴正转 
(i) TL+、TL-：换刀信号 
TL+为正向换刀信号，TL-为反向换刀信号 
(j) M13：卡盘松开 
(k) M11：尾座退 
(l) M41~M44：选择主轴变频控制，自动换档功能时的换档输出 
(m) STAR、TRIAN：机床的启动方式输出控制（星—三角启动）。 
(n) WAR：报警信号 
(o) M30：程序结束信号 
(p) MST：自动运行信号  
 
2  系统接口信号 
1） 诊断表： 
 诊 断 号                                      含      义 
0 
0 
9  
 
 
 
 
 
PCS 
PCZ 
PCX 
                                       
0 
1 
0 
 
 
 
 
 
 
 
ALMZ 
ALMX
                                      
0 
1 
1  
手轮数据 
      
0 
1 
2 
 
主轴反馈数据 
 
0 
1 
3 
 
主轴反馈数据 
 
0 
1 
4 
 
主轴模拟量输出值 
 
0 
1 
5 
 
主轴模拟量输出值 
 
 
2) 信号含义 
(a) PCS：主轴位置编码器一转信号 
(b) PCX、PCZ：对应轴的零点信号 
(c) ALMX、ALMZ：对应轴的驱动器报警 
这二位诊断信息对应于硬件电路的ALM，其中X、Z代表X轴、Z轴。系统参数№008的ALMZ，ALMX
位与该信号的有效电平有关。如将8号参数的ALMX位设为“1”，则ALMX为“0”时系统产生相应轴的
驱动器报警。反之则为ALMX为“1”时系统产生相应轴的驱动器报警。如果您所使用的驱动器不能提供
该信号，请在制作电缆时不连接该信号，同时将参数№008的ALMZ，ALMX位设定为“0”。当产生驱动
器报警时，请判别故障是在CNC系统侧，还是在驱动器侧。 
(d) 011：手轮数据 
手轮数据主要诊断手轮方式下X或Z轴发送往电机的总的脉冲数，该诊断位也可以从数据变化
的快慢看出手轮的转速。 


GSK218T使用手册  
 
159
(e) 主轴反馈数据  
012、013两个诊断号用BCD码的格式分别显示主轴当前转速的低两位和高两位。 
(f) 主轴模拟量输出值 
主轴转速指定后，经过挡位和变频控制，转换为控制模拟电压输出的速度值。013、014号诊
断用BCD码的格式分别显示变频后速度的低两位和高两位。 
3）无任何报警出现而电机也不运动。 
(a) 系统位置显示不变化 
请检查系统信息是否正常。 
(b) 系统位置显示变化。 
首先，要看是否处于机床锁住状态，机床锁住时机床坐标的显示不会变化。必须保证此项显示
有变化。 
 
3  MDI 操作面板键 
№017~022、027~028：机床操作面板键诊断 
№023~026：键盘键诊断 
当光标在这些诊断号下时，在LCD 的下端的详细内容显示行有该行对应键的详细显示。在MDI 操
作面板中按下对应的键时，相应位即显示“1”，释放按键盘后显示“0”。否则说明有故障发生。 
 
4  CNC 输入/输出信号 
这部分信号为CNC 内部的PMC 和CNC 之间进行传送的信号。供用户了解CNC 内部的工作状态
使用，与硬件电路无直接联系。 
 
输入到CNC 的信号   
 诊 断 号                                                  含      义 
0 
3 
3  
HX/RV1 
 
*DECX
 
-X 
+X 
 
 
 
 
 
 
手轮X/快速
倍率1 
 
X轴 
减速 
 
手动 
-X 
手动+X 
 
 
                                       
0 
3 
4  
HX/RV2 
 
*DECZ
 
-Z 
+Z 
 
 
 
 
 
 
手轮X/快速
倍率1 
 
Z轴 
减速 
 
手动 
-Z 
手动 
+Z 
 
 
                                      
0 
3 
5  
DRN 
 
 
 
GR2 
GR1 
 
 
 
 
 
 
空运行 
 
 
 
齿轮换
挡信号2
齿轮换
挡信号1 
 
 
 
0 
3 
6  
MLK 
MP2 
MP1 
MP0 
SBK 
BDT 
 
 
 
 
 
 
机床锁住 
  手轴增量选择 
单程序段程序选跳 
 
 
 
0 
3 
7  
ZRN 
*SSTP
SOR
SAR 
FIN 
ST 
STLK 
MIX 
 
 
 
 
回零 
开关 
主轴 
停止 
主轴定
向或抵
挡 
主轴转
速到达
附助机
能完成
自动循
环起动 
联锁信
号 
X轴镜
向 
 
 
0 
3 
8  
ERS 
RT 
*SP 
*ESP
 
 
 
 
 
 
 
 
外部复位 手动快速进给保持
急停 
 


GSK218T使用手册  
 
160 
 
 
 
 
 
0 
3 
9  
PN8 
PN4 
PN2 
PN1 
KEY 
MD4 
MD2 
MD1 
 
 
 
 
PN8~PN1：
外部程序号
选择 
 
 
 
KEY：程序保护键/开关 
         MD4~MD1：方式选择 
 
5  从CNC 输出的信号 
 
1） 诊断表 
0 
4 
1  
OP 
SA 
STL 
SPL 
ENB 
 
ZPZ 
ZPX 
                                       
0 
4 
2 
 
MA 
 
 
 
DEN 
 
RST 
AL 
                                      
0 
4 
3  
 
 
DST 
 
TF 
SF 
 
MF 
                                       
0 
4 
4 
 
M28 
M24 
M22 
M21 
M18 
M14 
M12 
M11 
                                      
0 
4 
5  
S28 
S24 
S22 
S21 
S18 
S14 
S12 
S11 
                                       
0 
4 
6 
 
S48 
S44 
S42 
S41 
S38 
S34 
S32 
S31 
                                      
0 
4 
9  
T8 
T7 
T6 
T5 
T4 
T3 
T2 
T1 
         
2） 信号意义        
(a) OP：自动运行中 
(b) SA：伺服准备好 
(c) 
STL：循环启动 
(d) SPL：进给保持 
(e) ENB：主轴使能 
(f) 
ZPX，ZPZ：X，Z轴回零结果 
(g) MA：CNC准备好信号 
(h) DEN：轴运动结果 
(i) 
RST：复位 
(j) 
AL：报警 
(k) 
DST：录入启动 
(l) 
TF、SF、MF：T、S、M代码选通 
044号诊断：当前M代码的BCD码 
045号诊断：当前S代码的低两位BCD码 
046号诊断：当前S代码的高两位BCD码 
049号诊断：当前T代码的BCD码 
 
6  系统内部CNC 状态信息 
当CNC在自动运行中，没有报警，也不运动时，可通过诊断页面的096和097号得知当前的CNC的
工作状态。 
0 
5 
0 
 
 
CSCT
CITL 
COVL
CINP
CDVVL CMTN 
CFIN
    
当相应为显示为“1”时，其意义如下： 


GSK218T使用手册  
 
161
CFIN：正在执行M，S，T指令。 
CMTN：正在执行轴运动指令。 
CDWL：正在执行G04（暂停）指令。 
CINP：正在进行在检查。 
COVZ：倍率为0%。 
CITL：互锁信号为ON。 
CSCT：正在等待主轴速度到达信号。 
 
0 
5 
1 
 
 
 
 
CRST
 
 
CTRD 
CTPU
当相应为显示为“1”时，其意义如下： 
CTPU：RS232接口正在输出。 
CTRD：RS232接口正在输入。 
CTST：紧急停止，外部复位，或MDT面板上的复位键为ON时。 
0 
5 
2 
 
STP 
REST
EMS 
 
RSTB
 
 
CSU 
该诊断号为自动运行停止，自动运行暂停时的状态信息。主要用于检查系统故障时的故障原因。
STP：停止插补分配的标志，在下列情况时被设定： 
① 外部复位为ON； 
② 急停为ON； 
③ 进给保持为ON； 
④ MDI面板上的复位键为ON； 
⑤ 自动运行中，方式变为手动方式。 
REST：当外部复位，复位键，急停为ON时被设定。 
EMS：急停为ON时被设定。 
RSTB：MDI面板上的复位键为ON时被设定。 
CSU：急停为ON或者产生了伺服报警时被设定。 
0 
5 
3 
 
往伺服发送的脉冲数(X)轴 
 
0 
5 
4 
 
往伺服发送的脉冲数(z)轴 
往伺服发送的脉冲数为CNC系统在X或Z轴分别向伺服系统发送的脉冲总数，其有正负之分。  


                                                    GSK218T 车床数控系统 使用手册 
 
161 
附录3   报警一览表 
1)  程序操作错(P/S 报警) 
 
号 码 
内                 容 
备  注 
000 
设定了必须切断一次电源的参数，请切断电源. 
 
001 
文件打开失败. 
 
002 
编辑方式下搜索不到该字符串. 
 
003 
致命异常，会造成机床失步。需要重新启动、重新对刀. 
 
004 
地址未发现. 
 
005 
地址后没有数据. 
 
006 
“-”符号输入错误. 
 
007 
小数点输入错误. 
 
008 
文件创建不成功. 
 
009 
输入了非法字地址符. 
 
010 
指令了无效G 代码. 
 
011 
切削进给F 指令值错. 
 
012 
输入的数值其位数超出最大允许数据. 
 
013 
指定程序号的程序或程序中要搜索的地址未找到. 
 
014 
删除文件不存在. 
 
015 
存储器存储容量不够. 
 
016 
螺纹插补中主轴速度过小或者主轴未开启. 
 
017 
除零错误. 
 
018 
螺纹切削时F、I 指令值错. 
 
019 
程序段长超过255 个字符. 
 
020 
攻丝循环中没有指定F 值. 
 
021 
程序回零时，没有零点存储. 
 
022 
出厂时参数设定值，不能覆盖. 
 
023 
在使用半径R 指定的圆弧插补中、R 值指令了负值. 
 
024 
圆弧插补半径过大. 
 
026 
在圆弧插补中给出的数据不能构成一个圆弧. 
 
027 
在圆弧插补中R 与(K、I)同时指定. 
 
028 
在圆弧插补中R 与(K、I)全为零. 
 
029 
用T 代码指令的偏置值过大. 
 
030 
刀偏号超出取值范围. 
 
031 
搜索不到该文件. 
 
032 
通讯错误. 
 
033 
刀尖半径补偿中没有交叉点. 
 
034 
刀具半径补偿起动或取消时执行G2 或G3 操作. 
 
035 
补偿开始程序段的下一程序段改变了刀补方向. 
 
036 
刀具偏置号未指定时执行了刀具半径补偿指令. 
 
037 
补偿开始程序段为非移动指令. 
 
038 
刀尖半径补偿中圆弧起始点或终点与圆弧中心重合而出现过切. 
 
039 
在刀补过程，连续出现了30 段非移动指令. 
 
040 
在刀补过程中出现了不正确的操作指令. 
 
041 
在刀尖半径补偿中将出现过切. 
 
042 
刀具半径补偿时，圆弧指令中重复指定刀尖半径补偿G 码. 
 
043 
输入的数据超出允许范围. 
 
044 
卡盘未夹紧启动主轴. 
 
045 
主轴运转时松开卡盘. 
 
046 
断电保存数据错乱，请重新上电. 
 


                                                    GSK218T 车床数控系统 使用手册 
 
162
号 码 
内             容 
备  注 
047 
主轴正转（反转）时，没有经过停止而又指定了主轴反转（正转）. 
 
050 
在G76 中指定了一个不可用的刀尖角度. 
 
051 
在G76 中指定的最小切深大于螺纹高度，或者精加工余量大于螺纹高度. 
 
052 
G76 中为螺纹高度或首次切削深度指定了0 或负值. 
 
053 
在G70、G71、G72、G73 指令中没有指令P 或Q 值. 
 
054 
G74 或G75 中的#I 或#K 被指定为负值. 
 
055 
G76 精加工余量为负值. 
 
060 
在顺序号检索时，没有发现指定的顺序号. 
 
062 
(1)G71 或G72 中的切削深度是零或负值. 
(2)G73 的重复次数是零或负值. 
(3)G74 或G75 中的D-i 或D-k 指令为负值. 
(4)虽然G74 或G75 中的D-i 或D-k 不为零但地址U 或W 指定为零或负值. 
(5)虽然指定了G74 或G75 的退刀方向但D-d 是负值. 
 
063 
在G70 中P 或Q 指定的程序段检索不到. 
 
064 
当G 代码为G32、G33、G90--G94、G70--G76 时未取消刀补. 
 
065 
(1)在G71、G72 或G73 指令中，由地址P 指定的顺序号的那个程序段未指令
G00 或G01. 
(2)在G71 或G72 指令中，由地址P 指定的顺序号的程序段中，指令了地址
Z(W)(G71 时)或X(U)(G72 时). 
 
066 
在G70、G71、G72、G73 指令中由地址P 或Q 指定的两程序段中指令了非移
动指令或不能使用的G 代码. 
 
067 
由地址P 或Q 指定的两程序段中指令了M98、M99 或M30. 
 
068 
存储器存储容量不够. 
 
074 
程序号不在0001-9999 范围内. 
 
076 
在M98 的程序段中，没有指定P. 
 
077 
子程序调用嵌套过多. 
 
078 
子程序调用中，没有找到指定的程序号或者顺序号. 
 
079 
宏指令报警不存在. 
 
081 
NC 程序和用户宏程序指令同时存在. 
 
100 
参数开关为ON 状态. 
 
101 
在程序编辑中，电源断电，请重新编写程序. 
 
102 
编辑行数超过最大值. 
 
110 
复制或更名时该程序号已存在. 
 
114 
在G65 的程序段中，指令了未定义的H 代码. 
 
115 
指定了非法的变量号. 
 
128 
在转移指令中，转移地址的顺序号不在允许的范围内，或者没有找到要转移的顺
序号. 
 
129 
同一个程序段中不能出现两个相同的功能字. 
 
130 
有地址值超出取值范围. 
 
131 
G00 组和G01 组不能同时出现. 
 
132 
坐标值X 与U 或Z 与W 同时出现. 
 
133 
连续指定了两个重复性固定循环G 指令. 
 
134 
指令G32、G33、G92 时，I、F 同时出现. 
 
137 
重复性固定循环G71 或G72、G73 中程序段个数过多. 
 
138 
N 必须递增. 
 
140 
地址之间应有空格. 
 
141 
在主轴为档位控制时指定了恒线速指令. 
 
142 
程序非法结束无M30 或M99. 
 
144 
G70、G71、G72、G73、G74、G75、G76 中进刀量，退刀量，倒角余量或螺
纹切削的牙高指定错误. 
 
145 
G70、G71、G72、G73、G74、G75、G76 地址字取值错误. 
 


                                                    GSK218T 车床数控系统 使用手册 
 
163 
号 码 
内        容 
备   注 
146 
地址O 和N 不能引用变量. 
 
147 
G65 中P 不能为常量.  
 
149 
进入或退出子程序时未取消刀具半径补偿错误. 
 
150 
重复性固定循环中有坐标不单调. 
 
151 
在G71、G72 指令中U 和W 的值的正负与轨迹形状无法匹配或者无U(W)值或
者超出处理范围，坐标不单调. 
 
152 
在加工圆锥切削循环时超出G76、G90、G92、G94 所能处理的加工循环情况.  
153 
在G33、G90、G92、G94 指令中F、I 值错误. 
 
155 
恒线速指令错误. 
 
156 
在G71、G72、G73 中P 所指定的程序段未紧邻G71、G72、G73 程序段或者P
或Q 所指定的程序段不存在. 
 
158 
G70、G71、G72 或G73 所指定的P 值大于或等于Q 值. 
 
162 
在调用子程序的程序段中，P 为非整数值或负值. 
 
163 
子程序调用次数过多. 
 
164 
超出系统最大文件存储个数(250). 
 
165 
调用子程序和返回子程序的语句在非法的程序段(G90-G94、G70-G76) 
 
166 
G70、G71、G72、G73 所赋的Pno 和Qno 值越界或不是整数. 
 
168 
暂停指令下P 和X 不能同时指定. 
 
169 
宏程序中Q、R 值指定错误. 
 
170 
请在口令设置界面输入口令获得修改参数和螺距补偿数据的权利. 
 
171 
未接到主轴旋转允许信号. 
 
180 
主轴为挡位控制或主轴自动换挡无效时M41-M44 不可使用. 
 
 
 
 
 
2)   超程报警 
 
号码 
内          容 
备  注 
201 
超出X 轴正向行程极限 
 
202 
超出X 轴负向行程极限 
 
203 
超出Z 轴正向行程极限 
 
204 
超出Z 轴负向行程极限 
 
205 
超出Y 轴正向行程极限 
 
206 
超出Y 轴负向行程极限 
 
207 
X 轴硬限位超程 
 
208 
Z 轴硬限位超程 
 
 
3)  驱动器报警 
 
序 号 
内          容 
备  注 
211 
X 轴驱动器未绪。 
 
212 
Z 轴驱动器未绪。 
 
213 
X /Z 轴驱动器未绪 
 
221 
X 轴驱动器报警。 
 
222 
Z 轴驱动器报警。 
 
 
 
 


                                                    GSK218T 车床数控系统 使用手册 
 
164
 
4) 外部信息报警 
 
号 码 
内            容 
备  注 
181 
M 代码错，程序中编入了非法的M 代码. 
 
182 
S 代码错，程序中编入了非法的S 代码 
 
183 
T 代码错，程序中编入了非法的T 代码 
 
185 
换刀时间过长。从刀架开始正转经过Ta 时间后指定的刀位到达信号仍然没有接
收到时，产生报警. 
 
186 
在刀架反转锁紧时间内未接到刀架反转锁紧信号. 
 
250 
尾座进退中自动运行或开启主轴或主轴旋转时执行了尾座进退指令. 
 
251 
外部报警1 
 
252 
外部报警2 
 
253 
压力过低. 
 
254 
准备未绪. 
 
255 
自动运行中防护门开 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 


                                                    GSK218T 车床数控系统 使用手册 
 
165 
 
 
 
附录4   规格一览表 
· 选择功能 
 
名       称 
规       格 
控制轴 
2 轴（X、Z） 
同时控制轴数 
2 轴 
最小设定单位 
0.001mm 
最小移动单位 
0.001mm 
最大指令值 
±7 位 
快速进给速度 
标准7.6m/min，最大速度为30 m/min 
快速进给倍率 
FO、25%、50%、100% 
每分进给范围 
0.0001～500.0000mm 
最大主轴转速 
9999 
螺纹导程 
0.0001～500.0000mm 
0.06～25400 牙/inch 
自动加减速 
有 
进给速度倍率 
%0～150%共16 档 
手动连续进给 
同时一轴 
插补 
直线/圆弧 
返回参考点 
有 
显示器 
液晶320×240 
单步进给 
0.001、0.01、0.1 
手轮 
0.001、0.01、0.1 
I/O 接口 
RS232C 
暂停(秒) 
有 
机床锁住 
全部轴 
存储行程检查 
有 
准停 
有 
掉电回程序起点 
有 
MDI 运转 
有 
复位 
有 
空运转 
有 
单程序段 
有 
自诊断功能 
有 
紧急停 
有 
 
· 显示 
 
名     称 
规     格 
显示 
汉字 
加工时间、零件数显示 
有 
实际速度显示 
有 
 
 
 
 


                                                    GSK218T 车床数控系统 使用手册 
 
166
 
 
 
·程序输入 
 
内      容 
规      格 
坐标系设定 
有 
小数点输入 
有 
用户宏程序 
有 
刀具补偿 
有 
固定循环 
有 
间隙补偿 
有 
圆弧半径R 指定 
有 
 
·辅助功能 
 
名       称 
规      格 
辅助功能 
M 二位 
辅助功能锁住 
有 
 
·主轴功能 
 
名       称 
规      格 
主轴功能 
S 二位＠S 四位 
主轴模拟输出 
有 
主轴倍率 
50～120% 
 
·刀具功能 
 
名      称 
规      格 
刀具功能 
T01～T08 
刀具补偿存储器 
±6 位32 组 
刀具长度补偿 
有 
 
·编辑，操作 
 
名      称 
规      格 
程序存储容量 
8160KB 
存储程序个数 
250 个 
程序号的显示 
有 
顺序号检索 
有 
程序号检索 
有 
程序保护 
有 
 
 
 
 
 
 
 
 
 
 


                                                    GSK218T 车床数控系统 使用手册 
 
167 
 
 
 
附录5   GSK218T与GSK980TA的主要区别 
 
Ⅰ   编程方面 
GSK218T 的加工程序大部分与GSK980TA 是兼容的，只有一部分GSK980TA 的加工程序需要略加改动
就可在GSK218T 系统上使用。改动的地方主要是新增了一些功能及统一了功能字的单位，这样在使用时
将更简单方便，而不需要在编程时特别留意功能字的单位问题，减少了出错的可能。另外，由于系统提
前译码，当出现报警后，检查程序时需要多检查几行，才能找出问题所在。主要修改如下： 
 
Ⅰ.1  G33  Z 轴刚性攻丝循环 
该指令的使用方法参阅使用手册2.8.7。 
该指令与其他产品的不同之处在于：攻丝完毕返回起点后，主轴恢复攻丝前的旋转方向，用户不需
要重新启动主轴；同时该指令没有多头的指令，需要加工多头时，使用相应的丝锥。指令中F/I 指令的
是螺纹的螺距，而不是牙距。 
 
Ⅰ.2  G34 变螺距螺纹切削指令 
该指令为新增功能， 
指令格式：G34 X  Z  F(I)  K 
K 值设定主轴每转螺距的增量或减量 
使用方法请参阅使用手册第二章2.8.8。 
 
Ⅰ.3  G92 螺纹加工循环 
该指令增加了J、K、指令，用于定义螺纹的退尾长度。通过该指令，用户可更方便的在程序中定
义任意角度的退尾，而不需要更改参数。该指令在不指令J、K 时，加工的轨迹与GSK980TA 一致。 
该指令还增加了L 指令，用于定义螺纹的头数，通过该指令，用户可轻松加工多头螺纹。 
详细说明请参阅使用手册第二章2.8.13.2。 
 
Ⅰ.4  G71～G76 复合循环 
主要修改了一些指令值的单位。在G71、G72、G73 的循环中，NS 与NF 顺序号之间最大为30 个程序
段。 
GSK218T V2.5 版在G71、G72 指令中，当精加工余量符号与实际相反时，系统会产生报警：＃151：
在G71，G72 指令中U 和W 的值的正负与轨迹形状无法匹配或者无U(W)值或者超出处理范围，坐标不单
调。在V2.6 版中将不再报警。 
在G73 循环中，分割次数R（D）的单位为次，980TA 的单位为千次。当将工件分3 次加工时，GSK980TA
输入为R0.003，而218T 系统输入为R3。这样用户不用担心单位的问题，直接输入加工的次数即可。 
在G74～G76 中，P、Q 的单位都为mm，而980TA 的单位是μm。当移动量为2.5mm 时，GSK980TA 编
程为P2500 或Q2500，而GSK218T 则为P2.5 或Q2.5 即可，在使用时用户就不必考虑P、Q 的单位是否与
其它的指令不一致，这样输入数据更简单方便，也不会出错。 
详细说明请参阅使用手册第二章2.8.14。 
 
Ⅰ.5   宏程序 
Ⅰ.5.1  增加了9 个宏指令，完善了宏程序功能。增加的指令包括： 
H04：乘运算                  H05：除运算 
H11：逻辑加(或)              H12：逻辑乘(与) 
H13：异或                    H22：绝对值  
H23：取余数                  H24：十进制转二进制 
H25：二进制转十进制 
Ⅰ.5.2  增加了500～515 共16 个宏变量，并且带断电记忆。用户可使用这些变量储存一些需要记录的


                                                    GSK218T 车床数控系统 使用手册 
 
168
数据。宏变量可带小数，当程序中引用宏变量时，宏变量中的数值的单位与正常编程时的数值一致。 
 
Ⅱ   操作方面 
    GSK218T 的操作方式大部分与GSK980TA 相同，但在某些方面作了一些改进，用户在使用时将更加
容易操作。 
Ⅱ.1  显示界面 
GSK218T 界面的显示及切换基本上与GSK980TA 相同，其中位置界面、程序界面、报警界面完全相
同，其它界面都作了一些改进。 
 
Ⅱ.1.1 刀补界面 
刀补界面已分为刀偏补偿界面及宏变量界面，在其它界面按一下刀补键时，系统进入刀偏补偿界
面，此时如要进入宏变量界面，必须再按一下刀补键。 
刀偏补偿界面的操作与GSK980TA 一致，但GSK218T 共32 组补偿量，GSK980TA 为16 组。 
在刀偏界面不能按翻页键进入宏变量界面，必须按刀补键才能进入。宏变量可手动输入，而
GSK980TA 不能手动输入。 
 
Ⅱ.1.2 设置界面 
第一次按设置键时，系统进入用户口令界面，目前该功能暂不用，用户无须输入口令即可进行相
关的操作。按翻页键进入参数开关及程序开关界面，原奇偶校验、ISO 代码、英制编程、自动序号的界
面已取消，相关参数合并到参数内。 
打开参数开关后系统会产生报警，218T 不能按复位及取消键来取消该报警，必须关闭参数开关后
才能取消报警。 
进入图形显示界面的方式跟980TA 一致，连续按两次设置键即进入图形显示界面。在图形显示界
面，按→、←、↑、↓键可移动图形至适当的位置，更方便用户观察加工的轨迹，GSK980TA 则不能进
行此操作。GSK980TA 的图形显示是机床坐标系的显示，GSK218T 是绝对坐标系的显示，从而GSK218T 可
在加工轨迹上能观察到工件的外形。 
 
Ⅱ.1.3  参数界面 
参数已重新进行分类排列，请参考产品操作说明书及后面附的按功能分类的参数表。 
参数界面分系统参数界面及螺补参数界面两部分，第一次按参数键时进入系统参数界面，第二次
按参数键时进入螺补参数界面。同样，系统参数界面内按翻页不能切换到螺补参数界面，系统参数与螺
补参数间的切换必须按参数键进行。 
系统参数界面内，位参数进行修改时，可按→、← 进行位操作，查看相应位的参数信息，修改时
只对光标所在的位参数进行修改，此时不需要输入其他7 位的数据。退出位操作时，只需要按↑、↓ 键
即可。这样用户可更方便的进行参数的调整，也减少了出错的可能。 
螺补参数界面内，0～255 分别对应螺距补偿的256 个点，每个点分为X、Z 两列。螺补的其它参数
在系统参数界面的38～42 号参数。 
 
Ⅱ.1.4  诊断界面 
    诊断界面也基本与GSK980TA 相同，改进主要是将64 号后的参数部分合并到系统参数界面内，并重
新合并调整部分数据，减少了显示的内容，现GSK218T 显示的数据均为系统的状态信息，不能进行修改。 
 
Ⅱ.1.5 电子盘操作界面（请参阅使用手册3.8.4） 
参数的存盘操作与GSK980TA 完全不一样。GSK218T 新增了参数值I/O 的界面，使参数的存储及读
取可视化。 
电子盘操作界面分两个界面，分别为系统参数的电子盘操作界面及螺补参数的电子盘操作界面。在
系统参数界面按转换键即进入系统参数的电子盘操作界面，而在螺补参数界面按转换键即进入螺补参数
的电子盘操作界面，两者间不能按翻页切换。 
电子盘在进行读盘或存盘操作时，必须打开参数开关，并且使系统处于录入方式才能进行操作。按
↑、↓ 键选择读盘或存盘，按→、← 键选择电子盘。其中A 盘为初始化参数盘，只能读盘，不能对


                                                    GSK218T 车床数控系统 使用手册 
 
169 
其进行存盘操作。用户只能使用B、C、D 三个电子盘。 
用户读盘后必须重新上电才能取消报警。 
 
Ⅱ.2  操作面板 
    系统的面板跟GSK980TA 大致相同，但因新增一些功能，且部分按键使用次数较低，故部分按键的
位置发生改变。系统新增了跳段、→、← ，取消了存盘键， I 、 J 、 K 、 M 、 S 、 T 、 / 键
的位置改变。从而提高了按键的利用率，用户操作将更方便。 
 
Ⅱ.3  手动操作 
    手动操作控制下，系统的控制模式基本与GSK980TA 相同，不同的地方如下： 
在单步控制时，取消了移动增量1mm 档。 
在手轮方式下，增加了一个位参数，可选择手轮的选择任意方向为正方向。 
 
Ⅱ.4  自动运行 
    自动方式下的控制与GSK980TA 一致。 
 
Ⅱ.5  安全操作及报警处理 
按下急停按钮后，系统跟GSK980TA 一样，关闭主轴的转动、冷却液、润滑。急停解除后，所有的
输出需要重新启动。 
当工作台进入机床规定的禁止区域（机床行程极限）时，则显示＃254 准备未绪报警，工作台减速
后停止。此时应进入手动控制方式，按住超程解除按钮，把工作台向安全方向移动，移出后报警自动取
消。 
当系统液晶屏幕显示报警时，除0 号报警必须断电外，其他报警均可按复位键来取消报警状态。如
取消不了报警时，请检查产生报警的原因，解除后按复位键即可取消报警。当系统提示编程有问题时，
请从光标所在行开始往后同时检查多行程序，系统因提前译码，报警会提前。 
 
Ⅱ.6  程序的存储、编辑 
Ⅱ.6.1 程序的输入 
程序用键盘输入时，操作方式与GSK980TA 一致。但在程序结束必须输入M30 或M99，最后输入EOB。
否则系统会产生报警，提示程序无结束功能字。 
用PC 机输入时，请参考相应的说明书。本系统只需要在PC 机上进行操作，无须对GSK218T 进行操
作。 
 
Ⅱ.6.2 程序号检索 
    在只输入O，不输入程序号时，GSK980TA 只可向后扫描，GSK218T 可双向扫描。如输入O 后，按↑
按钮，即检索当前程序号的前一个程序。 
 
Ⅱ.6.3 程序的输出 
    当把GSK218T 中的程序输出给PC 机时，只需要在PC 机上进行操作即可。操作方法请参阅“通讯”
的说明。 
 
Ⅱ.6.4 程序字段的插入、修改、删除、检索 
    程序字段的插入、修改、删除、检索与GSK980TA 一致。 
 
Ⅱ.6.5 程序的复制 
    这是新增的功能。在程序中输入新的程序号后，按转换键即可将当前整个程序复制到新程序号的程
序中。 
 


                                                    GSK218T 车床数控系统 使用手册 
 
170
Ⅲ  系统连接方面 
    GSK218T 的大部分接口与GSK980TA 兼容。因GSK980TA 的输入输出口分别只有16 个，所以很多功
能都复合使用，此时会出现使用这个功能时，另一个功能就不能使用。GSK218T 针对这个问题，现扩展
了输入输出口分别16 个，比GSK980TA 多了一倍。这样GSK218T 可将复合使用的I/O 口放至扩展口上，
因此GSK218T 的I/O 口将不出现复合使用的情况，功能比GSK980TA 将更加完整。同时在I/O 口分配时，
考虑了与980TA 的适用性，常用的I/O 口仍保留在原位置，选择使用的I/O 口分配在扩展口上，因此在
与GSK980TA 进行交换时，只需要进行轻微改动即可正常使用。 
 
Ⅲ.1   接口说明 
    GSK218T 新增了4 个接口，分别为： 
        JTAG：软件升级接口，对系统软件进行升级；（厂家使用） 
        XS33：Y 轴接口，附加轴；（目前不能使用） 
        XS41：扩展输入接口 
        XS42：扩展输出接口 
 
Ⅲ.2  与驱动器的连接 
系统与驱动器连接的接口略有变化，GSK218T 增加了使能（EN）信号。原驱动器使能信号与11 脚
连接，现需要改为与7 脚连接。连接方法请参阅使用手册中的“连接部分”。 
原使用GSK980TA 的机床更换为GSK218T 时，虽然可以正常运行，但要求进行以上修改。 
 
Ⅲ.3  主轴编码器的连接 
本系统与GSK980TA 的编码器接口完全兼容。 
本系统可匹配多种型号的编码器。当选用不同型号的编码器时，用户只需要在参数中修改编码器的
线数，即可正常使用。这就比GSK980TA 有更大的适应能力。 
 
Ⅲ.4  通讯接口 
    本系统的通讯接口与GSK980TA 兼容。 
 
Ⅲ.5  模拟主轴接口 
    本系统的模拟主轴接口与GSK980TA 兼容。 
 
Ⅲ.6  手轮接口 
本系统的手轮接口与GSK980TA 兼容。 
当手轮的正反方向与实际要求相反时，系统可通过修改参数（＃7 Bit7）来实现手轮的正反转，而
无须更改接口电路。 
 
Ⅲ.7  电源接口 
    电源接口与GSK980TA 完全不一样。本系统使用PC 电源，GSK980TA 使用PB 电源。详细请阅使用手
册。 
 
Ⅲ.8  机床输入/输出接口 
机床的输入/输出接口变化较大，除将原GSK980TA 复合使用的接口功能转到扩展接口外，还增加了
一些功能。通过这些改动，除充分利用本系统资源的同时，也更大的扩充系统的功能，同时也方便用户
进行系统的更换。如GSK980TA 的T5～T8 与某些功能共用一个接口，则在机床为8 把刀时，共用的功能
则无效；GSK218T 则完全避免了这些情况，任何功能都单独使用一个端口，这样功能可在任意方式下都
可有效。 
具体改动如下： 
Ⅲ.8.1  OV1/OV2/OV4/OV8 
    这四个信号与T5～T8 信号复合使用，因这些信号较少使用，本系统暂取消这些信号。 


                                                    GSK218T 车床数控系统 使用手册 
 
171 
Ⅲ.8.2  M41I、M42I 
    在主轴自动换档功能有效时，主轴自动换档至1、2 档，检查换档到位信号输入。GSK980TA 中这两
个信号与T7、T8 复合使用，本系统将其移至XS41 的1、14 脚，重新定义为GR1、GR2。功能与GSK980TA
一致。 
 
Ⅲ.8.3  SPEN 
    主轴旋转允许信号。GSK980TA 中与T5 共用一个接口，本系统将其移至XS41 的3 脚，功能与GSK980TA
一致。 
 
Ⅲ.8.4  BDT/DITW 
    GSK980TA 中该信号为程序选跳输入信号。本系统在操作面板上新增了一个按钮，控制程序的选跳，
取消了在XS40 中2 脚与DITW 共用一个端口的BDT 功能，该端口只作尾座的控制输入信号。 
 
Ⅲ.8.5  T1～T8 
    本系统最大可匹配8 把刀，刀位信号不与其他信号共用一个接口。刀位的位置与980TA 一致。 
 
Ⅲ.8.6  卡盘控制 
本系统的卡盘控制方式与980TA 一致，目前暂没有卡盘夹紧到位信号及松开到位信号的检测及控
制，只有卡盘的脚踏开关输入控制信号、卡盘夹紧及卡盘松开信号。 
16 号参数的Bit0 设置为1 时，卡盘控制功能有效。Bit1 设置为1 时，检查卡盘是否夹紧。Bit7
设置卡盘为内/外卡方式，设置为0 时表示卡盘为内卡方式，为1 表示卡盘为外卡方式。 
 
Ⅲ.8.7  尾座控制 
    本系统的尾座控制方式与GSK980TA 一致。 
 
Ⅲ.8.8  防护门检测 
防护门检测功能只在自动方式下有效。防护门检测功能有效时，打开防护门，此时执行自动循环加
工，系统会产生报警；如在自动运行过程中打开防护门，系统会产生报警，并关闭主轴、冷却及润滑。 
防护门检测输入信号位置在XS41 第2 脚DOOR。GSK980TA 中与*SP 共用一个接口。 
 
Ⅲ.8.9  压力检测 
压力检测输入信号位置在XS41 第15 脚PCH。GSK980TA 中与*TCP 共用一个接口。 
压力检测控制与GSK980TA 一致。 
 
Ⅲ.8.10  系统三态输出 
这是新增的功能，系统三态包括：待机、加工、报警。 
15 号参数Bit6 为报警状态是否输出，Bit5 为待机状态是否输出，Bit4 为加工状态是否输出。三
态互锁，主要用于机床上安装机床状态指示灯，方便用户了解机床的状态。 
 
Ⅲ.8.11  机床硬限位 LIMITX、LIMITZ 
    这是新增的功能，两轴分别一个硬限位输入信号。GSK980TA 中的机床限位与ESP 串联，本系统提供
两个限位输入信号，可方便用户区分问题所在。 
 
Ⅲ.8.12  外部报警输入信号WAR1、WAR2 
    这是新增的功能，用户可用来实现某些设备的控制检测，完成某些特定的功能。 
Ⅲ.8.13  主轴电机星三角起动控制 
    这是新增的功能。当用户主轴电机负荷过大时，需要低速起动，速度上来后再转换为高速。XS42
的15 脚为星型控制输出信号，3 脚为三角型控制输出信号。 
Ⅲ.8.14  主轴点动控制 
    这是新增的功能。设置参数010Bit3 为1 后该功能有效。在自动方式下，系统处于待机状态时，按
操作面板的主轴正转按键，主轴会旋转参数094 设定的时间后停止。主要用户方便用户调整卡盘来拆卸
工件。 


                                                    GSK218T 车床数控系统 使用手册 
 
172
附录6   记忆型螺距误差补偿功能 
GSK218T 选配螺补功能，控制功能作了如下改进： 
记忆型螺距误差补偿功能。须将2 号参数BIT2 设为1 该功能才有效，螺距误差补偿功能的使用方法见
下述说明。 
 
1）  功能  
每轴的螺距误差，可以用最小移动单位补偿。 
2）  规格 
把参考点作为补偿原点，在各轴设定的各补偿间隔上，把应补偿的值作为参数设定。 
a)  可以补偿的轴：X、Z轴。 
b)  补偿的点数 
各轴 256点(X、Z轴) 
c)  补偿量范围 
每个补偿点0～±7×补偿倍率(最小移动单位)。 
补偿倍率 ×1、×2、×4、×8、×16 (全轴通用) 
d)  补偿间隔 
 
移动单位 
最小设定间隔 
最大设定间隔 
单位 
公制 
1000 
9999999 
0.001MM 
英制 
1000 
9999999 
0.0001 inch 
(最大补偿范围 = 设定间隔×256) 
实际的补偿间隔：在上述范围内，根据最大补偿范围和机械行程，设定最合适的值。对于直线轴，
如果设定间隔小于最小间隔，则往往不能在期待的位置进行补偿。此时，应降低快速进给速度。 
3)  参数设定 
关于螺距误差参数，在MDI方式或紧急停止状态，用下述参数设定。 
 a)  螺距误差补偿倍率 
 
0 
3 
8 
 
1 
 
输出被设定的补偿量与此倍率的乘积。(全轴通用) 
 
b)  螺距误差原点 
 
0 
3 
9 
 
X轴螺距误差补偿原点 
 
0 
4 
0 
 
X轴螺距误差补偿原点 
 
X、Z 螺距误差原点：这是设定螺距误差表上的原点位置。 
根据机械的要求，每个轴可设定0～255的任意值。 
        
c)  设定补偿间隔 
 
0 
4 
1 
 
X轴螺距误差补偿间隔 
 
0 
4 
2 
 
X轴螺距误差补偿间隔 
X，Z: 螺距误差补偿间隔。 


                                                    GSK218T 车床数控系统 使用手册 
 
173 
这是设定螺距误差补偿间隔。设定要大于10的正数。另外，如果设定0，则不补偿。 
 
d) 设定补偿量 
各轴螺距误差补偿量，请按下表的参数号设定。 
在螺距补偿参数界面，在000～255分别输入X/Z的补偿量。另外，可设定补偿量的范围是0～±7，
超过这个范围的值的输入无效。 
    例： 
1 
2 
0 
 
-7 
 
在上例中，补偿数据-7表示是设置在X 坐标120点的补偿值。 
 
4)  各种参数设定例子 
a) 螺距误差原点=0，补偿间隔=10.000                       
 
设定
点
机床
坐标
系
（参考点）
0
+10.000
+20.000
+30.000
0
1
2
3
(0)
(+7)
(-6)
(+4)
127
+1270.000
(+2)
 
 
补偿点开头对应于参考点，补偿点1对应于从此参考点向正方向移动10000的位置，往后每隔10000，
对应一个补偿点，第127个补偿点为1270000处的补偿量。所以在补偿点1，设定从0运动到10000时的
补偿量，在补偿点2，设定从10000 运动到20000时的补偿量。在补偿点N，设定从(N-1)×(补偿间隔)
运动到N×(补偿间隔)时的补偿量。 
上例是补偿下述区间误差的实例 
       区间                0 
～ 10000 
+7 
                       10000 
～ 20000 
-6 
                       20000 
～ 30000 
+4 
实际上，机械从参考点运动到+30000的位置，螺距误差只补了 
(+7)+(-6)+(+4)=+5 
机械从+30000运动到参考点的位置，螺距误差只补了 
-(+4) - (-6) - (+7) = -5 
b) 螺距误差原点=60，补偿间隔=10000 
 
设定
点
机床
坐标
系
（参考点）
0
+10.000
-20.000
-60.000
58
59
60
61
(-7)
(-7)
(+6)
(+4)
127
+670.000
(+1)
(+0)
-10.000
 
补偿表中第61号(60)对应于参考点，补偿点61对应于从原点正向运动10000的点。以后每隔10000，
对应一个补偿点，第127个补偿点为+670000处的补偿量。 而补偿点59，对应于从参考点负方向运动
10000点，以下每一10000对应一个补偿点，补偿点0为-600000处的补偿量。所以，对于补偿点N设定
从(N-61)×(补偿间隔)运动到(N-60)×(补偿间隔)的补偿量。 
上例中，补偿了下述区间的误差： 
区间      -20000 
～ -10000 
-7 


                                                    GSK218T 车床数控系统 使用手册 
 
174
              -10000 
～ 0 
-7                  
                   0 
～ +10000 
+4 
实际上，机械从-20000运动到+10000时，螺距误差只补偿了 
(-7)+(-7) +(+4)=(-10) 
机械从+10000运动到-20000时，螺距误差只补偿了 
-(+4)-(-7)-(-7) =(+10) 
c) 螺距误差原点=127，补偿间隔=10000 
 
设定
点
机床
坐标
系
（参考点）
0
-30.000
-20.000
-1270.000
124
125
126
127
(+3)
(-7)
(0)
(+0)
-10.000
(+2)
 
补偿表的末尾，对应着参考点。补偿点126对应于从参考点向负方向运动10000所得到的点。以下
每隔-10000，对应于一个补偿点，补偿点1为-1260000处的补偿量。所以，补偿点127应设定从0运动到
-10000时的补偿量，补偿点126，应设定从-10000运动到-20000时的补偿量，补偿点N，应设定从(N-128)
×(补偿间隔)运动到(N-127) ×(补偿间隔)时的补偿量。 
上面的例子，是补偿下述区间误差的实例。 
区间      -30000 
～ -20000 +3 
       -20000 
～ -10000 -7 
-10000   
～ -00000  0 
实际上，机械从-30000运动到参考点，螺距误差只补偿了 
(+3)+(-7) +(+2)=(-2) 
 
5)  补偿量的设定方法 
如上一节所示，设定的补偿量与下列因素有关。 
 . 参考点和补偿点的位置关系 
 . 机械移动方向 
 . 补偿间隔 
补偿点N(N=0、1、2、3、…255)的补偿量，由区间N、N-1的机械误差( 相对于移动指令量，运动
的差值)来决定。 
★  补偿量的输入方法 
用MDI&LCD或输入输出接口，用与通常参数输入完全相同的方法，可以输入补偿量。 
★  补偿量的输出 
用与通常的参数输出同样的方法，可以把各轴的补偿量输出。 
★ 补偿量的备份 
螺距补偿值的备份（包括输入和输出）与参数值的备份操作完全一样。不同之处是螺距补偿值
备份功能没有系统出厂设定备份文件，因此A、B、C或D对应的螺距补偿值文件WORM1.TXT、
WORM2.TXT、WORM3.TXT或WORM4.TXT都可以进行输入输出操作。 
★ 设定的注意事项 
a)  补偿间隔的设定(参数41，42) 
补偿间隔是正值时，用此值进行补偿。 
补偿间隔是零时，此轴不进行补偿。 
b)  设定了螺距误差参数后，重新返回参考点。 
c)  螺距误差补偿量(螺补参数000～255) 


                                                      GSK218T 车床数控系统 使用手册 
 
175 
附录7   串口通讯软件使用说明 
本串口通信软件专用于GSK218T 数控系统和计算机之间进行双向数据通行。 
¾ 
版本号：1.0 
¾ 
运行环境：Windows 98/ Windows ME / Windows XP / Windows 2000 
¾ 
接口标准：RS232 
¾ 
最大传输速率：115200 bps 
 
版本特征： 
¾ 
一台计算机只能与一台GSK218T 数控系统之间进行通信 
¾ 
支持传输速率最高至115200bps（需对系统参数进行相应设置） 
 
1)  运行主界面 
启动后程序主界面如图A1.1 所示。界面左边为通信主控制区，右边为程序编辑区，可以通过菜单
［文件(F)］打开原文件或直接在编辑区内编写CNC 程序（图A1.2），文件保存后再按如后操作即可。 
 
图A1.1 
之后对串口通讯的端口、波特率进行设置。设置好后选择［打开串口］（按钮，菜单均可），串口打
开成功则如图A1.3 所示；失败则弹出提示窗口。失败原因可能是由于该端口已被其他软件占用，如想
使用该端口进行通讯，需将占用该端口的软件关闭。 
 


                                                      GSK218T 车床数控系统 使用手册 
 
176
 
图A1.2 
 
图A1.3 
 
a)  发送文件： 
选择传输方式为[发送文件]，然后选择[添加文件]（添加文件可在串口未打开时进行），弹出窗口如
图A2.1。然后选择需要发送的文件（可多选），及需要发送到数控系统目标板分区（USER 或SYS），选
择[打开]则将所选文件添加到需要发送的文件列表中，如图A2.2。 
列表中的文件可以移除和修改。双击需要修改的文件项弹出与添加文件相同的窗口，但此时的文件
只能单选，选择[打开]完成修改。如果选择列表中的文件（可多选），即背景色为蓝，则用鼠标右键弹出
菜单，选择[删除]可将所选文件从列表中删除或选择[清空列表]将列表清空，如图A2.3。 
最后选择[开始发送]（串口需打开，否则提示错误）向数控系统发送列表内所有文件。文件传输时
如图A2.4，该窗口包含正在发送的文件名及其目标分区以及当前进度，发送完成时该窗口自动关闭。 
注1：只能向数控系统目标板用户分区（USER 分区）发送后缀名为.CNC（不分大小写）或者para2.txt，para3.txt 文
件，其他文件不能向该区发送否则将出现如图A2.5 的提示。 
注2: 如果目标板存在与文件列表中相同的文件，它将被列表中的文件覆盖。 


                                                      GSK218T 车床数控系统 使用手册 
 
177 
 
图A2.1 
 
 
图A2.2 
 
 


                                                      GSK218T 车床数控系统 使用手册 
 
178
 
图A2.3 
 
 
图A2.4 
 
 
图A2.5 
 
b)  接收文件 
选择传输方式为[接收文件]，界面如图A3.1，然后选择[获取CNC 目录]（串口必须已与此操作前打
开，否则提示错误），成功获取数控系统文件列表后界面如图A3.2(由于波特率的影响，波特率较低时获
取目录速度相对较慢)。 
选择需要接收的文件（只能单选），然后选择[开始接收]按钮，或从鼠标右键弹出的菜单中选择接收
文件（如图A3.3），在弹出的文件保存窗口（如图A3.4）选择保存(可修改保存文件名)，则开始从数控
系统目标板接收该文件（如图A3.5），接收完毕后图A3.5 窗口自动关闭。 
右键弹出的菜单项（图A3.3），“删除文件”将从数控系统目标板删除用户所选中的文件，而“删除
分区所有文件”将删除用户所选的数控系统目标板分区内的所有文件，慎用。 


                                                      GSK218T 车床数控系统 使用手册 
 
179 
 
图A3.1 
 
图A3.2 


                                                      GSK218T 车床数控系统 使用手册 
 
180
 
图A3.3 
 
图A3.4 
 
图A3.5 
 
注:通讯过程中，如果数控系统故障（死机，断电）将导致通讯无法恢复，需先[关闭串口]再[打开串口]重新开始通讯。 
 


                                                       GSK218T 车床数控系统 使用手册  
 
181 
附录8   刀补C 机能操作说明 
实际刀具的刀尖并非为一个点，应视为一段圆弧。由于刀尖圆弧的影响，实际加工结果与工件程序
会存在误差，刀补C 机能可实现刀具半径补偿以消除上述误差。使用刀补C 功能时，须设置相应的参
数该功能才有效： 
将系统参数002 号BIT3 设为1。 
 
0 
0 
2 
 
 
 
 
 
CCMP 
 
 
 
 
 
1 刀补基本概念 
1.1 假想刀尖概念 
下图1-1 中刀尖A 点即为假想刀尖点，实际上不存在，故称之为假想刀尖（或理想刀尖）。假想刀
尖的设定是因为一般情况下刀尖半径中心设定在起始位置比较困难，而假想刀尖设在起始位置是比较容
易的，如下图所示。与刀尖中心一样，使用假想刀尖编程时不需考虑刀尖半径。 
 
 
    图1-1刀尖半径中心和假想刀尖 
 


                                                       GSK218T 车床数控系统 使用手册  
 
182
注：对有机械零点的机床来说，一个标准点如刀架中心可以作为起点。从这个标准点到刀尖半径中
心或假想刀尖的距离设置为刀具偏置值。 
 
设置从标准点到刀尖半径中心的距离作为偏置值如同设置刀尖半径中心作为起点，而设置从标准点
到假想刀尖的距离作为偏置值如同设置假想刀尖作为起点。为了设置刀具偏置值，通常测量从标准点到
假想刀尖的距离比测量从标准点到刀尖半径中心的距离容易，所以通常就以标准点到假想刀尖的距离来
设置刀具偏置值。 
图1-2 为当以刀架中心这个标准点作为起点时，刀具偏置值的设置： 
 
图1-2 以刀架中心为标准点时刀具偏置值的设置 
图1-3 和图1- 4 分别为以刀尖中心编程和以假想刀尖编程的刀具轨迹。左图是没有刀尖半径补偿，
右图是有刀尖半径补偿。 
    如果不用刀尖半径补偿，刀尖中心轨            如果使用刀尖半径补偿，将实现精密切削   
迹将同于编程轨迹                             
 
 
图1-3  以刀尖中心编程时的刀具轨迹 


                                                       GSK218T 车床数控系统 使用手册  
 
183 
 
 
没有刀尖半径补偿，假想刀尖轨迹            使用刀尖半径补偿，将实现精密切削 
将同于编程轨迹                             
 
 
图1-4 以假想刀尖编程时的刀具轨迹 
 
1.2 假想刀尖的方向 
在实际加工中，由于被加工工件的加工需要，刀具和工件间将会存在不同的位置关系。从刀尖中
心看假想刀尖的方向，由切削中刀具的方向决定。                                                       
假想刀尖号码定义了假想刀尖点与刀尖圆弧中心的位置关系，假想刀尖号码共有10（0~9）种设置，
共表达了9个方向的位置关系。假想刀尖号码必须在进行刀尖半径补偿前与补偿量一起设置在刀尖半径
补偿存储器中。假想刀尖的方向可从下图所示的八种规格所对应的号码来选择。这些图说明了刀具与起
点间的关系。箭头终点是假想刀尖。 
 
X轴
Z轴 
假想刀尖号码为1  
假想刀尖号码为2  
 
 
     
 
后刀座坐标系 


                                                       GSK218T 车床数控系统 使用手册  
 
184
 
     
 
 
假想刀尖号码为3 
假想刀尖号码为4  
假想刀尖号码为5 
假想刀尖号码为6 
假想刀尖号码为7  
假想刀尖号码为8  
 
图1-5 后刀座坐标系中假想刀尖号码 
 
 
 
 
 
 
 
 
 
 
 
 


                                                       GSK218T 车床数控系统 使用手册  
 
185 
 
X轴
Z轴
 
假想刀尖号码为1  
假想刀尖号码为2 
假想刀尖号码为3  
假想刀尖号码为4  
假想刀尖号码为5
 
假想刀尖号码为6  
假想刀尖号码为7
 
假想刀尖号码为8  
                       
图1-6 前刀座坐标系中假想刀尖号码 
 
 
前刀座坐标系 


                                                       GSK218T 车床数控系统 使用手册  
 
186
 
 
当刀尖中心与起点一致时，设置刀尖号码 0 或 9。对应各刀具补偿号，用地址T 设置各刀具的假
想刀尖号。 
 
图1-7 刀尖中心与起点一致 
1.3 补偿值的设置 
 
 
图1-8  刀尖半径补偿值 
进行刀尖半径补偿前需要对以下几项补偿值进行设置：X、Z、R、T。其中X、Z 分别为X 轴、Z
轴方向从刀架中心到刀尖的刀具偏置值；R 为假想刀尖的半径补偿值；T 为假想刀尖号。每一组值对应
一个刀补号，在刀补界面下设置。 
具体情况如下表1-1 所示： 
 
序号 
X  
Z  
R 
T 
001 
0.020 
0.030 
0.020 
2 
002 
0.060 
0.060 
0.016 
3 
.. 
.. 
.. 
.. 
.. 
.. 
.. 
.. 
.. 
.. 
.. 
.. 
.. 
.. 
.. 
015 
0.030 
0.026 
0.18 
9 
016 
0.050 
0.038 
0.20 
1 
            
表1-1 系统刀尖半径补偿值显示页面 
 


                                                       GSK218T 车床数控系统 使用手册  
 
187 
1.4 刀具与工件的相对位置 
进行刀尖半径补偿时，必须指定刀具与工件的相对位置。在后刀座坐标系中，当刀具中心轨迹在编
程轨迹（零件轨迹）前进方向的右边时，称为右刀补，用G42 指令实现；当刀具中心轨迹在编程轨迹（零
件轨迹）前进方向的左边时，称为左刀补，用G41 指令实现；前刀座与其反之。指令G40、G41、G42 时
刀具与工件的相对位置的具体说明如表1-2： 
指令 
功能说明 
备注 
G40 
取消刀尖半径补偿 
G41 
后刀座坐标系中刀尖半径左补偿，前刀座坐标系中刀尖半径右补偿 
G42 
后刀座坐标系中刀尖半径右补偿，前刀座坐标系中刀尖半径左补偿 
详见图1-9、
图1-10 的说
明 
表1-2 
G42:沿着刀具运
动方向看，刀具
在工件的右侧
G41:沿着刀具运
动方向看，刀具
在工件的左侧
工件
刀具
X
Z
 
图1-9 后刀座坐标系中刀尖半径补偿 
 


                                                       GSK218T 车床数控系统 使用手册  
 
188
Z
G41:沿着刀具运
动方向看，刀具
在工件的右侧
G42:沿着刀具运
动方向看，刀具
在工件的左侧
工件
刀具
X
 
图1-10 前刀座坐标系中刀尖半径补偿 
1. 5 内侧、外侧  
    进行刀尖半径补偿时,前后两个编程轨迹的拐角不相同时,刀尖补偿轨迹也不相同。因此,规定两个
移动程序段交点在工件侧的夹角大于或等于180°时称为“内侧”，在0～180°之间时称为“外侧”。          
 
 
 
 
 
 
 
 
 程序路径 
 α≥180° 
 工件侧 
α
内侧 
 
α
 程序路径
 工件侧 
0°≤α＜180°
外侧 
图1-11  内侧与外侧 


                                                       GSK218T 车床数控系统 使用手册  
 
189 
1.6 G41、G42 及G40 的指令格式 
指令格式： 
 
 
                    X    Z   
 
 
注： 
1. G40，G41，G42均为模态G代码。 
2. 正常建立刀补后，G41/G42 后可以跟G02 或G03 指令。 
 
2 刀补具体补偿情况 
2.1 刀尖半径补偿具体轨迹分解 
实现刀具半径补偿通常要经历的3 个步骤：刀补建立、刀补进行、刀补取消。 
2.1.1  刀补建立 
从偏置取消方式变为偏置方式，称为刀补建立。 
具体刀补建立如下图1-12 所示： 
 
 
(a)  沿着拐角的内侧移动（α≥180°） 
 
G40 
 
G41 
 
G42 
G00 
 
G01 


                                                       GSK218T 车床数控系统 使用手册  
 
190
 
(b)  沿着拐角为钝角的外侧移动 ( 180°＞α≥90°） 
 
 
(c)  沿着拐角为锐角的外侧移动（α＜90°) 
 
 
(d)  沿着拐角为小于1 度的锐角的外侧移动，直线→直线。（α＜1°) 
 
图1-12  刀补建立情况 
注意：1）在建立刀补时，如果没有指定刀补号或者刀补号为零，程序将报警#036。 
 
  2）在建立刀补时，需要用移动指令G0 或G1 执行，如果指令圆弧，程序将报警#034。 
 
 


                                                       GSK218T 车床数控系统 使用手册  
 
191 
2.1.2  刀补进行 
 
从刀补建立之后，到刀补取消之前的偏置轨迹称之为刀补进行。 
具体刀补进行如下图1-13 和1-14 所示： 
(a) 沿着拐角的内侧移动（α≥180°） 
 
 
 
 


                                                       GSK218T 车床数控系统 使用手册  
 
192
 
 
(b) 沿着拐角为钝角的外侧移动（180°＞α≥90°） 
 （iii）：圆弧→直线 
S
ｒ
C
L
L
程序路径
刀具中心路径
α 
ｒ
 
 
ｒ
C
L
S
L
ｒ
α 
刀具中心路径 
程序路径
（IV）：圆弧→圆弧
 
(c) 沿着拐角为锐角的外侧移动（α＜90°) 
 
 
 
 
 
 
 


                                                       GSK218T 车床数控系统 使用手册  
 
193 
 
 
                                
图1-13  刀补进行情况① 
 
(d) 特殊情况 
 
在左图，当刀具半径值小
时，圆弧的补偿路径有交
点，但是当半径变大，可能
交点不存在。系统产生报警
（P/S33）。 
1）没有交叉点时 
报警且停止
程序路径 
当补偿量小时 
当补偿量大时 
B
A 
P
圆弧B 的中心
圆弧A 的中心
ｒ
ｒ
 
 
图1-14  刀补进行情况② 
程序路径 
刀尖中心路径 
当刀具半径过大时，导致
圆弧起点或终点与圆心相
同。系统产生报警(P/S38)
如下程序R=15时产生报警
N5 G01 W20; 
N6 G02 U30 W15 R15; 
N7 G01 W20; 
2）圆弧中心与起点或终点一致 
停止 
 


                                                       GSK218T 车床数控系统 使用手册  
 
194
2.1.3  刀补取消 
 
在补偿模式，当程序段满足以下任何一项条件时，系统进入补偿取消模式，这个程序段的动作称为
刀补取消。 
a  使用指令G40 取消C 刀补，在执行刀补取消时，不可用圆弧指令 ( G02 及 G03 )。如果指令圆
弧会产生报警(N0.34)且刀具停止。 
b 刀具半径补偿号码指定为0 。 
下图为具体刀补取消情况： 
 
 
（a）沿着拐角的内侧移动（α≥180°）  
 
（b）沿着拐角为钝角的外侧移动（180°＞α≥90°）  
 
 
 
 
 
 
 
 


                                                       GSK218T 车床数控系统 使用手册  
 
195 
（c）沿着拐角为锐角的外侧移动（α＜90°) 
（d）沿着拐角为小于1 度的锐角的外侧移动，直线→直线。（α＜1°）  
 
 
图1-15  刀补取消情况 
 
2.2  刀补进行中变更补偿方向 
    刀具径补偿 G 码 ( G41 及 G42 ) 决定补偿方向，补偿量的符号如下 ： 
补偿量符号 
G 码 
+ 
- 
G41 
左侧补偿 
右侧补偿 
G42 
右侧补偿 
左侧补偿 
表1-4 
 
在特殊场合，在补偿模式中可变更补偿方向。但不可在起开始程序段变更。补偿方向变更时，对全
部状况没有内侧和外侧的概念。下列的补偿量假设为正。 
 
 


                                                       GSK218T 车床数控系统 使用手册  
 
196
 
图1-16  刀补进行中变更补偿方向情况① 
 
如果补偿正常执行，但没有交点时 
当用 G41 及 G42 改变程序段 A 至程序段B 的偏置方向时，如果不需要偏置路径的交点，在程序段 
B 的起点做成垂直与程序段 B 的向量。 
i ) 直线-----直线 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
图1-17 直线—直线、无交点（变更补偿方向） 


                                                       GSK218T 车床数控系统 使用手册  
 
197 
ii ) 直线-----圆弧 
 
 
 
 
 
 
 
 
 
 
 
 
 
图1-18 直线—圆弧、无交点（变更补偿方向） 
2.3  刀补暂时取消 
在补偿模式中，如果指定了以下指令时，补偿向量会暂时取消，之后，补偿向量会自动恢复。 
此时，不同于补偿取消模式，刀具直接从交点移动到补偿向量取消的指令点。在补偿模式恢复时，
刀具又直接移动到交点。  
① 坐标系设定（G50） 
N1 T0101； 
N2 G42 G00 X0 Z0； 
N3 G01 U-30 W30； 
N4 U30 W30； 
N5 G50 X0 Z60； 
N6 G01 U-30 W30； 
N7 G01 U30 W30； 
N8 G00 X0 Z0； 
N8 M30； 
 
 
注： SS 表示在单程序段方式下刀具停止两次的点 
图1-19 刀补暂时取消① 
 


                                                       GSK218T 车床数控系统 使用手册  
 
198
② G90，G92，G94 固定循环，G71～G76 固定循环,螺纹指令G32/G33/G34 
 
 
 
图1-20 刀补暂时取消② 
N1 T0101  
N2 G0 X100 Z100  
N3 G0 X0 Z0  
N4 G42 G90 X-20 W-50 F500     （此处暂时取消刀补） 
N5 G0 X50 Z50                  （恢复刀补） 
N6 G0 X100 Z100  
N7 M30 
注：G90/G94 刀补暂时取消只有在G41/G42 与G90/G94 共段时才会实现，不共段时系统会自动处理为
G90/G94 正常刀补偏置，详见以下G90/G94 刀尖半径补偿。 
 
 
2.4  刀补中含有非移动指令 
a  在补偿开始时有非移动指令 
如果在补偿开始的指令没有刀具移动，不会产生补偿向量。 
 
                                               N1 T0101； 
                                               N2 G0 X0 Z0； 
                                               N3 G01 U-30 W20 F500； 
                                               N4 G42 U0； 
                                               N5 U30； 
                                               N6 U20 W20； 
                                               N7 G40 G0 X100 Z100； 
                                               N8 M30； 
 
图2.0 刀补开始时有非移动指令 
 
 
b   在补偿模式指令有非移动指令 
在补偿模式下只指令了一个无刀具移动的程序段时，向量及刀具中心路径与无指令该程序段时一


                                                       GSK218T 车床数控系统 使用手册  
 
199 
样。 (参照2.1.2 刀补进行) 此无刀具移动程序段在单程序段停止点执行。 
 
 
 N3 T0101； 
                                                   N4 G0 X100 Z100； 
                                                   N5 G41 G01 X0 Z0；                          
                                                   N6 U-30 W20； 
                                                   N7 G04 X5； 
                                                   N8 W30； 
                                                   N9 G40 G0 X100 Z100； 
                                                   N10 M30； 
                                 
 
 
图2-1 刀补进行时有非移动指令 
 
 
C   补偿取消时指令有非移动指令 
当与补偿取消一起指令的程序段没有刀具移动时，会形成长度为补偿量，方向垂直于前程序段移动
方向的向量，这个向量在下一个移动指令取消。 
 
                                                          N3 T0101； 
N4 G0 X100 Z100； 
N5 G41 G01 X0 Z0 F500； 
N6 U-30 W20； 
N7 G40； 
N8 G0 X100 Z100； 
N9 M30； 
 
图2-2 刀补取消时有非移动指令 
                                        
 
 
 
2.5  刀补干涉检查 
刀具过度切削称为“干涉 ”。刀补干涉检查能预先检查刀具过度切削情况，即过度切削未发生也会
进行干涉检查。 
(a) 干涉的基本条件 
(1) 刀具路径方向与程序路径方向不同。(路径间的夹角在90 度与270 度之间)。 
(2) 圆弧加工时，除以上条件外，刀具中心路径的起点和终点间的夹角与程序路径起点和终点
间的夹角有很大的差异 ( 180 度以上 )。 
 
 
 
 


                                                       GSK218T 车床数控系统 使用手册  
 
200
例 ① 
 
 
 
 
 
 
 
 
 
图2-3 刀补干涉①   
 
图2-3 刀补干涉② 
(b) 干涉范例  
(1) 一个浅深度，深度小于补偿量 
 
图2-4 刀补干涉范例① 
程序如下 : 
N1 T0101；                                     (R<=10) 
N2 G0 X0 Z30； 
N3 G42 G01 X50 Z0 F500； 


                                                       GSK218T 车床数控系统 使用手册  
 
201 
N4 U50； 
N5 W20； 
N6 U10； 
N7 W20； 
N8 U-10； 
N9 W20； 
N10 G40 G0 X0 Z30； 
N11 M30； 
 
在上述程序中，01 号刀的刀尖半径补偿值R<=10，当R>10 时，系统会产生干涉报警，因为在程
序段 B 程序的方向与刀具半径补偿的路径相反。 
(2) 凹沟深度小于补偿量 
 
图2-5 刀补干涉范例② 
程序如下 : 
N1 T0101；                                     (R<=25) 
N2 G0 X0 Z30； 
N3 G42 G01 X50 Z0 F500； 
N4 U50； 
N5 W20； 
N6 U10 W10； 
N7 U-10 W10； 
N8 W20； 
N9 G40 G0 X0 Z30； 
N10 M30； 
在上述程序中，01 号刀的刀尖半径补偿值R<=25，当R>25 时，系统会产生干涉报警，因为在程 
序段 c 程序的方向与刀具半径补偿的路径相反。 
 
 
 
 
 
 


                                                       GSK218T 车床数控系统 使用手册  
 
202
2.6  G90/G94 指令中的刀尖半径补偿 
（a） 对循环的各路径，刀尖中心路径通常平行于程序路径。 
①G90  
 
 
 
 
 
 
 
 
 
 
 
 
图2-6 G90 刀尖半径半径补偿 
 
②G94 
 
图2-7 G94 刀尖半径半径补偿 
(b)  无论是G41，G42 方式，偏置方向如下图所示。 


                                                       GSK218T 车床数控系统 使用手册  
 
203 
 
图2-8 G90/G94 刀尖半径补偿 
 
2.7 
G70 指令中的刀尖半径补偿 
 
在精加工循环中(G70)中，可以实现刀尖半径补偿，刀具中心轨迹会沿着精加工轨迹自动偏置一
个补偿值。 
实现G70 刀尖半径补偿时, G70 可以与G41/G42 共段执行，或者在精加工循环段指定
G41/G42。 
 
 
 
  
3 刀补C 的注意事项 
1）不可连续指令两个或两个以上无移动命令的程序段。如: 
① M05 ；................................................M 码输出 
② S21 ；.................................................S 码输出 
③ G04 X10 ；....................................….. 暂停 
④ G01 U0 ；.............................................移动距离零 
⑤ G98 ；...................................................只有G 指令. 
如果连续指定以上程序段两个或更多时，刀尖中心会移到前一程序段的终点(垂直于前一程序段程
序路径的位置)。 
特别地,当补偿过程中连续指定30 个无移动命令的程序段或更多时，会产生报警（P/S39）。 
2）录入方式下(MDI)执行程序段时，不执行刀尖半径补偿。 
3）在开机后或M30 执行时，系统立刻进入取消模式。程序必须在取消模式下结束。否则，刀具不
能在终点定位，刀具停止在离终点一个向量长度的位置。 
4）刀尖半径补偿的建立与取消只能用G00 或G01 指令，不能是圆弧指令（G02 或G03）。如果指定，
会产生报警（P/S34）。 
5）在调用子程序前（即执行M98 前），系统必须在补偿取消模式。进入子程序后，可以起动偏置，


                                                       GSK218T 车床数控系统 使用手册  
 
204
但在返回主程序前（即执行M99 前）必须为补偿取消模式。否则会出现报警№036。 
6）如果补偿量(R)是负数，在程序上G41 及G42 彼此交换。如果刀具中心沿工件外侧移动，它将会
沿内侧移动，反之亦然。因为当补偿量符号改变时,刀尖偏置方向也改变,但假想刀尖方向不变。所以不
要随意改变。 
7）通常在取消模式或换刀时，改变补偿量的值。如果在补偿模式中变更补偿量，只有在换刀后新
的补偿量才有效。 
8) 当程序在执行刀补程序时，因各种原因出现错误或者报警，G 代码将保持，原来是G41 则是G41，
原来是G42 则是G42；这时候要取消刀补，则可以在MDI 状态下，输入G40 并运行，方能取消刀补状
态。 
9) G71-G76，螺纹指令G92/G32/G33/G34 不执行刀尖半径补偿。 
 
4 刀补C 加工范例 
 
刀补C范例①： 
加工下图2-9所示零件， 零件尺寸如图所示，刀尖半径R=1， 为第一把刀。 
10
7.639
4.472
28.275
35
23.803
R10
30
32.111
33.803
R10
35.914
50
10
R14
 
图2-9 刀补C 范例① 


                                                       GSK218T 车床数控系统 使用手册  
 
205 
程序如下： 
O0001； 
N010 G50 X100.0 Z100.0；（设定坐标系） 
N020 M3 S300；（主轴正转，转速；300转/分钟） 
N030 M8；（开冷却） 
N040 T0101；（换一号刀执行一号刀补） 
N050 G00 X10.0 Z10.0；（快速定位，接近工件） 
N060 G42 G1 Z0 F80；（开始执行刀尖半径补偿） 
N070 G3 X30 Z-10 R10； 
N080 G1 Z-17.639； 
N090 G2 X32.111 Z-22.111 R10； 
N100 G1 X33.803 Z-23.803；                  
N110 G3 X35.914 Z-28.275 R14；                                    
N120 G1 Z-35；                             
N130 X50； 
N140 G40 G0 X80 Z80；（取消刀尖半径补偿） 
N150 M09；（关闭冷却） 
N160 G00 X100.0 Z100.0 T0200；（快速回安全位置，换回基准刀，清刀偏） 
N170 M30；（程序结束） 
 
 
 
刀补C范例②： 
加工下图2-10所示零件，零件尺寸如图所示，刀尖半径R=1，为第一把刀。 
 
 


                                                       GSK218T 车床数控系统 使用手册  
 
206
10
R10
R5
38
10
20
35
60
 
 
图2-10 刀补C 范例② 
 
 
O0002 
NI G50 X100 Z100； 
N2 M3 S800； 
N3 M8； 
N4 T0202； 
N5 G0 X70 Z10； 
N6 G71 U3 R1； 
N7 G71 P8 Q14 U0 W0 F120； 
N8 G0 X10； 
N9 G1 Z-10 F80； 
N10 G02 X30 W-10 R10； 
N11 G1 X38； 
N12 Z-30； 
N13 G02 X48 W-5 R5； 
N14 G1 X60； 
N15 G0 X100 Z80； 
N16 M3 S300； 
N17 T0101； 


                                                       GSK218T 车床数控系统 使用手册  
 
207 
N18 G0 X70 Z10； 
N19 G42 G70 P8 Q14； (G42 与G70 共段执行刀尖半径补偿) 
N20 G40 G0 X80 Z50； (取消刀尖半径补偿) 
N21 G0 X100 Z100 T0200； 
N22 M30； 
 
刀补C范例③： 
加工下图2-11所示零件，零件尺寸如图所示，刀尖半径R=1，为第一把刀。 
 
60
35
30
 
图2-11 刀补C 范例③ 
O0003 
N1 G50 X100 Z100； 
N2 M3 S800； 
N3 M8； 
N4 T0101； 
N5 G42 G0 X70 Z10；    （开始执行刀尖半径补偿） 
N6 G90 X45 Z-30 R-5 F80； 
N7 G40 G0 X80 Z80；     (取消刀尖半径补偿) 
N8 G0 X100 Z100 T0100； 
N9 M30； 
 
 
