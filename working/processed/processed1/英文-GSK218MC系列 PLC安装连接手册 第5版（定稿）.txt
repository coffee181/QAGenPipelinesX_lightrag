--- Page 1 ---
this User Manual describes all items concerning the operations the this User Manual the property GSK CNC Equipment Co., Ltd. All
GSK218MC Series Machining Center CNC System much possible. However, rights are reserved. against the law for any organization individual
impractical give detailed descriptions all unnecessary unallowable publish reprint this manual, and GSK reserves the right ascertain their legal
operations for this series CNCsystem due text limit, product specific liability.
applications and other causes. Therefore, operations not specified herein shall
considered “impossible” “unallowable”.

--- Page 2 ---
人 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
This User Manual applicable for the following models
CNC systems manufactured GSK CNC Equipment Co., Ltd.:
LED
Product type
dimension
REED
[WA

--- Page 3 ---
Preface and Safety Notice This manual one part the “PLC and Installation Connection Manual” order guarantee safe, normal and effective operation, the user must
Foreword (Software version: V1.5) the User Manual for GSK218MC Series Machining carefully read this User Manual before installing and using this product.
Dear customers: Center CNC System, which introduces its PLC programming, installation and Safety Warnings
lt's our pleasure for your patronage and purchase this GSK218MC Series connection. 人 may occur the event improper operation. This system must
Machining Center CNC System made GSK CNC Equipment Co., Ltd. operated authorized and qualified personnel.
Special prompt: The system power supply installed (inside) the cabinet
specially provided for GSK CNC system.
prohibited use this power supply for other purposes.
Otherwise, tremendous hazard may occur!
Ill

--- Page 4 ---
人 GSK218MC Machining Center CNC System PLC and Installation Connection Manual Despite the description various contents herein much possible, Warning! Before installation, programming and operation, the user must carefully Attention! The product functions and technical indexes (such precision, velocity) Special recommendation: PLC must modified GSK professionals. The operators (workers) product users are not allowed
Statement! unnecessary cover all the matters that can cannot done due read this User Manual and User Instructions from the Machine described this User Manual are only for this product. For the CNC modify the PLC site prevent accident!
many possibilities concerned. Therefore, matters not covered herein can Manufacturer, and strictly operate the product based requirements machine installed with this product, the actual function configuration and This User Manual subject change without prior notice.
deemed “Not Allowed”. this Manual and the User Instructions. Otherwise, may cause damage technical performance should determined the design the machine
the product machine, work piece scrapping and even personal injury. manufacturer, and are subject the User Instructions the machine
manufacturer.

--- Page 5 ---
Preface and Safety Notice
Safety notices
Transportation and storage
not pile the product packaging cartons for more than six layers.
not climb, stand the product packaging carton, and not place
heavy objects it.
not drag move the product using the cables connected it.
itis prohibited collide scratch the panel and display screen.
Keep the product packaging carton away from damp, sunshine and rain.
Unpacking inspection
Confirm whether the product the one you purchased after unpacking.
Check whether the product damaged during transportation.
Check the list see components are complete damaged.
the event inconsistent product type, missing accessories damage
from transportation, please contact time.
Wiring
The wiring and inspection personnel must qualified and skilled
professionals.
The product must reliably grounded with grounding resistance 0.10.
not use the neutral line (null line) replace the ground wire.
The wiring must correct and firm avoid product malfunction
unexpected results.
The surge absorption diode must connected the product the
prescribed direction. Otherwise, may damage the product.
Before inserting the plug/unplugging opening the product cabinet, the
power supply must disconnected.
Overhaul
The power supply must disconnected before maintaining changing
components.
Check the malfunction the event short circuit overloading. The
product can only restarted after troubleshooting.
not frequently power on/off the product. After power off, wait for least
1min before power-on again.

--- Page 6 ---
人 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Volume Description
Introduce the specification, address, basis code and function codes the
GSK218MC SeriesPLC.
Volume Operating Description
Introduce the operations related toGSK218MC Series PLC.
Volume Ill Function Description
Introduce the main functions ofGSK218MC Series PLC.
Volume Installation and Connection
Introduce the installation, connection and setting methods GSK218MC
SeriesCNC System.
Appendix
Introduce the usage instructions GSK218MC Series CNC System with tool
magazine ladder diagram.

--- Page 7 ---
Preface and Safety Notice Manufacturer’s safety responsibility The manufacturer should responsible for the cleared and/or controlled The manufacturer should responsible for safety the CNC system and The manufacturer should responsible for usage messages and User’s safety responsibility The user should get familiar and master the safety operation the CNC The user should responsible for the danger caused adding, changing The user should responsible for the danger caused operation, The User Manual shall kept the final user.
Safety responsibility dangers the design and structure the CNC system and accessories. accessories. recommendations provided for the user. system through study and training. modifying the CNC system and accessories without authorization. adjustment, maintenance, installation and storage violation the User Manual. Vil

--- Page 8 ---
人 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Thanks for your support during the usage GSK product!
VIII

--- Page 9 ---
Table Contents CONTENTS
VOLUME PROGRAMMING DESCRIPTION
Chapter Sequential Programming Process
1.1 PLC Specifications GSK218MC Series
1.2 Concept Sequential Program
1.3 Distribution Interfaces (Step
1.4 Preparation Ladder Diagram (Step
1.5 Debugging Sequential Program (Step
Chapter Sequential Program
2.1 Execution Sequential Program
2.2 Circle Execution
2.3 Execution Priority (Level and Level li)
2.4 Sequential Program Structure
2.5 Input/Output Signal Processing
2.5.1 Input Signal Processing
2.5.2 Output Signal Processing
2.5.3 Difference Between Signal States Level and Level Programs
2.6 Interlock
Chapter Ill PLC Address
3.1 Machine PLC Address (X)
3.1.1 Address The I/O Input Ports
3.1.2 Address The Mdi Panel
3.2 PLC Machine Side Address (Y)
3.2.1 Address The I/O Output Ports
3.2.2 Address The Mdi Panel
3.3 PLC 一 CNC Address (G)
一 PLC Address (F)
3.5 Internal Relay Address (R)
3.6 Latching Relay Address (K)
3.7 Information Display Request Address (A)
3.8 Counter Address (C)
3.9 Counter Preset Value Address (C)
3.10 Timer Address (T)
3.11 Timer Preset Value Address (Dt)
3.12 Datasheet Address (D)
3.13 Label Address (L)
3.14 Subprogram Number (P)
Chapter PLC Basic Code
4.1 RD, RD.NOT, WRT, WRT.NOT Codes
4.2 AND and AND.NOT Code
4.3 and OR.NOT Code
4.4 OR. STK Code
4.5 AND.STK Code
Chapter PLC Function Code
5.1 END1 (Level Sequential Program Completed)
5.2 END2 (Level Sequential Program Completed)
5.3 CALL (Call Subprogram)
5.4 CALLU (Unconditional Call Subprogram)
5.5 (Subprogram)
5.6 SPE (Subprogram Completed)
5.7 SET (Set)

--- Page 10 ---
人 GSK218MC Machining Center CNC System PLC and Installation Connection Manual Chapter Ladder Diagram Editing Restrictions XxX
5.8 RST (Reset) VOLUME OPERATING DESCRIPTION
5.9 JMPB (Label Jump) Chapter PLC Interface Display
5.10 LBL (Label) 1.1 Automatic Operation After PLC Power-On GSK218MC Series
5.11 TMR (Timer) 1.2 Program Control Interface Display
5.12 TMRB (Constant Timer) 1.2.1 Ladder Diagram Information Interface
5.13 TMRC (Timer) 1.2.2 Ladder Diagram Interface
5.14 CTR (Binary Counter) 1.2.3 Ladder Diagram Parameter Interface
5.15 DEC (Binary Decoding) 1.2.4 Signal Diagnostic Interface
5.16 COD (Binary Code Conversion) 1.2.5 Signal Tracking Interface
5.17 COM (Common Line Control) Chapter PLC Programming Operation
5.18 COME (Common Line Control Completed) 2.1. Overview
5.19 ROT (Binary Rotation Control) 2.2 Basic Code
5.20 SFT (Register Shift) 2.3 Operating Instructions Ladder Diagram
5.21 DIFU (Rising Edge Detection) 2.4 Function Code
5.22 DIFD (Falling Edge Detection) 2.5 Command Table
5.23 COMP (Binary Number Comparison) 2.6 Editing Command
5.24 COIN (Consistency Comparison) 2.7 PLC Running Steps
5.25 MOVN (Data Transmission) Chapter lll PLC Address and Parameter Settings
5.26 MOVB (1-Byte Transmission) 3.1 Latching Relay
5.27 MOVW (Dual-Byte Transmission) 3.2 Timer
5.28 XMOV (Binary Index Data Transmission) 3.3 Datasheet
5.29 DSCH (Binary Data Search) 3.4 Counter
5.30 ADD (binary addition) 3.5 Function Decoding
5.31 SUB (Binary Subtraction) Chapter Instructions for Using Ladder Diagram Editing Software
5.32 ANDF (Bitwise AND) 4.1. General
5.33 ORF (Bitwise OR)
5.34 NOT (Bitwise NOT)
5.35 EOR (Exclusive OR)

--- Page 11 ---
Table Contents
4.2 Software Introduction
4.2.1 Starting Software
4.2.2 Function Introduction
4.3 Software Operation
4.3.1 Tool Bar
4.3.1.1 Main tool bar
4.3.1.2 Editing tool bar
4.3.2 Selection Graphics
4.3.3 Editing Graphics
4.3.3.1 Cut
4.3.3.2 Copy
4.3.3.3 Paste
4.3.3.4 Delete
4.3.3.5 Insert row
4.3.3.6 Delete row
4.3.3.7 Convert
4.3.4 Ladder Diagram Note
4.3.4.1 Ladder diagram row note
4.3.4.2 Ladder diagram element note
4.3.5 Export
VOLUME III FUNCTION DESCRIPTION
Chapter Control Axis
1.1 Output Axial Movement Status
1.2 Servo Ready Signal
Chapter Preparation for Running
2.1 Emergency Stop
2.2 CNC Over-Travel Signal
2.3 Alarm Signal
2.4 Selection Running Mode
2.5 Status Output Signal
Chapter Ill Manual Operation
3.1 JOG Feed/Incremental Feed
3.2 MPG/Single-Step Feed
Chapter Return Reference Position
4.1 Manual Return Reference Point Position
Chapter Automatic Running
5.1 Cycle Start/Feed Hold
5.2 Reset
5.3 Program Test
5.3.1 Machine Locking
5.3.2 Dry Running
5.3.3 Single Program Segment
5.4 Program Segment Jump
5.5 Program Restart
Chapter Feed Speed Control
6.1 Fast Movement Override
6.2 Feed Speed Override
6.3 Override Cancellation
Chapter VII Auxiliary Function
7.1 Code Auxiliary Function
7.2 Code Auxiliary Function
7.3 Code Auxiliary Function
7.4 Gating Signal Auxiliary Function

--- Page 12 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual XII
7.5 Auxiliary Function Locking
Chapter VIII Spindle Speed Function
8.1 Spindle Speed Control Mode
8.1.1 Gear Spindle
8.1.2 Analog Spindle
8.2 Rigid Tapping
8.3 Backing Rigid Tapping
8.4 Contour Control Method
8.4.1 Contour Control Axis Setting
8.4.2 Switching Between Spindle Rotation Control and Contour Control
8.4.3 Contour Control Axis Setting For Interpolation
8.4.4 Contour Control Axis Reference Point Returning
8.4.5 Contour Control Axis Operation (Automatic/Manual)
8.5 PMC Axis Control Mode 100
8.5.1 Signal Address 101
8.5.2 Command 101
8.5.3 Command Action Time Chart 102
8.5.4 Signal Description 102
Chapter Programming Code 105
9.1 User Macro Program 105
9.2 Fixed Cycle 106
Chapter Display/Setting 109
10.1 Clock Function 109
10.2 Display Operation History 109
10.3 Help Function 109
Chapter Measurement 111
11.1 Skip Function 111
Chapter Panel Lock Setting 113
Appendix Address between PLC and CNC 115
Appendix PLC (CNC address: G000 G205) 119
Appendix 川 System Operating Status Address 122
Appendix Bus Running Status Address 124
Appendix DSP Running Status Address 126
VOLUME INSTALLATION AND CONNECTION 127
Chapter System Structure and Installation 128
1.1 System Components 128
1.2 System Installation and Connection 128
1.3 Dimension and Installation Size Chart The Cnc System 129
1.4 Additional Panel Figure 135
Chapter Equipment Connection 136
2.1 Block Diagram For External Connection The System 136
2.1.1 Interface Location Layout 136
2.1.2 Schematic Diagram Pulse Type Servo Connection 137
2.1.3 Schematic Diagram Bus Type Servo Connection 138
2.1.4 Schematic Diagram Five-Axis Linkage Servo Connection With Bus Technology 139
2.2 System and Drive Unit Connection 140
2.2.1 System Interface Diagram 140
2.2.2 Interface Signal Table 140
2.2.3 Signal Description 140
2.2.4 Cable connection diagram 142

--- Page 13 ---
Table Contents Compensation Data 170 4.7.11 Absolute Value Compensation Linear Axis Mean Value (One-Way) Compensation Mode 4.7.12 Absolute Value Compensation Linear Axis Respective (Two-Way) Compensation Mode
2.2.5 Gsk-Link Cable Connection Diagram 144 4.7.6 Pitch Compensation Value Input Step 171 177 178
2.2.6 GI100 Bus Expansion Module Off-Board Wiring Diagram 146 4.7.7 Precautions For Pitch Error Compensation Setting 171 4.7.13 Rotary Axis Pitch Error Compensation 179
2.3 RS232 Standard Serial Interface 148 4.7.8 Incremental Value Compensation Linear Axis Mean Value (One-Way) Compensation Mode 4.8 Mechanical Zeroing (Machine Tool Zeroing) 179
2.4 Connection Manual Pulse Generator and Handheld Unit 148 172 4.8.1 Mechanical Zeroing Under Pulse Mode 179
2.4.1 Interface Signal Diagram 148 4.7.9 Incremental Value Compensation Rotary Axis Mean Value (One-Way) Compensation Mode 4.8.2 Bus Type Servo Zeroing Function Setting 183
2.4.2 Interface Signal Description 148 174 4.9 Input/Output Signal Control Positive and Negative Rotation Spindle 186
2.5 Connection The Spindle Unit 150 4.7.10 Incremental Value Compensation Linear Axis Respective (Two-Way) Compensation Mode 4.10 Spindle Automatic Gear Shift Control 187
2.5.1 Interface Signal Table 150 176 4.11 External Cycle Start and Feed Hold 188
2.5.2 Interface Signal Description 151 4.12 External Edit Lock and External Panel Lock 188
2.5.3 Cable Wiring Diagram 152 XIII
2.6 System Power Interface 154
2.7 External Power Control Interface 154
2.8 Connection Communication Lines 154
Chapter Ill Interface for Machine Tool Control 155
3.1 Interface Signal Table 155
3.2 Input Interface 155
3.2.1 Input Interface Circuit 155
3.2.2 Interface Circuit The Hand-Held Unit 156
3.2.3 Input Signal Interface Definition 156
3.3 Output Interface 158
3.3.1 Output Interface Circuit 158
3.3.2 Output Signal Interface Definition 159
Chapter Machine Tool Debugging 161
4.1 Debugging Preparation 161
4.2 System Power 161
4.3 Emergency Stop and Limit 161
4.4 Gear Ratio Adjustment 163
4.5 Backlash Compensation 164
4.6 Settings Related The Drive Unit 165
4.7 Machine Tool Pitch Compensation 166
4.7.1 Pitch Compensation Related Parameters 166
4.7.2 Pitch Compensation Debugging Process 167
4.7.3 Description Setting The Pitch Error Compensation Interval Each Axis 168
4.7.4 Description Setting The Pitch Error Compensation Number For Each Axis Reference Point
169
4.7.5 Description The Compensation Number Corresponding The Measured Pitch

--- Page 14 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual APPENDIX 197 XIV
4.13 Cooling, Lubricating and Chip Removal 189 Appendix Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool
4.14 Setting Feed Speed 190 Magazine 198
4.15 Setting Tapping Parameter 192 Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool
4.16 Setting 4th Axis 193 Magazine 221
Appendix Ill Ladder Diagram Configuration File Format 245
Appendix Description with GR+GL200 (RJ45) 246
Appendix Description with GR+IOR-44T 255

--- Page 15 ---
VOLUME PROGRAMMING DESCRIPTION
所

--- Page 16 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual The sequential program refers the program for logical control the machine and related After converting the program into certain format, CPU can conduct decoding and operation, Sequential programming starts from the preparation ladder diagram. 1.3 Distribution Interfaces (Step After the control object determined and corresponding input/output signal counts are calculated, the interfaces can distributed. During distribution interfaces, please refer the Input/Output Port Signal Table Volume Installation and Connection hereof. 1.4 Preparation Ladder Diagram (Step Present the control action required the machine with ladder diagram using the online edit
Chapter Sequential Programming Process devices. and store the result RAM. CPU reads each code stored the memory high speed, and executes GSK218MC series ladder diagram. For timer and counter functions that cannot presented relay
1.1 PLC Specifications GSK218MC Series the program through arithmetic operation.
The PLC specifications GSK218MC series are follows:
Table 1-1-1
Average pocesngtineofbasicende
cote
Internal relay 0~990 (Byte)
和 PLC alarm detection (A) 0~63 (Byte)
Latching storage area
Timer (T) 0~127 (word)
己 Counter (C) 0~127 (word)
Datasheet (D) 0~255 (word)
Latching relay (K) 0~63 (Byte)
Data register counter preset value (DC) 0~127 (word)
Data register timer preset value (DT) 0~127 (word)
Subprogram (P) 0~99
Label (L) 0~99
NC-side input signal (F) 0~255 (Byte)
Signal output the side (G) 0~255 (Byte)
module (X) 0~127 (Byte)
(Y) 0~127 (Byte)
1.2 Concept Sequential Program

--- Page 17 ---
Chapter Sequential Programming Process
symbols, use specified function code symbols.
The edited ladder diagram needs saved, and converted corresponding PLC code
(namely, the so-called command table) before running.
1.5 Debugging Sequential Program (Step
The sequential programs can debugged with the method below:
Use emulator
Use emulator (composed lamp and switch) replace the machine. Use the Switch
ON/OFF indicate the input signal state the machine, and use Lamp ON/OFF indicate
the output signal state.
Through actual operation
Debug the actual machine. Given unexpected conditions, precautions need taken
before debugging.
品
一

--- Page 18 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Chapter Sequential Program
Since the PLC sequential control realized the online graph editing, its working principles
vary from those general relay circuit.
Therefore, during the design PLC sequential programs, the principles sequential control should
fully understood.
2.1 Execution Sequential Program
general relay control circuit, relays can act simultaneously. the example shown below, when
relay acts, relays and can act simultaneously (when contacts and are closed). the PLC
sequential control, relays act sequence. When relay acts, relay acts first, and then relay
acts (see Fig. 2.1(a)). Relays act based the sequence the ladder diagram (editing sequence).
志
一
Fig. 2.1(a) Circuit example
Figs. 2.1(b) and (c) below specify the difference between relay circuit and PLC program action.
Cc.
Fig. 2.1(b)
Fig. 2.1(c)
(1) Relay circuit
Actions Figs. 2.1(b) and (c) are the same. When connected, and are connected.
When connected, disconnected.
(2) PLC program
Fig. 2.1 (b), just the relay circuit, when connected, and are connected.
After one cycle PLC program, disconnected Fig. 2.1 (c), when connected,
connected but not connected.

--- Page 19 ---
Chapter Sequential Program The PLC executed from the starting the ending the ladder diagram. After the ladder The execution time from the starting the ending the ladder diagram called the cycle 2.3 Execution Priority (Level and Level II) GSK218MC series PLC program divided into two parts: Level and Level programs. They Level program executed every ms. can process some short pulse signal requiring fast Level program executed every nx8 ms. means the number divisions Level program. GSK218MC Series PLC executed PLC-AVR single chip microcomputer. The first 8ms 8ms 8ms When the Level program with final division executed, the program starts execution from
2.2 Circle Execution diagram completed, executed again from the starting ladder diagram. This called circle processing cycle. The shorter the processing cycle, the stronger the signal response capacity is. are inconsistent execution cycle. response. When the Level program executed, PLC will divide the Level program into parts. Within each The specified each means the communication time for CNC reading and writing PLC data; ms, PLC the beginning again. When the number divisions the execution time one cycle 8xn ms.
execution. ms, only one division executed. Level program END1 first-section program gets the system control signal (F, and uploads the control result data (G, parameters) the Level Level program executed every ms, and Level program executed every 8xn ms. the steps
ended external ports I/O (X, Y). Except interruption response data exchange, PLC executes the ladder Level Level program are increased, the steps executed Level program within are
diagram operations all the time. Division Division Division correspondingly decreased, and there are more divisions and longer entire program processing time.
Division 了
Fig. 2-3-2
一 一 一 一
Division
Level
program
END2 Division
The specified second-
section program ended
Fig. 2-3-1

--- Page 20 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Therefore, during programming, Level program should short possible.
2.4 Sequential Program Structure
conventional PLC, ladder diagram prepared sequence. However, the ladder diagram
language allowing structured programming has the following advantages:
The program easy understand and prepare;
more convenient find programming error;
easy find out reasons the event running error.
There are three major structured programming methods:
Subprogram
The subprogram takes the ladder diagram the processing unit.
[Task
[Task
[Co]
Fig. 2-4-1
Nest
The subprogram can call other subprograms complete the task.
Main program Subprogram Subprogram
Fig. 2-4-2
Conditional branching
The main program executed circle and detects whether the conditions are satisfied. the
conditions are satisfied, execute the corresponding subprogram. the conditions are not
satisfied, not execute the corresponding subprogram.
Main program Subprogram
[Task
A12
Fig. 2-4-3
2.5 Input/Output Signal Processing
Input signal processing:

--- Page 21 ---
Chapter Sequential Program
CNC] CNC-PLC
Shared
memory
program
Latch when
Level Level
program starts program
Level program
input signal latch
memory
8ms
二
Fig. 2-5-1
Output signal processing:
CNC[ CNC-PLC PLC 了
Shared Level
memory program
Level
program
Machine input
memory
8ms
Fig. 2-5-2
2.5.1 Input Signal Processing
(1) input memory
The input signal from stored the input memory, and transmitted PLC every
ms. Level program can directly cite the state these signals for corresponding
processing.
(2) Machine input memory
The machine input memory scans and stores the input signal from the machine every ms.
Level program can also directly cite the state these signals for corresponding
processing.
(3) Level program input latch
Level program input signal latch also called the synchronous input signal memory
Level Il. The stored input signal specially used for Level program processing. The
signal state this memory synchronous with the Level signal state.
Only when the Level program executed, signals from input memory and machine
input memory can latched the Level program input memory. During the entire
execution process Level program, the signal state the latch remains unchanged.

--- Page 22 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual The same input signal may have different states Level and Level programs. The reason one execution cycle compared with Level program. the first ms, when A=1 executes Level program, B=1. When Level program executed, A=1 latched Level program, and the first division Level program executed. the second ms, Ais changed When Level program executed, B=0. Then, execute the second division Level program. However, this moment, state still the state previous latch, therefore C=1. For this reason, states and are different. 2.6 Interlock sequential control, interlocking very important for safety purpose. Necessary interlock must taken the sequential control program. Meanwhile, necessary hard
2.5.2 Output Signal Processing that different input memories are used these two levels programs. Namely, the input signal used Please remember this during preparation ladder diagram. interlock required the relay control circuit the high-voltage electrical cabinet the machine
(1) output memory Level program the latched input signal Level program. Therefore, signal Level program side. The reason that despite the logic interlock the sequential program (software), the interlock
The output signal transmitted from PLC output memory every ms. lagged when compared the Level input signal. the worst circumstance, may lagged may become invalid the event hardware fault during the execution sequential program.
(2) Machine output memory Therefore, the interlock conducted high-voltage electrical cabinet the machine side can
The signal stored the machine output memory transmitted the machine every ms. guarantee operator safety and avoid machine damage.
Note: The signal states the input memory, output memory, machine input memory and machine output
memory can displayed self-diagnosis function. The diagnosis number the address number the Eno"
sequential program.
2.5.3 Difference Between Signal States Level and Level Programs
Belong the second
division Level
program
Fig. 2-5-3-1

--- Page 23 ---
Chapter Sequential Program
[<o}

--- Page 24 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Chapter Ill PLC Address
The address used distinguish signals. Different addresses correspond the input/output
signals the machine side, input/output signals the CNC side, internal relay, counter, timer,
latching relay and datasheet. Each address composed address number and tag number. The
numbering rules are follows:
Address numbering rules:
The address number composed address type, address number and tag number.
Address type Address number Tag number
Address type: Include
口 Address Decimal code, indicating one byte.
number:
Tag number: Octal number. 0~7 indicate the 0~7 bits the byte represented the
previous address number.
the GSK218MC series PLC, address types are follows:
Table 3-1
Address [Address description Length
Machine PLC (128
machine (128 bytes)
bytes) INT8U
bytes) INT8U
NTreu
Data resister (0-265)
[bc register counter preset value INrleu
Counter (0-127) INTI6U
[PLC alarm detection Nieau
Timer TIC
[DT [Bata register oftimer preset value
relay (64 bytes) Neau
INT8U data type unsigned 8-bit character type; and INT16U data type unsigned 16-bit
integral.
3.1 Machine PLC Address (X)
The address GSK218MC series PLC divided into two types:
The address distributed the I/O input ports XS40, XS41 and XS42.
The address distributed the input key the MDI panel.
3.1.1 Address The Input Ports
The address from X5. The defined type is: INT8U, total. They are distributed the
three I/O input ports XS40, XS41 and XS42 the system.
For the address these I/O ports, the user can define their signal definitions based actual
conditions connect the machine and prepare corresponding ladder diagram.
3.1.2 Address The MDI Panel
The address from X14 X21, with bytes total. These addresses correspond the
button entries the MDI panel one one. The user cannot change the signal definition. The MDI
panel buttons are responded CNC first, and then the signal sent PLC.
Corresponding relationship with buttons are follows:

--- Page 25 ---
Chapter Ill PLC Address
Table 3-1-2-1
Operating panel button entry PLC address Operating panel button entry PLC address
USsER3 Manual feed axis X18.2
UsER4
users
Spindle yxo0
Tool magazine zeroing ‘Fast xia
Clampinguncamping
magazine
magazine
Poem
了
eracing
X57
fe}
Single-step mode Manual feed axis x200
Zeroingmode coong xz4
xl65
Manualmode Spindle
DNC mode
Single-segment xl70 Spindle stop x21.0
Machine lock Xi72 Spindle CCW
Auxiliary lock [XI73 X21
ding x74 cycestat
Selection-stop X17 Feed hold X215
Fast FO/ incremental XxX76 x216
Fast 20% Emergency stop
3.2 PLC Machine Side Address (Y)
The address GSK218MC series PLC divided into two types:
The address distributed the I/O output ports XS43, XS44 and XS45.
The address distributed each indicator the system MDI panel.
3.2.1 Address The I/O Output Ports
The address from Y5. The defined type is: INT8U, total. They are distributed the
three I/O output ports XS43, XS44 and XS45 the system.
For the address these I/O port, the user can define their signal definitions based actual
conditions connect the machine and prepare corresponding ladder diagram. For the initial definition
output address, refer Appendix Configuration and definition PLC I/O address and internal

--- Page 26 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
soft components GSK218MC series CNC system
3.2.2 Address The Mdi Panel
The address from Y13 Y23, with bytes total. These addresses correspond the
indicators the MDI panel one one. The user cannot change the signal definition. PLC system
feeds back them after operation the CNC system keyboard module for indicator signal display.
Corresponding relationship with indicators are follows:
Table 3-2-2-1
address address
国人
ree Yao
vis
vise
[rer [rs
vies
vies
vies
[vata
[vot
[vat
v201
vie
veo

--- Page 27 ---
Chapter Ill PLC Address
Keyboard indicator output PLC Keyboard indicator output PLC
address address
vies
vies
override cancellation
ves [Cid
3.3 PLC 一 CNC Address (G)
The address from G255. The defined type is: INT8U, with bytes total.
For signal details, refer “Volume III Function Description’.
3.4 CNC 一 PLC Address (F)
The address from F63. The defined type is: INT8U, with bytes total.
For signal details, refer “Volume III Function Description’.
[Co]
3.5 Internal Relay Address (R)
The address area reset when the system powered on. R990 and R991 are occupied
system.
The defined type is: INT8U, with 512 bytes total.
Address
number 210
一 一
relay
zone
Fig. 3-5-1
System program management area:
R990
When PLC started restarted, the R990.0 address signal set for initialization
user-defined signal. When the ladder diagram executed for one time, the R990.0 reset
R991 (System timer)
The following four signals can used the system timers:
R991
Constant off
Constant
(104ms On, 96ms Off)
200ms periodic
signal
(504ms ON, 496ms OFF)
periodic signal
Fig. 3-5-2

--- Page 28 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual This address area used for the latching relay and setting PLC parameters. This area The defined type is: INT8U, with bytes total. Address This address area used for storing the current count the counter. The data reset the The defined type is: There are 128 addresses total.
3.6 Latching Relay Address (K) non-volatile storage area. The contents the memory will not get lost even the event power number event system failure.
failure. K000-K005 are occupied the system, which are used save the PLC system parameters,
which facilitates users control PLC CNC.
relay
和 zone
一
也
Fig. 3-6-1
Note: When PLC address K005.2=1, PLC enters the debugging mode. All external alarm signals and machine
区 interlocking signals are canceled, and the tool change code cannot executed. These parameters can only
modified when you understand them avoid machine damage personal injury.
3.7 Information Display Request Address (A)
The address area reset when the system powered on.
The defined type is: INT8U, with bytes total.
Address
number
A31
Fig. 3-7-1
3.8 Counter Address (C)

--- Page 29 ---
Chapter Ill PLC Address
3.9 Counter Preset Value Address (DC)
This address area used for storing the preset value the counter. This area non-volatile
storage area. The contents the memory will not get lost even the event power failure.
The defined type is: There are 128 addresses total. The setting can only read and
cannot written.
3.10 Timer Address (T)
This address area used for storing the current value the timer. The data initialized the
preset value the event system failure. When the conditions are set the current data the
preset value.
The defined type is: There are 128 addresses total.
3.11 Timer Preset Value Address (DT)
This address area used for storing the timer preset value. This area non-volatile storage
area. The contents the memory will not get lost even the event power failure.
The defined type is: There are 128 addresses total. The setting value can only read and
cannot written. sos)
3.12 Datasheet Address (D)
The contents the memory will not get lost even the event power failure. 区
The defined type is: There are 256 addresses total. D240~247 are occupied the system,
and cannot customized user.
3.13 Label Address (L)
used for specifying the jump target label JMPB code and the label the LBL code.
Range: 0~99.
3.14 Subprogram Number (P)
used for specifying the target subprogram number and subprogram number code
called the CALL code.
Range: 0~99.

--- Page 30 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Chapter PLC Basic Code
Sequential program design starts from the preparation ladder diagram. The ladder diagram
composed relay contact and function code. The logic relationship represented the ladder
diagram constitutes the sequential program. There are two ways input the sequential program:
One input method use the mnemonic language (The PLC command codes RD, AND,
are not supported this system); and the other method use relay symbol. When relay
symbol used, you can conduct programming with the ladder diagram format without
understanding the PLC code format.
Actually, even the sequential program input relay symbol method, converted
corresponding PLC code the system.
Basic code the most commonly used code designing sequential program, which executes
和 one-bit operation.
Refer Table 4-1 for the basic command codes GSK218MC Series PLC.
Table 4-1
Move the register content leftward bit, and set the specified address signal state
STO
Move the register content leftward bit, and set the specified address signal state
区 STO after NOT operation
WRT Output the logic operation result the specified address
WRTNOT Output the logic operation result the specified address after NOT operation
ala
AND.NOT Conduct logical AND operation for specified state after NOT operation
aOR
ORNOT Conduct logical operation for specified state after NOT operation
STK After logic operation for STO and ST1, move the stack register rightward one
bit
After logic AND operation for STO and ST1, move the stack register rightward one
bit
4.1 RD, RD.NOT, WRT, WRT.NOT Codes
For the mnemonic and function, refer Table 4-1-1.
Table 4-1-1
PRO Move the register content leftward bit, and set the specified address signal state
STO
Move the register content leftward bit, and set the specified address signal state
STO after NOT operation
WRT Output the logic operation result the specified address
WRTNOT Output the logic operation result the specified address after NOT operation
Code description
WRT, WRT. NOT code the driving code for coils output relay and internal relay. not
applicable for input relay.
Parallel WRT commands can used continually for several times, and support multi-coil
output.
Such programming

--- Page 31 ---
Chapter PLC Basic Code
X002.1
X002.1 Y003.7 WRT Y003.7
£1003 6120.0 RD.NOT F100.3
WRT
Fig. 4-1-1
4.2 AND and AND.NOT Code
For the mnemonic and function, refer Table 4-2-1.
Table 4-2-1
[一
eee
Conduct logical AND operation for specified state after
NOT operation
Code description
Use AND and AND.NOT codes connect contact series. The number contacts
series unlimited. This code can used for several times.
Such programming:
X002.1 F100.3 X008.6 Y003
AND.NOT F100.3
一 一 下 ——_
AND X008.6
WRT Y003.7
Fig. 4-2-1
4.3 and OR.NOT Code
For the mnemonic and function, refer Table 4-3-1.
Table 4-3-1
一
Conduct logical operation for specified state
after NOT operation
Code description
Use and OR.NOT code connect contact parallel.
and OR.NOT mean conduct parallel connection between the step this code and
previous and RD.NOT code step.
Such programming
x002.1 Y003.7 xo024
OR.NOT F100.3
F1003 WRT
Fig. 4-3-1

--- Page 32 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
4.4 OR. STK Code
For the mnemonic and function, refer Table 4-4-1.
Table 4-4-1
After logic operation for STO and ST1, move the
stack register rightward one bit
Code description
OR.STK code independent code without address.
Such programming
X002.1 X002.2 Y003.7 x002.1
和 Node AND
F100.3 F100.6 RD.NOT
二 AND F100.6
OR.STK
RO22.1 RO22.1
<—CORD WRT Y003.7
Fig. 4-4-1
shown figure, there are three branches (1), (2) and (3) from the left bus node N1.
Branches (1) and (2) are serial circuit blocks. When there are parallel series circuit block between the
bus and node between nodes, use code when other branches are completed except the first
one. branch not serial circuit block, use code.
OR.STK and AND.STK are codes without operating element, indicating the and AND
relationship between circuit blocks.
4.5 AND.STK Code
Mnemonic and function
Table 4-5-1
register rightward one bit
Code description
When the branch loop (parallel loop block) connected the previous loop, use AND.STK
code. Use RD, for the branch starting point. NOT code. After the end parallel loop
block, use AND.STK code connect the previous loop series.
AND.STK code independent code without address.
Such programming
X002.1 ,R100.0 R100 Y003. X002.1
OR.NOT F100.3
OR.NOT X011.0
F100.31G003.3 R009.7 RD_R100.0
AND.NOT R100.3
G003.3
一 AND ROOQ.7
OR.STK (1)
块 AND.STK (2)
Fig. 4-5-1

--- Page 33 ---
Chapter PLC Basic Code
shown the above ladder diagram and command table, (1) OR.STK means that serial circuit
blocks are parallel connection block and (2) AND.STK means that the circuit block and
circuit block are serial connection.
一

--- Page 34 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Chapter PLC Function Code
When hard program some machine action with basic command code, you can use
function command code simplify programming.
Table 5-1 Function command code 218MC series PLC
Level sequential Binary rotation control
program completed
Level sequential Register shift
program completed
CALL Call subprogram DFU Rising edge detection
Unconditional call DFO Falling edge detection
时 subprogram
一 Subprogram Binary number
comparison
oor
subprogram
eee
Ko}
Mark number Binary index data
transmission
[eee ation
[cae
Common line control
completed
5.1 END1 (Level Sequential Program Completed)
Function:
must given once sequential program, which can the end Level program,
the beginning Level program there Level program. maximum 500 steps can
programmed Level program.
Format:
Fig. 5-1-1

--- Page 35 ---
Chapter PLC Function Code 5.2 END2 (Level Sequential Program Completed) Function: given the end Level program. 5.3 CALL (Call Subprogram) Function: The subprogram can nest and call other subprograms (18 layers maximum). For infinite Format: Parameter: Subprogram number: Specify the called subprogram number. Subprogram number range 0~99. 5.4 CALLU (Unconditional Call Subprogram) Function: Unconditionally call specified subprogram. Parameter: Subprogram number: Specify the called subprogram number. Subprogram number range
Format: Call specified subprogram. loop from closure call, the system will give alarm. control executed data amount, 100 ACT 己 Features and limits: 0~99.
Fig. 5-2-1 Features and limits: subprograms are allowed called maximum. not allowed call subprogram Level Subprogram The subprogram can nest and call other subprograms (18 layers maximum). For infinite
program. Any code network written between END2 and after SPE and before cannot number loop from closure call, the system will give alarm. control executed data amount, 100
executed the system. Therefore, the system will give alarm. Fig. 5-3-1 subprograms are allowed called maximum. not allowed call subprogram Level
Control condition: program. Any code network written between END2 and after SPE and before
When ACT execute the next code after CALL. cannot executed the system. Therefore, the system will give alarm.
When ACT call the subprogram with specified subprogram number. Format:
Subprogram
number
Fig. 5-4-1

--- Page 36 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual used generate subprogram. Subprogram number serves the subprogram name. Notes:
5.5 (Subprogram) code and the SPE code mentioned below are used together specify the subprogram The subprogram must programmed after END2.
Function: range. not set another subprogram one subprogram.
Format:
Subprogram
number
Fig. 5-5-1
Parameter:
Subprogram number: Specify the called subprogram label. Subprogram number range
0~99.
5.6 SPE (Subprogram Completed)
Function:
SPE and are used together specify the subprogram range.
ro} When the function code executed, the control will return the main program that calls the
subprogram.
The subprogram must programmed after END2.
Graphic format:
Fig. 5-6-1
For example:
Fig. 5-6-2
5.7 SET (Set)
Function:
Set specified address.
Format:

--- Page 37 ---
Chapter PLC Function Code
ACT
ser
Fig. 5-7-1
Control condition:
When ACT the add.b state remains unchanged.
When ACT set add.b.
Parameter:
Add.b: The address bit setting element, which can output coil. Add
5.8 RST (Reset)
Function:
Set specified address.
Format:
ACT
Fig. 5-8-1
Control condition:
When ACT the add.b state remains unchanged.
When ACT set add.b.
Parameter:
Add.b: The address bit reset element, which can output coil. Add
5.9 JMPB (Label Jump)
Function:
JMPB will immediately transfer the control the program set after the label the ladder
diagram.
Features and limits:
Several jump codes can use the same label.
Mutual jump not available between Level program and Level program.
Mutual jump not available between subprograms.
Re-jump allowed. But the user needs consider the possible infinite loop!
Mutual jump not available between main program and subprogram.
Format:
ACT
Fig. 5-9-1
Control condition:
When ACT not jump, and execute next code after JMPB.
When ACT jump the specified label, and execute the next code after label.
Parameter:
Lx: Specify the destination label jump. Specify any value from 99.
5.10 LBL (Label)
Function:
Specify label the ladder diagram, which the specified destination JMPB jump.
should noted that: The LBL can only used for once for one label. Otherwise, alarm

--- Page 38 ---
人 Peaks 控 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
will given.
Format:
Fig. 5-10-1
Parameter:
xx: Specify the destination label jump. The label range 0~99.
For example:
一
wee
Fig. 5-10-2
5.11 TMR (Timer)
Function:
Delay the turning timer.
Format:
ACT
Jeon
Fig. 5-11-1
Control condition:
When ACT turn off timer.
When ACT turn timer.
Detailed working conditions are follows:
TIMER= setting time
Fig. 5-11-2
Parameter:
TIMER: Timer number, represented xxx, and xxx numbers (0~127).
Output:
Output coil. When the preset reached, when the preset not reached,
Note: The TIMER executed once every ms. The setting unit and the base number ms. less
than ms, make ms, for example: When set ms, 54= 6*8+6, add ms. Therefore, what
executed ms. set under [TMR] under the [diagram parameter] the programmable interface
timer. Timer S/N. The system will automatically detect the range, and give alarm when the serial numbers
are repeated out range.
5.12 TMRB (Constant Timer)
Function:

--- Page 39 ---
Chapter PLC Function Code
Delay the turning timer.
Format:
ACT
Timer Timer Preset
precision number time
Fig. 5-12-1
Control condition:
When ACT turn off timer.
When ACT turn timer.
Detailed working conditions are follows:
TIMER= setting time 过
Fig. 5-12-2
Parameter:
TIMER: Constant timer number, represented xxx, and xxx numbers (0~127).
Table 5-12-1 Timer precision
Timer Set Set time range Tolerance
precision number
ms-524.280 0-Level program scanning cycle
48ms ms-31.456 min 0-Level program scanning cycle
eee
10s 10s-182 0-Level program scanning cycle
一
Preset time:
The timing set constant timer with value range (0~65,535).
Output:
Output coil. When the preset reached, when the preset not reached,
Note: Timer S/N. The system will automatically detect the range, and give alarm when the serial numbers are
repeated out range. The timer preset time fixed ROM with the ladder diagram. You can only
change the timer time modifying the ladder diagram file.
5.13 TMRC (Timer)
Function:
Delay the turning timer.
Format:
ACT
Timer Timer
precision number
Fig. 5-13-1
Control conditions:
When ACT turn off timer.
When ACT turn timer.
Detailed working conditions are follows:

--- Page 40 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
一
TIMER= setting time
Fig. 5-13-2
Parameter:
TIMER: Timer number, represented xxx, and xxx numbers (0~127).
Table 5-13-1 Timer precision
number
cycle
已 Cycle
一 CYCIe
cycle
0-Level program scanning
Output:
Output coil. When the preset reached, when the preset not reached,
Note: set under [TMR] under the [diagram parameter] the programmable interface timer. The TMRC
timer and TMR timer share the same address, therefore, the serial numbers TMRC timer and TMR timer
cannot repeated. Timer S/N. The system will automatically detect the range, and give alarm when the
serial numbers are repeated out range.
5.14 CTR (Binary Counter)
Function:
The counter data binary, and has the following functions based application circumstances.
Preset counter
Preset the count. the count reaches the preset value, signal will output.
Ring counter
When the counter reaches the preset value, input the count signal, and reset the initial
value, and re-count.
Addition subtraction counter
reversible counter, which can used for addition and subtraction.
Selection initial value
The initial value can
Format:

--- Page 41 ---
Chapter PLC Function Code
CNO
COUNTER (W)
UPDOWN
RST
ACT
Counter
number
Fig. 5-14-1 和
Control conditions:
Specify initial value (CNO): 一
When CNO the counter starts from
When CNO the counter starts from
Specify down counter (UPDOWN):
When UPDOWN decrease the counter.
When UPDOWN increase the counter.
Reset (RST): ro)
When RST release the reset.
When RST conduct reset. reset and the count value reset the initial
value. Only when reset required, RST set
Count signal (ACT):
When ACT Conduct counting ACT rising edge.
When ACT The counter does not act, and will not change.
Parameter:
COUNTER: Specify counter number, represented xxx, and xxx numbers (0~127).
Output:
Coil output. When the preset value reached,
Note For counter S/N, the system will automatically detect the range, and give alarm when the serial numbers
are repeated out range.
Note After re-conversion and download ladder diagram, the current value counter will automatically
reset.
ensure counting reliability, please use the pulse reset counter before counting.
5.15 DEC (Binary Decoding)
Function:
DEC can decode the binary code data. When either the eight-bit byte) sixteen bit
(dual-byte) continuous data the same the code data, the corresponding output data bit
When there are same data, the output data
This code used for data decoding function.
Format:
ACT Length code |S2 decoding
format data specified result
designation address number address
Fig. 5-15-1
Control conditions:
ACT=0: Reset all output bits.
ACT=1: Conduct data decoding, and set the processing results the output data address.

--- Page 42 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual When COD code inputs data capacity, table with corresponding size will automatically Format: When ACT not execute COD. When ACT execute COD. Take the “conversion input data address (S1)” value the
Parameter: generated under the functional block where the user can input the conversion table data. the RST conversion table number. When the conversion data corresponding the
length: Set the code data size the first bit data the parameter. table, each line has cells. the number cannot divided with remainder, calculate Lengtht Length2 CW) table number taken from the conversion table, output the
0001: code data one-byte binary code data. the line based quotient +1. However, the capacity data remains unchanged, and the table Format conversion data output address (S2).
0002: code data dual-byte binary code data. number address not displayed. ACT table data data input |data output
S1: Code data address. Specify the storage code data address. capacity address address
S2: Decoding specified number. Specify the first bit 8-bit byte) 16-bit (dual-byte) Fig. 5-16-1
continuous number decoded. Table 5-16-1
S3: Decoding result address. Specify output decoding result address. The storage Control condition
area must have one-byte dual-byte area for output. Reset (RST):
For example: When RST not reset.
foe When RST reset the error output
Work code (ACT):
Fig. 5-15-2
When ACT and F10 0000,0001;
When ACT and F10 0000,0010;
所 When ACT and F10 15, 1000,0000;
5.16 COD (Binary Code Conversion)
己
Function:

--- Page 43 ---
Chapter PLC Function Code
Conversion table
Conversion Table Conversion Conversion
data input number data data output
address address
Lik [28 mex
Fig. 5-16-2
ig. 5-16
Parameter:
length1: Specify the number bytes binary data the conversion data the 口
conversion table.
1-byte binary.
2-byte binary. B83
length2: conversion table data capacity The capacity each conversion table 100
maximum. When 1-byte format specified, there are 100 bytes; when 2-byte
format specified, there are 100 words. The total capacity all COD code
conversion tables should 512 bytes.
S1: data the conversion table can taken specified table number, and the address
specified table number called input address conversion data. This address
requires one-byte memory.
S2: conversion data output address. The number bytes specified the memory the
format specification from the specified address.
Output:
When there any error during execution COD code, and indicates error.
Note: The conversion datasheet capacity 100 bytes (words) maximum. This table programmed between
the output address parameter conversion data and error output (W).
5.17 COM (Common Line Control)
Function:
COM specifies the control coil work within the COME range until the common ending code
range. common line ending code specified, the system will give alarm.
Format:
cow]
COM command
execution range
poy
Fig. 5-17-1
Control conditions:
When ACT the coils within the specified range are turned and off unconditionally (W=0).
When ACT just the same when COM code not executed.

--- Page 44 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Note within the range specified one COM code, not allowed specify another COM code.
Note when COM ACT the WRT NOT coil within the specified range unconditionally set (WRT NOT
1).
Note between the COM and COME, such function codes JMPB, END1. END2. CALL, CALLU, LBL, SP,
SPE, COM and COME cannot used. Otherwise, the system will give alarm.
5.18 COME (Common Line Control Completed)
Function:
This code specifies the control range public control line code (COM). cannot used
independently, and must used with COM.
Format:
Fig. 5-18-1
一 5.19 ROT (Binary Rotation Control)
了
Function:
used for revolution control such tool holder and revolving table. The code has the
following functions:
了 Select the revolution direction short path.
ro) Calculate the number steps from current position the destination position; the
number steps from the previous position current position the previous position
the destination position.
Calculation the position number the previous position the destination position, the
number steps the previous position the destination position.
Format:
CNO
Turntable Current Target Calculation
DIR positioning] position position result
address address address output
POS address
INC
ACT
Fig. 5-19-1
Control conditions:
Specify the initial number turntable (CNO):
When CNO= the counter starts from
When CNO= the counter starts from
Whether select the rotation direction from the short path (DIR):
When DIR= not make selection, and the rotation direction positive only.
When DIR= make selection, and the rotation direction can positive and negative.
Specify the operation conditions (POS):
When POS= count the destination position.
When POS= count the position before the destination position.
Specify the number positions steps (INC):
When INC= count the number positions. calculate the previous position the
destination position, specify INC= and POS=
When INC= count the step. calculate the difference between current position and

--- Page 45 ---
Chapter PLC Function Code
destination position, set code INC= and POS=
Execution code (ACT):
When ACT not execute the ROT code. not changed.
When ACT Execute ROT code. Generally, set ACT operation results are
required, set ACT
Parameter:
S1: Give the turntable positioning number.
S2: Specify the address store current position.
S3: Specify the address store destination position (or code value). For example,
store the code address output CNC.
S4; Calculate the result output address, the number steps rotated the
turntable, and the number steps reach the destination position previous
position.
use the calculation results, always check whether ACT
Output:
Rotation direction output. output through the short-circuit rotation direction.
When the direction forward (FOR); when reverse direction
(REV). The FOR and REV are defined below. The direction where the turntable 时
position number added forward (FOR); and the direction where the turntable 一
position number decreased reverse (REV). The address can selected
random. However, use the result, the condition ACT should always
detected.
For example:
One turntable follows:
Current position
Position
Negative Positive
Position
Position
Position
Fig. 5-19-2
CNO
cw)
Turntable Current Target |Calculation
DIR positioning position position result
address address address output
POS address
INC
ACT
Fig. 5-19-3
Conduct short-path rotation, and calculate the position number the previous position the
destination position.
The current position number S2= and the turntable dividing position count S1= 12, CNO=

--- Page 46 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual When S3= and destination position S4= and ACT When S3= and destination position S4= and ACT When S3= and destination position S4= and ACT When S3= and destination position S4= and ACT 5.20 SFT (Register Shift) With this code, the 1-byte (8-bit) data can shifted based the number bits specified
DIR= POS= INC= Function: code parameters. For cyclic shift, “1” overflowed each time added reverse direction. For ormat
Then: example, the highest bit “1”, which overflowed during left shifting, add “1” the lowest bit, ral DIR
and vice versa. Length 一 ww-
一 Moving format
卫 CONT position |designation
data
所 address
RST
ACT
Fig. 5-20-1
Control conditions:
Specify shift direction (DIR)
When DIR= shift leftward.
When DIR= shift rightward.
Specify state (CONT)
When CONT not operate cyclic shift
When CONT operate cyclic shift
Reset (RST)
The reset shift output data (W= (W=
When RST not reset
When RST Wis reset (W=
Execution conditions (ACT)
When ACT not execute SFT code.
When ACT execute shift. only bit shifted, set ACT after code execution.
Parameter:
Set shift data address, which composed one-byte storage area.
Length: four-bit number, and its definition shown Fig. 5-20-2.
positions each time
Fig. 5-20-2
The range 0~8.

--- Page 47 ---
Chapter PLC Function Code
the position parameter. When and ACT shift done constantly once every
period.
When take ACT the pulse signal. When changed from moved once.
Output:
[W: When “1” state moved out after shift operation.
moved out after shift operation.
5.21 DIFU (Rising Edge Detection)
Function:
This code can set the output signal during scanning cycle input signal rising edge.
Format:
ACT
number
Fig. 5-21-1
Control conditions:
Input signal: Set output signal the rising edge (1) input signal.
Output signal: When this function code executed, the output signal kept one scanning
cycle the ladder diagram.
Parameter:
The rising edge number with range 0~255. another DIFU code DIFD code the
ladder diagram uses the same number, the system will give alarm.
Operation:
一 上 上 一 Execution
cycle
ACT
or!
Fig. 5-21-2
Rising edge S/N. The system will automatically detect the range, and give alarm when the serial
numbers are repeated out range.
5.22 DIFD (Falling Edge Detection)
Function:
This code can output signal with scanning cycle time during input signal falling edge.
Format:
ACT
站
number
Fig. 5-22-1
Control conditions:
Input signal: Set the output signal the falling edge (0)) input signal.
Output signal: When this function code executed, the output signal with state kept for
scanning cycle the ladder diagram.
Parameter:
The falling edge number with range 0~255. another DIFU code DIFD code the ladder
diagram uses the same number, the system will give alarm.
Operation:

--- Page 48 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
ACT cycle
Fig. 5-22-2
Falling edge S/N. The system will automatically detect the range, and give alarm when the
serial numbers are repeated out range.
5.23 COMP (Binary Number Comparison)
Function:
Compare two binary data. necessary specify enough bytes the storage area store the
input data and comparison data.
一 Format:
卫
ACT Length input
format data comparison 一 (W)
address |data address
Fig. 5-23-1
Control condition:
When ACT not execute the COMP code. The value unchanged.
When ACT execute the COMP code.
Parameter:
Length: The specified format input data (constant address) and specified data length
bytes).
四 Format Specified
designation data length
constant 1-byte length
address 2-byte length
Fig. 5-23-2
S1, S2: the content comparison source and comparison source can constant
address number.
The address number is: type.
Output:
When input data>comparison data.
When input datascomparison data.
5.24 COIN (Consistency Comparison)
Function:
This code checks whether the input value and comparison value are consistent.
Format:
ACT
Length
format peut comparison —w-
designation| alue address
Fig. 5-24-1
Control condition:

--- Page 49 ---
Chapter PLC Function Code
When ACT not execute the COIN code. The value unchanged.
When ACT execute the COIN code.
Parameter:
Length: The specified format input data (constant address) and specified data length
bytes).
Lama Specified
designation data length
constant 1-byte length
address 2-byte length
Fig. 5-24-2
S1: The input data can specified constant, storage address.
S2: The storage address comparison data. 和
Output 口
When input value comparison value.
When input value comparison value. 卫
5.25 MOVN (Data Transmission)
Function:
Transmit source address data specified binary data the destination address.
Format:
ACT Length number transmission
bytes transmission destination
transmitted |source
Fig. 5-25-1
Control condition:
When ACT data transmitted.
When ACT bytes with specified number are transmitted.
Parameter:
Length: Number bytes data transmitted.
S1: source starting address constant.
Select the transmission method based S1:
1.If constant, and single-byte address, take value based
byte and copy the address with corresponding Length bytes starting
from address; word address, take the value based word
and copy the address with corresponding Length words starting from
address.
2.If address, not consider whether the and address types are
matched. Transmit data byte address.
S2: destination starting address.
For example:
ACT
Fig. 5-25-2
When constant and R60, R60=00000101.
When constant and D60, D60=5.
When address D50, and D60, D60=D50.
When the bytes with specified number are transmitted.

--- Page 50 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
When data transmitted.
During transmission, the range exceeds the parameter type quantitative range, the system will
give alarm.
5.26 MOVB (1-Byte Transmission)
Function:
Transmit 1-byte data from specified source address specified destination address via
MOVB code.
Format:
ACT transmission
transmission destination (W)
source address address
Fig. 5-26-1
口 Control condition:
When ACT data transmitted.
When ACT 1-byte transmitted.
Parameter:
S1: source address constant.
single-byte address, take the value based byte, and copy
address; word address, take the value based byte, and copy
low-byte address;
$2: destination address.
5.27 MOVW (Dual-Byte Transmission)
Function:
Transmit 2-byte data from specified source address specified destination address via
MOVW code.
Format:
ACT transmission
transmission destination 一 一 (W)
source address address
Fig. 5-27-1
Control condition:
When ACT data transmitted.
When ACT 1-byte transmitted.
Parameter:
S1: source address constant.
$2: destination address.
5.28 XMOV (Binary Index Data Transmission)
Function:
This function code used read re-write the data the datasheet. The number data
the datasheet (sheet capacity) can specified address. During PLC running, the datasheet
will operated based user setting.
Format:

--- Page 51 ---
Chapter PLC Function Code
Length
format datatable data input/ in-table
RST designation| capacity header |output data] number
storage address address storage
address address
ACT
Fig. 5-28-1
Control condition:
Specify reading writing operation (RW)
When read data from the datasheet.
When write data into the datasheet.
Reset (RST)
When RST release reset. 和
When RST reset W=0. O03
Execute code (ACT)
When ACT not execute the XMOV code, and unchanged. 卫
WhenACT execute the XMOV code.
Parameter:
Length: The length transmitted data specified format.
1-byte length.
2-byte length.
S1: data capacity storage address datasheet. The address used for storing the data
capacity datasheet. The number bytes occupied should meet the
Length-specified length. The effective range data determined the byte length
specified Length1 format.
1-byte length: 1-512.
2-byte length: 1-256, namely 256x2= 512 bytes. This the PLC datasheet
capacity.
S2: set the data header address. The storage area datasheet the byte length number
data the datasheet. The header address must the value set the datasheet.
$3: input/output address. When the data read, set the address for storing reading results.
When the data written, set the address for storing writing data.
The number occupied bytes should meet the setting Length format. Limit the
address register.
S4: in-table number storage address. used for storing the in-table number read written
data. The number occupied bytes should meet the setting Length. the set
in-table number larger than the data stored $1, there error output W=1.
Actual transmission address header address in-table number. The in-table
address (S1-1). The actual transmission address cannot exceed the datasheet.
Output:
the in-table number exceeds the value S1, and the reading writing datasheet not
executed.
When indicates that there error.
When indicates that there error.
5.29 DSCH (Binary Data Search)
Function:
This function code used search the binary data the datasheet. The number data the
datasheet (sheet capacity) can specified address. this case, even after the program
written ROM, the datasheet capacity can still changed.
Format:

--- Page 52 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual S2: set the data header address. S3: set the search data input address. S4: search result output address. Actual transmission address header address in-table Output:
REP number. The in-table number (S1-1). The actual address cannot When the searched data found.
Length 一 ow] exceed the datasheet. After search: the searched data found, output its When the searched data not found.
format datatable data datal search in-table number the search result output address. The number stored 5.30 ADD (binary addition)
RST designation| capacity header address result bytes required this address should meet the specified format. Function:
storage address output This code used for the addition 1-byte and 2-byte binary data. For the output data augend data
address address and addition result, necessary set the storage address corresponding byte length.
ACT Format:
Fig. 5-29-1
Control condition:
Detection repeat (REP)
When REP= execute the DSCH code. Start search from the initial address
datasheet, and not consider whether the destination data repeated. The
search will stopped when the destination data detected for the first time,
and the address will output. the searched data not found,
一 When REP= execute the DSCH code. the searched data not found two (or
more than two data) are found,
Reset (RST)
When RST release reset.
When RST reset W=0.
Execute code (ACT)
When ACT= not execute the DSCH code, and unchanged.
When ACT execute the DSCH code. the searched data found, output the
in-table number; the searched data not found two (or more than two
data) are found,
Parameter:
Length: The length searched data specified format.
1-byte length.
2-byte length.
S1: storage address data count datasheet. The byte length specified this address
distributes the storage area required bytes. The number data the datasheet
n+1 (the header and the footer n).

--- Page 53 ---
Chapter PLC Function Code
RST
Length1
format augend addend operation
ACT designation) address |(address or] result
constant) output
address
Fig. 5-30-1
Control condition:
Reset (RST):
When RST release reset.
When RST reset W=0.
Execution code (ACT):
When ACT not execute the ADD code, and unchanged.
When ACT execute the ADD code.
Parameter: 和
Length: Specified data length bytes) and the specified method augend (constant 口
address).
Format Specified
designation data length
constant 1-byte length
address 2-byte length
Fig. 5-30-2
S1: specify the address stored augend.
S2: the specified method addend depends the Length provisions.
S3: specify the address output operation result.
Output:
When the operation normal.
When the operation abnormal.
When the addition result exceeds the specified data length,
5.31 SUB (Binary Subtraction)
Function:
This code used for the subtraction 1-byte and 2-byte binary data. For the output data minuend
data and subtraction result, necessary set the storage address corresponding byte
length.
Format:
RST
国 三
format minuend |subtrahend| operation
ACT designation| address |(address or} result
constant) output
address
Fig. 5-31-1
Control condition:
Reset (RST):
When RST release reset.
When RST reset W=0.
Execution code (ACT):
When ACT not execute the SUB code, and unchanged.

--- Page 54 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
When ACT execute the SUB code.
Parameter:
Length: Specified data length bytes) and the specified method subtrahend (constant
address).
四 Format Specified
designation data length
constant 1-byte length
address 2-byte length
Fig. 5-31-2
S1: specify the address stored minuend.
S2: the specified method subtrahend depends the Length provisions.
S3: specify the address output operation result.
Output:
一 When the operation normal.
卫 When the operation abnormal.
When the subtraction result exceeds the specified data length,
5.32 ANDF (Bitwise AND)
Function:
This code will used conduct AND operation for the content Address and constant (or the
content Address B), and store result Address
Format:
ACT Length
format constant
designation address addressB address
Fig. 5-32-1
Control condition:
WhenACT not execute the ANDF code.
When ACT execute the ANDF code.
Parameter:
Length: Specify the data length bytes), and input data format (constant address).
Specified
designation data length
constant 1-byte length
address 2-byte length
Fig. 5-32-2
S1: specify the input data operated AND. Start from the address. The data length
consistent with the one specified Length.
S2: input data operated AND with the input data. When the format specified
address specification, start from the address. The data length consistent with the one
specified Length.
S3: the address for storing the ANDF operation result. ANDF operation result stored from
this address, and the data length consistent with the one specified Length.
For example: When Address and Address have the following data:
Accress Poe

--- Page 55 ---
Chapter PLC Function Code
AddessB
ANDF operation result follows:
5.33 ORF (Bitwise OR)
Function:
This code will used conduct operation for the content Address and constant (or
the content Address B), and store result Address
Format:
ACT Length
format ddress constantor ddress
designation address
Fig. 5-33-1
Control condition:
When ACT not execute the ORF code.
When ACT execute the ORF code.
Parameter:
Rigi
Lena Specified
designation data length
constant 1-byte length
address 2-byte length
Fig. 5-33-2
Length: Specify the data length bytes), and input data format (constant address).
S1: specify the input data operated OR. Start from the address. The data length
consistent with the one specified Length.
S2: input data operated with the input data. When the format specified
address specification, start from the address. The data length consistent with the one
specified Length.
S3: the address for storing the ORF operation result. ORF operation result stored from
this address, and the data length consistent with the one specified Length.
For example: When Address and Address have the following data:
AecressA [Tt
AddressB
ORF operation result follows:
[ttt [Tt
5.34 NOT (Bitwise NOT)
Function: This code will used conduct NOT operation for each bit the content Address
and store result Address
Format:

--- Page 56 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
ACT
ormat address address
designation
Fig. 5-34-1
Control condition:
When ACT not execute the NOT code.
When ACT execute the NOT code.
Parameter:
Length: Specified data length 2-byte).
Specified
data length
1-byte length
2-byte length
Fig. 5-34-2
S1: input data operated Not bit. Start from the address. The data length
consistent with the one specified Length.
S2: the address for outputting the NOT operation result. NOT operation result stored from
this address, and the data length
consistent with the one specified Length.
For example:
When Address and Address have the following data:
AddressA [Tt
NOT operation result follows:
[tft [ojo]
5.35 EOR (Exclusive OR)
Function:
This code will used conduct EOR operation for the content Address and constant (or
the content Address B), and store result Address
Format:
ACT Length
format Constant
designation address address Address
Fig. 5-35-1
Control condition:
When ACT not execute the EOR code.
When ACT execute the EOR code.
Parameter:
Length: Specify the data length bytes), and input data format (constant address).

--- Page 57 ---
Chapter PLC Function Code
Format Specified
designation data length
constant 1-byte length
address 2-byte length
Fig. 5-35-2
S1: specify the input data operated EOR. Start from the address. The data length
consistent with the one specified Length.
S2: input data operated EOR with the input data. When the format specified
address specification, start from the address. The data length consistent with the one
specified Length. 了
S3: the address for storing the EOR operation result. EOR operation result stored from
this address, and the data length consistent with the one specified Length.
For example: When Address and Address have the following data:
AddressB
EOR operation result follows:
AddessC

--- Page 58 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual The program must have END1 and END2 code the ending marks Level and Level Only parallel output supported, and multi-level output not supported. For the result output address all basic codes, and output function codes, not set the following address: 口 The address and address the I/O input ports. Ifthe vertical line suspended, the node not connected the subsequent node, the 了 horizontal conducting line parallel connection with the node network, unexecuted node R=} network will generate, and the system will give alarm. Star network means that there direct connection between vertical lines different rows upper bulge not allowed inside the network. means that there parallel network above The following conditions are deemed syntax error, and the system will give alarm. 上 Fig. 6-1
Chapter Ladder Diagram Editing Restrictions programs, and END1 must the front END2. The counter preset address DC, and the timer preset address (DT). the same column, and there one row middle without continually-connected vertical line. some nodes row, but any row above cannot connected this parallel system. this
Addresses K0~K5, which are occupied the system and cannot customized user. The condition cannot handled system, and therefore alarm given. case, the system will give alarm.
Addresses R990 and R991, which are occupied the system and cannot customized
user.

--- Page 59 ---
VOLUME OPERATING DESCRIPTION

--- Page 60 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual (1) The interface provides the name running ladder diagram. The ladder diagram files are divided (2) During power-on initialization, the position parameter 53#0~#3 used for setting values, which
Chapter PLC Interface Display into three types: The unique running ladder diagram, the other ladder diagrams No. binary combination parameter; when use No. ladder diagram; when 1~15,
1.1 Automatic Operation After PLC Power-On GSK218MC Series 0--15 ladder diagrams except the running one, and other ladder diagrams for editing and use No. 1~15 ladder diagrams. Determine the ladder diagram file with certain number
The PLC starts running after the system powered on: the fist period, R990.0 used referencing (To named with any two-digit number except 0-15). loaded the running file (This operation may dangerous, which valid after power-off
conduct period for the network line. Then, the R990.0 value rest “O”, and the user cannot and re-start when selected). the format incorrect, the file will deleted and rebuilt.
output it. The latching relay value the last output value before PLC stops running. The user needs carefully specify the file number running ladder diagram. The file names
Note: The key within the following description the panel key; the key the soft key under the screen; all ladder diagrams must “ladderXX.grp” (XX indicates number). Otherwise, the file
the interface corresponding the current soft key; indicates that the menu has sub-menus. All cannot identified the system. The file format specified system, and the user
operations are done MDI mode, and other modes can only used for viewing and searching. cannot modify outside the system. Otherwise, the file may deleted cannot
1.2 Program Control Interface Display identified.
1.2.1 Ladder Diagram Information Interface
Press the <Program Control> key the panel enter the program control page. Press the
[Ladder Diagram Information] soft key enter the PLCINFO interface, shown Fig. 1-2-1-1,
defining the position parameter NO: 26#6 which set under the PLC interface. Press the
<Program Control> key again switch the screen and enter the ladder diagram information
interface. The interface provides the system version number, date modification and other related
information.
EXT. FILE: Ladder@1 MODEL Carouse! Type Mag
VERSION V1.5 20181101 CONTRIVER: GSK
DATA 17: 09:
Fig. 1-2-1-1

--- Page 61 ---
Chapter PLC Interface Display
(3) When No. 0~15 ladder diagrams are used, will call No. macro programs
respectively.
(4) Selection ladder diagram file. Move the cursor input “LX”/“LXX”(X/XX indicates number)
specify the file name. Press the “Input” key, and the system will detect whether “X”/“XX”
known file name. file number detected, create the ladder diagram file the name
“ladder0X.grp” “ladderXX.grp”. During file creation, the system will automatically generate
two function blocks “END1” and “END2” that the user can continue operate the ladder
diagram file (If the file not converted after opening, the command table will always null).
The user can copy cut ladder diagram from any normally-opened ladder diagram file (The
number rows should 100. Otherwise, only take the first 100 rows), and paste other
files. This used for copying function not requiring modification quickly create new
file. For security, after ladder diagram opened for editing, the system will automatically
save the current file not saved when another file opened. Before saving, the ladder
diagram will through syntax check. any error checked, the saving will abandoned.
(5) The file header includes basic information file, such number rows and steps, which,
the step information can only obtained when the ladder diagram actually used. The user
can delete the unopened and non-running ladder diagram file. This operation irreversible.
Please careful. When the user opens non-running ladder diagram, the system will stop
the refresh ladder diagram network information avoid misleading. When the cursor
the background editing file position, the user can press the “Modify” key open the 和
information modification [Ladder Diagram Information] modify the file background
(including ladder diagram version number, adapting machine, ladder diagram maintainer).
1.2.2 Ladder Diagram Interface
Press the Diagram] soft key enter the ladder diagram interface, defining the
position parameter NO: 26#6 which set under the PLC interface. Press the <Program
Control> key again switch the screen and enter the ladder diagram interface. shown Figure
1-2-2-1:
LADDER 1/1616
FRPS. ins weer Rees.
F906.
vay NSS
上 人 下 人 一
PRO08. ane
Rey
地 二 一 下 人 一 一
agi! Bee
ppp
DATA
MDI
INFO PLCPAR PLCDGN *PLCTRACE
Fig. 1-2-2-1
Content and operation ladder diagram interface:
Ladder diagram The name running ladder diagram.
[ladder01]:
1/1088: Indicate the current position cursor-specified row ladder diagram.
RUN: Running state ladder diagram. The running state ladder diagram
includes RUN, STOP, and DEBUG.

--- Page 62 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Graph area: Ladder diagram program.
Input:
Display the input data. Press the direction key the panel
inquire the input data.
MEA: Note cursor positioning node.
Entry mode: Current working mode (the ladder diagram can only modified under
entry mode).
The up/down keys and four direction keys the panel can used for finding and positioning
view modify the element.
1.2.3 Ladder Diagram Parameter Interface
Press the 围 Ladder Diagram Parameter] soft key enter the ladder diagram parameter
interface, defining the position parameter NO: 26#6 which set under the PLC interface.
Press the <Program Control> key again switch the screen and enter the ladder diagram
parameter interface, shown Fig. 1-2-3-1.
foo [oo
Kor
[celloe
[ooelo
[lo
[Kor
PLCPAR
DATA 18:
+PLCPAR
Fig. 1-2-3-1
Content and operation ladder diagram parameter interface:
RUN: Running state ladder diagram.
ADDR: Latching relay address.
BitO~Bit7: Bit number state latching relay address.
indicates that the address maintains the pre-outage state after outage;
indicates that the address reset default state after outage.
Input: Display the input data.
Entry mode: Current working mode.
Note: Relevant ladder diagram parameter can only modified under Entry mode.
The up/down keys and four direction keys the panel can used for finding and positioning
view modify corresponding address.
1.2.4 Signal Diagnostic Interface
Press the [Signal Diagnosis] soft key enter the signal diagnosis interface, defining the
position parameter NO: 26#6 which set under the PLC interface. Press the <Program
Control> key again switch the screen and enter the signal diagnosis interface, shown Fig.
1-2-4-1:

--- Page 63 ---
Chapter PLC Interface Display
[ro
[eo
[ros [ae
[ros [eo
[ros
[ros
[roe
[ros [oe
[roo [eo
[ror [oo
STL SPL
DATA 17: 13:
Fig. 1-2-4-1
Content and operation signal diagnosis interface:
RUN: Running state ladder diagram.
ADDR: Diagnosis number address.
Bit0~Bit7: Bit number state diagnosis address. indicates that the signal
conducted; indicates that the signal not conducted.
Input: Display the input data.
Entry mode: Current working mode.
The up/down keys and four direction keys the panel can used for finding and positioning
view the corresponding diagnosis number.
Generally, this interface can only available for search operation. The user can only modify the
signals after PLC I/O port enters signal debugging mode obtaining the authorization and
setting KO.1
1.2.5 Signal Tracking Interface
The signal tracking interface composed “Setting” and “Tracking” sub-interfaces. Press the
Tracking] soft key the bottom the screen enter the signal tracking/setting interface.
The “Setting” interface signal tracking shown Fig. 1-2-5-1:

--- Page 64 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
SAMPLING
MODE TIME CYCLE SIGNAL TRANSITION
RESOLUTIONS
TIME 81928
STOP CONDITION NONE BUFFER FULL TRIGGER
TRIGGER
ADDRESS unknown
MODE RISING EDGE FALLING EDGE BOTH EDGE
SAMPLING CONDITTRIGGER ANY CHANGE
TRIGGER
ADDRESS unknown
MODE RISING EDGE FAILING EDGE BOTH EDGE OFF
DaATA 17:13:56
Fig. 1-2-5-1
Content and operation “Setting” interface signal tracking
(1) Mode:
Periodic cycle: Sample each time period.
Signal change: Sample when the signal changed.
(2) Resolution:
Input the sampling resolution. The default value the minimum resolution ms), and the range
1,000 ms).
The input value multiple ms.
(3) Time limit:
This parameter will displayed when the sampling mode set “Periodic Cycle”. Input the
execution time tracking. The “Resolution” value number specified signal addresses
determines the value range “Periodic Cycle”. The range displayed the right side.
(4) Frame limit:
This parameter will displayed when the sampling mode set “Signal Change”. Input
number samples. The range displayed the right side.
(5) Stopping conditions:
None: not stop tracking.
Full buffer zone: tracking when the buffer zone full.
Signal triggering: Trigger the stopping tracking via signal.
Trigger setting: This parameter valid when the “Stopping Conditions” set “Signal
Trigger’.
Address: The input signal address serves the stopping trigger. (The address
cannot serve the stopping trigger)
Mode: Decide the trigger mode stop tracking.
Rising edge: Automatically stop tracking through the rising edge trigger signal.
Falling edge: Automatically stop tracking through the falling edge trigger signal.
Any change: Automatically stop tracking through the rising edge falling edge
trigger signal.
(6) Sampling conditions: This parameter will work when the sampling mode set “Signal
Change”. Decide the sampling conditions.
Signal triggering: Sample the signal when there any change specified mode the
signal designated the trigger address set sampling conditions.
Any change: Sample the signal when there any change the signal designated the
trigger address set sampling conditions.
Trigger setting: This parameter will work when the sampling mode set “Signal Change”,
and the sampling conditions are set “Signal Trigger’.
Address: The input signal address serves the sampling trigger signal. (The address

--- Page 65 ---
Chapter PLC Interface Display
cannot serve the sampling trigger)
Mode: Input the trigger mode specified trigger signal.
Rising edge: Sample the specified signal state through the rising edge trigger
signal.
Falling edge: Sample the specified signal state through the falling edge trigger
signal.
Any change: Sample the specified signal state through the rising edge falling
edge trigger signal.
Connected: Sample the specified signal state when the trigger signal
connected.
Disconnected: Sample the specified signal state when the trigger signal
disconnected.
Press the [Track] soft key enter the “Tracking” interface signal tracking. shown Figure
1-2-5-2:
SAMPLING MODE TIME CYCLE
RESOLUTION
TIME
G255.
一
一
二
——J
一
一
(S) START (T) STOP
DATA 17: 15:
Fig. 1-2-5-2
Content and operation “Tracking” interface signal tracking
(1) Sampling mode: Display the current sampling mode system.
(2) Period: Display the current sampling period system, i.e, resolution.
(3) Time: This parameter will displayed when the “Sampling Mode’ set “Periodic Cycle’.
Display format during tracking: The left the current timing time, and the right the
maximum allowed timing time.
Display format during stopping: The left the timing time the rightmost the current
screen, the middle the timing time when the tracking stopped,
and the right the maximum allowed timing time.
(4) Setting address: Use the and moving cursors input the signal address
tracked tor simultaneous tracking fifteen signals. Any address
can input. For address, you can input address before 256 the first three
positions, and input addresses after 255 the fourth and fifth positions.
(5) (S) Start: After correct setting tracking parameters, press the key execute signal
tracking.
(T) Stop: Press the stop signal tracking.
Clear: Press the [es key clear the value under cursor.

--- Page 66 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual The GSK218MC series operation mainly completed two interfaces: Press the [Ladder Diagram] soft key twice enter the classification operation interface LADDER [ladder@1] 1/1616 The ladder diagram parameter interface includes: KPAR, TMR, DATA, and CTR. Press the [Ladder Diagram Parameter] soft key enter the PLCRAR interface, shown
Chapter PLC Programming Operation ladder diagram, shown Fig. 2-1-1: The ladder diagram interface includes: basic code, Keglect Fig. 1-2-3-1. Press the [Ladder Diagram Parameter] soft key again enter the
2.1. Overview function code, command table and editing command. debug mode classification operation interface ladder diagram parameter, shown Fig. 2-1-2. The
The PLC operation the GSK218MC series system completed corresponding interface FAAR. KAAS. F17D. user must get access the permission above machine debugging for parameter
the system. The user must get access the permission above system debugging for modification Emer zenev Emer modification, PLC running state control, and entry I/O debugging mode. For detailed
ladder diagram. aw: teh operation, refer Chapter III.
re) F@Q6.
Mother
Ro88. Fan
{ss ans Neglect lst anit
trt lim]
“daa. OAS. 4114.4
pe,
Ini acs Foo Ded ans Svsten Neglect ind
tat datas mode lim]
KAAS.
一 全 和 一
DATA
FUNC @STPCMD 由 EDIT RETURN
Fig. 2-1-1

--- Page 67 ---
Chapter PLC Programming Operation
Kool
[el
Kees
[eos
Kee7
[eos [ei
[aoel
[lo
koll
SMODEEN VPOSWT VPEDSWT GEAREN ”DODOR TCLAMP MTOOLC OSTASW
Mode spindle switch hasn't check On-off
DATA 19:80
Pee
Fig. 2-1-2
2.2 Basic Code 三
Press the [Basic Command] soft key Fig. 2-1-1 enter the basic command operation
interface. shown Fig. 2-2-1.
LADDER [ladder@1] 1/1616
nade
FAAS, Pits Rees,
Pal
F066.
have External fhether
ternal han emergen neglect
buds.
上 于
Rags.
lev uae Neglect Int
stew dat tet debug made rdware
“088. F172. 6114.0
Footed ania Neglect
creado etitive tet debuz mode rdware linl
“088.2 F172. Gl14.
站 人 人
DATA
4dr RETURN
Fig. 2-2-1
Press the [一 key display other basic codes. shown Figure 2-2-2.

--- Page 68 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
LADDER 1/1616
rane.
lee
F9686.
sais
一 一 人 一 人 一
a5. F172.
一
DATA
RETURN
Fig. 2-2-2
号 The basic codes are displayed seven graphics:
[4k Normally open contact
[44]: Normally closed contact
Output coil
Take Not operation for output coil
Horizontal conducting line
[or]: Vertical conducting line
Delete the vertical conducting line
Auxiliary soft key:
一 Page-flip rightward
[一 Page-flip leftward
[Return]: Return the previous menu
2.3 Operating Instructions Ladder Diagram
Add elements: Position the cursor the position add element. Input the element name
INPUT
based corresponding menu, which displayed after data. Press the key the panel
add corresponding element. the current position has elements, the added new element will
replace the original element.
Insert elements: Position the cursor the position insert element, and press the
INSERT
key the panel insert empty position for element this position. Then, follow the
element adding step add new element. The cursor can inserted one after the other.
DELETE
Delete elements: Press the key the panel delete the current element.
Add vertical conducting line: Press the soft key add vertical conducting
line the right bottom the current cursor position.
Delete vertical conducting line: Press the soft key delete the vertical
conducting line the right bottom the current cursor position.

--- Page 69 ---
Chapter PLC Programming Operation
Add horizontal conducting line: Press the[--] soft key add horizontal conducting
line the current cursor position. the current position has elements, the horizontal conducting
line will replace the existing element.
Insert row: Position the cursor any row the target row. Press the bur
INSERT
the panel, and then the key the panel insert empty row the upper position
the cursor-specified row. The subsequent rows are moved downward one one.
Delete row: Position the cursor the target row, and press the 加 key the
DELETE
panel, and then the key the panel delete the current row. The subsequent
rows are moved upward one one.
Delete block: Position the cursor the starting position delete block, and input the
DELETE
address number output coil delete target block. Then, press the key the 二
panel.
Search: Directly input the element name found, which displayed the screen
on.
data column. After input, press the panel key for upward search, and for
downward search.
SAVE
Save: Press the key the panel save the modified ladder diagram.
Description ladder diagram programming example:
Position the cursor the starting point the programming position. Press the soft
key appear normally open contactsymbol the cursor positioning place. Directly input
INPUT
the element name X1.4. Press the key for confirmation, and element X001.4
appears the current cursor position.
Move the cursor rightward one bit. Press the [4/- soft key appear normally closed
contact symbol the cursor positioning place. Directly input the element name X2.1. Press
INPUT
the key for confirmation, and element X002.1 appears the current cursor
position.
Position the cursor the starting the next row. Press the [十 上 soft key appear
normally open contact symbol the cursor positioning place. Directly input the element
INPUT
name X2.4. Press the key for confirmation, and element X002.4 appears the
current cursor position.
Move the cursor rightward one bit. Press the soft key draw horizontal conducting
line the current cursor position;
Move the cursor upward one bit. Press the soft key draw vertical conducting
line the current cursor position;
Press the soft key automatically generate the output coil, i.e., the required horizontal
conducting line, and generate the output coil the right side the ladder diagram. Directly

--- Page 70 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
INPUT
input the element name G1.0. Press the key for confirmation, and element G001.0
appears the current cursor position.
The ladder diagram shown Fig. 2-3-1:
X001.4 X002.1 G001.0
X002.4
Fig. 2-3-1 Ladder diagram example
Description: The green element the ladder diagram indicates the element connection state
regardless normally open, normally close output coil. The white element indicates
disconnection state. (Due printing problem, the dark part the figure means
disconnected state, and the light part means connected state.)
2.4 Function Code
Press the [Function Command] soft key Fig. 2-1-1 enter the function code operation
interface, shown Fig. 2-4-1.
号 LADDER 1/1616
rae nie Rees.
“ble F906. THR ROT COMP MOWN
OSCH COIN CALL SPE
hin ENDL Boe ADD
Xo11.
DEC coo OIFU OIFO EOR
ANDE opF NOT LBL
Fadl. RST SET SFT COM COME
THRE CALLU les ens
Hay AES
一
DATA 199
MOL
ZCREATE RETURN
Fig. 2-4-1
The function code list provides the used PLC function codes. For the function code format and
usage, refer “Chapter Programming”; and the operation and programming function code are
the same the “2.3 Operating instructions ladder diagram”.
2.5 Command Table
The command table the ladder diagram interface, shown the Fig. 2-1-1. Press the
[Command Table] soft key again enter the classification operation interface command table,
shown Fig. 2-5-1.

--- Page 71 ---
Chapter PLC Programming Operation
DATA 17: 21:
Fig. 2-5-1
人
Pas
Content and operation command table interface:
fe}
1/3070: Provide the current number running steps and total number steps the
ladder diagram.
RUN: Running state ladder diagram. 到
Input: Display the input data.
Entry mode: Current working mode.
[Covert]: Convert the ladder diagram command table.
[Download]: Download the command table CNC for automatic running PLC ladder
diagram.
[Stop]: Stop the running ladder diagram.
[Return]: Return the previous menu.
The up/down keys and four direction keys the panel can used for finding and positioning
view the command table.
2.6 Editing Command
LADDER [ladder@1)] 1/1616
fue Rage.
计 认
Tan: F886. Fanp
have Moo
sornal haz
FAAS,
Rees. raat,
Teta
tit adware Lind
ese. Fl72.1 G114.6
Fooled gus wpb ane
trl eed: lind
F172. Dll2.
DATA 人
CUT 之 广 RETURN

--- Page 72 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual the (MLadder Diagram] interface, press the [Command Table] soft key. the the (Ladder Diagram] interface, complete the programming and modification PLC the Diagram] interface, press the [Command Table] soft key, and press the the Diagram] interface, press the [Command Table] soft key, and press the
Fig. 2-6-1 interface, press the [Stop] soft key stop the current-running ladder diagram (if program through the PLC operation like [Basic Command], [Function Command], and [Covert] soft key, and the data column will display: “Ladder diagram converting......”. [Download] soft key, and the data column will display: “Command table downloading”.
Content and operation command table interface: modified not the current-running ladder diagram, this step can omitted). [Editing Command]. Press the <Save> key the panel, and the data column will After successful converting, display: “Converting succeeded! After successful downloading, display: “Download succeeded!”. Convert the ladder
1/1088: Display the current position the cursor and the total rows ladder diagram. prompt that: “Ladder diagram saving succeeded”, indicating that saved successfully. diagram command table, and download CNC for automatic running.
RUN: Running state ladder diagram. the case PLC programming error, during saving, corresponding PLC alarm will
Input: Display the input data. displayed. Please check the PLC program.
Entry mode: Current working mode.
[Copy]: After entering G12.1, press the key copy the ladder diagram between the
cursor and G12.1.
[Paste]: Paste the copied ladder diagram.
[Delete]: After entering G12.1, press the key delete the ladder diagram between the
cursor and G12.1.
[Replace]: Input the signal address replaced. Press the key, and the system will prompt
whether replace and replace all.
Replace; N:Donotreplace; Replace all
[Return]: Return the previous menu.
The up/down keys and four direction keys the panel can used for finding and positioning
view the command table.
2.7 PLC Running Steps
PLC running steps:
忌 1.Press the <Setting> key, and input the password above machine manufacturer the
[Password] interface.
2.Press the <Program Control> key. the [Ladder Diagram Parameter] interface, press
the [KPAR] soft key enter the viewing and setting interface latching relay. Modify the
corresponding bits K000 and K001 for corresponding operation PLC. (For example,
set K000.7 and save it). For the definition relevant bit, refer the Attachment
Code Table Volume Installation and Connection.

--- Page 73 ---
Chapter Ill PLC Address and Parameter Settings
Chapter ll! PLC Address and Parameter Settings
Such addresses and parameters counter, timer, datasheet, and latching relay are used PLC,
which can viewed and set corresponding interface. the ladder diagram parameter interface,
press the [Ladder Diagram Parameter] soft key again enter the PLC address and parameter
setting interface, shown Fig. 3-1. Include latching relay, timer, datasheet, counter, function
corresponding address, etc. used for viewing and setting these address, parameter and
datasheet. (The setting only allowed when the user inputs debugging password and obtains the
permission) Fig. 3-1.
foo
[le
[eo
[Koss [ao
[Kos [eo
[mle 品
[kos
Kos
[eo
feo [oo
PLCPAR [vo]
DATA 28:19
Pee
Fig. 3-1
3.1 Latching Relay
Fig. 3-1, press the [Ladder Diagram Parameter] soft key enter the viewing and setting
interface latching relay, shown Fig. 3-1-1.
foo
Kor
[eo
[celloe
[eos [oo
[eo
[Koss [a0
[kono [eo
[eon [oo
PLCPAR
DATA 25:
KPAR
Fig. 3-1-1
Content and operation latching relay interface:

--- Page 74 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual After modification, press the <Save> key the panel download the setting value CNC for Note: After modification, [Save] must pressed for saving and running. K000~KO005 are occupied the The up/down keys and four direction keys the panel can used for finding and positioning 3.2 Timer After modification, press the <Save> key the panel download the setting value CNC for
RUN: Running state ladder diagram. running. After successful saving, the system will display: Ladder diagram download succeeded! the system. For detailed definition, refer Table III Appendix view modify the latching relay address. running. After successful saving, the system will display: TMR download succeeded! the case
ADDR: Latching relay address. case saving error, the system will display: Download failed. the downloading conditions are not Fig. 3-1, press the [TMR] soft key enter the viewing and setting interface timer, shown saving error, the system will display: Download failed. the downloading conditions are not satisfied,
Bit0 一 Bit7: Bit number state latching relay address. satisfied, display: Illegal downloading parameter! Fig. 3-2-1. display: Illegal downloading parameter! The up/down keys and four direction keys the panel can
Indicate that the address maintains the pre-outage state after outage; used for finding and positioning view modify timer address.
Indicate that the address reset default state after outage.
Input: Display the input data. ser
Entry mode: Current working mode. ear e000
[Return]: Return the previous menu. eee eo000 sirsie inane
Enter the next page. finish time
eee 90000 seiner
Fees tes
oo6 Tees ol1oo0 o1000 Gear shift start after staa(bigger than T25
007 GO5GA swincie too! finish delayer
ees @0500
ees reve 60009 68009 est nas tim
Pere [tere 9000 68000
Feaa 00000 seh release iat
Fig. 3-2-1
Content and operation time interface:
RUN: Running state ladder.
NO.: Timer S/N, which cannot modified.
ADDR Timer address, which cannot modified.
CURT: Timer current value, which cannot modified.
SET: Timer preset value. Under the entry mode, when K000.0 (PLC
parameter modification allowed) set can modified.
Input: Display the input data.
Entry mode: Current working mode.
[Return]: Return the previous menu.
Enter the next page.

--- Page 75 ---
Chapter III PLC Address and Parameter Settings
3.3 Datasheet
Fig. 3-1, press the [DATA] soft key enter the viewing and setting interface datasheet,
shown Fig. 3-3-1.
gaa vis
@@2 peol main
cave
@@3 Dees oooo3
aaa
aes
eas pe6 war
007 pee7
ees cave
aaa Dees wages worm
Del 00010
pol
DATA 17:25:37
eee
DATA 号 一
Fig. 3-3-1
Content and operation datasheet interface:
RUN: Running state ladder. 己
NO.: Datasheet S/N, which cannot modified.
ADDR.: Datasheet address, which cannot modified.
DATA: Datasheet preset value. Under the entry mode, when K000.0 (PLC
parameter modification allowed) set can modified.
Input: Display the input data.
Entry mode: Current working mode.
[Return]: Return the previous menu.
Enter the next page.
After modification, press the <Save> key the panel download the setting value CNC for
running. After successful saving, the system will display: DATA download succeeded! the case
saving error, the system will display: Download failed. the downloading conditions are not satisfied,
display: Illegal downloading parameter!
Note: After modification, [Save] must pressed for saving and running.
The up/down keys and four direction keys the panel can used for finding and positioning
view modify the datasheet address.
3.4 Counter
Fig. 3-1, press the [CTR] soft key enter the viewing and setting interface counter, shown
Fig. 3-4-1.

--- Page 76 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual Pcs After modification, press the <Save> key the panel download the setting value CNC for Note: After modification, [Save] must pressed for saving and running. The up/down keys and four direction keys the panel can used for finding and positioning view modify the counter address. Based the V1.5 version system design, the address corresponding the function code
aaa cova aoe oooog sor Fig. 3-4-1 running. After successful saving, the system will display: CTR download succeeded! the case 3.5 Function Decoding can decode the binary code data. When either the eight-bit byte) sixteen bit (dual-byte)
aol cool ser Content and operation counter interface: saving error, the system will display: Download failed. the downloading conditions are not satisfied, continuous data the same the code data, the corresponding output data bit When there are
aoz cooz ooo00 oooog RUN: Running state ladder. display: Illegal downloading parameter! same data, the output data shown Fig. 3-5-1.
ce3 oaoog seo NO.: Counter S/N, which cannot modified.
aaa cows aaa oooog ADDR: Counter address, which cannot modified.
ae5 caas weave oaog see CURT: Counter current value, which cannot modified.
eas coos oooog ooog 区 SET: Counter preset value. Under the entry mode, when K000.0 (PLC
ae7 caa7 weave oooog parameter modification allowed) can modified.
[aes cove oooog swor Input: Display the input data.
ees cave Entry Current working mode.
core oooog oooog mode:
[mi 上 [Return]: Return the previous menu.
Enter the next page.

--- Page 77 ---
Chapter III PLC Address and Parameter Settings
LADDER [ladder@1]
Ra37.
F9010 Re4e8
F9014 0000 Re432
R@38.
Re434
DATA
MOL
INFO PLCDGN
一
Fig. 3-5-1
When the code executed, M00 corresponds the first group middle relay R400.0. The
rules are shown the table below.
三
First group Middle coil No. ladder diagram No. ladder diagram
moo R400.0 Ra6o0 Pause program Pause program
Sep
mo3 R4003 R3603 Positive rotation spindle Positive rotation spindle
moa R400.4 Ra6o4 Negative rotation spindle Negative rotation spindle
Sie

--- Page 78 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual present, the GSK218MC series supports the GSK ladder diagram editing software. GSK ladder diagram editing software ladder diagram editor GSK 218MC series milling 4.2 Software Introduction Note: the “Edit Ladder Diagram Information” dialog, columns like “Ladder Diagram Version Number’, “Applicable Machine”, and “Final Modifier’ can only English, rather than Chinese. Otherwise, (Editing menu The editing menu includes cutting, copying, pasting, finding, converting and editing (View menu Display and hide the control tool bar, state column, output window and command table (Window menu Control the selection and layout each window.
Chapter Instructions for Using Ladder Diagram Editing Software machine and machining center CNC system PC. mainly provides such functions editing, 4.2.1 Starting Software error may occur after transmission. ladder diagram. window.
4.1. General converting, debugging and printing functions for ladder diagram GSK 218MC series. The software GSK ladder diagram editing software user-friendly and requires installation. The software
can run the Windows and Windows 10. package includes Lad Edit.exe and Diag.mea files and one LadFile file folder. The Ladder01 file the
LadFile file folder the system standard ladder diagram. Double click the Lad Edit.exe run the
software. Open the Ladder01 ladder diagram the LadFile file folder the software. The interface
follows:
:am 02] ~7x
Osa Het
Ko} one Fees.2
Fig. 4-2-1-1
4.2.2 Function Introduction
(File menu
The file menu includes such functions creating, operating and saving programming files,
generating executable ladder diagram file binary file, printing, printing preview and
printing setting, well opening the recent file list.

--- Page 79 ---
Chapter Instructions for Using Ladder Diagram Editing Software
(Help menu
Version information the software.
4.3 Software Operation
4.3.1 Tool Bar
The main viewing framework has two tool bars, which are related ladder diagram editing.
4.3.1.1 Main tool bar
了 Create ladder diagram file
hdl Open ladder diagram file
Save the ladder diagram file
Cut the selected content the clipboard
Copy the selected content the clipboard
Paste the content from the clipboard
Convert the ladder diagram
Find the element
print the ladder diagram
About the dialog
4.3.1.2 Editing tool bar
Add the normally open contact
Add the normally close contact
Add the horizontal conducting line
Add the vertical conducting line (at the right bottom the cursor)
Delete single element horizontal conducting line
Delete the vertical conducting line the right bottom the element
Add output coil
Add output coil Not operation
Function code button. There are two methods edit the function code:
Click the small arrow the right side the button pop the drop-down list, and select the
function code.

--- Page 80 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
CTR
THB
KOOS. BRoT
0001 cour
K005.0 X<006.7
0002
G001.0 F001.1 carn
0003
RO87.5 X000.0 KOOS. CALL
0004
R087.6 x<000.2 K005. ‘SPE
0005 上 于 En!
RO87.7 X000.4 KOOS. ZID2
0006 上 一 一 一人。
R088.0 X000.6 K005.
0007 上 一 一 一
ooo8 <000.0 X000.1 Ross DEC
0010 x<o000.2 Rose
0011 K006.1 oar
0012 x000.4 000.5 R088 BOT
0013 koo6.z K006.2
RST
x<000.6 X000.7 ROSS
0014 SET
SFT
0015 Com
nas. |G020.0 GO20.4 GOZ0__ COME
Fig. 4-3-1-2-1
Or, click the button icon pop the function code. Select the dialog set the function code.
Dialog
到
Select the commend the left
list box directly enter the
right edit bax.
ADD
ANDF
CALL
CoD
CODT —_—
Com
COME
COHP 了 Cancel
Fig. 4-3-1-2-2
4.3.2 Selection Graphics
the editing view the ladder diagram, the black rectangle shadow indicates the cursor. Click
the left button mouse the graphic editing area between two buses, and select the position edit
the graphic unit, shown Fig. 4-3-2-1.
X000.0 000.1 RO88.1 K005.2 G013.0
X000.2 000.3 RO88.2 K005.2 GO13.1
K006.1
Fig. 4-3-2-1
During block selection, click the left key the mouse the block’s starting position, and drag
the ending row the block. Before the left button released, the selected area surrounding
represented the dotted rectangle.

--- Page 81 ---
Chapter Instructions for Using Ladder Diagram Editing Software
R088.0 X000.6 K005.2 G012.3
000.0) <000.1 RO88.1 K005.2 G013.0
K006.0
RO88.2 K005.2
K006.1
Fig. 4-3-2-2
After release, the entire ladder diagram inverse color, indicating that the ladder diagram
within the scope selected for future operation, such as: Cutting, deletion, copying, etc.
RO88.0 X000.6 K005.2 G012.3
一
x000.0 x000.1 RO88.1 K005.2 G013.0
K006.0 K006.0
x000.2 x000.3 RO88.2 K005.2 GO13.1
一 一 一
KO06.1 K006.1 rol
Fig. 4-3-2-3
wg:
4.3.3 Editing Graphics
4.3.3.1 Cut
After selection ladder diagram area edited, there are three paths realize the operation:
Click the right button mouse pop the context menu, and select Cut;
Select Edit [Alt Cut [T] the main menu;
Directly use the shortcut keys [Ctrl X].
Place the cut content the clipboard, and copy the clipboard content the ladder diagram
through pasting.
4.3.3.2 Copy
After selection ladder diagram area copied, there are three paths realize the operation:
Click the right button mouse pop the context menu, and select Copy;
Select Edit [Alt Copy [C] the main menu;
Directly use the shortcut keys [Ctrl C].
After copying, place the selected content the clipboard, and copy the clipboard content the
ladder diagram through pasting.
4.3.3.3 Paste
After selection position pasted with the ladder diagram, there are three paths realize
the operation:
Click the right button mouse pop the context menu, and select Paste;
Select Edit [Alt Paste [P] the main menu;
Directly use the shortcut keys [Ctrl V].
4.3.3.4 Delete
After selection ladder diagram area deleted, there are three paths realize the
operation:
Click the right button mouse pop the context menu, and select Basic Code Delete

--- Page 82 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Node;
Click the [Delete Node] button the editing bar;
Directly use the shortcut key [Delete].
4.3.3.5 Insert row
Move the cursor the position insert ladder diagram row. There are three paths realize
the operation:
Click the right button mouse pop the context menu, and select Insert;
Select Edit [Alt Insert row [I] the main menu;
Directly use the shortcut key [Insert].
4.3.3.6 Delete row
Move the cursor the position delete ladder diagram row. There are three paths realize
the operation:
Click the right button mouse pop the context menu, and select Delete Row;
Select Edit [Alt Delete Row [D] the main menu;
Directly use the shortcut keys [Ctrl Delete].
fe)
4.3.3.7 Convert
二 Convert the ladder program the current editing interface command table program. There
are three paths realize the operation:
Select Edit [Alt Convert [V] the main menu;
Click the [Convert Ladder Diagram] button the editing bar;
了 Directly use the shortcut key [F7].
4.3.4 Ladder Diagram Note
4.3.4.1 Ladder diagram row note
Outside the right bus area the ladder diagram, double click the left key the mouse input
note the appeared editing box.
R053.0| Normally-on
intermediate relay
500MS delay
R080.0
This note
R087.5
Intermediate relay
axis positive limit
Fig. 4-3-4-1-1
4.3.4.2 Ladder diagram element note
Move the cursor the position the ladder diagram element modified. There are two
paths realize the operation:
After selection the element, click the right button the mouse, and select Modify Note [M]
the popup context menu.

--- Page 83 ---
Chapter Instructions for Using Ladder Diagram Editing Software
K005.2
”COL qq) Ctrl14X
Copy Ctrlt+C
Paste Ctrlty¥
Koo coty
一 TIeer
Delete row(Q)
出，
—-/ Basic command (B)
Fimction command (F)
Fig. 4-3-4-2-1
Select Edit [Alt Modify Note [M] the main menu;
Edit(E) View(¥) Help (H)
Cercel(U) CtrltZ
Cut(T) Ctrl+X
Copy (C) Ctrl+C
Paste(P) Ctrl+V 008.1
Modify note Ctrl+T
Insert row(I} Insert
Delete ctrl+Del
Fig. 4-3-4-2-2
Directly use the shortcut keys [Ctrl T].
Input note the popup dialog, and click save.
Meaty Note
X005.
the system enter the debugying mode
Fig. 4-3-4-2-3
The saved note will appear the output window the bottom the screen when the
element selected each time, shown below:
R101.2 YO03.0
0187
Y003.1
0188
the system enter the
Fig. 4-3-4-2-4

--- Page 84 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
4.3.5 Export
After the ladder diagram file edited and saved, necessary convert generate
executable file. Transmit the file the CNC system for PLC execution via serial communication
software disk. For detailed operation, refer “Chapter System Communication” Volume III
Programming and Operation Manual 218MC Series Machining Center CNC System.
Generate ladder diagram file
Select the main menu file [Alt+F] Generate ladder diagram file [L]. After inputting name and
path, select Save. The generated ladder diagram file with extension name “.grp” can used for
GSK 218MC series milling machine and machining CNC center.
Refer Appendix for the ladder diagram configuration file format.
时 三

--- Page 85 ---
VOLUME IIl FUNCTION DESCRIPTION

--- Page 86 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Chapter Control Axis
1.1 Output Axial Movement Status
Overview The movement status each axis can output PLC.
Signal Axis movement signal
MV1~MV4 (F0102#0~F0102#4)
[Category] Output signals
[Function] These signals indicate that one control axis moving.
MV1: The 1s: axis moving
MV2: The axis moving
MV3: The axis moving
MV4: The axis moving
MV5: The axis moving
[Output condition}
The signal changed the following conditions:
the corresponding axis has started moving.
The signal changed the following conditions:
the corresponding axis has been the stopping state.
Axis movement direction signal
MVD1~MVD4 (F0106#0~F0106#4)
[Category] Output signals
[Function] These signals indicate the movement direction one control axis.
MVD1: Movement direction signal the 1*' axis
MVD2: Movement direction signal the 2"d axis
MVD3: Movement direction signal the 3°? axis
MVD4: Movement direction signal the 4"" axis
MVD5: Movement direction signal the axis
[Output condition] “0” indicates that the corresponding axis moves the negative direction;
and “1” indicates that the corresponding axis moves the positive direction
Note:
During stop, these signals will maintain their existing states, indicating the axis
movement direction before stopping.
Signal address
F106
1.2 Servo Ready Signal
Signal Servo ready signal
(F000#6)
[Category] Output signals
[Function] After the servo ready, the signal changed For axis with brake, the
brake released when this signal output, and when this signal not
output, indicates braking.
Signal address

--- Page 87 ---
Chapter Preparation for Running
Chapter Preparation for Running
2.1 Emergency Stop
Overview Press the emergency stop button the machine operation panel, the machine will
immediately stop movement.
一 Red
一
E-stop button
Fig. 2-1
The button locked after pressed. The release method depends different machine
manufacturers. general, rotate leftwards for release.
Signal Emergency stop signal 四
ESP (G008.4)
[Category] Input signal
[Function] Input the emergency stop signal immediately stop the machine.
[Action] When the emergency stop signal ESP changed the CNC reset, and the
machine the emergency stop state.
Signal address
此 此 此 ttf
2.2 CNC Over-Travel Signal
Overview When the tool movement exceeds the travel destination set the machine limit switch,
the limit switch will work and the tool will decelerate and stop.
Over-travel alarm will displayed.
Signal Over-travel signal
+L1~+L5 (G114#0~G114#4)
-L1~-L5 (G116#0~G116#4)
[Category] Input signal
[Function] Indicate that the control axis has reached its travel limit. Each direction each
control axis should have this signal. The and symbols the signal name indicate the direction,
and the number corresponds the control axis.
Over-travel signal Axis
Overstroke signal Axis
Overstroke signal Axis
Overstroke signal Axis
Overstroke signal Axis
Positive direction over-travel
Negative direction over-travel
[Action] When the signal set “0”, the control unit action follows:

--- Page 88 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual During automatic operation, even only one axis over-travel signal changed alarm generated, and the running stopped. During manual operation, only the axis with movement signal Once the axis over-travel signal changed the movement direction Signal address
the used axes are decelerated and stopped. decelerated and stopped. After stop, the axis can move toward the stored. Even the signal changed the axis cannot move along the
reverse direction. direction before the alarm cleared. omy
2.3 Alarm Signal
Overview the case CNC alarm, the alarm displayed the screen, and the alarm signal set
Signal Alarm signal
(F001#0)
[Category] Output signals
[Function] The alarm signal indicates that CNC the alarm state. The alarms are displayed
二 follows:
总 站 P/S alarm
Over-travel alarm
Servo alarm
[Output condition] The alarm signal the following conditions:
CNC the alarm state.
The alarm signal the following conditions:
The alarm cleared through CNC reset.
Signal address
2.4 Selection Running Mode
Signal Mode selection signal
Based the table below, select the mode with mode selection signal through the settings
below.
Mode selection signal MD1, MD2, MD4 (G043#0~#2)
Selection signal manual reference ZRN (G043#7
point return
Incremental feed selection signal INC (G043#3)
Selection signal hand wheel trial cut TEACH (G043#4
Selection signal returning program PRGZ (G043#6)
zero
Running mode inspection signal
Selection confirmation signal MINC (FO03#0)

--- Page 89 ---
Chapter Preparation for Running
incremental feed
Selection confirmation signal hand (F003#1
wheel feed
Selection confirmation signal manual (F003#2
continuous feed
Selection confirmation signal manual MMDI (F003#3)
data input
Selection confirmation signal memory MMEM (F003#5
running
Selection confirmation signal MEDT (FO03#6
program editing
Selection confirmation signal MPG RHPG (FOO6#3)
trial cut
Selection confirmation signal manual MREF (F004#5)
reference point return
Table 2-4-1 Relationship between mode selection signal and confirmation signal
9430 cast 6432 G433 6G434 case 6437 signa
"ol -we
joo
Manat [ot foo
Note: “-” irrelevant the signal state.
Signal address
F003 MEDT MMEM MMDI MINC
F006
2.5 Status Output Signal
Cutting feed signal
CUT (F002#6)
[Category] Output signals
[Function] The signal indicates that automatic cutting feeding progress.
[Output condition] The signal the following conditions:
During automatic running cutting feed (linear interpolation, arc interpolation,
helical interpolation, thread cutting,
jump cutting cutting during fixed cycle).
Note:
This signal not output feed hold state.
This signal can output during interlocking when the feed override
Signal address

--- Page 90 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
三
716

--- Page 91 ---
Chapter Ill Manual Operation
Chapter Ill Manual Operation
3.1 JOG Feed/Incremental Feed
Overview
JOG feed the JOG mode, when the feed axis and direction selection signal the machine
operation panel set the machine will move continuously along the selected
axis the selected direction.
Incremental feed the incremental mode, when the feed axis and direction selection signal
the machine operation panel set the machine will move one step along the
selected axis the selected direction. The minimum movement distance the
machine the minimum input incremental, and each step has 10, 100 1,000
times minimum input incremental value.
The only difference between JOG feed and incremental feed the mode for
selecting feed distance. JOG feed, when such feed axis and direction selection
signals +J1, -J1, +J2, -J2, +J3, -J3 are set the machine can through
continuous feed. incremental feed, the machine adopts step feed. The JOG feed
speed override plate can used adjust the JOG feed speed.
Through the fast feed selection switch, the machine moves the fast feed speed,
which irrelevant the JOG feed speed override signal.
Step distance selected through the selection incremental step length
G019#4~G019#46.
Signal Feed axis and direction selection
+J1~+J4 (G100#0~G100#3) Bom
-J1~-J4 (G100#0~G100#3)
[Category] Input signal
[Function] Select the required feed axis and direction under the JOG feed
incremental feed. The and symbols the signal name indicate the
feed direction, and the number corresponds the control axis.
Axis feed
Axis feed
Axis feed
Axis feed
一 Positive direction feed
Negative direction feed
[Action] When the signal the control unit action follows:
When JOG feed incremental feed valid, the control unit enables the
movement specified axis the specified direction.
JOG feed, when the signal the control unit enables continuous
movement the control axis.
During incremental feed, the control unit enables the specified axis feed
the defined step distance, and the control unit stops movement. During the
axis feeding, the control unit will not stop feeding even the signal
move the axis again, set the signal and then set again.

--- Page 92 ---
Selection signal manual fast feed
(G019#7)
[Category] Input signal
[Function] Select the fast feed speed the JOG feed incremental feed.
[Action] When the signal becomes the control unit action follows:
The control unit executes the JOG feed incremental feed the
fast feed speed. Fast feed override valid.
During JOG feed incremental feed, when the signal switched
from the other way around, the feed speed decreased until
and then increased the defined value. During acceleration and
deceleration, the selection signal feed axis and direction can maintain
Signal address
sof
MPG/Single-Step Feed
Overview Under MPG/single-step mode, rotate the MPG conduct single-step operation enable
slight movement the machine. Through the MPG feed axis selection signal axis
movement signal, select the machine movement axis.
Signal MPG/single-step feed selection signal
(G019#4~G019#6)
[Category] Input signal
[Function] Selection signal MPG/single-step feed movement.
This signal uses two signals for binary coding, indicating the movement distance each
step.
MP2 MP3 mmincn mminch
[人
[人
[人
[人
specification

--- Page 93 ---
Chapter Return Reference Position
Chapter Return Reference Position
4.1 Manual Return Reference Point Position
Overview Under the mode manual return reference point, setting the positioning parameter
NO: 7#0~#4, the machine will move along the set direction, and return the reference point.
The axis selected the panel button only indicates the selected axis for zeroing, and
irrelevant the axis movement direction.
The following signals are relevant manual return reference position:
Table 4-1-1
ten
DECK DECZ, DECI,
Completion signal return reference position
Signal Completion signal return reference position
ZP1~ZP5 (F094#0~F094#4)
[Category] Output signals
[Function] This signal informs that the machine the control axis reference position.
These signals correspond axes one one.
Table 4-1-2
zP1 signal ofthe axis
zP2 Retum-to-zerocompletionsignalofthe2axis
zP3 Retum-to-zerocompletion signal ofthe axis
zP4 Returmn-to-zerocompletion signal ofthe axis
Returmn-to-zerocompletionsignalofthe5 axis
[Output condition] When the signal changed
The manual return reference position has been completed, and the
current position the in-position area.
The automatic return reference position (G28) has been completed,
and the current position the in-position area.
The return reference position check has been completed, and the
current position the in-position area.
When the signal changed
When the machine moved out from the reference position.
When emergency stop signal appears.
When servo alarm occurs.
Return zero deceleration signal detection
DEC1~DEC5 (G196#0~G196#4)
[Category] Input signal
[Function] These signals decrease the movement speed manual return the reference
point approach the reference point low speed.
Note: absolute provided manual return the reference point, quickly and automatically return the
machine zero with return reference poin.

--- Page 94 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual

--- Page 95 ---
Chapter Automatic Running
Chapter Automatic Running
5.1 Cycle Start/Feed Hold
Overview
Automatic running can started the memory mode, DNC running mode MDI mode. When
the automatic running signal
(Cycle start) set CNC enters automatic running starting state, and starts running.
The signal omitted the following conditions:
modes except Automatic, DNC, and MDI
The feed hold signal (SP)
The emergency stop signal (ESP)
The <RESET> button MDI pressed.
The CNC alarm state.
The automatic running has started.
The program restarting signal (SRN)
CNC searching another sequence number.
During automatic running, CNC enters the feed hold state and stops running the following
conditions:
The feed hold signal (SP)
2.The single program code completed during single program segment
running.
MDI running has completed.
alarm appears CNC.
5.The single program segment code completed when the mode Bom
transferred other automatic running mode editing mode.
During automatic running, CNC enters the reset state and stops running the following
conditions:
The emergency stop signal (ESP) set
2.The <RESET> button MDI pressed.
During the holding period automatic running, when the feed hold signal CNC enters
the holding state and stops operation. Meanwhile (During feed hold), the cycle start lamp STL
zero cleared, and the feed hold lamp SPL The automatic running will not restarted even
the signal zero cleared again. restart automatic running, zero clear the signal first,
and set signal and then zero clear again.
Signal Cycle start signal
(G007#2)
[Category] Input signal
[Function] Start automatic running.
[Action] automatic, DNC, MDI mode, when set CNC enters the cycle starting
state and starts running.
Feed hold signal
(G008#5)
[Category] Input signal
[Function] Interrupt automatic running.
[Action] During automatic operation, when the signal set CNC enters the feed hold
state and stops running. When signal set automatic running cannot
started.
Cycle start lamp signal
STL (FO00#6)
[Category] Output signals
[Function] Inform the PLC that automatic running started.
[Output condition] The signal set which depends CNC state, shown Table
5-1.
Feed hold lamp signal
SPL (F000#4)

--- Page 96 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
[Category] Output signals
[Function] Inform the PLC that feed hold state entered.
[Output condition] The signal set which depends CNC state, shown Table
5-1.
Automatic running signal
(F000#7)
[Category] Output signals
[Function] Inform the PLC that automatic running progress.
[Output condition] The signal set which depends CNC state, shown Table
5-1.
Table 5-1
Cycle start Automatic
pase
stopping state
Signal address
itt
5.2 Reset
Overview
CNC reset and enters the reset state the following conditions.
The emergency stop signal (ESP) set
The <RESET> button MDI pressed.
When CNC reset, the reset signal RST output PLC. When the above conditions are
released, after the output time the reset signal set data parameter 203, the reset signal
RST
RST Treset (Reset time) setting value data parameter 203.
Reset
Reset Treset Data parameter
signal 203 setting value
Fig. 5-2-1
During automatic running, when CNC reset, automatic running stopped, and running
axis decelerated and stopped.
When CNC reset during execution and functions, the MF, SF, and signals
are set within ms.
RST (F001#1)
[Category] Output signals
[Function] Inform the PLC that CNC has been reset. This signal used for PLC reset.
[Output condition] The signal set the following conditions:
The emergency stop signal (ESP) set
The <RESET> button MDI pressed.
The signal set the following conditions:

--- Page 97 ---
Chapter Automatic Running
The above conditions are released and the CNC reset, and the output time the reset
signal set data parameter 203 completed.
Signal address
5.3 Program Test
Overview Before machining, execute automatic running detection detect whether the generated
program correct. When the machine not running,detection made with the change
displayed the observation position actual running machine.
5.3.1 Machine Locking
Overview Monitor the change displayed the monitoring position without moving the machine.
When the machine locking signal MMLK all axes stop outputting pulse the servo
motor during manual automatic running. However, code still distributed, and absolute
and relative coordinates are updated. Therefore, the operator can check whether the code
programming correct monitoring the position change.
Machine locking detection signal all axes
MMLK (F004#1)
[Category] Output signals 时
[Function] Inform the PLC the machine locking signal statues all axes
[Output condition] When the signal set the machine locking signals all axes are set 三
When the signal set the machine locking signals all axes are set
Signal address
5.3.2 Dry Running
Overview Dry running only valid for automatic running. The machine moves constant feed speed,
and does not execute the feed speed defined program. The feed speed set the
data parameters P86.
This function can only used check the machine movement when the machine
not installed with work piece.
Signal Dry running signal
DRN (G046#7)
[Category] Input signal
[Function] Dry running valid.
[Action] When the signal set the machine moving the feed speed set dry
running. When the signal set the machine will move normally.
Note:
During machine movement, when the dry running signal changed from the
machine running speed accelerated decelerated from the program-specified speed
dry running speed; when the dry running signal changed from the machine
running speed decelerated accelerated from dry running speed the
program-specified speed.
Signal address
cms [ow fot

--- Page 98 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual During automatic running, when the single program segment signal (SBK) set Signal Single program segment signal
5.3.3 Single Program Segment after executing the current program segment, CNC will enter the automatic running SBK (G046#1)
Overview Single program segment running only valid for automatic running. stopping state. During sequential automatic running, after each program segment the [Category] Input signal
program executed, CNC will enter the automatic running stopping state. When the [Function] The single program segment valid.
single program segment signal (SBK) set the automatic running re-executed. [Action] When the signal set the single-program segment operation executed.
When the signal set normal operation executed.
Detection signal single program segment
MSBK (F004#3)
[Category] Output signals
[Function] Inform the PLC the state the single program segment signal.
[Action] The signal the following conditions:
The single program segment signal SBK
The signal the following conditions:
The single program segment signal SBK
Notes:
Thread cutting operation.
During thread cutting, when SBK signal changed after the first non-thread cutting
program segment following the thread cutting code executed, the operation stops.
去 三 Running fixed cycle.
During fixed cycle, when SBK signal set the operation stopped each time when
the positioning approaches the drilling and retracting, instead the end program
segment. When the STL signal set the SPL signal changed indicating that
does not reach the program segment end. When program segment executed，both
STL and SPL signals are changed and running stopped.
Signal address
roe
5.4 Program Segment Jump
Overview During automatic running, when the beginning the program segment specified with
slash, and the program segment jump signal BDT set the program segment
omitted.
Signal Program segment jump signal
BDT (G044#0)
[Category] Input signal
[Function] Select whether the program segment with “/” neglected.
[Action] During automatic operation, when BDT the program segment with ”is omitted.
When BDT the program executed normally.
Detection signal program segment jump
MBDT (F004#0)
[Category] Output signals
[Function] Inform the PLC the state program segment jump BDT.
Signal address

--- Page 99 ---
Chapter Automatic Running
cmt
5.5 Program Restart
Overview When the tool stopped due damage rest, the program can re-start running from the
program segment with specified sequential number This function can also used for fast
program inspection function.
Signal Program restarting signal
SRN<G006#0>
[Type] Input signal
[Function] Restart selected program.
[Action] When the program restarting signal set “1” search the sequential number
restarting program segment, the CRT screen switched the program
re-starting screen. When the program restarting signal set “O” and automatic
running valid, the machine moves from the dry running speed the machine
re-starting point successively based the setting axis sequence. When the
machine moves the re-starting point, machining restarted. 和
Signal address

--- Page 100 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Chapter Feed Speed Control
6.1 Fast Movement Override
Overview There are gears override (FO, 25%, 50%, 100%) that can used for fast movement
speed.
Rapid [Tool
movement
multiplier 50%
二 二
Rapid movement Rapid movement
speed 10m/min speed 5m/min
Fig. 6-1
The feed speed, regardless automatic manual operation (including manual return the
reference point, and return program zero), actual movement speed multiplied
已 亏 the setting value data parameter PO88~092 and override value.
The speed set the data parameter P093.
Signal Fast movement override coding signal (G14#0~G14#1)
[Type] Input signal
[Function] Detection signal for the fast movement speed override coding
[Action] The coding signal corresponds the following override
The speed can set parameter (data parameter P93).
6.2 Feed Speed Override
Overview The override plate can used select the percentage increase decrease the
programming feed speed. This characteristic used for program detection. For instance,
when the feed speed specified the program 100mm/min and the override set 50%,
the machine will move 50mm/min.
Signal Detection signal feed speed override coding (G012#0~G012#4)
[Type] Input signal
[Function] the cutting feed speed override signals, there are binary code signals
corresponding the override:
Therefore, the override can selected within the range 0~200% 10%.
[Action] The coding signal corresponds the following override

--- Page 101 ---
Chapter Feed Speed Control
rue rvs
Note: 218MC-H and 218MC-V feed overrides are controlled the feed band switch.
6.3 Override Cancellation
Overview With the override cancellation signal, the feed speed override fixed 100%.
Signal Override cancellation signal
OVC (G006#
[Category] Input signal
[Function] The feed speed override fixed 100%. 口 三
[Action] When the signal CNC operation follows:
The feed speed override fixed 100% regardless the feed signal override
signal.
The fast movement override and spindle speed override are not affected.
Signal address

--- Page 102 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual (1) the Mxxx has been commanded the command program, xxx can specify the maximum (2) Output code signal MOO~M31. After passing through the time TMF set parameter (3) AtPLC side, read the code signal when the gating pulse signal becomes “1”, and execute (4) execute corresponding action after movement command and pause commands are (5) PLC side, set completion signal FIN “1” after corresponding action completed.
Chapter Vil Auxiliary Function number position for each function through parameter (No.204~No.206). When the (No.207) (Standard setting: msec), the gating pulse signal becomes “1”. The code corresponding action. completed the same program segment, please wait until the distribution completion However, the completion signals are commonly used the external action functions
7.1 Code Auxiliary Function command exceeds the maximum number positions, alarm will given. signal represents the program command value xxx binary. When other functions signal DEN becomes “1”. auxiliary function, spindle function and tool function. other functions can act
Overview When the code auxiliary function commands 8-bit value following the address the (movement command, pause, spindle function, and the likes) are commanded together simultaneously, necessary set the completion signal FIN “1” when all functions
coding signal and gating signal code are sent PLC. With these with the auxiliary function, output the code signal and start the execution other functions. are completed.
signals, PLC will turn turn off related functions.
general, only code valid program segment, but maximum
codes can commanded (set the position parameter NO.33#7
M3B). The maximum number positions can specified parameter
(No.204). When the command exceeds the maximum number positions,
alarm will given.
Basic processing procedure
The following signals are used for the following functions:
Table 7-1-1
Program code coding Gating Distribution Response
address signal signal completion signal
signal
code auxiliary M31
auxiliary M200~M215
function (F014#0 ~F015#7)
和 auxiliary M300 ~M315 DEN FIN
function (F016#0 ~F017#7 (F001#3 (G004#3
$00
T00 ~T31
The addresses and signals used auxiliary function code), spindle function code) and
tool function code) the program are different. However, the signal exchange steps are the same
all functions, shown below:

--- Page 103 ---
Chapter VII Auxiliary Function
(6) When the completion signal maintained “1” after the time TFIN (standard setting:
msec) set parameter (No.208), CNC will set gating pulse signal “1”, informing the fact
that the completion signal has been received.
(7) side, set the completion signal “1” when the gating pulse signal becomes “1”.
(8) When the completion signal becomes “1”, CNC sets all code signals “1”, and the
sequences auxiliary function are all completed.
(9) CNC waits the completion other commands the same program segment, and then
enters the next program segment.
The above circumstances are shown the time chart below.
Example Single command auxiliary functions
(1) (2) (5) (6)
command (alone) M****
code signal M00~M31
Strobe pulse signal
PLC action
Completion signal FIN 全
End assignment ==DEN
signal
‘ME TEIN
Fig. 7-1-1
Example Same program segment auxiliary functions and movement commands 和
人
Execute the auxiliary functions before the completion movement command
(1) (2) 03) (5) (7)(8) (9) 志
Instruction set M****
Movement command
code Signal M00~M31
Strobe pulse signal
PLC action
Completion signal FIN
End assignment DEN
signal
TMF TFIN
Fig. 7-1-2
Execute the auxiliary functions after until the completion movement command
(1) (2) (3) (4) (5) (6) (7) (8) (9)
Instruction set M****
Movement command
code signal M00~M31
Strobe pulse signal 人
PLC action fot
Completion signal FIN 全
End assignment DEN
signal
TMF TFIN
Fig. 7-1-3

--- Page 104 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual nction The code auxiliary function described follows: (1) Assume that specified the program: The range 1~8. the range exceeded, the system will give alarm. S$1~S8 (2) non-M, codes like movement and pause and auxiliary functions are specified the (3) When executed, the address signal F22#0 and the gating signal FOO7#2 are set Ensure that PLC sets the response signal FIN (G004#3) The code auxiliary function described follows: (1) Assume that SXXXX specified the program: (The states F34#0~#3 are decided (2) non-M, codes like movement and pause and auxiliary functions are specified the (3) When $500 executed, the address signal F34#0 and the gating signal FO07#2 are set (4) When S500 completed, PLC sets the completion signal FIN (G004#3) code, (5) The codes the same program segment will executed the same time. Only (6) Under auxiliary lock state, when the code executed, the system modal will changed.
7.2 Code Auxiliary Function correspond the address signals F22#0~#7 respectively. (Taking example, same time, the auxiliary functions and other codes are started and executed (4) When completed, FIN (G004#3) set code, code and code auxiliary position parameters P246~249. Through this signal, PLC can conduct gear shift. the same time, the auxiliary functions and other codes are started and executed Ensure that PLC sets the response signal FIN (G004#3) code and code auxiliary functions can executed the same time, the completion after confirming that the completion signal FIN CNC can execute the next program
Overview When the code running, set the position parameter No.: 1#2 I/O point corresponds the address signal F22#0). simultaneously. functions can executed the same time, the completion signal FIN (G004#3) can example, when the position parameter P246 set 1,000, S500 executed). simultaneously. signal FIN (G004#3) can only set after all functions are completed. segment.
controlled analog. 二 only setto after all functions are completed.
Basic processing procedure spindle code I/O point control: 总 (5) The codes the same program segment will executed the same time. Only
Table 7-2-1 after confirming that the completion signal FIN CNC can execute the next program
Program Response and completion segment.
Basic processing procedure spindle code analog control
Table 7-2-2
Program Response and
address completion signal
s**
ara

--- Page 105 ---
Chapter VII Auxiliary Function
7.3 Code Auxiliary Function
Overview code auxiliary function The code and code are used together, for example: TO6MO6:
When code executed, data address (D241) and gating signal are
sent PLC. PLC uses these signals turn off its related
functions.
Basic processing procedure
The following signals are used for the following functions:
Table 7-3-1
Program Response Completion
signal
[ce etn Sige
code auxiliary (D241) (F007 #3) occupied TFIN (GOO#5)
function the
system
(1) Assume that TXX specified the program (XX sent data address D241):
(2) non-M, codes like movement and pause and auxiliary functions are specified the
same time, the auxiliary functions and other codes are started and executed
simultaneously. When several codes auxiliary function are specified program
segment, the codes will executed sequence.
(3) When TXX executed, the gating signal FO07#3 set
(4) When the operation completed, PLC sets completion signals TFIN (G000#5) and FIN
(GOOO#O) code, code and code auxiliary functions can executed the 二
same time, the completion signal FIN (G000#0) can only set after all functions are
completed.
(5) The codes the same program segment will executed the same time. Only
after confirming that the completion signal FIN CNC can execute the next program
segment.
7.4 Gating Signal Auxiliary Function
Gating signal code auxiliary function
MF1 (F007#0)
[Category] Output signals
[Function] These signals specify the actually-specified function.
Gating signal code auxiliary function
MF2 (F008#4)
[Category] Output signals
[Function] These signals specify the actually-specified function.
Gating signal code auxiliary function
MF3 (F008#
[Category] Output signals
[Function] These signals specify the actually-specified function.
[Output condition] Related output conditions and execution process. Refer the description
“7.1 code auxiliary function”.
Note: The processing following auxiliary function CNC: The following code cannot output even
commanded the program:
*M98, M99
The code for calling subprogram
The code for calling user macro
Gating signal code auxiliary function
(F007#2)
[Category] Output signals
[Function] These signals specify actually-specified spindle speed function.
[Output condition] Related output conditions and execution process. Refer the description

--- Page 106 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual After the code signal output, the signal set and the output executed Even the signal auxiliary functions MOO, M01, M02 and M30 can also Even the signal auxiliary functions M98 and M99 are still executed Warning Even the signal the spindle analog output executed. Auxiliary function locking detection signal MAFL (F004 #4) [Category] Output signals [Function] This signal specifies the AFL state auxiliary function locking signal. [Output condition] When the signal the auxiliary function locking signal AFL When the signal the auxiliary function locking signal AFL sos od!
“7.2 code auxiliary function”. normally until completed. (Until the manual FIN signal and the gating executed. All code signals, gating signals and decoding signals are output normally. However, the execution results are not output the control unit. Signal address roe
Gating signal code auxiliary function signal are set normally.
(F007#3)
[Category] Output signals
[Function] These signals specify actually-specified tool function.
[Output condition] Related output conditions and execution process. Refer the description
“7.3 code auxiliary function’.
Completion signal auxiliary function
FIN (G004#3)
[Category] Input signal
[Function] This signal specifies the completion code, code, and code auxiliary
functions.
[Action] When the signal position changed 1--0--1, refer the description Sections
7.1, 7.2 and 7.3 for the operation and processing procedures control unit.
Warning
The above functions share the same completion signal FIN (G004#3), which must set after
all functions are completed.
7.5 Auxiliary Function Locking
Overview Prohibit the execution specified and functions. That say, the code signal and
gating signal are not output. This function used for procedure detection.
Signal Auxiliary function locking signal
AFL
[Category] Input signal
[Function] This signal selects the auxiliary function locking. The signal prohibits the execution
specified and part functions
[Action] When the signal the control unit function follows:
For automatic running, DNC running and MDI operation, the control unit does
not execute the specified and functions. That say, the code signal
and gating signal are not output.

--- Page 107 ---
Chapter VIII Spindle Speed Function
Chapter VIII Spindle Speed Function
8.1 Spindle Speed Control Mode
Overview Based the control method, the GSK218MC series spindle divided to: gear spindle
and analog spindle.
the gear spindle mode, CNC controls the spindle speed converting code
switching value and outputting the spindle.
the gear spindle mode, CNC controls the spindle speed converting code
analog value and outputting the spindle.
set position parameters NO: 1#2 I/0 point controlled analog.
8.1.1 Gear Spindle
Overview The gear spindle means that the spindle code controlled point.
Signal
Spindle speed gating signal
(F007#2)
Gear spindle address signal
SCODE1~ SCODE8 F22#0~F22#7
[Category] Output signals
[Function] These signals specify actually-specified spindle speed function.
[Output condition] For related output conditions and execution process, refer the 三
description “I/O point control spindle code the 7.2 code auxiliary
function”.
Note: code range: S1-S8. When the range exceeded, the system will give alarm. S1-S8 correspond
address signals F022#0~#7 respectively. the standard ladder diagram the system, only $1, and roe
gears are provided for reference, and therefore S4~S8 are not available for use. use them, the user
needs add corresponding ladder diagrams.
8.1.2 Analog Spindle
Overview Analog spindle means that the spindle speed controlled the analog voltage value
output CNC. CNC controls the spindle speed converting code analog voltage
and outputting the machine spindle.
The actually-output analog voltage equal the value spindle-controlled value
multiplying spindle override.
Signal Spindle override coding signal (G030#0~G030#7)
[Type] Input signal
[Function] The signals are spindle override coding signal and spindle override coding
detection signal. There are binary code signals corresponding the override:
Therefore, the spindle override can selected within the range 50~120%
10%.
When the spindle speed control executed and the spindle speed override not
used, the override value set 100%.
Note: During thread cutting, the spindle speed override function invalid.
Gear shift
Although the code represents the spindle speed, the actual-controlled object spindle
motor. Therefore, CNC needs determine the corresponding relationship between spindle motor
speed and gear grade. Just like direct selection from code, CNC selects the gear grade based
the speed range each gear grade defined parameter, and selects the signal (GR4, GR3,
GR2, GR1) based gear grade, and informs PLC select corresponding gear grade.
Meanwhile, CNC outputs the spindle motor speed based selected gear grade. specifying
S0~S99999 MDI operation, CNC outputs the code corresponding the spindle (GR1, GR2,
GR3, GR4, output) speed. Through parameters No.246~249, speed gears (GR1, GR2,
GR3 and GR4) can set, and the gear grade selection signal can output. When the gear

--- Page 108 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
grade selection signal changed, signal also output.
The meanings gear shift signals are follows:
Table 8-1-2-1
When the code voltage 10V, the spindle speed (parameter No.246) (min
When the code voltage 10V, the spindle speed (parameter No.247) (min 人).
When the code voltage 10V, the spindle speed (parameter No.248) (min’).
When the code voltage 10V, the spindle speed (parameter No.249) (min’').
The relationship between code command, voltage (0~10V) spindle motor speed code and
gear grade selection signal
(GR1, GR2, GR3, GR4) shown Fig. 8-1-2-1.
M-type gear shift
Spindle motor
rotation command
(analog voltage
output)
口 1cy
the spindle motor
speed (Ve) 一 一
一 Spindle rotation
fe) command
一 code input)
Data parameter Data parameter Data parameter Tyata parameter
246 setting value 247 setting value 248 setting value 249 sctuing value
Fig. 8-1-2-1
Signal: Gear grade selection signal
GR1,GR2,GR3,GR4 (F034#0~#3)
[Type] Output signal
[Function] These signals inform the PLC the selected gear grade.
[Output condition] For the explanation these signals, refer the description
about gear shift mode Overview.
Gear grade selection signal (Input)
GR1,GR2,GR3,GR4 (G028#0~#3)
[Type] Input signal
[Function] These signals inform the CNC the currently-selected gear grade.
[Output condition] For the explanation these signals, refer the description
about gear shift mode Overview.
Signal address
=#6
6028 GR4 GR3 GR2 GR1
F007
F034 GR4 GR3 GR2 GR1
T-type gear shift
When the value set through the position parameter 38#5, the T-type gear shift
selected.

--- Page 109 ---
Chapter VIII Spindle Speed Function
Command T-type gear shift. The gear shift achieved selecting corresponding spindle
gear grades through PLC signals (G28.0~G28.3). The maximum rotation speed can
determined through the position parameters (P252, P256, P260 and P264). Through the gear
ratio the mechanical part, calculate and set corresponding parameter, and realize gear shift
through PLC programming. general, I/O code used command the gear grade.
When the corresponding gear grade tool specified, the code executed. Calculate the
output spindle analog voltage based maximum rotation speed the gear grade.
Table 8-1-2-2
Maximum spindle
signal signal
parameter
GR1 Gz80
pataparameterP256
GR3 G282 DataparameterP260
GR4 pataparameterP264
For example: When signal connected PLC, the executed code will convert analog
voltage based corresponding data parameter. For example, when P246 set 3,000, P247
set 6,000. When G28.0 connected and $1500 executed, the system outputs analog
voltage; when G2.1 connected and S1500 executed, the system outputs 2.5V analog
voltage.
Spindle motor
aye
output)
GRI cre GR3 GR4 三
Upper limit voltage
corresponding
the
speed (Vc)
Spindle rotation
command
code input)
Data parameter Data parameter Data parameter Data parameter
246 setting value 247 setting value 248 setting value 249 setting value
Fig. 8-1-2-2
8.2 Rigid Tapping
Overview Rigid tapping synchronizes the tapping axis with the spindle conventional tapping
canned cycle.
rigid tapping (in G74 and G84), the CNC needs detect the rotation direction signal
the spindle determine the direction the cutting feed and the machining process.
Execution:
Spindle speed axis feed tapping 一 send M05 suspension code spindle wait for
dead stop spindle 一 send reverse rotation code 一 axis tool returning back the
starting point 一 spindle suspension
achieve rigid tapping, corresponding ladder diagram must prepared inform the
CNC the direction rotation the external spindle.
Signal Rigid tapping signal
RGTAP (G061#0)
[Category] Output signals
[Function] This signal informs the PLC that already rigid tapping mode.
[Output condition] RGTAP currently rigid tapping mode
currently not rigid tapping mode
Signal address

--- Page 110 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
8.3 Backing Rigid Tapping
Overview When the system performs rigid tapping, the tap may not retracted the outside the
workpiece due power failure emergency stop. order more conveniently and
quickly withdraw the tap that has been tapped into the workpiece, the backing rigid
tapping therefore born. This function will automatically store the last tapping processing
information. After the signal the tapping back turned on, the system performs the
retracting action the corresponding rigid tapping cycle according the stored information,
and retracts the tap that breaks into the workpiece point specified the tapping
command.
Execution:
Eliminate all alarms and put the system reset state 一 select MDI operation mode press
[Spindle exact stop] button turn rigid tapping backing RTNT signal system
performs retraction with last tapping parameter spindle rotation feed axis feeds retract
point (tapping retraction completion point) rigid tapping retraction completed and
RTNT signal becomes RTPT tapping retraction completed and signal becomes 一
normal operation axis tool retracts the starting point.
Start
Select MDI mode the reset state, press the [Spindle exact stop] button, the tapping
backing function start signal RTNT turned and the system starts perform
backing rigid tapping;
Complete
After the rigid tapping backing completed, the rigid tapping backing start signal RTNT
turned off and the rigid tapping backing completion signal RTPT signal turned
the tapping backing action terminated, and the system the reset state. Other normal
operations may executed this time;
Starting point
Completion point
Point rigid tapping backing
Tapping
breakout point
Starting point rigid
tapping backing
Ending point
tapping (Z_)
Figure 8-3-1 Schematic diagram for the backing rigid tapping
Signal Rigid tapping backing start signal
RTNT (G062#6)
[Category] Output signals

--- Page 111 ---
Chapter VIII Spindle Speed Function
[Function] This signal informs the PLC that already rigid tapping backing mode
[Output condition] RTNT currently rigid tapping backing mode
currently not rigid tapping backing mode
Signal Rigid tapping backing completion signal
RTPT (FO66#1)
[Category] Input signal
[Function] This signal informs the PLC that already rigid tapping backing completion
status
[Output condition] RTPT currently rigid tapping backing completion status
currently not rigid tapping backing completion status
Signal address
roo
8.4 Contour Control Method
Overview The servo spindle can positioned, interpolated with other servo axes, and linearly
interpolated between the spindle and the servo axis after receiving the instructions.
The case where the spindle speed the servo spindle controlled called spindle rotation 和
control (the spindle rotated the speed command S); the case where the position the
spindle controlled called spindle contour control (the spindle rotated the movement
command). contour control function involves contour control the spindle.
Switching between spindle rotation control and contour control depends the output
signal from the PLC. The manual and automatic operation the contour control axis
the same the normal servo axis the contour control mode.
8.4.1 Contour Control Axis Setting
When the position parameter (No37#7 SCS)=“1", contour control function effective, and
contour the spindle may controlled. The axis that performs contour control configured
one the CNC control axes.
Note: The system fixes the 5th axis the contour axis and the number CNC control axes
must set and this number cannot changed.
8.4.2 Switching Between Spindle Rotation Control and Contour Control
Switching from spindle rotation control contour control; When the contour control
switching signal CON (G033#4) "1", the spindle becomes the contour control axis.
When switching contour control performed during spindle rotation, the spindle stops
immediately and switching performed.
Switching from contour control spindle rotation control; When the contour control
switching signal CON (G033#4) "0", the spindle becomes the spindle rotation control axis.
The switching performed after confirming that the movement command the spindle for
both the automatic operation and the manual operation has been completely ended. alarm
issued when switching performed during the movement the spindle.
8.4.3 Contour Control Axis Setting For Interpolation
For servo axes that are interpolated with the contour control axis, axes can
selected, and only linear interpolation available.
8.4.4 Contour Control Axis Reference Point Returning
When the position parameter (No37#5 CsZR)=“0”, the reference point return function the
contour control axis invalid. After the spindle rotation control mode successfully switched the

--- Page 112 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
contour control mode, the CNC sets the current point zero (when the series spindle servo
unit adapted, the mode under which the servo unit switched the speed mode from the position
mode shall selected and the servo unit will oriented the set position. For the position
setting, please refer the Series Spindle Servo Unit Manual).
When the position parameter (No37#5 CsZR)=“1”", the reference point return function the
contour control axis valid.
Operating procedures:
Manual operation mode
After the servo spindle switched the contour control mode, the spindle starts
reference point return operation when the feed axis direction selection signal (G100#4)
set "1" the reference point return mode. After the reference point positioned, the
reference point return completion signal ZP5 (F094#4) becomes "1".
Automatic operation mode
G00 command
After the servo spindle switched the contour control mode, the servo spindle
performs the reference point return operation when the GOO command executed
without performing the reference point return operation. the case GOO command,
the servo spindle returns the reference point. After the reference point return
completed, the reference point return completion signal ZP5 (F094#4) becomes "1" and
positioned the command position. The GOO command that executes one more
reference point return operations becomes the normal positioning operation.
The difference between GOO based reference point return and G28-based manual
reference point return that, the reference point always positioned the manual and
全 G28-based reference point return operation，while the case G00, the arbitrary
command position can located.
G28 command
After the servo spindle switched contour control mode, the case command
G28, the spindle moves the intermediate point after the spindle motor stops. Then,
the reference point return operation performed, and after the reference point
positioned, the reference point return completion signal ZP5 (F0946#4) becomes "1".
When performing reference point return operation after the servo spindle switched
the contour control mode, perform the operation positioning the reference
point and set ZP5 "1".
Reference point return interrupt
Inthe manual operation mode, the reference point return operation can interrupted
when the reset, emergency stop, feed axis direction selection signal set "0". The
reference point return operation after the interruption re-executed from the beginning.
Inthe automatic operation mode, the operation can interrupted reset, emergency
stop, feed hold, and on. any case, the reference point return operation after the
interruption re-executed from the beginning.
8.4.5 Contour Control Axis Operation (Automatic/Manual)
case the contour control mode, after performing the reference point return, the axis can
operated the same way the normal servo axis. However, under the spindle rotation control
method, the axis does not operate control axis. alarm issued during automatic
operation (PS0197).
addition, regarding manual operation with respect the contour control axis, please process
PLC ladder timing the like that does not operate the spindle rotation mode.
Signal
contour control switching signal CON (G027#7)
[Category] Input signal
[Function] Switching between the spindle rotation control mode and the contour control
mode. Valid case (No37#7) ="1”.
1st spindle spindle contour control switching completion signal FCSS1 (F042#6)
[Category] Output signals
[Function] Notify the fact that the spindle has switched the contour control mode.
[Output conditions] Become “1” the following conditions.

--- Page 113 ---
Chapter VIII Spindle Speed Function
When the associated spindle has not yet entered into the contour control mode (spindle
rotation control mode). Valid case parameter (No37#7) ="1”.
Time chart
Spindle rotation control contour control Spindle rotation contral
CON
Gar switch and
spindle motor
completed
FSCSL
Internal control switch Internal control switch
Fig. 8-4-5-1
Signals related contour control
Gear selection signals GR10, GR20, GR30, GR40, (F034#0-F34#3)
[Category] Output signals
[Function] Switch the number stages the PMC command gear.
Gear selection signals GR1, GR2, GR3, GR4 (G028#0-G28#3)
[Category] Input signal
[Function] These signals inform the CNC the number gear stages currently selected.
Table 8-4-5-1 志
PPP eet
pear
contour control axis reference point return completion signal ZP5
(F094#4)
[Category] Output signals
[Function] Indicates that the reference point return the contour control axis has been
completed.
ZP[_]
J): 1.... Reference point return signal the 1°" axis
2.... Reference point return signal the 2"? axis
3.... Reference point return signal the axis
[Output condition] the contour control mode, manual reference point return

--- Page 114 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
G28-based automatic reference point return command executed, and the
contour control axis the reference point position, and the signal
8.5 PMC Axis Control Mode
Overview The axis detached from the CNC parameter setting, that longer receives the
CNC command. Instead, sends the running command data the axis through the PLC,
and performs the function the specified action. The PLC axis runs independently and
does not interlock interpolate with the CNC axis. The system can control PLC axes,
which are generally used for the control equipment such indexing table and servo tool
magazine. Control functions that can implemented via the PLC axis:
Rapid movement
Return the reference point
Select machinery coordinate system
Note: PLC axis control realizes various control functions through PLC command control signals, and CNC
provides set input/output signal group for PLC axis control
Step
(1) Set the control axis the PLC axis control parameter P800/P805/P811/P815;
(2) Adopt the PLC directly control the axis. Set the control axis selection signals
EAX1-EAX4 "1" according the set group number, and separate them from the CNC
management become the PLC axis. The minimum unit the control axis for PLC axis
control set parameter P801/P806/P812/P816.
(3) Specify the PLC axis perform the action. The axis control command signals ECOg-EC6g
全 are used specify the type action, and the axis feed speed signals EIF0g-EIF15g are
used indicate the feed rate controlled the axis, and the axis control data signals
EIDOg-EID31g are used specify the amount movement other data. Above signal
and the program segment stop and prohibition signal specify the command for program
segment. These signals are collectively referred axis control program segment data
signals.
(4) When the designation the set data operation program segment completed, the
current logic the axis control command signal EBUFg inverted. the previous EBUFg
itis set the previous EBUFg set The axis control command read
completion signal EBSYg the CNC output signal must the same the logic the
signal EBUFg, otherwise cannot inverted.
Controlled parameters
parameters
PMCA PMCP PMCS
PMCS =1: PMC axis selection specified signal
=0: PMC axis selection not specified signal
zero returning method selection for PMC axis: there one-turn signal
=0: zero returning method selection for PMC axis: there not one-turn signal
PMC axis does not return the reference point, and command machinery
coordinate system alarms the selected mode
=0: PMC axis does not return the reference point, and command machinery
coordinate system does not alarm the selected mode
Data parameter
System axis number the 1st PMC axis control (0: none 1-5: the 1st
axis the 5th axis
0801 The smallest unit the 1st PMC axis control data (0.0001-360.0)
100

--- Page 115 ---
Chapter VIII Spindle Speed Function
The acceleration/deceleration time the 1st PMC axis control speed
command
System axis number the 2nd PMC axis control (0: none 1-5: the 1st
axis the 5th axis)
0806 The smallest unit the 2nd PMC axis control data (0.0001-360.0)
The acceleration/deceleration time the 2nd PMC axis control speed
command
System axis number the 3rd PMC axis control (0: none 1-5: the 1st
axis the 5th axis)
[0812 The smallest unit the 3rd PMC axis control data (0.0001-360.0)
The acceleration/deceleration time the 3rd PMC axis control speed
command
System axis number the 4th PMC axis control (0: none 1-5: the 1st
axis the 5th axis)
0816 The smallest unit the 4th PMC axis control data (0.0001-360.0)
The acceleration/deceleration time the 4th PMC axis control speed
command 三
8.5.1 Signal Address
可
F130 EBSY EGEN EIAL EINP
F133 EBSY EGEN EIAL EINP
F136 EBSY EGEN EIAL EINP
F139 EBSY EGEN EIAL EINP
F131 MABUF
F134 MABUF
F137 MABUF
F140 MABUF
8.5.2 Command
Table 8-5-2-1
101

--- Page 116 ---
人 Peaks 控 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Command [Action Datat- Data2 Description
Rapid movement Rapid movement Total Perform the same operation
speed amount CNC G00
movement
eae
return CNC manual reference point return
Selection Rapid movement Machinery Perform the same functions the
coordinate speed coordinate CNC G53
system
Note: The indicates the axis control command signals ECOg-EC6g.
"Data indicates the axis control feed speed signal EIFOg-EIF 15g.
"Data represents the axis control data signal EIDOg-EID31g.
The continuous feed command immediate command, without command cache the CNC side.
8.5.3 Command Action Time Chart
[1] [2] [3] [4] [5]
Command
program
section (input)
EBLFg
(input)
一
fe) Non-operable
command
mye
一 (output)
Execution-
waiting [1] [2]
buffer Stan Fnd Start
Fig. 8-5-3-1
8.5.4 Signal Description
(blank, marks the 2PMC axis.
(1) PMC axis selection signal (PMC axis control)
Signal symbol: EAXg1- EAXg6 (G136.0-G136.4)
Signal type: PLC —NC
Signal function:
(2) Axis control command signal (PMC axis control)
Signal symbol: EC0g EC6g (G143.0 G143.6, G155.0 G155.6, G167.0
G167.6 G179.0~G179.6)
Signal type: PLC —NC
Signal function:
(3) Control feed rate signal (PMC axis control)
Signal symbol: EIFOg~EIF 15g (G144.0~G145.7, G156.0~G157.7)
Signal type: PLC —NC
Signal function:
(4) Axis control data signal (PMC axis control)
Signal symbol: EIDOg~EID31g (G146.0~G149.7, G158.0~G161.7, G170.0~G173.7,
G182.0~G182.7)
Signal type: PLC —NC
Signal function: binary data specifies the amount movement, rather than the direction
movement.
(5) Control command read signal (PMC axis control)
Signal symbol: EBUFg (G142.7, G154.7, G166.7, G178.7)
Signal type: PLC —NC
102

--- Page 117 ---
Chapter VIII Spindle Speed Function
Signal function: command CNC reads the command data program segment
controlled the PLC axis.
(6) Axis control read completion signal (PMC axis control)
Signal symbol: EBSYg F133.7, F136.7, F139.7)
Signal type:
Signal function: CNC notifies the PLC that the command data program segment
controlled the PLC axis has been read into the signal the buffer.
(7) Reset signal
Signal symbol: ECLRg (G142.6, G154.6, G166.6, G178.6)
Signal type: PLC
Signal function: set the signal “1” for reseting PLC axis control command
During movement axis: axis decelerates and stops
Suspend execution: stay execution
Auxiliary function execution: execution stopped and all buffered commands are
cleared; control commands input are invalid when the signal When the continuous
feed (ECOg-EC6g: 06h) command specified, the reset signal ECLRg set that
is, the command ended. this time, the servo motor decelerates and stops, the axis
movement signal EGENg set and the control axis selection status signal EAXSL
also set The reset signal ECLRg shall kept until the control axis
selection status signal EAXSL set addition, the reset signal ECLRg shall
kept until the axis movement signal EGENg set
(8) Program segment stop signal
Signal symbol: ESBKg (G142.3, G142.3)
Signal type: PLC program segment stop invalid signal Signal symbol: EMSBKg
(G143.7, G167.7)
Signal type: PLC
Signal function: stop disable the stop for each program segment. When the program 志
segment stop signal ESBkg set during the execution the command
from the PLC, the axis control stopped when the program segment currently
being executed ends. When the program segment stop signal ESBKg set
the buffered command executed. However, when the command program
segment stop and prohibition signal EMSBKg the program segment stop
signal ESBKg invalid.
(9) place signal
Signal symbol: EINPg (F136.0, F139.0)
Signal type:
Signal function: indicates whether the PLC axis the in-place status. This signal
becomes when the axis controlled the PLC the in-place state. When
the deceleration state during axis movement, the in-place detection
performed, and the next command will not executed until the in-place width
reached.
(10) Alarm signal (PMC axis control)
Signal symbol: EIALg (F130.2, F133.2, F136.2, F139.2)
Signal type: NC->PLC
Signal function: indicates the alarm status associated with PLC axis control. This signal
becomes when servo alarm, over-travel alarm, alarm occurs the axis
controlled the PLC. When the alarm released the following operations
and the reset signal ECLRg set the signal For servo alarm, please
eliminate the cause the alarm and reset the CNC. For over-travel alarms,
please move the axis within the limit the stored travel and reset the CNC.
Commands for moving the axis within the limit the stored travel the
over-travel alarm, such rapid movement (ECOg-EC6g).
(11) Axis movement signal (PMC axis control)
Signal symbol: EGENg 130.4, F133.4, F136.4, F139.4)
Signal type:
Signal function: indicates movement status the axis.
(12) Return-to-zero completion signal
Signal symbol: Reference point return completion signal ZP1-ZP5 (F094.0-F094.4)
Signal type: PLC
103

--- Page 118 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Signal function: PLC axis and CNC control axis return reference point signal definitions
are the same. The number the end indicates the number the control axis.
This signal becomes "1" when the reference point return completed and
place. The signal becomes "0" the case removal from the reference point,
emergency stop servo alarm.
104

--- Page 119 ---
Chapter Programming Code
Chapter Programming Code
9.1 User Macro Program
Overview Although subprograms are very useful for repeatedly performing the same operations, the
user macro program allows the use variables, arithmetic operations,
logical operations, and conditional branches, which very easy develop
general-purpose program. The machining program can call the user macro program and
subprograms with simple code.
00001 (main program name) Subprogram (custom M61)
N10 G50 X100 2100; 09064;
N30 GO1 UO.8: G65 H82 P20 Q#1004 R1;
N40 M61:
N50 X100 Z100; G65 H01 P#1001 QO;
M99 P50;
fe)
Fig. 9-1-1
This means that programming function with macro can make universal feature. That
is, programs may written with data variables (variable data unknown data). For 三
example, user macro program can used for group processes. Son
Signal User macro program input signal
UI000~UI015 (G054, G055)
[Category] Input signal
[Function] Provide function for the control unit. These signals are read system
variable macro program
and used interface signal between the macro program and the PLC.
The system variables corresponding these signals are expressed follows:
Table 9-1-1
105

--- Page 120 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual Note: #1032 16-bit variable consisting the following: Signal address veer vane voor vows yore vers ore 9.2 Fixed Cycle Overview Fixed cycles simplify programming. With canned cycle, code can commanded 106
sat oss [wens ooo [voor program segment perform frequently used machining operations. Without fixed
ree [ums [ume yore [ues cycle, multiple program segments are required. addition, the fixed cycle can shorten
User macro program output signal
U000-U015
(F054~F055)
[Category] Output signals
[Function] Provide function for the control unit. These signals are read and written
system variable the user macro program and used interface signal between the user macro
program and the PLC.
The system variables corresponding these signals are expressed follows:
人
Table 9-1-2
Signal Variable
Pot
OHS
TSO
Poo
SHS
Note: #1132 16-bit variable
consisting the following:

--- Page 121 ---
Chapter Programming Code
the program and save storage space.
Description Afixed cycle consists the following consecutive operations:
Operation Position hole
Operation Move quickly the point plane
Operation Hole machining
Operation Hole bottom operation
Operation Retract the tool the point plane
Operation Move quickly the initial point
《一 一 Initial point
Action ——> Action
一 action
Rapid
-一 movement
Action 一 Cutting feed
Figure 9-2-1 Fixed cycle operation sequence 去 三
Spindle control: some fixed cycles, required output the spindle code for reverse
rotation.
The following fixed cycles require spindle control.
Reverse tapping cycle G74; Fine boring cycle G76
Tapping cycle G84; Bore hole cycle G86
Reverse boring hole cycle G87; Bore hole cycle G88
For spindle control, the following common auxiliary functions are used:
Refer the description auxiliary functions.
M03: main shaft clockwise rotate
M04: main shaft anticlockwise rotate
MO5: Spindle stop
M19: Spindle orientation
Tapping signal: The tapping signal output during the tapping cycle. The tapping signal
also output when the tapping cycle code valid.
Override: Cutting feed override always set 100% during tapping.
Feed suspension: When the feed suspension button pressed during tapping, the
movement does not stop immediately. But when the tool returns the plane,the
movement stops.
Dry running: TDR (parameter 12#5) defines whether the dry running during tapping
valid.
Signal Tapping signal
TAP <F001#5>
[Type] Output signal
[Function] Notify the system that the tapping mode.
[Output condition] The signal the following cases:
-System the tapping cycle mode G74, G84
-System the tapping mode G61.0:
The signal the following cases:
-System neither the tapping cycle mode nor tapping mode
-Reset scram signal input
Signal address
107

--- Page 122 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
到
108

--- Page 123 ---
Chapter Display/Setting
Chapter Display/Setting
10.1 Clock Function
Overview Display the year, month, and day the setting screen.
Note: the clock can only set the screen.
10.2 Display Operation History
Overview This function displays the operator's history the operation regarding the MDI keys
and signals when error CNC alarm occurs.
10.3 Help Function
Overview With this function, CNC alarms and CNC operation details may displayed the
screen.
Alarm details: the help screen shows the alarm that has occurred and how cancel the
alarm. However, only the information some P/S alarm numbers that are often
misinterpreted difficult understand displayed detail.
109

--- Page 124 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
110

--- Page 125 ---
Chapter Measurement
Chapter Measurement
11.1 Skip Function
OverviewAs with G01, the axis motion specified after the G31 code, and linear interpolation can
commanded. external skip signal input during the execution this command, the
execution the command interrupted for the execution the next program segment.
The skip function used when the measurement end point not programmed but
finished with signal command from the machine tool. For example, may used for the
grinding. The skip function can also used measure the workpiece size.
The coordinate values when the skip signal turned can used the user macro
program, because they are stored the system variables #5016 #5019 the user macro
program follows:
#5016 X-axis program segment end position
#5017 Y-axis program segment end position
#5018 Z-axis program segment end position
#5019 4TH-axis program segment end position
Signal Skip signal
SKIPP <G001#1>
[Category] Input signal
[Function] This signal ends the skip cutting. That is, program segment containing G31, 己 三
the position where the skip signal becomes "1" stored the user macro variable.
the same time, the motion code the program segment ended.
[Operation] When the skip signal becomes "1", the controlled device operates follows:
When the program segment includes skip machining code G31, the control
device reads and stores the current position the code axis when the signal The
control device stops the movement the axis and then clears the remaining movement
distance the code axis this program segment.
The rising edge rather than the state the skip signal monitored. Thus, the
skip signal continues "1", when the next skip cut commanded, considered that its
skip condition satisfied immediately.
Note: width the skip signal shall 10ms least.
Signal address
cof
111

--- Page 126 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
112

--- Page 127 ---
Chapter XII Panel Lock Setting
Chapter Panel Lock Setting
Signal program editing lock signal
LEDT (G046#3)
[Category] Input signal
[Function] This signal locks the program editing function.
[Action] the signal the program editing function valid.
the signal the program editing function invalid and the program cannot
edited.
Operation panel lock signal
LSYS (G046#4)
[Category] Input signal
[Function] This signal locks the machine operation panel keys.
[Action] the signal all operation keys the machine are locked and invalid:
the signal the machine operation keys are valid.
Signal address
站
113

--- Page 128 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
114

--- Page 129 ---
Appendix 1Address between PLC and CNC feed input Selection confirmation signal manual
Appendix 1Address between PLC and CNC Rewndng CRT Manual handwheel feed selection confirmation Foo3 Automatic running selection confirmation Foo3W
CNC (PLC address: F000 F205 Automatic operation suspending SPFL OOOH JOGfeed selection confirmation Foot Storage editing selection confirmation MEDT MDlbased reset MDIRST Foo6f
Table Automatic operation starting STL Fooo Optional program segment skip confirmation MBDT1 Handwheeltrial cutting status RHPG
Servoready OOOH Axis machine tool locking confirmation MMIK Foo4 Grammardetectioninprogress SCHK
Automaticallyoperating Fooot Manually absolute confirmation Foo42 Systemmodelselecion CNCS
Single program segment confirmation MSBK_ Foo4 Starting from hand wheelinterruption HSL FOOT
erg function locking confirmation MAFL Auxiliary function strobe pulse
Endofassignmentsigna Foot Spindlefunction strobe pulse
spindleenable ENB Foot Toolfunction strobepuse OOH
[Tapping Foot 2M-3Mfunction strobepulse MF2,MF3
OTHE DM30, DM00 DM02 FOO9#4 ~#7
English systeminput INCH Fooz Auxiliaryfunctioncode
Rapidymoving RPO] FOOD Spindle functioncode FO22HO~FO25H7
Constantcyclespeed CSS Fooz2 Tfnctioncode Too~T3T
Threadcuting ThRD Fooz Alarm change detectionalam SPAL Fo3ss
[人 cuttingfted cuT TOS 二 115
Dryrunningconfimation MDRN
rome

--- Page 130 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Spindle clamping
Spindle loosing 一
Spindle enable 一
Spindle positioning mode
Actual spindle speed AROO ~AR15 FO40#0 ~F41#7
contour control switch completed FCSS1~FCSS2 F042#0 ~#1
Output signal for user macro program U0000 ~U0131 F054#0 FO59#7
Read completion signal for external datainput FO60#0
input
Search cancellation signal for external data
input
Meeting required number ofpars
Polygon master axis not arriving PSET
Polygon synchronizing axis not arriving
Meeting polygon masteraxis speed
Inter-path spindle command confirmation COSP1 ~COSP2 FO63#3 ~#4
Polygon
Tool changing
了 New tool selection
Tool change one one
Spindle rotation direction RGSPP, RGSPM FO65#0 ~#1
Spindle synchronous speed ratio control clamp
signal
Backing completed
Tapping retum completed
Processing start point 一 RNMVS
Position Switch PSW01 ~PSW15 FO70#0 F071#7
Output signal for code macro program EUOQ00 ~EUO015 F084#0 FO85#7
Loosing signal for the 1st-5th axis UCLP1~UCLP5 FO86#0 ~#4
Clamping signal for the 1st-5th axis CLP1~CLP5 FO88#0 ~#4
Banning turning movement MNCHG Fog
Banning counter-movement
Method checking
Tool life count invalid
Reference point return completed for the FO94#0 ~#4
1st-5th axis
2nd reference point return completed for the
1st-5th axis ZP21~ZP25 FO96#0 ~#4
3rd reference point return completed for the
1st-5th axis ZP31~ZP35 FO98#0 ~#4
4th reference point return completed for the 7P41~ZP45 F100#0 ~#4
1st-5th axis
Moving the axis
1st-5th axis place INP1 ~INP5 F104#0 ~#4
Moving direction the 1st-5th axis MVD1~mMvD5 F106#0 ~#4
1st-5th axis mirror image confirmation F108#0 ~#4
Removing control axis the 1st-5th axis F110#0 ~#4
axis distribution completed (PMC axis EADEN1~EADEN5 F112#0 ~#4
1st-5th axis torque limit reaching TRQL1~TROQL5 F114#0 ~#4
1st-5th axis’ return workpiece origin PRZP1~ PRZP5 F116H#0 ~#4
completed
116

--- Page 131 ---
Appendix Address between PLC and CNC
1st-5th axis reference point creation ZRF1~ZRF5 F120#0 ~#4
Forward over-travel alarming the 1st-5th +0T1~+0T5 F124#0 ~#A
Negative over-travel alarming the 1st-5th -OT1~-OT5 F126#0 ~#4
overide (PMC axis conto
Control axis selection status (PMC axis
Control
F130#0, F133#0
F130#1, F133#1
F130#2, F133#2
F130#3，F133#3
Auxiliary function executing (PMC axis control) F13643，F13943
F130#4, F133#4
Positive direction over-travel signal (PMC axis F130#5，F133#5
control) F136#5, F139#5
Negative direction over-travel signal (PMC axis F130#6, F133#6
control) F136#6, F139#6
Axis control command read completed (PMC F130#7, F133#7 时 加
axis control) F136#7，F139#7
Auxiliary function strobe pulse (PMC axis F131#0, F134#0 aon
control) F137#0, F140#0
F131#1，F134#1
Auxiliary function 2nd strobe pulse (PMC axis F131#2, F134#2
control) F137#2, F139#2
Auxiliary function 3rd strobe pulse (PMC axis F131#3, F134#3
control) F137#3, F139#3
EM11A, EM12A
EM14A, EM18A
EM21A, EM22A
EM24A, EM28A
EM11B, EM12B
EM14B, EM18B
EM21B, EM22B
EM24B, EM28B F132#0 ~#7
EM14C EM18C ~#7
Auxiliary function code (PMC axis control) EM21C EM22C F138#0 ~#7
EM24C, EM28C F141#0 ~#7
EM11D, EM12D F151#0 ~#7
EM14D, EM18D
EM21D, EM22D
EM24D, EM28D
EM31D, EM32D
EM34D, EM38D
EM41D, EM42D
EM44D, EM48D
Multiple spindle address signal MSP00~MSP17 F160#0 ~F161#7
AXIS1, AXIS2
Binary signal system control axis number AXIS4, AXIS8 F171#0 ~F171#3
ignore hard int ren
117

--- Page 132 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Ignore scram signal PAM
1st-5th axis under control (PMC axis control) EACNT1~EACNT5 F182#0 ~#4
RO102~R1202, F200#0 ~F201#3
$12 bit code RO103 ~R1203 F204#0 F205#3
Actual spindle speed ARO002 ~AR152 F202#0 ~F203#7
三
118

--- Page 133 ---
Appendix PLC (CNC Address: G000-G205)
Appendix PLC (CNC address: G000 G205)
symbol Address
”Read signal forexternaldatainput ESTB G02?
FIN Goo
2Mfunctioncompleted MFN2
3Mfunctioncompleted
Mfunctioncompleted MFN
Sfunctioncompleted SFN Goos2
Auxiliayfunctionlocking AFL Goosf6
overidecanceed ovce GHA
[人 skPP
Automaticoperationstat Goo
Interockingofalaxes Gooar
Cutting program segments startinterlocking "CSL
”Program segments "BESL Gooa
ESP Goo
Gooa
Resetting&Rewindng RPRRW Gooaf6
ERS BHT
Flfeedselecon
incremental feed signal
movementselection GOGH
Spindle selection
GR21~GR24 029#0
SAR GHA
Spindle orientation SOR GORGE
spindlesop STP
R01I2 ~R1212 G034#0 G035#3
Polarity selection signal spindle motor command SSIN2_|_G033#6, G035#6_|
mode selection
Selection
PRC
119

--- Page 134 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual axis Control G166#0, G178#0 PMC axis control G166#1, G178#1 control G166#3, G178#3 G142#4, G154#4 120
Signal smbol Address son
Workpiece coordinate system offset write-in WOSET Go4o eon
INC
”Hand wheeltrial cuttingmode selection TEACH G043HA
Program zero pointretum mode selection PRGZ Go4W
”Selection signal manual reference pointrettn zRN Go4
oOptionalprogram segment skip BOTA
Machinetoollocking
protection kEYP Go4er
Singleprogramsegmen SBK
由 byrmng
TL1, TL2, TL4, TL8
TL128
Toolifecountiinvaid CIV
Toskip
Toolchangeandresetonebyome TIRSTI
Toolchangeandreset
Beginningofextermnalreadin ExRD
Externalread-in/outputstop ExXSTP
Beginning ofexternal output EMWT G05BHS
chuckstaus chuck
Rigidtappng
了 三 Rigidtapping spindle selection
Tappingretumstat RNT
Simple synchronous controlofspindie ESRSYC
1st-5th axis
Negative direction selection signal for feed axis the
axis mirrorimage MI~M5 网
direction
1st5th axis machine tool locking MLKI~MLK5
the ist-5th axis
External setting signal for negative direction travel limit
direction over-travel signal the 1st-5thaxis
direction over-travel signal ofthe axis
SVFI~SVF5
1st5thaxisinterocking ”TI~*T5
axis control

--- Page 135 ---
Appendix PLC (CNC Address: G000-G205)
Signal Address
Axis control suspended temporarily for the 1st-4th group G142#5, G154#5
PMC axis control G166#5, G178#5
Reset signal for the 1st-4th group (PMC axis control)
Axis control command read signal for the 1st-4th group G142#7, G154#7
PMC axis control G166#7, G178#7
Banning program segment stop for the 1st-4th group G143#7, G155#7
PMC axis control G167#7, G179#7
Axis control command signal for the 1st group (PMC axis
control ECOA~EC6A
Axis control feed speed signal for the 1st group (PMC
axis Control EIF00A 一 EIF15A G144#0 ~G145#7
Axis control data signal for the 1st group (PMC axis EIDO0A~EID31A G146#0 ~G149#7
control
Rapid movement override (PMC axis control) EROV1 ~EROV2
Override canceled for the 1st group (PMC axis control)
Manual rapid movement selection (PMC axis control) ERT
Dry running (PMC axis control 150K?
Feed speed and override for the 1st group (PMC axis
control EFOVO~*EFOV7 G151#0 ~#7
Axis control command signal for the 2nd group (PMC ECOB~ECB6 G155#0-~#6
axis control
Axis control feed speed signal for the 2nd group (PMC
axis control EIFOOB ~EIF15B G156#0 ~G157#7
Axis control data signal for the 2nd group (PMC axis
control EIDO0B~EID31B G158#0 ~G161#7
Override canceled for the 2nd group (PMC axis control) EOVCB G162#5 时
Feed speed and override for the 2nd group (PMC axis 四
control EFOVOB~EFOV7B G163#0 ~#7 二
Axis control command signal for the 3rd group (PMC axis
control ECOC ~EC6C G167#0 ~#6
Axis control feed speed signal for the 3rd group (PMC
axis control EIFOOC ~EIF15C G168#0
Axis control data signal for the 3rd group (PMC axis EIDO0C~EID31C G170#0 ~G173#7
Control
Override canceled for the 3rd group (PMC axis control) EOVCC G174#5
Feed speed and override for the 3rd group (PMC axis EFOVOC ~EFOV7C G175#0 ~#7
Axis control command signal for the 4th group (PMC axis
control EC0D 一 EC6D G179#0 ~#6
Axis control feed speed signal for the 4th group (PMC
axis control EIFOOD~EIF15D G180#0 ~G181#7
Axis control data signal for the 4th group (PMC axis
control G182#0 ~G185#7
Override canceled for the 4th group (PMC axis control)
Feed speed and override for ihe 4th group (PMC axis EFOVOD ~EFOV7D G187#0 ~#7
Reduced speed signal for reference point return the
1st5th axis DEC1~DEC5 G196#0 ~#4
Manual handwheel feed generator selection IOLBH1~IOLBH2 G199#0 ~#1
12]

--- Page 136 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Appendix Ill System Operating Status Address
PSN Signa
gear ratio
electronic gear ratio
Spindlespeedanalogvoltageoutputvaue
Cid
code
Scodebeingexecuted Cid
[人 code beingexecuted
code beingexecuted
“=e Decode beingexecuted Cid
CTH code beingexecuted
code beingexecuted Cid
CSC Qcodebeingexecuited
Seralportoincommunication
Seralpot1incommunication
Systemmemoymargnk
023
CTC Feedingoverrideatpresen
去 三 026
Postacceleration and deceleration lag displacement
Endspeedoftheprogramsegment
和 FeedaxisforcurentJoG
16-bit macro variable output
032
033 Initialversioncodeofnonvolatlememoy
034 Nonvolatilememorycheckerroraddress1
035 Nonvolatilememorycheckerroraddress2
036 Nonvolatilememorycheckerroraddress1
Nonvolatilememorycheckerroraddress2
038 Curenthandwheelpulsevoume
041 Residualclearance compensation amount forthe 1staxis
042 Residualclearance compensation amountforthe2ndaxis
043 Residualclearance compensation amountforthe3rdaxis
Residualclearance compensation amountforthe4thaxis
045 Residualclearance compensation amountforthe5thaxis
一 End point current program segment
056 Comnerangleofcurrentsecondary program segment
Interruptresponsetime
0588 Current manual pulse generator increment
0589 Numberofdelaytimesforthe primary operation pulse
060
Numberofpreprocessingsegments
062 Numberofdecodingbufferzonesegmens
Systemoperationmode
064
066
Interpolationbufferzonesize
position axis absolute machine tool
122

--- Page 137 ---
Appendix Ill System Operating Status Address 123
PSN Signa
092 ~096 Axis 4096 laps
Cumulative compensation quantity axis (including pitch error 三
compensation and reflexive sound gap) (mm 去 三
Machine tool stroke detection: Absolute position axis encoder the 了
negative bounda

--- Page 138 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual validation error once
Appendix Bus Running Status Address lah
validation error twice
一
week
fhe 人 pose sot
network cable other hardware
error flag
ere ties
ere ote reset acinar
了 count
了
comecon sis
niin wre reais sk)
nar ies FPGALINK aki
124

--- Page 139 ---
Appendix Bus Running Status Address
FPGALINK non-MDT data packet counter (backup)
040] FPGALINK non-MDT data packet connection status (backup)
setup (FPGA) slave station length (backup)
bus physical connection ready not (backup)
FPGALINK execution time (backup)
FPGALINK communication cycle (backup)
Number oftimeout for EPGALINK receive MDT (backup)
Number times for FPGALINK receive MDT with data CRC
validation error once (backup
Number times for FPGALINK receive MDT with data CRC
validation error twice (backup
Number status word reading FPGALINKCP stage (within one
week) (backup
Software response timeout count FPGALINKCP stage (backup)
FPGALINK physical connection disconnection statistics (caused
network cable other hardware) (backup
FPGALINK master station FPGA receives/transmits MDT state machine
error flag (backup
Number times for FRGALINKMDT send state machine error
backup
Number times for FRGALINKMDT receive state machine error
backup
FPGALINK maximum retransmission count (backup)
FPGALINK current stage number (backup)
MDT length FPGALINK servo station (backup)
125

--- Page 140 ---
Ald 322 GSK218MC Machining Center CNC System PLC and Installation Connection Manual 126
Appendix DSP Running Status Address

--- Page 141 ---
VOLUME INSTALLATION AND CONNECTION
127

--- Page 142 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual The GSK218MC CNC system mainly composed the following units, shown Figure 1-1. (1) GSK218MC CNC system: (2) Additional operation panel (optional); (3) Digital servo drive unit (stepping drive unit); (4) Servo motor (stepper motor); (5) transformer. CNC system machine First all, check whether the components installed such the CNC system, drive unit, The CNC system must installed firmly, and certain space should reserved around The strong and weak electricity should separated. The power supply the CNC system and All kinds plugs must inserted firmly and screws must tightened and fixed. Plugging During installation the CNC system, the system panel should not scratched hard objects, There should strong electricity strong magnetic interference sources around the CNC 128
Chapter System Structure and Installation ~380V motor, photoelectric encoder, etc. are complete, intact and compatible. ensure system heat dissipation. Installation position the CNC system must facilitate operation and the drive unit should provided the isolation transformer, which separated from the strong unplugging the signal cable connectors with the system power forbidden. sharp objects, etc. the paint required, the CNC system shall removed prevent dirts the system, which shall also stay away from flammable, explosive materials and various dangerous
1.1 System Components shall free from iron filings and coolant. electricity part the machine tool. Various signal lines should kept away from contactor system panel. goods.
much possible reduce interference. The photoelectric encoder, limit signal, and emergency stop
Figure 1-1 signal are preferably connected directly the system without passing through strong electricity box.
The power supply must strictly grounded.
1.2 System Installation and Connection

--- Page 143 ---
Chapter System Structure and Installation
1.3 Dimension and Installation Size Chart The Cnc System
下
ye!
elt 于
NSN
一 一 十 一 一 一 一
2320
Boge
好 -一 一 一 一 一 一 一 一 一 一 一 一 一 -一
st)
二
ate)
Le]
$86
内 角 四
arate
站 Alwi
molt
LU, bay
LJ) abs
了
到
Fig. 1-3-1 GSK218MC panel system installation size
129

--- Page 144 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
里
rod
Kes
lok 全
fen
alc] Se.
到
四 四
toil Cle
一
nat
toe. 其 一
Fig. 1-3-2 GSK218MC-H editing panel installation size
130

--- Page 145 ---
Chapter System Structure and Installation
一 一
bus
MALY
SQA
Brg
活
外
“vt
via
eee
se?
“pers
oye
Fig. 1-3-3 GSK218MC-H operation panel installation Size
131

--- Page 146 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
404+0.
人 一 -一 一- 一 一 一 一 一
ln,
让 三
[e)
一
又
__120.
420
回国 加 本
三
mT) OO}
下
加 四 后 口
lh, 2-8.
6-94.
Fig. 1-3-4 GSK218MC-V editing panel installation size
132

--- Page 147 ---
Chapter System Structure and Installation
人
4-M4
esl sid
Vas
239
260
—————
回国 国 Wo。
lease
dea
到
Fig. 1-3-5 GSK218MC-V operation panel installation size

--- Page 148 ---
人 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
(sh
qi}
Loe,
eer
二 人 一
一 一 一
辐
steel
arc
一 一 一 一 -一 一 -一 qos
mala
[2] fuels
fz]
il:
chee
aha
ees
Fig. 1-3-6 GSK218MC-U1 operation panel installation size

--- Page 149 ---
Chapter System Structure and Installation
1.4 Additional Panel Figure
Customers may select additional panels for GSK218MC and GSK218MC-U1. The expansion
holes the panel can customized users with functions such emergency stop, program lock,
system power-on, system power-off, feed hold, cycle start, and manual pulse generator. Optional
accessories the system are follows:
-Manual pulse generator: Changchun LGF-001-100;
-Additional panel:
218MC additional panel: aluminum alloy 460mmx130mm, assembled under the panel;
218MC-U1 additional panel: aluminum alloy 420mmx71mm, assembled under the panel:
EMERGENCY BUTTON: LAY3-02ZS/1;
-Non self locking button: KH-516-B11 (green red);
-Self locking button: KH-516-B21 (green red).
Poo
woo
-_——
Figure 1-4-1 GSK218MC additional panel
022.5 reserved hole 6x016 reserve +025 044 reserved hole (optional
vention baton) hole manual pulse generator)
和
十 二-
380+0.25
Figure 1-4-2 GSK218MC-U1 additional panel
135

--- Page 150 ---
Chapter Equipment Connection 本 age mee Mee
2.1 Block Diagram For External Connection The System 的
2.1.1 Interface Location Layout ote
Figure 2-1-1-1 218MC, 218MC-H, 218MC-V Interfaces
136
人
we, weet
————
wad
vie
包 和 ay. IR. ‘pl
‘ah
一
ees 和 TAT

--- Page 151 ---
Chapter Equipment Connection
2.1.2 Schematic Diagram Pulse Type Servo Connection
XS2 power supply tres 一
XS11 bus
XS12 bus
XS22 hand-held
unit/pulse
GS3000
Spindle servo
XS23 Spindle 让 Lpnge encoder
GS2000 driver
XS30 axis
GSK218MC series GS2000 driver
CNC system
XS$31 Y-axis
广 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一 一
GS2000 driver
二
X$32 Z-axis
GS2000 driver 可
和
XS33 4th axis eee
XS10 communicaton| erating panel
XS41input2
XS42 input deconcentrator MUB
XS43 output 全 人 人
XS45 output
Fig. 2-1-2-1
137

--- Page 152 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
2.1.3 Schematic Diagram Bus Type Servo Connection
厂 一 一 一 一 一 一 一 一 一 一
XS2 power [Rs-10024 十 power
supply 一 suppy
xsS11bus1
BuS11 Bus2 [Bust] BUS1{{ BUS2 [BUS1LLeus2] [BUS1 BUS2
xS12 bus series series series series Bus expansion
driver Slave driver slave driver slave driver slave
station Station Station n-1 [Les station [wes one box GL100
GSK218MC
series CNC ema] Ce] *2av
system supply
GS3000
spindle anya
XS22 hand-held servo
unitpulse
XS23 Spindle
XS30 axis
XS31 Y-axis
XS$32 Z-axis
XS33 4th axis
XS10 communication {Operating panel]
COMM
一 二 一 一 一 一 一 一
XS40input1
XS41input2
boarc
XS42 input3
六- 一 一 一 一 一
XS43 output
XS44 output
XS45outpul3
Fig. 2-1-3-1
The system CNC bus interface (XS12 interface CNC) connected the servo BUS1 (GT17
interface) the slave station (the first axis), and the servo that connected from BUS2 (GT17
interface) back system bus interface (XS11 interface CNC) the last axis.
138

--- Page 153 ---
Chapter Equipment Connection
2.1.4 Schematic Diagram Five-Axis Linkage Servo Connection With Bus Technology
power
XS2 power Supply 一” spy
XS11bus1
-BUS1T BUS2
器] *24V power supply
XS22 hand-held tee GS2000T driver
unit/pulse First axis
GS2000T driver
Second axis
GS2000T driver
Third axis eee
GSK218MC series
river
INV",
GS2000T driver
Fifth axis 了 马
poe
First spindle
spindle servo
XS23Spinde
XS$30 axis [Second spinde
GS3000Y
indle
XS31 Y-axis
XS32 Z-axis
XS33 4th axis
XS10 communication Lo，
COMM 二 二 二 二
XS40 input
XS41input2
XS43 output
XS44 output2
xsS45 output3
Fig. 2-1-4-1
139

--- Page 154 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
2.2 System and Drive Unit Connection
The interface connected the drive unit includes XS30 (X-axis), XS31 (Y-axis), X$32 (Z-axis),
and XS33 (the fourth axis).
2.2.1 System Interface Diagram
+24V
AM26LS31
CP+ DIR DIR+ DALM
Fig. 2-2-1-1
2.2.2 Interface Signal Table
XS30: DB15 hole axis) XS31: DB15 hole axis)
is]
fs] 加
XS32: DBIS hole axis) XS33: DBIS hole (4th axis)
2CP acP-
ial
上
站 加
soy
Fig. 2-2-2-1
2.2.3 Signal Description
Pulse motion code signal
XCP+, XCP-, YCP+, YCP-, ZCP+, ZCP-, 4CP+, 4CP- are code pulse signals, and XDIR+, XDIR-,
140

--- Page 155 ---
Chapter Equipment Connection
YDIR+, YDIR-, ZDIR+, ZDIR-, 4DIR+, 4DIR- are motion direction signals. These two groups
signal have differential outputs.
The wiring diagram follows:
CNC
CP+
大
之
CP-
6N137 ”SNZDriver
Fig. 2-2-3-1
Drive unit alarm signal ALM (input)
The signal received the system side follows. The drive unit alarm can set
position parameter No. active high active low (level the same the drive unit
setting).
+24V
R=4.7K
DALM
Fig. 2-2-3-2
CNC system ready signal (contact output)
Fig. 2-2-3-3
Signal used return the reference point
The system supports +24V zero return and +5V zero return. The receiving circuit this signal the
system side shown below:
141

--- Page 156 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
R=680
+24V [lS +5V [ol
Fig. 2-2-3-4
The waveform the signal that the user should provide shown below:
Reference point
return direction
Deceleration signal
Use the encoder
signal
(one-turn signal) Neglect
User the
proximity switch
signal (PC)
Reference point
Fig. 2-2-3-5
2.2.4 Cable Connection Diagram
Cable production when GSK218MC connected DY3 series drive unit
XS30, 31, 32, DY3 series driver
[Pa
Fig. 2-2-4-1
142

--- Page 157 ---
Chapter Equipment Connection
Cable production when GSK218MC connected DA98 series servo drive unit
Fig. 2-2-4-2
Cable production when GSK218MC connected DA98B series servo drive unit
Pre)
pare
Ht,
Fig. 2-2-4-3
Cable production when GSK218MC connected GS2000 series economical servo drive
143

--- Page 158 ---
322 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
unit
DB1S stitch weldi DB44 eyelet welding
stitch welding
CNI
Signal Pin Signal Pin
nCP+ PLULS+
nCP-
nDIR+ Pea SIGN+
nDIR SIGN
nDALM ALM}
nEN SON
nPC ZOLT-
-24V 4... ZOUT+
Metal housing,
了
Po,
COM
Metal housing
Fig. 2-2-4-4
2.2.5 Gsk-Link Cable Connection Diagram
全 System-side bus interface System-side bus interface
专 Signal XS11: (DB9 hole seat) Signal X$12: (DB9 pin holder)
None BIX+ None atx-
None BIX— None ATX+
None None
BRX None ARX! None
BRXt None ARX None
Interface signal description: Interface signal description:
BTX: Send bus differential data; ATX: Send bus differential data;
BRX: Receive bus differential data; ARX: Receive bus differential data;
GNN: Signal ground; GNN: Signal ground;
Figure 2-2-5-1 CNC side bus interface definition
144

--- Page 159 ---
Chapter Equipment Connection
GT17 DB9 hole
GT17VS-8DS-HU (groove) DB9 hole (weld line)
series BUSI CNC XS12
Sipnal name Network Signal name Network
renal name cable color renal name cable color
Orange- Green-white
CBE DA) white CBI
RX+ RX+
Orange
(BI DA+) (BI DA-)
Green-white Orange-
(BI DB-) DB-) white
Orange
(BI DB+)
CBE DC) CBI DC)
Reserved Reserved
(BL DCH) (BL
Reserved Brown-white Reserved Blue-white
CBI DD) (BI
Reserved Reserved
CBI DD+) (BI
Figure 2-2-5-2 Connection between bus interface the CNC side and the drive unit 有
GT17 DB9 hole
”一
G117VS-8DS-HU (groove) DB9 hole (weld line)
series BUS2 CNC XS11
Network Network
Signal name Signal name
cable color cable color roy
一 一
Orange- Green-white
(BL white (BL
RX+ RX-
(BL DA- (BL DA')
Green-white Orange-
(BL DB) (BI white
TX+ TX-
(BL (BI DB:
Reserved Bluc-white Reserved Brown-white
(BL DC-) (BI DC-)
Reserved Reserved
(BL (BI DC)
Reserved Brown-white Reserved Blue-white
(BL DD) (BI
Reserved Reserved
(BL DD=) (BL
Figure 2-2-5-3 Connection between bus interface the CNC side and the drive unit
145

--- Page 160 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
GSK_LINK Industrial Ethernet cable (GT17 interface)
GT17VS-8DS-HU (groove) GT17VS-8DS-HU (groove)
series BUS2 series BUS
Signal Network Signal Network
tgnal name cable color name cable color
RX- ange- RX-
Orange Green-white
white (BI
RX+ RX+
Orange-
Green-white
DB) (BL DB) white
TX+ TX+
(BI DB-)
Reve!
CBI DC-) DC-)
Reserved Reserved
pommel [mee
(BL
Reserved Reserved
(BI DD.) (BL DD.
和 Figure 2-2-5-4 Connection between drive units
2.2.6 GI100 Bus Expansion Module Off-Board Wiring Diagram
The GL100 bus expansion box has four function modules: the power module used for the
power input the expansion box; the feed axis module used for the measurement feedback device
such pulse type multi-feed axis expansion and connection grating; the spindle module used for
multi-spindle expansion; the I/O module can used extend I/O points.
GL100 power box
connection cable
Strand wire Schematic diagram green
GL100 Power box three-position plug
Green three-position plug yoke, with sheath Ss.
下
ono pt.
Figure 2-2-6-1 Power input line
146

--- Page 161 ---
Chapter Equipment Connection
DB15 hole weld line
GL100 feed axis side 16-core signal wire
First, second and third axis
FG--
Figure 2-2-6-2 Connect the grating and other feedback encoder signal lines
The cable manufacturing method the feed axis module the same that the pulse type
drive unit. For the cable connection diagram specific type feed axis drive unit, please refer
"2.2.4 Cable connection diagram".
For the cable manufacturing method the spindle module and the cable connection diagram 又
人
specific type spindle drive unit, please refer "2.5.3 Cable connection diagram’.
(input 1): Socket (input 2): Socket (input 3): Socket (input 4): Socket
re)
Custom “Custom Custom Custom
|Custom
Custom Custom Custom Custom
Custom Custom Custom Custom
Custom Custom |Custom Custom
Custom Custom Custom
|Custom Custom |Custom Custom
|Custom |Custom |Custom Custom
GND] GND GND| GND GND| GND GND GND
24V| -24V 24v| -24V 24V) +24V 24V +24V
(output 1): Socket (input 2): Socket (input 3): Socket (input 4): Socket
“Custom Custom
_Custom Custom _Custom Custom
_Custom _Custom _Custom _Custom
Custom Custom Custom
Custom Custom Custom Custom
Custom Custom Custom
|Custom Custom Custom
Custom |Custom Custom Custom
GND GND IGND| GND GND GND GNI) GND
24V +24V 24V| -24V +24V 24V 124V
Figure 2-2-6-3 GL100 bus expansion box module definition
147

--- Page 162 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
2.3 RS232 Standard Serial Interface
The GSK218MC CNC system can communicate with the general-purpose through the
RS232-C serial interface (with GSK218MC communication software), shown Figure 2-3-1.
The cable connected shown Figure 2-3-1. The shielded wire connected the GND,
and the metal casing not connected the shielded wire.
RS232 COM1/COM2
(DB9 hole seat) (DB9 pin holder)
None temporary
TXD 中 RXD
Not used
None temporarily 而
七 .之
None 中 temporarily 三
None temporarily
None
中 由 Not used
temporarily
Fig. 2-3-1
2.4 Connection Manual Pulse Generator and Handheld Unit
fe}
pam 62.4.1 Interface Signal Diagram
和 车 The 218MC system can equipped with differential non-differential manual pulse generator
handheld units. The interface signals are shown below.
XS22: (DB26 hole seat)
LED
HB-
HA+ VCOM
HA- GND FSP2
15.
16.
H*10 H*100
ESPI
Fig. 2-4-1-1
2.4.2 Interface Signal Description
HA+, HA-, HB+, HB-: with differential manual pulse generator handheld unit pulse signal (in
case non-differential manual pulse generator hand-held unit, HA+ and HB+ are connected with
+5V; HA- connected with manual pulse generator; HB- connected with manual pulse
generator).
ESP1, ESP2: hand-held unit emergency stop signal.
HX, HY, HZ, H4, H5: axis selection signals for 4TH, and 5TH axes, respectively.
H*1, H*10, H*100: override signal for the pulse equivalent manual pulse generator,
148

--- Page 163 ---
Chapter Equipment Connection
respectively.
VCOM: common end the hand-held unit.
The connection diagram 218MC connecting the built-in manual pulse generator
follows:
DB26 stitch welding Cold-pressed terminal
Built-in
hand wheel
Pin Signal Signal
HA+ VCC
HB+
HA-
HB-
Fig. 2-4-2-1
The connection diagram GSK218MC connecting the differential (L) hand-held unit
follows:
DB26 stitch welding Terminal block
Hand-held
Pin Signal Signal
t5V 一 一 中 VCC
人
HA-
COM
——.,
ESPI
22. Fsp2 Jil NC2
24° 4th
5th
x10
25. H*l
H*100
一
FG—
Fig. 2-4-2-2
The connection diagram GSK218MC connecting the voltage (E) hand-held unit
follows:
149

--- Page 164 ---
$22 GSK218MC Machining Center CNC System PLC and Installation Connection Manual XS22 Hand-held Fig. 2-4-2-3 XS23: (DB44 hole seat) _PA- PA+ 一 一 一 一 一 SAR ZSP
DB26 stitch welding Terminal block unit OND COIN
Pin Signal Signal 2.5 Connection The Spindle Unit 了 AxisALM22
19V 一 3PZ- pzi 329 GND
HAP VCC 子 2.5.1 Interface Signal Table SIGN+ 9SFR
HB+ 站 十
GND The system interface the DB44 socket, and the pins are defined follows: SIGN- SPO SRV
VCOM COM 由 STAO +5V
“4° HA- purse
PULS- 43°
NCI VCMD+
‘44
GND VPO
Ath Fig. 2-5-1-1
Sth 150
X10
HZ:
25°
X100
“19 :LED+
oOV

--- Page 165 ---
Chapter 中 Equipment Connection
2.5.2 Interface Signal Description
VCMD+, VCMD-: analog command input 10V -10V +10V (determined
parameters);
Spindle output signal: SON spindle enable, SFR spindle forward rotation, SRV spindle reverse
rotation, STAO spindle orientation, SPO positioning selection, speed/position switching;
Spindle input signal: SAR spindle speed reaching, ZSP spindle zero speed detection, COIN
spindle positioning completed, AxisALM alarm input, VPO speed/position switching
completed;
PA+, PA-, PB+, PB-, PZ+, PZ-: pulse signal the spindle encoder;
PULS+, PULS-: pulse command output under position mode;
SIGN+, SIGN-: direction command output under position mode.
Note: the bus interface the new I/O board the RJ45. The spindle port has 2nd analog voltage and the pin
29:2 VCMD+.
151

--- Page 166 ---
Peaks 控 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
2.5.3 Cable Wiring Diagram
The system equipped with DAP03 spindle drive unit control line interface wiring:
DB44 eyelet welding DB44 eyelet welding
System-side XS23 DAP03 spindle
Pin Signal Signal Pin
GND 一 vcVMD
VCMD+ VCMD+
PA+
PA- Pa-
PB- PB-
AxisALM ALM
‘Spindle forward rotation Y6.0 SFR
“Spindle reverse rotation Y6.1 SRV
COM+ |137
Spindle enabling Y6.2
Spindle orientation Y6.3 STAO
Zero speed clamping Y6.5 ZSL
到 Speed/position switch Y6.4
PULS+ PULSE
PULS- PULS-
SIGN+
SIGN- SIGN-
Spindle speed reaching X7.2 SAR
Spindle zero-speed detection X7.3 ZSP
Spindle orientation completion X7.1 COIN
Speediposiion switch completion X7.0 VPO
GND- COM-
Fig. 2-5-3-1
152

--- Page 167 ---
Chapter 中 Equipment Connection
The system equipped with GS3000 series economical spindle drive unit control line
interface wiring:
DB44 eyelet welding DB44 eyelet welding
Signal Pin Signal Pin
VCMD+
VCMD+
VCMD- VCMD-
Hho
PA- PAO+t
ruse
33}
ssa} sox
ALM ALM+
CoM: ome’
忆
dle forward rott
Spindle forward rotation Y6.0
Spindle reverse rotation Y6.1 SRV
Spindle enabling Y6.2 SON
Spindle orientation Y6.3 OSTA 对
Speed/position switch Y6.4 门 PSTI
Zero speed clamping Y6.5 ZSL
和
Spindle orientation completion x7.) COIN+
Spindle speed reaching X7.2 PSR
Spindle zero-speed detection x73) ZSP
COM- COM-
Metal housing
PSTO-
Loon
‘Metal housing
Connecting cable 一
Fig. 2-5-3-2
153

--- Page 168 ---
人 322 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
2.6 System Power Interface
Input voltage the system +24V. Power interface shown below:
+24V
Fig. 2-6-1
2.7 External Power Control Interface
The external power control interface diagram the 218MC-H and 218MC-V system operation
panel follows:
COM1
COM2
OFF
Fig. 2-7-1
System power on: and COM1 are the two ends the normally open switch.
System power off: OFF and COM2 are the two ends the normally closed switch.
Note: the switching power supply must connected 24V rather than 110V 220V, otherwise the
system will burn out.
fe}
2.8 Connection Communication Lines
Shielded wire required for the communication line.
DB9 hole seat DB9 pin holder
oo! TXD- boy
124V
GND
RXD-
~24V
RXD- 400,
GND
ESP
Control panel (XS10 Operation panel (XS3
communication COMM) communication COMM)
Fig. 2-8-1
154

--- Page 169 ---
Chapter Ill I/O Interface for Machine Tool Control
Chapter Ill I/O Interface for Machine Tool Control
3.1 Interface Signal Table
XS40 (input 1): DB25 pinholder (input 2): DB25 pin holder XS42 3): DB25 pin holder
Noo INO! INI6 INIT nga
_INI8 .15 1N35
INO3 IN19 COM 一:
COM COM COM
16° COM
-24V 4+24V IN36
IN04 IN20 ae:
INOS IN21 IN38
IN06 IN22 IN39
INO7 IN23 10° .19 ”COM
COM COM COM
COM 20. COM 49° -24V
+24V +24V IN40 +4]
INOS IN24
Nn? CoM. 和 .IN3
COM 53. COM 53-7. COM com
COM COM +24V 94°
-24V +24V 用 IN44
IN12 IN28
.IN INI4 CENA
INIS IN31
XS43: output DB25 hole seat XS44: output DB25 hole scat XS45: output DB25 hole seat
Dog2
D002 Pool DOI D034
com |S. 2003 COM COM 三
十
16. D036
”D004 D020 po37
D005 D038
.18 2006 D023... D039
19°
COM COM
424V 20° 424V ”+24V
D024 D040
D008 21°
.21 D009 D026 D025 p042
D010 22° 1027
.22 10° COM (44. COM D043
COM 23° 404V
424V +24V +24V
+24V 24° 1028
pois 24. D029 “25 “(12 Hoag
13° pois 13. D047
Fig. 3-1-1
The XS40, XS41, and XS42 are input interfaces (DB25 pins), and the XS43, XS44, and XS45
are output interfaces (DB25 holes).
3.2 Input Interface
3.2.1 Input Interface Circuit
The input signals are signals from the machine tool the CNC. They come from the buttons
the machine side, the limit switches, the contacts the relays, etc.
The contacts the machine side should meet the following conditions:
Contact capacity: above DC30V and 16mA;
Leakage current between contacts case open circuit: below 1mA (voltage 26.4V);
Voltage drop between contacts case closed circuit: below (voltage 8.5mA, including
voltage drop the cable).
The signal loop such signal shown Figure 3-2-1-1.
155

--- Page 170 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
+5V
4.7K
re. o—_] Input
signal
0.1
Machine side CNC side
Fig. 3-2-1-1
3.2.2 Interface Circuit The Hand-Held Unit
The hand-held unit only accepts level input rather than 24V input.
The axis selection and override signal loop shown Figure 3-2-2-1.
了
口 一
Hand-held
unit
Fig. 3-2-2-1
3.2.3 Input Signal Interface Definition
Pins the input interface are defined the following table:
Table 3-2-3-1
Signal Interface Contact
Address interface pin No. Tool magazine Disc type magazine selection
carousel type tool
Normally
xo000 xsto Positive direction travel limit signal the 1st axis closed contact
xo001 Negative direction travel limit signal the 1st axis Normally
closed contact
xo002 Positive direction travel limit signal the 2nd axis Normally
closed contact
Negative direction travel limit signal the 2nd axis Normally
closed contact
Normally
xo004 Positive direction travel limit signal the 3rd axis closed contact
Negative direction travel limit signal the 3rd axis Normally
closed contact
gags Normally
xo00e xsto Positive direction travel limit signal the 4th axis closed contact
Normally
xo007 Negative direction travel limit signal the 4th axis closed contact
156

--- Page 171 ---
Chapter III I/O Interface for Machine Tool Control
Signal Interface Contact
Address interface pin No. Tool magazine Disc type magazine selection
carousel type tool
Normally
xo01.0 xs4o Zeroretun deceleration signal the tstaxis
Normally
xoo1.1 Zeroreturn deceleration signal the 2nd axis
Zero return deceleration signal the 3rd axis Normally
closed contact
Zero return deceleration signal the 4th axis Normally
closed contact
Normally
xo01.4 xs4o Emergency stop switch (218MC integration) Normal
[ase [ef ral
contact
Normally open
wore eed hol
Normally open
skp sgn
Normally open
Normally open
pressure tet
Normally open
yo022 x84
Normally open
tebe carping detection
Normally open
Normally open
[ase
Clamping detection Normally open
contact
Spindle tool detection Parameter
unsefned szceo
Normally open
二 二 contac
Normally open
Operation lock cots
Mechanical arm brake
rosa
Mechanical arm tool
Undefined holding detection
signal
Undefined Mechanical arm zero
detection signal
x003.5 XS41 Undefined
x003.6 XS41 Undefined
x0037 xs41 Undefined
Undefined Parameter
specification
Normally open
xs2 Spindle gearin pace
Normally open
xs2 Spindle 2nd gear place
Normally open
xse Spindle gear pac
x004.4 XxS42 Undefined
Normally open
xst2 Safety gale detector eth
x004.6 XS42 Undefined
x0047 xs42 Undefined
[ase contin ate Sha
specification
Tool magazine forward Tool pot vertical Parameter
place direction detection specification
X0052 XS42 Toolmagazine backward Tool pot horizontal
157

--- Page 172 ---
人 Peaks 控 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Signal Interface Contact
interface pin No. Tool magazine Disc type magazine selection
carousel type tool
direction detection
specification
Tool magazine zero return Parameter
Current disc and tool Tool magazine zero Parameter
detection Switch return place Specification
Normally
xo056 xstz Positive direction limit signal the 5th axis closed contact
~x0087 xsa2 Negetve axis NOMA
closed contact
Parameter
Spindle sped reaching
Normally
e083 Spindle detection closed conc
Parameter
compton
Parameter
aes Seren
Pins the hand-held unit interface are defined the following table:
Table 3-2-3-2
Signal Contact
interface pin No,
xon7 Selection the 1st axis external Normally open
manual pulse generator contact
Selection the 2nd axis external Normally open
manual pulse generator contact
Selection the 3rd axis external Normally open
manual pulse generator contact
Selection the 4th axis external Normally open
manual pulse generator contact
Step size external manual pulse Normally open
generator 0.001 contact
Step size external manual pulse Normally open
generator 0.01 contact
Step size external manual pulse Normally open
generator 0.1 Contact
Normally
x822 ESP (9,22) External emergency stop
Selection the 5th axis external Normally open
manual pulse generator contact
3.3 Output Interface
3.3.1 Output Interface Circuit
Output transistor specifications:
@The maximum load current case output ON, including the instantaneous current
200mA less.
@The saturation voltage case output 1.6V 200mA, and the typical value 1V.
@The withstand voltage case output OFF, including the instantaneous voltage
24+20% less.
@The leakage current case output OFF 100A less.
Output circuit:
158

--- Page 173 ---
Chapter Ill I/O Interface for Machine Tool Control
CNC side Machine side
124V
Lee]
Fig. 3-3-1-1
The output signals this system are all provided the Darlington tube, and the corresponding
Darlington tube turned case valid output.
3.3.2 Output Signal Interface Definition
Table 3-3-2-1
Signal Interface
oie too
Y0000 xs43 Z-axis band-type brake
yooo.1 xs43 cooing
yooo2 xs43 Tool loosening and tightening
yooo3 xs43 Undefined
Yoo04 xs43 Spindle brake
Y0005 xs43 Undefined
Y0006 xsS43 Red alarm light
yooo7 xs43 Yellow light
yooro xs43 Green light
xs43 Control chip removal
yoor2 xs43 Lubrication control
Y0013 xs43 Machine tool lighting control
Y0014 Hydraulic starting
Y0015 xs43 Blow air spindle
Yoo16 xs43 Indexing table release
xs43 Indexing table clamping
Y0020 xs44 Undefined
yoo21 xs44 Undefined
yoo2.2 xs44 Undefined
yoo23 xs44 Undefined
yoo24 xs44 Undefined
yoo25 xs44 Undefined Mechanical arm operation
yoo26 xs44 Chip flush valve output
yoo2.7 xs44 Undefined
Y0030 xs44 Forward rotation tool magazine
yoo31 xs44 Backward rotation tool magazine
Yoo3.2 xS44 Toolmagazine forward Tool pot vertical direction
Yoo3.3 xS44 Toolmagazine backward Tool pot horizontal direction
XS44 Spindle first gear (frequency conversion (I/O point control
Spindle second gear (frequency conversion (I/O point
control
Yoo3.6 XS44 Spindle third gear (frequency conversion (I/O point control
Y0037 xs44 Undefined
Y0040 xs45 Undefined
Yoo41 Undefined
yoou.2 xs45 Undefined
159

--- Page 174 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual yoous undernead Yoo.4 xs45 defined Y0045 XS45 undefrned sid Y0046 xS45 underned Y0047 xs45 underned Y0050 xs45 Undefnmed Y0051 xs45 undefrned Y0052 XS45 Undefined Y0053 XS45 underned Y0054 xs45 Cid Y0055 xs45 undefrned Y0056 xs45 underned Y0057 xs45 underned Y0060 XS2 Spindleenabing Y0062 XS23 Speed/positionswitch Y0063 XxS3 Spindleorientation Y0064 XS23 Positiverotationofspinde Y0065 Negativerotationofspindle Yoo66 XS23 zerospeedclampng 160
Signal Interface
及

--- Page 175 ---
Chapter Machine Tool Debugging This chapter introduces some methods and steps GSK218MC system installation, debugging 4.1 Debugging Preparation GSK218MC debugging may performed the following steps System connection: correct connection the basis for the smooth debugging the system; PLC debugging: validate system security function (such emergency stop, hard limit, etc.) and operation function; Driver unit parameter setting: set motor model, parameters, control methods, etc. System parameter setting: set control parameters, speed parameters, etc. Data backup: after the system debugged, data backup such parameter backup, compensation data backup, and backup PLC program shall performed. Precautions before GSK218MC debugging and operation ensure that all cables are properly connected, check the polarity the freewheeling diodes the relay, solenoid valve, etc. Check the connection phase sequence the motor high-voltage cable; One-to-one correspondence between position control cable, code wheel feedback cable and motor high-voltage cable servo feed device; Confirm the type analog voltage code received the spindle unit; Confirm that all ground wires are connected reliably; Confirm the validity the emergency stop button and the emergency stop circuit. Make sure the feed can disconnected after the emergency stop button pressed the emergency Press the emergency stop button ensure that all air switches the system are disconnected; Close the main power air switch the electric cabinet; Turn the 24V air switch fuse check whether the DC24V power supply normal; Check the power supply other parts; Power the GSK218MC control unit. 4.3 Emergency Stop and Limit This system has the software limit function. For safety reasons, recommended take For the GSK218MC and 218MC-U1 systems, the user can monitor and view the status the 161
Chapter Machine Tool Debugging and trial operation. After debugging according the following steps, the corresponding machine stop circuit disconnected 一 hardware limit measures the same time, and install the travel limit switch the positive and emergency stop input signal viewing NO:1#4(*ESP) the Signal] soft interface under the
operation can performed. Power source for moving parts such drive units and spindle drives; 有 negative directions each axis. <Diagnosis> interface. case the emergency stop button pressed, all air switches the system
Make sure that power voltage each part the circuit correct and the polarity must disconnected. For GSK218MC-H and GSK218MC-V, users need check NO: 23#5
connected correctly; ”总
Ensure that the specifications the power supplies the circuit are correct;
Ensure that the specifications and access directions the various transformers the circuit
are correct;
Make sure that the power supply inlet-outlet lines devices such circuit breakers the
circuit are the correct direction.
4.2 System Power

--- Page 176 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual Move each coordinate axis slowly under the manual MPG mode verify the validity each Emergency stop signal GSK218MC and 218MC-U1 parameter diagnosis (input status system)
(MT-emergency stop). axis over-travel limit switch, the correctness the alarm display, and the validity the over-travel Status X1.4
release button; when the over-travel occurs the emergency stop button pressed, the system will address
display alarm. Press the over-travel release button move the opposite direction release the PinNo
system alarm. GSK218MC-H and GSK218MC-V parameter diagnosis (input status system)
Status X10.4
address
Note: the system displays: 0251: emergency stop alarm, for the 218MC/-U1 system, check the X1.4 status
For the 218MC-H/-V system, check X10. The 218MC system emergency stop switch external switch,
while the 218MC-H/-V system emergency stop switch built-in switch that placed the system
operation panel.
order accurately report "an axis (1st axis 2nd axis 3rd axis) certain moving
direction (positive negative direction)" case servo axis over-travel, while ensuring that
the axis can not move the direction over-travel the case over-travel alarm certain
axis release the over-travel, the GSK218MC series system provides two connection
methods for the travel limit switch meet customer needs:
Conditions case two travel limit switches:
(one the positive direction and one the negative direction)
和 Please connect strict accordance with the following table:
Table 4-3-1
interface No. selection
signal the 1st axis contact
signal the 1st axis contact
Positive direction travel limit Normally closed
dans
signal the 2nd axis contact
Positive direction travel limit
Negative direction travel limit Normally closed
dane. contact
Positive direction travel limit Normally closed
tans
Negative direction travel limit
Positive direction travel limit Normally closed
sans
signal the 5th axis contact
Modify parameters the following table:
Table 4-3-2
[ease
Conditions case one travel limit switch:
(one shared the positive direction and the negative direction)
Please connect strict accordance with the following table:
162

--- Page 177 ---
Chapter Machine Tool Debugging
Table 4-3-3
Normally
Travel limit signal the
contact
Travel limit signal the
2nd axis contact
Normally
axis contact
Travel limit signal the Normally
4th axis close
contact
Modify parameters the following table:
Table 4-3-4
Address Definition Status0 Status1 Setvalue_
K0060 1limitswitchisusedornot 2pcs 1pcs
Status parameter
BFA LZR
LZR =1: Conduct travel detection from power the manual return the
reference point.
=0: Conduct travel detection from power the manual return the 三 三
reference point.
BFA Alarm after the over-travel when sending the over-travel command.
=0: Alarm before the over-travel when sending the over-travel command. 三
System parameter number
G13
G13 =1: method when power clearing the status.
=0: Set G12 method when power clearing the status.
System parameter number
LALM
LALM =1: Ignore hard limit alarm.
=0: Not ignore hard limit alarm.
4.4 Gear Ratio Adjustment
Where the moving distance the machine tool inconsistent with the displacement distance
displayed the system coordinate, the system parameters P160-P164 and P165-P169 can
modified adjust the electronic gear ratio adapt different mechanical transmission ratios.
Set the frequency division the position code pulse (electronic gear).
the position control mode, the parameters can easily matched with various pulse sources
achieve the user's ideal control resolution (ie angle/pulse).
Formula:
163

--- Page 178 ---
EC- GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Frequency division numerator
Frequency division denominator ”上
Where:
Electronic gear ratio;
Screw rod lead;
System minimum output code unit (mm/pulse)
Line number photoelectric encoder/RPM. (Incremental needs multiply times)
Zu: Number teeth gears lead screw end. With variable gear
Zp: Number teeth gears motor end. 二 Bea
System side:
Frequency division numerator: System parameter NO.160, NO.161, NO.162, NO.163, NO.164
(code frequency multiplication factor)
Frequency division denominator: System parameter NO.165, NO.166, NO.167, NO.168, NO.169
(code frequency division factor)
Digital servo side:
Frequency division numerator: Parameter PA12 (code frequency multiplication factor)
Frequency division denominator: Parameter PA13 (code frequency division factor)
[Example
the screw rod lead 8mm, the minimum output code unit the system 0.001mm, and the
motor encoder line number absolute 17bit code:
8/0.001
fe)
三 Data parameter NO. 160 (CMRX)=2048, NO.165 (CMDX)=125;
The system gear ratio parameter setting the same the digital servo gear ratio parameter
“as
function. For the digital servo with the electronic gear ratio function, recommended set the
electronic gear ratio the system 1:1 and set the calculated electronic gear ratio the digital
servo.
the stepping drive equipped, the drive unit with stepping subdivision shall adopted
much possible, and the mechanical transmission ratio shall selected reasonably keep the
electronic gear ratio the system 1:1 possible and prevent large difference between the
numerator and denominator the electronic gear ratio the system.
[Example
Calculation formula rotary shaft gear ratio
_NxCx4 125004
,000xDeceleration ratio (driving gear/driven gear)
Note: Line number for photoelectric encoder incremental motor C=2500.
4.5 Backlash Compensation
can measured with dial indicator, dial gauge laser detector. The backlash compensation
must accurately compensated improve the accuracy the machining. Therefore, not
recommended measure the backlash the screw rod with the MPG single step method. The
following method recommended:
Editing program:
00001;
N10 G01 G91 F800
N20
N30
N40 X-1
N50 M30
The backlash error compensation value should set zero before measurement;
164

--- Page 179 ---
Chapter Machine Tool Debugging
Run the program single stage, find the measurement reference after positioning twice,
record the current data, then run 1mm the same direction, then run 1mm reverse
point and read the current data.
Reverse
direction
position
Data reading position
Figure 4-5-1 Backlash measurement method
Backlash error compensation value Data recorded point Data recorded point
input the calculated data into the corresponding system parameters.
Data The data the dial indicator read
Data The data the dial indicator read
Pulse equivalent:
Note Data parameters P190 P194 set the backlash compensation amount for each axis.
Note Data parameters P195 P199 can set the backlash compensation mode and frequency.
Note order ensure the accuracy the machine tool, the backlash shall re-detected after months
use.
三
System parameter number
018 ves}
RVCS =1: Backlash compensation mode: lifting speed.
=0: Backlash compensation mode: Fixed frequency.
4.6 Settings Related The Drive Unit
Where the machine tool movement direction inconsistent with the direction required the
displacement code, the following position parameters can modified: NO: 3#1 NO: 3#5.
System parameter number
DIR5 DIR4 DIR3 DIR2 DIR1
DIR1 =1: The 1st axis feed direction reversed.
=0: The 1st axis feed direction not reversed.
DIR2 =1: The 2nd axis feed direction reversed.
=0: The 2nd axis feed direction not reversed.
DIR3 =1: The 3rd axis feed direction reversed.
=0: The 3rd axis feed direction not reversed.
DIR4 =1: The 4th axis feed direction reversed.
=0: The 4th axis feed direction not reversed.
165

--- Page 180 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual Where the system displays drive unit alarm the 1st axis, the 2nd axis, the 3rd axis, the 4th axis, Where the drive unit used does not provide drive alarm signal, not connect this signal and System parameter number 019 ALMS ALM5 ALM4 ALM3 ALM2 ALM1
DIR5 =1: The 5th axis feed direction reversed. the 5th axis the spindle case power on, first check whether the drive unit alarming and set the status parameter NO: 19#0 NO: 19#4 When the system displays the drive unit alarm, ALM1 =1:Alarm will triggered when the 1st axis drive unit alarm signal
=0: The 5th axis feed direction not reversed. whether the drive unit wired correctly. there such phenomenon, the level set the alarm must further determined whether the fault the system side the drive unit side. =0: Alarm will triggered when the 1st axis drive unit alarm signal
parameter the system does not match the alarm level the drive unit. The position parameter NO: ALM2 =1: Alarm will triggered when the 2nd axis drive unit alarm signal
19#0 NO: 19#4 can modified, and set valid the high level alarm the low level alarm. The =0: Alarm will triggered when the 2nd axis drive unit alarm signal
position parameter NO: 19#0 NO: 19#4 the company's drive unit set After the parameter 局 ALM3 =1: Alarm will triggered when the 3rd axis drive unit alarm signal
modified, press <Reset> cancel the system alarm. For safety reasons, please set the system
parameter switch “Off” state. =0: Alarm will triggered when the 3rd axis drive unit alarm signal
三 ALM4 =1:Alarm will triggered when the 4th axis drive unit alarm signal
=0: Alarm will triggered when the 4th axis drive unit alarm signal
ALM5 =1: Alarm will triggered when the 5th axis drive unit alarm signal
=0: Alarm will triggered when the 5th axis drive unit alarm signal
ALMS =1:Alarm will triggered when the spindle drive unit alarm signal
=0: Alarm will triggered when the spindle drive unit alarm signal
System parameter number
FALM SALM
SALM =1: Ignore spindle drive unit alarm.
=0: Not ignore spindle drive unit alarm.
FALM =1: Ignore feed axis drive unit alarm.
=0: Not ignore feed axis drive unit alarm.
4.7 Machine Tool Pitch Compensation
4.7.1 Pitch Compensation Related Parameters
Table 4-7-1-1
name
0037 Bit0 Whether the pitch error compensation function valid (0:No1:[
166

--- Page 181 ---
Chapter Machine Tool Debugging
Yes
compensation absolute value compensation
mode
Note:
When the position parameter NO:37# set the pitch error compensation valid;
When the position parameter NO:37# set the bidirectional (respective) pitch error compensation
mode adopted. When this figure set the one-way (average) compensation mode adopted;
When the position parameter NO:38# set the absolute value compensation mode adopted, and
when this figure set the incremental value compensation mode adopted.
Table 4-7-1-2
No.
0216 Pitch error compensation number for the 1st axis reference point,
0217 Pitch error compensation number for the 2nd axis reference point,
0218 Pitch error compensation number for the 3rd axis reference point,
0219 Pitch error compensation number for the 4th axis reference point
Pitch error compensation number for the 5th axis reference point
moving from zero return opposite direction zero
moving from zero return opposite direction zero
[0228 oppesia roca
moving from zero return opposite direction zero 一
moving from zero return opposite direction zero
moving from zero return opposite direction zero
0226 1st axis pitch error compensation interval (5.0000
0227 2nd axis pitch error compensation interval
0228 3rd axis pitch (5.0000
0229 4th axis pitch error compensation interval
0230 5th axis pitch errorcompensation interval |50000
Note:
PA: 0216-0220 The pitch error compensation number the reference point, which refers the number
the reference point (mechanical point) located the compensation serial number. The compensation
serial number fixed from 255. The reference points are arranged the parameter accordance
with their positions the serial number;
PA: 0221-0225 The pitch error compensation value that moves from the zero return opposite direction
the zero point, which refers the backlash value when moving the reverse direction. This parameter
activated case the two-way compensation used. Where the mean compensation used, the
backlash compensation value set the PA: 0190 0194 parameters;
PA: 0226-0230 Pitch error compensation interval, which refers the distance for setting each segment
compensation.
4.7.2 Pitch Compensation Debugging Process
167

--- Page 182 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual The 218MC pitch error compensation relatively simple mode. The error compensation The pitch compensation number the 218MC system 0-255. The concept compensation 168
Pitch error compensation debugging values for the forward movement end positions each compensation section and their points omitted for the 218MC. The number compensation points based “the number
The axis ready for pitch error compensation zeroed corresponding compensation numbers shall determined for the purpose compensation. compensation points set screw rod travel/compensation interval”. The user only needs
Determine the total travel the compensation axis and the travel and determine the compensation point the compensation interval needed, and the other parameter
position compensated can determined the screw rod travel.
Turn the pitch error compensation function parameter
Position parameter 37#0 SCRW (0: invalid valid)
Select the pitch error compensation method
Position reference 37#1 BDP (0: mean compensation respective
compensation)
Select the pitch error compensation value and compensation mode
Position parameter 38#7 SCAR (0: incremental value compensation
absolute value compensation)
Set the pitch compensation interval the corresponding axis
(number reference PA226-PA230)
The compensation pitch user-defined. The smaller the
compensation interval, the higher the compensation accuracy.
Based the set compensation interval programming,
run the program detect the error each interval
时 到
对 Input the error compensation value each section into 了 所
the corresponding compensation number 已
fom
Check the accuracy after compensation standard
Yes|
Pitch error compensation
debugging ends Fine-tune the compensation value
corresponding the interval where the
detected error large
Reduce the compensation interval and
re-detect and compensate (recommended)
Figure 4-7-2-1 Pitch compensation debugging process
4.7.3 Description Setting The Pitch Error Compensation Interval Each Axis

--- Page 183 ---
Chapter Machine Tool Debugging the screw rod travel 800mm and the user wants divide the pitch into segments for pitch the screw rod travel 800mm and the user wants compensate with the interval 50mm, set Attachment: specific description pitch compensation points and interval (this may case pitch compensation, 256 pitch compensation numbers the 218MC system are valid, For example, the compensation interval set 50mm, the position the 10th compensation 一 The reference point compensation number the compensation number where the machine tool zero position located. 一 The order the pitch compensation numbers arranged based the machine tool coordinate Since the machine tool axis has zero return the positive and negative directions, there problem reference point position. the machine tool returns zero the negative direction, most the travel positive, then the Negative direction zeroing System within the travel range (Mechanical 100 150 200-250 300 350 400 450 500 Machine coordinate value the machine tool returns zero the positive direction, the machine tool zero point the 169
Pitch error compensate Total travel screw compensation, the interval between each segment 80mm (80mm=800mm/10), and set the the compensation interval the corresponding axis P226-P230 50. When entering the ignored for normal debugging) and the coordinate position each pitch compensation number corresponding the compensated number already 500mm, the position the 20th compensation number 1000mm, the position 4.7.4 Description Setting The Pitch Error Compensation Number For Each Axis value from small large. The minimum value the machine tool coordinate system the travel minimum machine tool coordinate the zero point, and the pitch compensation number the Compensation number (0) (1) (2) (3) (4) (5) (6) (7) (8) (9) (10 Machine positive direction maximum value the machine tool coordinate system, and the whole screw rod travel negative,
spacing Number user-defined compensation interval value the corresponding axis P226-P229 80. When entering the compensation value, just enter the 0-16 compensation number (16=800/50). machine calculated according the compensation interval, and the travel the general screw rod the 200th compensation number 10000mm, and many compensation numbers are located outside Reference Point range the No. compensation number, and the machine tool coordinate position value the No. corresponding reference point should set Figure 4-7-4-1 Description reference point compensation number for negative direction zeroing the minimum value the whole screw rod the farthest end, and the minimum value the No.
compensation sections compensation value, just enter the 0-10 compensation number. calculated according the pitch compensation interval and part the pitch compensation number. the screw rod travel accordance with the compensation position based the compensation compensation number greater than that No. this way, the compensation point with the larger compensation number. the screw rod divided into ten segments this time, the compensation
Number pitch error Total travel screw interval. Even compensation will performed when the system runs this coordinate, the 二 machine tool coordinate value has larger compensation number.
compensation sections User-defined compensation machine tool will not able run this point. The user can calculate according the above
spacing method and set the compensation number within the travel range the axis meet the
requirements. 人

--- Page 184 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual Minimum value machine coordinate ee. range Machine -500 -450 -400 -350 -300 -250 -200 -150 -100 (Mechanical coordinate value zero) Attachment: specific description reference point pitch error compensation number (this For pitch compensation, each pitch compensation number used for compensation based The reference point compensation number equivalent positioning these compensation For example, the reference point compensation number set 10, the position No. direction No. compensation number position 50mm (50mm=0+50mm) and No. compensation The correspondence between the pitch error compensation quantity and the compensation Table 4-7-5-1 Compensation number quantity Divide the distance between the minimum and maximum values the movement the machine
number the reference point should set 10. Machine positive direction may ignored for normal debugging) the machine tool coordinate value the corresponding axes, after determining the machine tool numbers. After determining the reference point compensation number, the system adds and subtracts compensation number the machine tool coordinate system the compensation interval set number position 100mm (100mm=0+50*2mm), and on, the end user can compensate the number shown Table 4-7-5-1. tool table segments and then conduct error detection. The pitch error each interval fixed
Positive direction zeroing Figure 4-7-4-2 Description reference point compensation number for positive direction zeroing zero point, these pitch compensation numbers can compensated according the position the the set compensation intervals calculate positions other compensation numbers accordance 50mm, the coordinate position No. compensation number -50mm (-50mm=0-50mm), the coordinate value the screw rod travel. 170
machine tool coordinate values. with the position this reference point compensation number. The compensation numbers are coordinate position No. compensation number -100mm (-100mm=0-50*2mm), while the other shown the above figure, when the reference point compensation number set 10, the
Compensation number (0) (1) (2) (3) (4) (5) (HD (7) (8) (9) (10) sorted from small large the machine tool coordinate. compensation interval 50mm, the screw rod travel only -200mm-Omm, the user only needs
type the pitch compensation value and input No. and pitch compensation value.
三 人 Similarly the screw rod travel 0-200mm, the reference point compensation number can also
set 10, the position No. pitch compensation 200mm, and the user only needs set No.
10, 11, 12, and 14.
4.7.5 Description The Compensation Number Corresponding The Measured Pitch
Compensation Data
Detection interval Nes Nota
number
Compensation 一
number
valve (-3) (+5) (-7) (+7) (0) (-2) (-4) (-2) (+7) (42)
coordinate system
Mechanical vero
Set value
Measured byes
value
Figure 4-7-5-1 Measured pitch error compensation data

--- Page 185 ---
Chapter Machine Tool Debugging
the fixed moving direction, and the errors the positive and negative directions are different due
factors such screw rod manufacturing abrasion. The mean compensation method average
the error values the two moving directions ensure narrowing errors the two directions. The
relationship between the compensation value and the compensation number shown the figure
(Figure 4-7-5-1)，the error value the segment should input the corresponding
compensation sequence number "1" the system, that the system can correctly call the pitch
error compensation quantity the segment. The error value the segment the figure
(Table 4-7-5-1) input the corresponding compensation sequence number "6", that the system
can correctly call the pitch error compensation quantity the segment. can seen that the
pitch error value each segment corresponds the compensation number the end position
corresponding the positive direction the segment.
4.7.6 Pitch Compensation Value Input Step
SYSTEM
Press key enter the system page including five interfaces such [Offset],
[Macro variable], [Pitch error compensation] and Press [Pitch error
compensation] soft key enter the pitch error compensation page shown below:
上
昌
joes 日
[ed 昌
日
jes 日
[oo7
日
[oot
DATA 19: 44:
Figure 4-7-6-1 Pitch compensation interface
Enterthe compensation values for each axis directly follows:
Select the entry method;
SYSTEM
Press the key, then press the [Password] soft key enter the [Setting (Password)]
page and enter the password for the system debugging level higher.
Press the [Set] soft key enter the [Set] page and open the parameter switch.
SYSTEM
4)Press key and then press [Pitch error compensation] soft key enter the pitch error
compensation display interface;
Position the cursor the target position with the up, down, left, and right direction keys, enter
INPUT
the compensation value, press the key, and the compensation value will input and
displayed.
4.7.7 Precautions For Pitch Error Compensation Setting
The set compensation amount related the positional relationship between the zero point
and the compensation point, the direction mechanical movement and the compensation interval.
171

--- Page 186 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual The compensation quantity the compensation number (N=0, 255) The mechanical zero point used the compensation origin, and the compensation quantity 4)Axis that can compensated: 4th axis. Compensation quantity range: compensation value (-999 pulse equivalent +999 pulse The unit the pitch error compensation the rotary axis deg. When the pitch error compensation interval set zero, the system does not compensate. After relevant parameters the pitch error compensation are set, the machine tool needs After the pitch compensation, mechanical zero point the machine tool cannot changed 10) After the pitch error compensation data set, the pitch error compensation can performed Once the pitch error compensation data set, principle, the end user cannot change the (+1) (-1) (-7) (46) (-5) (0) (45) (3) (16) (-7) pitch eror vale system Mechanical zero
determined the mechanical error the section N-N1. The number settable set for each axis set the parameter value. equivalent) minimum compensation unit. (Metric system: 0.001mm British system: 0.0001 (Pitch error compensation performed near the midpoint the compensation section) powered off and restarted, and then such setting can take effect after mechanical zero arbitrarily. Otherwise, the position the pitch compensation point will not match the actual for each axis, improve the accuracy the machine tool. The unit the 和 data. Otherwise, accuracy the machine tool will decrease. value
compensation numbers for each axis 256. inch Angle: 0.001deg return. compensation position, leading the decreased accuracy the machine tool. compensation value the detection unit. Different machine tools have different pitch errors, 3958 49995 79.999
necessary reset the mechanical zero point for special reasons, the pitch error the compensation data different. The pitch compensation data should set according 4.7.8 Incremental Value Compensation Linear Axis Mean Value (One-Way) valuc
compensation data must re-detected. the machine tool characteristics after the machine tool connected the CNC system. Mode Movement average error positive and negative directions
Figure 4-7-8-1 Measured pitch error compensation data
The axis taken example the linear axis, and the other linear axes are set the same this time, the pitch error compensation value the axis the system set shown
way. Table 4-7-8-2.
站 Return zero positive direction, and the error compensation detected with the 172
mechanical zero reference point.
Assume that the actual situation is: the pitch error compensation interval 10mm, and the
X-axis travel 100mm. The relevant data parameter settings are shown Table 4-7-8-1.
Table 4-7-8-1
compensation number
interval
Actual measured values are shown Figure 4-7-8-1.
六- “Yo Sos Soc Detection interval

--- Page 187 ---
Chapter Machine Tool Debugging
Table 4-7-8-2
Compensation
number
Compensation
value
[oT
[ae
[ogg 日
DATA 和 18:44:13
eee
PITCH 一
Figure 4-7-8-2 Pitch compensation sample 三 三
Return zero negative direction, and the error compensation detected with the
mechanical zero reference point.
Assume that the actual situation is: the pitch error compensation interval 10mm, and the
X-axis travel 100mm. The relevant data parameter settings are shown Table 4-7-8-3.
Table 4-7-8-3
Default set value Actual set value
P216: X-axis reference point
compensation number
P226: X-axis pitch error compensation
interval
Actual measured values are shown Figure 4-7-8-3.
Detection interval N73 人
Detect
Compensation
number
Pitch error value (-3) (+5) (-7) (+7) (QO) (-2) (-4) (-2) (+7) (+2)
Machinery
coordinate
Mechanical zero
Set value 人
Measured 人
value
Movement average error positive and negative directions
Figure 4-7-8-3 Pitch compensation data (mean compensation method)
this time, the pitch error compensation value the axis the system set shown
Table 4-7-8-4.
Table 4-7-8-4
[Compensation
173

--- Page 188 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
[number
Compensation
quantit
The mechanical zero the middle the travel, and the error compensation detected
with the mechanical zero reference point.
Assume that the actual situation is: the pitch error compensation interval 10mm, the
X-axis travel 100mm, and the negative positive limit -50 +50. The relevant data
parameter settings are shown Table 4-7-8-5.
Table 4-7-8-5
Default setting Actual setting
216: X-axis reference point
compensation number
226: X-axis pitch error
compensation interval
Actual measured values are shown Figure 4-7-8-4.
Detection interval
number aad
Compensation 一 全
number
Pitch errorvalue (+5) (47) (-2) (-2) (-2) (42) (44) (-3) (-4)
Machinery
coordinate
Mechanical zero
Measured
value 了 的 一 ron
Movement average ertor positive and negative directions
和 Figure 4-7-8-4 Actual measured pitch compensation data
this time, the pitch error compensation value the axis the system set shown
Table 4-7-8-6.
Table 4-7-8-6
ume
和 一
number
Compensation
value
4.7.9 Incremental Value Compensation Rotary Axis Mean Value (One-Way)
Compensation Mode
The rotary axis featured with overlapped start point and end point. Therefore, the No.
compensation value the same the No. compensation value. The displacement per revolution
360°, which divided into interval segments, shown Figure 4-7-9-1.
174

--- Page 189 ---
Chapter Machine Tool Debugging
Mechanical xcro
0/360
360.003
Pitch error compensation 中
0/6
Set angle
300 60.0CS
299.9987 Compensation S/N
Compensation interval 一
120
240
Measured
119.997
angle 239.995
-10 由
180
Figure 4-7-9-1 Rotary axis pitch compensation
Unfold Figure 4-7-9-1 obtain the following Figure 4-7-9-2.
Detection interval
number
Compensation
number
Pitch error value (-5) (+8) (-8) (+10) (-3) (-2)
Machinery
coordinate system 三
zero Mechanical zero 全
Setvalue tee
value ier
Movement average error positive and negative directions 三
Figure 4-7-9-2 Measured data rotary axis pitch compensation
this point, can seen that the compensation quantity the compensation starting point
and the compensation end point the same interval. Therefore, the rotary axis, the
compensation quantity the compensation starting point and the compensation end point set
the same. addition, according the characteristics the rotary axis, the displacement amount per
revolution 360°. The sum the compensation amounts all compensation intervals (ie:
N1+N2+......+N6=0). the sum all compensation amounts not the pitch error per revolution
will accumulated, resulting positional shift. With the increasing number revolutions the
same direction, the position offset will become larger. The pitch error compensation performed
shown Figure 4-7-9-2. this time, the parameters the pitch error data the system are set
shown Table 4-7-9-1.
Table 4-7-9-1
compensation number
226: 4th-axis pitch error
compensation interval
this time, the pitch error compensation value the rotary axis axis) the system set
shown Table 4-7-9-2.
Table 4-7-9-2
175

--- Page 190 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Compensation
number
Compensation
value
Note: the above table, the No. compensation value the rotary axis and the No. compensation value are
coincident, the compensation values filled must the same. Either No. No. needed for
calculation, the sum compensation amounts all compensation intervals always
4.7.10 Incremental Value Compensation Linear Axis Respective (Two-Way)
Compensation Mode
Take the axis which forward-zeroed example. The error compensation detected with
the mechanical zero the reference point. The other axes are set the same way.
Assume that the actual situation is: the pitch error compensation interval 10mm, and the X-axis
travel 100mm. The relevant data parameter settings are shown Table 4-7-10-1.
Table 4-7-10-1
Default set value Actual set value
P216: X-axis reference point
compensation number
P226: X-axis pitch error compensation
interval
Actual measured values are shown Figure 4-7-10-1.
Nts soa Detection interval
number
ation
sos Pitch val
(+1) (-7) (+6) (-5) (0) (+5) (-3) (+6) (-7) alue
coordinate system
fe) Mechanical zero
DOP BET ALO ees Set value
人 ran Measured
vane
Movement error value negative direction
G12) GID (-5) (+5) (-5) (-2) (46) (43) GH) GS) Pitch error valu
system
Mechanical zero
Sale
Movement error value positive direction
Figure 4-7-10-1 Measured pitch error compensation data
this time, the pitch error compensation value the axis the system set shown
Table 4-7-10-2.
Table 4-7-10-2
Compensation
number
Compensation
value
Compensation
number
Compensation
value
Note: for the axis the zero return direction, the machine tool coordinate system interval arranged the
reverse direction the starting position moved the zero point the reverse direction. The sum
the compensation value the interval and the backlash value (0.015 the example, including the
backlash) input the data parameter P0221, and the other axis and the corresponding data
parameters may analogized correspondingly.
Data parameter The pitch error compensation value (absolute value) the first axis
P0221 moving from zero return opposite direction zero
176

--- Page 191 ---
Chapter Machine Tool Debugging
joe
few. [tT
[ae 日
joes 日
[ae
jeer
[ae
[age
fee
[Le
DATA 18: 44:
Figure 4-7-10-2 Example pitch compensation (negative movement compensation value)
fese
[use
0254 [el
1008 1012
[ae [eo 一
[ia he。
[is
[ze Lons
DATA DATA 16: 15: 和
16:16:
rae
Figure 4-7-10-3 Example pitch compensation (forward movement compensation value)
0180
“e222 e000
aaa [0.0000
0000
"e225 [0.0000
Figure 4-7-10-4 Example pitch compensation (pitch error compensation value for reverse return
zero, including backlash)
4.7.11 Absolute Value Compensation Linear Axis Mean Value (One-Way)
Compensation Mode
Take the axis which forward-zeroed example. The error compensation detected with
the mechanical zero the reference point. The other axes are set the same way.
Assume that the actual situation is: the pitch error compensation interval 10mm, and the X-axis
travel 100mm. The relevant data parameter settings are shown Table 4-7-11-1.
Table 4-7-11-1
Default set value Actual set value
compensation number
P226: X-axis pitch errorcompensation
177

--- Page 192 ---
人 Peaks 控 GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Actual measured values are shown Figure 4-7-10-1.
Detection interval
Compensation
(+5) (-6) (42) (-4) G1) GI) (-1) (-7) Machines
coordinate system
Mechanical zero
gs, mpgs 一 Measured
wes Jon Meas
Average movement error positive and negative directions
Figure 4-7-11-1 Measured pitch error compensation data
this time, the pitch error compensation value the axis the system set shown
Table 4-7-11-2.
Table 4-7-11-2
Compensation
number
Compensation
value
Absolute Value Compensation Linear Axis Respective (Two-Way)
Mode
Take the axis which forward-zeroed example. The error compensation detected with
S=z the mechanical zero the reference point. The other axes are set the same way.
Assume that the actual situation is: the pitch error compensation interval 10mm, and the X-axis
和 travel 100mm. The relevant data parameter settings are shown Table 4-7-12-1.
和 一
Table 4-7-12-1
Default set value Actual set value
P216: X-axis reference point
compensation number
P226: X-axis pitch error compensation
interval
Actual measured values are shown Figure 4-7-12-1.
ae) Detection interval
Compensation
umber
(-5) (+4) (-5) (42) (-4) (+1) (+1) (-4) (-1) (-7) Pitch error value
Machinery
ordinate system
Mechanical zero
Set value
Measured
Movement error value negative direction
(-22) (-1) €-3) (+1) (-2) (+5) (+3) (-6) (-2) (-4) Pitch error value
Machinery
courdinate system
Mechanical zero
ete tee Set value
Cos poe, Measured
Fore 四 一 Poe wee value
Movement error value positive direction
Figure 4-7-12-1 Measured pitch error compensation data
this time, the pitch error compensation value the axis the system set shown
178

--- Page 193 ---
Chapter Machine Tool Debugging
Table 4-7-12-2.
Table 4-7-12-2
Compensation
number
value
Compensation
number
Compensation
value
4.7.13 Rotary Axis Pitch Error Compensation
The respective (two-way) compensation and absolute value compensation modes the rotary
axis are the same the linear axis. The compensation method the same, but must comply with the
rotary axis characteristics. For details, see “4.7.9 Incremental value compensation rotary axis mean
value (one-way) compensation mode”.
4.8 Mechanical Zeroing (Machine Tool Zeroing)
Mechanical zero (machine tool zero) concept
The machine tool coordinate system the inherent coordinate system the machine tool. The
origin the machine tool coordinate system called the mechanical zero (or machine tool zero).
also called the reference point this manual. the mechanical origin specified the machine tool
manufacturer and usually installed the maximum travel the positive direction the X-axis,
Y-axis, Z-axis, 4TH axis, and 5TH axis. When the numerical control device powered on, the
mechanical zero not known, and automatic manual zeroing required generally.
There are two types zeroing modes: After the block; Before the block. set the
position parameter NO: 6#1. 二
There are two zeroing methods: with one-turn signal; without one-turn signal. set the 一
position parameter N0: 6#6.
case zeroing without motor one-turn signal, the zeroing method divided into two types:
A-type and B-type. set the position parameter NO: 6#7.
4.8.1 Mechanical Zeroing Under Pulse Mode
179

--- Page 194 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Zeroing deceleration signal DEC
(G17.0-G17.4
Coded disc one-turn signal nPC
Start Mechanical
zero
小 小 由
When servo motor with coded disc used (setting position parameter NO.64#6=1, A/B-type block, and the front and rear logics the
block are the same):
The system executes mechanical zeroing. The machine slide plate moves towards the set zeroing direction with distance I.1 and speed
data parameters P100-104. The acceleration and deceleration time constants are data parameter P3S2 (applicable for the whole axis). When
the zeroing switch senses the zeroing block, the zeroing deceleration signals G17.0-G17.4 are effective. The system starts deceleration the
speed set data parameters P342-P346. The acceleration and deceleration time constants are data parameter P353 (applicable for the whole
axis). When the sensor switch leaves the zeroing block, the system immediately decclerates the speed set data parameter P99, and
waits the coded disc one-turn signal (nPC). The system stops when the nPC signal received, and sets this point (Point the mechanical
zero. Zeroing completed.
Note:
Adjust parameters and P352, and ensure smooth starting and stopping section.
Adjust parameters P100-104 and P353, and ensure that the system does not vibrate when the system decelerated section
(Point B), and can decelerated the speed set data parameters P342-P346 section.
Adjust parameters and ensure that the system does not vibrate when the system decelerated section (Point C).
ensure zeroing precision, recommended that distance should >2MM.
the system set zeroing before block, when the system decelerates 1.2 section, and moves reverse direction based the
speed set data parameters P342-P346.
use the grid offset function (only the section movement direction), set data parameters P180-183 the desired offset distance
(L4, MM). The system will take Point the mechanical zero during zeroing.
Signal sequence when servo motor with coded disc used: A/B-type zeroing method
4-8-1-1
口 一
180

--- Page 195 ---
Chapter Machine Tool Debugging
Zeroing deceleration Signal DEC
(G17.0-G17.4
When step motor used (set position parameter NO.6#6=0):
The system executes mechanical zeroing. The machine slide plate moves towards the set zeroing direction with distance
and speed data parameters P100-104. ‘The acceleration and deceleration time constants are data parameter P352 (applicable
for the whole axis). When the zeroing switch senses the zeroing block, the zeroing deceleration signals G17.0-G17.4 are
effective. The system starts deceleration the speed set data parameters P342-P346. The acceleration and deceleration time
constants are data parameter P353 (applicable for the whole axis). When the sensor switch leaves the zeroing block, the system
immediately decclerates the speed set data parameter P99, and when the deceleration signal effective again, the system
immediately stops and sets this point (Point the mechanical zero. Zeroing completed.
Note:
Adjust parameters P100-104 and P352, and ensure smooth starting and stopping section.
Adjust parameters P100-104 and P353, and ensure that the system does not vibrate when the system decelerated
1.2 section (Point 13), and can decelerated the speed set data parameters P342-P346 1.2 section.
Adjust parameters P342-P346, and ensure that the system does not vibrate when the system decelerated
section (Point C).
the system set before block, when the system decelerates section, and moves reverse
direction based the speed set data parameters P99.
Signal sequence when step motor without coded disc used: A-type zeroing method
Fig. 4-8-1-2
181

--- Page 196 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual (1) Press the key enter the mechanical zeroing operation mode. this time, (2) Select the X-axis, Y-axis, Z-axis, 4TH-axis 5TH-axis return the mechanical zero. (3) The machine tool moves along the mechanical zero. Before reaching the deceleration Example: Take the normal increment zeroing the 1st axis example. The 1st axis starts 182
Zeroing deceleration signal DEC the words “mechanical zeroing” are displayed the lower right corner the LCD The zeroing direction determined the position parameter NO:7#0-N0:7#4. point, moves quickly (the moving speed set the data parameters P100-P104). hit the block with higher speed F4000 (data parameter P100 set 4000), and passes
(G17.0-G17.4 screen. After touches the deceleration switch, the zeroing speed each axis set the through the block F500 (data parameter P342 set 500) after touching the
data parameters P342-P346. After breaking away from the block, moves the deceleration switch. After breaks away from the block, the one-turn pulse signal the
mechanical zero (ie, the reference point) the speed (set data parameter servo will searched slow speed F40 (data parameter P99 set 40). Such search
When step motor used (set position parameter NO.6#6=0): P099). When returns the mechanical zero, the coordinate axis stops moving and will stopped immediately once the signal gained, shown Figure 4-8-1-4.
The system executes mechanical zeroing. The machine slide plate moves towards the set zeroing direction with distance the zeroing indicator light on.
and speed data parameters P100-104. The acceleration and deceleration constants are dala parameter P352 (applicable
for the whole axis). When the zeroing switch senses the zeroing block, the zeroing deceleration signals G17.0-G17.4 are
effective. The system starts deceleration until the speed set data parameter P342-P346. The acceleration and deceleration
ume constants are data parameter P353 (applicable for the whole axis). When the sensor switch leaves the zeroing block, the
system immediately stops and sets this point (Point the mechanical zero. Zeroing completed.
Note:
Adjust parameters P100-104 and P352, and ensure smooth starting and stopping section.
Adjust parameters P100-104 and P353, and ensure that the system does not vibrate when the system decelerated
1.2 section (Point B), and can decelerated the speed set data parameters P342-P346 1.2 section.
Adjust parameters P342-P346, and cnsure that the system does not vibrate when the system decelerated
section (Point C).
ensure zeroing precision, recommended set P342-P346 smaller values (recommended value 40).
the system set zeroing before block, when the system decelerates L.2 section, and moves reverse direction
based the speed set data parameters P342-P346.
忆
Signal sequence when step motor without coded disc used: B-type zeroing method
Fig. 4-8-1-3
他 Operation steps pulse type servo machine zeroing
中
MACHINE

--- Page 197 ---
Chapter Machine Tool Debugging
Block break- One-tum 一
Block position away position signal position 一 Stop position
F4000 全 -FS00' F40
一
(“Rui tothe seroing block high speed Slow jj, Detect
tothe ‘at high speed ([N speed pulse signal"
Fig. 4-8-1-4
Operation steps for mechanical zeroing with program code
After the position parameter NO: 6#3 set the program code G28 can used for
zeroing, the travel block detected and equivalent the manual mechanical zeroing.
4.8.2 Bus Type Servo Zeroing Function Setting
There are two methods zeroing for the system configured with bus servo, including normal
zeroing and multi-turn absolute zero setting. Such two methods are described below separately.
Normal zeroing
Set the position parameter No: O#0=0, the system will return zero under the normal
zeroing mode. The zeroing mode with without one-turn signal may selected. This
zeroing mode can used system configured with DA98B, GS2000 series incremental
mode version. the zeroing mode, the zeroing axis valid.
The specific operation steps are basically the same the pulse type servo zeroing 了
operation. Please refer "4.8.1 Mechanical zeroing under pulse mode".
ll. Multi-turn absolute zero setting
Set the position parameter No: 0#0=1 configure the series multi-turn absolute version,
SYSTEM 和
manually move each axis the machine tool zero, then press the key enter the
system page, and switch and display the configuration] interface through the
soft are shown 4-8-2-1.
BUS NOT AXIS EX-CARD
GRATING TYPE
EX-CARD
AXIS Ref. SET Ne. LIMIT Po. LIMIT ENCODER GRATING
:ed 加
ism 加
加
NOTE: (@:NO 1:YES)
DATA 18: 16:
MDI
+BUS CONF
Fig. 4-8-2-1
Multi-turn absolute zero setting:
First, set the gear ratio, feed axis direction and the zeroing direction the system end, and
power again after power-off.
183

--- Page 198 ---
人 322 GSK218MC Machining Center CNC System PLC and Installation Connection Manual MDI mode, set “Bus not” and “Encoder type” the bus configuration interface, and manually move each axis set the machine zero position. Move the cursor press <Input> button twice according the prompt, the Grating configuration not. Decide whether the grating configured not for each axis. INPUT Press the key confirm. Note After the machine zero set, modification the zeroing direction each axis the system, the moving Note After the machine zero reset, other reference points will influenced, such the second and third reference points which must reset. Note the end the returning mechanical zero, the corresponding axis indicator light will on. Note When the corresponding axis not the mechanical zero, the zeroing indicator light off. Note For the direction the mechanical zero (ie reference point), please refer the machine tool manual provided the machine tool manufacturer. Note The zeroing direction each axis, the direction the feed axis, and the gear ratio shall not modified after the mechanical zero set. Related signals DECX: reduced speed signal direction; DECY: reduced speed signal direction; DECZ: reduced speed signal direction; DEC4: Deceleration signal 4th axis DEC5: Zero returning signal 5th axis Parameter diagnosis (input status machine tool)
accord zeroing indicator lights up; record the current position the absolute encoder each without grating, with grating. direction the feed axis, the servo and the system gear ratio will lead the lost zero and resetting the Example: Status X1.3 X1.2 X1.1 X1.0
axis motor the machine zero point, power the system when powered off and machine zero. For the zero setting the absolute encoder, the zero position can set according the
the zeroing indicator still lights up. The negative boundary and the positive boundary can absolute position the motor. shown the Figure 4-8-2-2 Pin No. XS40.22 XS40.09 |XS40.21| XS40.08
manually set according the maximum travel the machine tool, that the current Status X5.0
machine tool absolute coordinate offset forward backward one value, and finally Zero can set atrandom between, address
the position parameter No.61#6 set validate the positive and negative limit. Pin No. XS42.08
the positive and negative limits System parameter number
区 MAOB ZPLS SJZ ZMOD
二 184
对 Figure 4-8-2-2 Absolute encoder zero setting
Note your machine tool not equipped with the zeroing deceleration switch the mechanical zero not
set, please not operate the mechanical zeroing.

--- Page 199 ---
Chapter Machine Tool Debugging
ZMOD ”=1: zero returning mode selection before block.
=0: zero returning mode selection after block.
SJZ =1: reference point memory.
=0: reference point without memory.
ZPLS =1: zero returning method selection: there one-turn signal.
=0: zero returning method selection: there one-turn signal.
MAOB =1: zero returning method selection there one-turn signal: method
=0: zero returning method selection there one-turn signal: method
System parameter number
zZMI5 ZMI4 ZMI3 ZMI2 ZMI1
ZMI1 =1: set reference point return direction 1st axis: negative direction.
=0: set reference point return direction 1st axis: positive direction.
ZMI2 =1: set reference point return direction 2nd axis: negative direction.
=0: set reference point return direction 2nd axis: positive direction.
ZMI3 =1: set reference point return direction 3rd axis: negative direction.
=0: set reference point return direction 3rd axis: positive direction.
ZMI4 =1: set reference point return direction 4th axis: negative direction.
=0: set reference point return direction 4th axis: positive direction.
ZMI5 =1: set reference point return direction 5th axis: negative direction.
=0: set reference point return direction 5th axis: positive direction.
Data parameter No.099
(FL) speed when acquiring pulse signal (applicable all axes)
Data parameters No.100~No.104
Reference point return speed 1st axis
Reference point return speed 2nd axis
Reference point return speed 3rd axis
pointreturn speed
Reference point return speed 5th axis
Data parameters No.342~No.346
1st axis zero returning low speed
2nd axis zero returning low speed
3rd axis zero returning low speed
345 4th axis zero returning low speed
5th axis zero returning low speed
Data parameters No.352~No.353
Zero returning high speed acceleration/deceleration time
3.5 Zero returning low speed acceleration/deceleration time constant
Data parameter No.354
Zero returning stop return the low speed machine tool zero point
Data parameters No.180~No.183
1st axis grid offset reference point offset
185

--- Page 200 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
2nd axis grid offset reference point offset
3rd axis grid offset reference point offset
4th axis grid offset reference point offset
4.9 Input/Output Signal Control Positive and Negative Rotation Spindle
Related signals
M03: main shaft clockwise rotate
M04: main shaft anticlockwise rotate
Spindle stop
SON: Spindle enabling
SAR: Spindle speed reaching
ZSP: Spindle zero-speed detection
COIN: Orientation place spindle
Parameter diagnosis (output status system)
Status Y6.5 Y6.4
Pin No. X$23.25 XS23.09
Y6.4= Spindle positive rotation signal output; Y6.5= Spindle negative rotation signal output
Status Y6.0
Pin No. X$23.24
Y6.0= Spindle enabling.
Parameter diagnosis (input status machine tool)
Status X6.3 X6.2
三
Pin No. X$23.20 XS23.05
X6.2= Spindle speed reaches signal input; X6.3= Spindle zero speed detects signal input.
Status X6.6 X6.5
Pin No. X$23.21 XS23.44
X6.5= Speed/position switch complete signal; X6.6= Spindle orientation complete signal.
Data parameters No.632~No.647
1st spindle maximum rotation speed during rigid tapping (1st gear)
4th spindle maximum rotation during rigid tapping (4th gear)
Data parameters No.252~No.267
Maximum rotation speed 1st spindle corresponding 1st gear
Maximum rotation speed 4th spindle corresponding 4th gear
Data parameters No.600~No.615
Number teeth spindle side gear 1st spindle (1st gear)
Number teeth spindle side gear 4th spindle (4th gear)
Data parameters No.616~No.631
Number teeth position code side gear 1st spindle (1st gear)
Number teeth position code side gear 4th spindle (4th gear)
186

--- Page 201 ---
Chapter Machine Tool Debugging
Operating sequence
shown the figure 4-9-1 below:
Spindle stop
Positive/negative
rotation spindle sis
Figure 4-9-1 Negative rotation sequence spindle
Control Logic
Spindle stops when the system starts, M05 signal output remains;
After executing M3/M4 code, M3/M4 remains effective, M05 signal shuts off output;
4.10 Spindle Automatic Gear Shift Control
Related signals
Y3.4~Y3.6: spindle automatic gear shift output signal
X4.1~X4.3: spindle gear shift complete signal
When selecting spindle frequency converting control (0~10V analog voltage output), this system
supports 3-gear spindle automatic shift control, 3-gear shift complete detection function.
Signal diagnosis
Parameter diagnosis (output status system)
Status Y3.6 Y3.5 Y3.4
address
Pin No. X$44.25) X$44.12 |XS44.24
Y3.4=Spindle 1st gear output; Y3.5=Spindle 2nd gear output; Y3.6=Spindle 3rd output.
Parameter diagnosis (input status machine tool)
Status X4.3 X4.2 X4.1
address
Pin No. X$42.15 XS42.02 |XS42.14
X4.1=Spindle 1st gear place; X4.2=Spindle 2nd gear place; X4.3=Spindle 3rd gear place. 人
Controlled parameters
Status parameter
SPT
SPT =1: Type spindle control: point control.
=0: Type spindle control: frequency conversion other method.
Data parameters No.252~No.267
Maximum rotation speed 1st spindle corresponding 1st gear
Spindle 1st gear, the rotation speed spindle under 10V corresponding frequency converter
Maximum rotation speed 1st spindle corresponding 2nd gear
Spindle 2nd gear, the rotation speed spindle under 10V corresponding frequency converter
Maximum rotation speed 1st spindle corresponding 3rd gear
Spindle 3rd gear, the rotation speed spindle under 10V corresponding frequency converter
Maximum rotation speed 1st spindle corresponding 4th gear
Spindle 4th gear, the rotation speed spindle under 10V corresponding frequency converter
248 1st spindle oriented inching spindle rotation speed
2.5 4th spindle oriented inching spindle rotation speed
Related the speed data parameter 251
187

--- Page 202 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Note: Set K8.4 machine tool has automatic shift device, otherwise set automatic shift disabled,
default the maximum rotation speed gear and guarantee 264226022562252
Set K9.0 spindle gear detector has detecting switch, otherwise set
Set K4.0 spindle controlled with point.
4.11 External Cycle Start and Feed Hold
Related signals
ST: External automatic cycle start signal, the same function automatic cycle start button the
machine tool panel.
*SP: Feed hold signal, the same function feed hold button the machine tool panel.
Signal diagnosis
Parameter diagnosis (input status system)
Status X1.6 X1.5
Pin No. X$40.25| XS40.12
X1.5=External cycle start X1.6=External feed hold
Signal internal connection
*SP/ST Signal internal circuit shown figure 4-11-1.
System side
三 Fig. 4-11-1
External connection circuit
*SP. signal external connection shown figure 4-11-2.
124V
xsp
分
XS40 socket
Fig. 4-11-2
Modify the following parameters
Address Status1 Setvalue
Whether the machine tool
connected external cycle
start
4.12 External Edit Lock and External Panel Lock
Related signals
LEDT: the external edit lock signal it’s programmable, and has the same function
program switch the system;
LSYS: the external panel lock signal all operation keys the machine are locked.
Signal address
188

--- Page 203 ---
Chapter Machine Tool Debugging
Parameter diagnosis (input status system)
Status X3.1 X3.0
address
Pin No. X$41.21 XS41.8
X3.0=External edit lock X3.1=External operation panel lock
System parameter number
LEDT LOPT
LOPT =1: External operation panel lock used.
=0: External operation panel lock not used.
LEDT =1: External edit lock used.
=0: External edit lock not used.
4.13 Cooling, Lubricating and Chip Removal
Related code
M07: on.
MO8: Coolant on.
MO9: Coolant off.
M35: Chip removal function on.
M36: Chip removal function off.
Signal diagnosis
Parameter diagnosis (output status machine tool)
Status Y0.1
address
Pin No. XS$43.14 一
Y0.1=Cooling switch control.
Parameter diagnosis (output status machine tool)
Status Y1.2 Y1.1
address
Pin No. X$43.9
Y1.1=Chip removal switch control, Y1.2=Lubricating switch control.
Internal circuit shown figure 4-13-1.
System side
M08
ULN2803
+24V
Figure 4-13-1 M08 internal circuit
189

--- Page 204 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
4.14 Setting Feed Speed
System parameter number
RDR FDR TDR RFO LRP RPD
RPD =1: from power connection before returning reference point, manual
control fast and effective.
=0: from power connection before returning reference point, manual
control fast and ineffective.
LRP =1: positioning (GOO) interpolation type linear.
=0: positioning (GOO) interpolation type non-linear.
RFO =1: rapid feed, stop when the feed rate Fo.
=0: rapid feed, not stop when the feed rate Fo.
TDR idling valid during tapping.
=0: idling invalid during tapping.
FDR =1: idling valid during cutting feed.
=0: idling invalid during cutting feed.
RDR idling valid during rapid positioning.
=0: idling invalid during rapid positioning.
setting range: 0~9999 (mm/min)
The cutting feed speed when the power switched
Setting range: 一 9999 (mm/min)
0088 1st axis rapid operation speed 8000
Setting range: 一 9999 (mm/min)
0089 2nd axis rapid operation speed 8000
Setting range: 一 9999 (mm/min)
0090 3rd axis rapid operation speed 8000
Setting range: 一 9999 (mm/min)
0091 4th axis rapid operation speed 6000
Setting range: 一 9999 (mm/min)
0092 5th axis rapid operation speed 8000
Setting range: 一 9999 (mm/min)
speed rapid operation rate each axis
applicable all axes
Setting range: 1000 (mm/min)
190

--- Page 205 ---
Chapter Machine Tool Debugging
Maximum feed speed rapid positioning (applicable 8000
all axes
Setting range: 300~30000 (mm/min)
Minimum feed speed rapid positioning (applicable
all axes
Setting range: O~300 (mm/min)
Maximum control speed cutting feed (applicable 6000
all axes
Setting range: 300~9999 (mm/min)
Minimum control speed cutting feed (applicable
all axes
Setting range: O~300 (mm/min)
0098 Manual continuous feed speed each axis (JOG)
Setting range: 一 9999 (mm/min)
(FL) speed when acquiring pulse signal (applicable
all axes
Setting range: 1~60 (mm/min)
0100 Reference point return speed 1st axis 4000
Setting range: 一 9999 (mm/min)
0101 Reference point return speed 2nd axis 4000
Setting range: 一 9999 (mm/min)
0102 Reference point return speed 3rd axis 4000
Setting range: 一 9999 (mm/min)
0103 Reference point return speed 4th axis 4000
Setting range: 一 9999 (mm/min)
0104 Reference point return speed 5th axis 4000
Setting range: 一 9999 (mm/min)
0110 1st axis rapid positioning acceleration (mm/s*)
Setting range: 一 9999 (mm/s?)
2nd axis rapid positioning acceleration (mm/s*)
Setting range: 一 9999 (mm/s?)
0112 3rd axis rapid positioning acceleration (mm/s*)
Setting range: 一 9999 (mm/s?)
191

--- Page 206 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
0113 4th axis rapid positioning acceleration (mm/s*) 2000
Setting range: 一 9999 (mm/s?)
5th axis rapid positioning acceleration (mm/s*) 2000
Setting range: 一 9999 (mm/s?)
0170 1st axis manual rapid positioning speed 8000
Setting range: 30000 (mm/min)
0171 2nd axis manual rapid positioning speed 8000
Setting range: 30000 (mm/min)
0172 3rd axis manual rapid positioning speed 8000
Setting range: 30000 (mm/min)
0173 4th axis manual rapid positioning speed 8000
Setting range: 30000 (mm/min)
0174 5th axis manual rapid positioning speed 8000
Setting range: 30000 (mm/min)
Axis rapid positioning maximum acceleration (mm/s 3500
2142 rapid positioning (ms
三 Setting range: 一 9999 (mm/s?)
4.15 Setting Tapping Parameter
Location parameter number
PCP DOV TAPD
TAPD =1: flexible tapping mode spindle acceleration/deceleration constant
acceleration.
=0: flexible tapping mode spindle acceleration/deceleration constant
time constant.
DOV =1: rate valid when rigid tapping retracting.
=0: rate invalid when rigid tapping retracting.
PCP =1: high speed deep hole tapping cycle.
=0: standard deep hole tapping cycle.
System parameter number
OVS OVU TDR NIZ
NIZ =1: treated with rigid tapping smoothing.
=0: not treated with rigid tapping smoothing.
TDR =1: rapid rapping feed, use the same time constant when retracting.
=0: rapid rapping feed, not use the same time constant when retracting.
OVU =1: rate 10% when rigid tapping retracting.
=0: rate when rigid tapping retracting.
OVS =1: feed speed rate selection and rate cancel signal are valid during rigid
tapping.
=0: feed speed rate selection and rate cancel signal are invalid during rigid
tapping.
192

--- Page 207 ---
Chapter Machine Tool Debugging
System parameter number
ORI SSOG
SSOG ”=1: spindle controlled way servo when tapping starts.
=0: spindle controlled way follow-up when tapping starts.
ORI =1: spindle stop accurately when tapping starts.
=0: spindle does not stop accurately when tapping starts.
parameter number
Pap|
DGN =1: use spindle position mode.
=0: not use spindle position mode.
Set for rigid tapping and for flexible tapping.
Attachment: GSK218MC setting rigid and flexible tapping GS/GR spindle servo drive unit
Notice
(1) 218 rigid tapping shall equipped with GS/GR spindle servo drive unit.
(2) 218 rigid tapping shall connected correctly with GS/GR spindle servo drive unit.
Setting process
Setting rigid tapping: Use default parameters except the following
Position parameter: NO:46#1 change (servo).
PLC parameter: K7#7 change (spindle position mode).
Parameter: P286 parameter tapping maximum rotation speed set accordance with maximum
spindle rotation speed.
Parameter: P632 parameter tapping gear rotation speed set accordance with maximum [E@Ed
tapping rotation speed.
GS/GR spindle servo parameter PA4 set (speed and position switch mode) 二
When executing rigid tapping command, the direction spindle rotation inconsistent with 一
command direction, set GS/GR spindle servo parameter PA28
position mode, the rotation speed spindle inconsistent with command rotation speed,
change parameters P696 and P712, change GS/GR spindle parameters PA29, PA30
calculate electronic gear ratio according P*G=N*C*4.
Input the pulse count code Electronic gear ratio; Number motor rotations;
Line number photoelectric encoder
the gear ratio spindle and motor not 1:1, calculate corresponding gear ratio and enter
into parameter P696~P711 and P712~P727.
Make sure positive and negative rotation the spindle coincides with the rotation direction
screw tap during rigid tapping. Limit rotation speed fluctuation and allow for maximum
rotations error.
10. For cutting soft materials (such aluminum alloy and copper), use spiral screw tap, along
with coolant for better effect.
Il. Setting flexible tapping: Flexible tapping may realized two ways
position control mode (i.e. parameter NO:46#1 changed (position mode), K7#7 changed
(use spindle position mode)), with code M03/M04, realize flexible tapping.
speed control mode (i.e. parameter NO:46#1 changed (speed mode), K7#7 changed
(not use spindle position mode)), with code M03/M04, realize flexible tapping. Command
tapping the bottom hole through program, pause for better effect.
Note: This method applies gearless shift machine.
4.16 Setting 4th Axis
GSK 218MC series featured with four-axle linkage function.
Set data parameter the 4th axis activated after power off and restart.
Relevant position parameters:
System parameter number
193

--- Page 208 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual Table 4-16-2 Related parameters indexing table
ooo Rel Automatic operation ndexing able
RAB =1: Rotation axis work based the principal proximity [erm
=0: Rotation axis does not work based the principal proximity without detector switch
System parameter number
IIRorl segment indexing table disabled
AXS4 =1: The 4th axis set rotation axis |S)
=0: The 4th axis set linear axis axis release state
System parameter number oo)
sim REL table releases clamp
REL =1: Display setting related position indexing table: within 360°. Clamping the 4th axis controlled through:
=0: Display setting related position indexing table: without 360°. code.
SIM =1: sound alarm indexing code and other control axis code segment are Definitions:
the same segment. Clamp M10 axis
=0: does not sound alarm indexing code and other control axis code segment Release M11 axis
are the same segment. @Internal command after change PLC parameter K14.1=1.
Related data parameter: 194
Table 4-16-1
[Ss seme
了 一
Note: Parameter P175~P179 program name each axis shall unique
Clamp function the 4th axis
The clamping device indexing table controlled system PLC, set parameter according
actual situation after the device activated. See table 4-16-2 for related parameters.

--- Page 209 ---
Chapter Machine Tool Debugging
Process: Execute axis command 一 System sends signal，output Y1.6 after PLC
treatment release work table, after release 一 System executes axis movement, after
operation axis command System sends signal, output Y1.7 after PLC treatment
clamp, then continue the follow-up procedures.
See table 4-16-3 for related address.
Table 4-16-3
Diagnosis interf Signal Interface
Definition address lagnosts interace interface pin No.
ble ease
indexing table clamping _Yoot#7 Diagnosis
Indexing table release
Indexing table clamping
detection Diagnosis (MT 一 PLC)
二
会 到
195

--- Page 210 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
sec
196

--- Page 211 ---
APPENDIX
己
己
全
197

--- Page 212 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual Notes using ladder diagram with funnel type tool magazine Circuit shall configured required. PLC parameters shall set correctly keep line with machine configuration. case special control requirements and additional procedure needed, shall done This ladder diagram only applies the processing center normal digital controlled milling This ladder diagram for reference only and varies with different types machines. Il. Configuration and Definition Plc I/O Address and Internal Soft Components
Appendix Ladder Diagram User Guide GSK218MC Series with approved personnel with adequate electrical and PLC knowledge and familiar with this ladder machine funnel type tool magazine, accidents may occur applied other type Table Input signal interface definition
Funnel Type Tool Magazine diagram. machine. interface No. selection
signal the 1st axis closed contact
eer ate
signal the 1st axis closed contact
eer ate
signal the 2nd axis closed contact
signal the 2nd axis closed contact
eer eee
signal the 3rd axis closed contact
signal the 3rd axis closed contact
signal the 4th axis closed contact
signal the 4th axis closed contact
the 1st axis closed contact
the 2nd axis closed contact
ere
the 3rd axis closed contact
eee een
the 4th axis closed contact
had
integration closed contact
contact
contact
contact
Contact
eer
test contact
Contact
x0023 Indexingtableclamping Normally open_|
198

--- Page 213 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine
interface No. selection
detection contact
Control Contact
Contact
Contact
specification
contact
contact
xs4i Undefined 一
x0033 undefned 一
x0034 undefned
x0035 xsS4 Undefined 一
xsS4
xoo37 xsS4 underned
undened 一
contact
Contact
contact
xooaa xsS42 Undefined
本 本
Contact
x0oo46 underned
xooa7 xs42 undened
eee
the 5th axis specification
mer [se
specification
place specification
pes
specification
place specification
arse [ee
switch specification
eee [eee
signal the 5th axis closed contact
signal the 5th axis closed contact
external manual pulse generator contact
external manual pulse generator contact
[ee
external manual pulse generator contact
external manual pulse generator contact
[oe
pulse generator 0.001 contact
pulse generator 0.01 contact
pulse generator 0.1 contact
Normally
one [ear
Parameter
[en TERE
199

--- Page 214 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual Please refer Part for the connection method and notes the PLC input part (X). Contacts include: Normally open contact, normally closed contact, and parameter determined When using this ladder diagram, the user can add new functions the undefined input part Table Output signal interface definition Yoo32 xs4 Toolmagazineforward conversion (I/O point control conversion (I/O point control conversion (I/O point control 200
interface No. selection contact status. Parameter determined contact, particular, means that the input point’s (using the undefined part requires modification the ladder diagram, please take caution). Yoo00 xs43 zaxisband-typebrake Toolmagazinebackward yooa.7 X844 undefned
Normally connecting the normally open the normally closed contact determined the ladder Yooo1 xs3 cooing Yoo40 xsS45 defined
rows gta diagram parameter the PLC. Please refer the ladder diagram parameter description for Yooo02 xs43 Tool loosening and tightening Yoo41 xsS45 defined
details. Yoo03 xs43 undefned xs5 undefned
completion specification Yoo04 xs43 Spindlebrake
est, Yoo05 SAB BCT undefned
specification Yooo06 xs43 Redalarmmlgh
Yooo7 xs43 xyYelowlgh
external manual pulse generator contact Yool0 xs3 Greenlight
Notice xs43 Controlofchpremoval
Lubrication control
己 Yool3 xs43 Machinetoollightingcontrol
己 Yool4 xs43
Yool5 xs3 Blowairtospnde
Yool6 Indexingtablerelease
xs43 Indexingtableclamping
Yo0o20 defined
Yoo21 xs4 defined
undefned
xsS4 undefned
Yo0o24
Yoo25 undefned
Yoo26 xs4 chpfushvalveoutpul
undefned
yoo3.o xs44 |Forwardrotationoftoolmagazine
magazine

--- Page 215 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine
xs6
xsS45 underned
Yoo45 xsS45 undefrned
Yoo46 xsS45 underned
Yoo47 xsS45
Yoo50
Yoo1 xsS45 undefrned
xsS45
xsS45 ?252
Yoo54 xsS45
O05. xsS45 undened
Yoo56 undefrned
Yo57
Yoo60 xs3 Spindle enabling
speed/positionswitcn
xs3 人 Spindle orientation
Yoo64 xs3 Positiverotationofspinde
xs23 Negativerotationofspindle
xsS3 zerospeedclampng
Notice:
Please refer Part for the connection method and notes the PLC output part (Y).
When using this ladder diagram, the user can add new functions the undefined part
modifying the ladder diagram (using the undefined part requires
modification the ladder diagram, please take caution).
Table 川 Ladder diagram address definition
Address Definition Status1
K0000 parameter modification allowed notpermitted Alows
signal commissioning allowed notpermitted Alows
二 本
commissioning mode
000.3 _Editing Aaddress information allowed notpermitted Alows
Editing address information editable allowed Alows 己
_K000.5 Editing ofX address information editable allowed notpermitted Allows
K000.6 Editing ofY address information editable allowed notpermitted Allows 人
000.7 Operation ofcommandtableallowed notpermitted Alows 去
Usageoftoolmagazinealowed notpermited Alows
本
converting
koo20 Notused Used
koo21 Usageofsthaxis Notused Used
K0040 (VO point) Notused used
Extermnalpulseformachne None
cycle start
K005.2 Yes
K0060 ?pcs 1pcs
K006.4 Setzeroreturming switchtonormalopen "Yes
K0073 Cancelhardlimitof4thaxis "Yes
Cancelhardlimitofsthaxis Yes
__Cancelexternalemergencystop Yes
were eee
voltage
koo7.7 spindle positionmode_ Used
SEES [pe
button
201

--- Page 216 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual Normally Notice: When the system normal operation, please ensure the status for K000.0, K000.1， The parameter K001.0, modified, valid only after the system restarted. When KO01.0=1 (i.e.: the use tool magazine valid), the setting KO08.2 invalid. K008.2=0 (i.e.: tool clamping/unclamping device used), the setting K008.1 invalid. Notes for setting KO06.0: KOO6.0=0 valid, each axis has two lead limit switches. For example: axis has two lead limit switches (positive limit switch connected X0.1, KO06.0=1 valid, each axis has one lead limit switches. For example: axis has one lead limit switch (connected X0,0). Lead limit switches other axes are installed the same way shown above. KO05.2=1, all alarm interlocks are released, the system enters into commissioning mode, 202
Address Status Status1 ether use the safety valve detection device OFF Normally open KO000.2, KO00.3, KO00.4, KO00.5, KO00.6, KO00.7, KO05.2, and K010.7, may cause K001.0=0 (i.e.: tool magazine not used), the settings KO10.1, KO10.2, KO10.3, negative limit switch connected X0.1).
K008.2 used Notused spindle has gear shiftdevice None accident. K010.4, KO10.5, KO10.6, K010.7, KO11.1 and K011.2 are invalid.
Whether spindle speed detection normally off_| Normally Normally off
Sod Yes Nome
signal
rose
switch
lubrication pressure level testis valid Invalid valid
Notest Test
Whether tool magazine has zero retuming switch None Yes
ayon Nermaty
feed switch choses normally closed Normally Normally off
Whether retract switch choses normally closed__| Normally Normally off
Whether count switch choses normally closed Normally Normally off
veld
mode
Manually retract tool change position allowed notpermitted Allows
mec
ves
spindle
tool detection Yes
Whether tool switch spindle normallyclosed Yes
Kong ves
disc valid
Whether current tool disc normally closed Yes
clamping device ofindexingtable Yes
Automatic operation ofindexingtable Yes
[re
switch
roa ves
indexing table disabled
全 Indexing table allows moving axis release
clamp
mode

--- Page 217 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine
and apply only system test run, parameter shall set for normal operation,
otherwise accident may happen.
7.K010.1, KO10.2, KO10.3, KO10.4, KO10.5, KO10.6, KO10.7, KO11.1,
K011.2 and parameters related tool magazine, refer part three, operation and
maintenance tool magazine.
8.If KO04.0 (whether spindle controls with I/O point) =1, KO08.4 (whether spindle has gear
shift device) invalid, the spindle has gear shift device.
Table Definition PLC external alarm
PLCalarm Aaddress
Aooo0 Abnormalairpressue
Abnormallubricaion
1202 Aoo02 Abnormaliubricationmotor
1203 Aoo03 Abnormalcoolingmotor
1204 Aoo04 Abnormalchipremovalmotor
1205 Aoo05 Abnormaloilpumpmotor
Aooo7 Abnormal machine lighting
1208 A001.0
1209 Abnormal machine body temperature
1210 001.2 Abnormal machine vibration frequency
001.3 Abnormal pressure oiltemperature
122 Aool4 kowpressureoillpressure
1213 001.5 Machine notreadily available foruse
1214 Spindlegeardoesnotspn
1215 001.7 ExecuteTcode before execution ofM06code
1216 Ao020 Toolsisreleasedandspindledoesnotspn
127 Aoo21 Spindlespinningtoolcannotbereleased
1218 002.2 Toolmagazine stops abnormally, reconfirm toolnumber
spin
1220 Aoo24 Abnormal spindle toolclamping
1221 Aoo25 Abnormalspindletoolunclampng
1222 Ao0o26 Abnormalspindleunittemperatre
1223 A027 Abnormalspindlespeed
1224 A003. Abnormalspindlemotorenable
1225 Aoo31 Abnormal spindle orientation 己
Aoo32 Abnormalspindlegear 村
1227 Toolmagazineisoutoforiginal position and fails spin
1228 A0034 Toolmagazineinfeedposition and fails cycle start__|
Aoo35 Setspindletoolnumber
1230 Spindletoolsinreleasestateandfailtochangetool
1231 A003.7 Toolmagazine out retract position and fail changetool
1232 Aoo40 rotation
1233 Abnormal tool magazine rotation motor
1234 004.2 Tool magazine feed position and the program stops
1235 A0043 Abnormaltoolmagaznemovng
1236 A0044 Abnormal toolmagazine zeroretuming
1237 A004.5 Tool magazine original spotlostzeroretuming
1238 A004. position
1239 004.7 position
1240 A005.0 Abnormal tool magazine, zero retuming required
Aoo52
1243 A0053 Tool magazine zero point position set validly
iat
good condition
A0055 tool code repeated code
1246 A0056 tool change position, fail
1247 A0057 Spindle underposition tool magazine, fail feed tool__|
1248 A006.0 Tool release state and tool magazine fails change tool_|
1249 Spindlewithtoolfailtofeedtool
magazine and fail feed tool
203

--- Page 218 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual position
PLCalarm Aaddress
1251 Aoo63 Switchpowerof start
1252 A0064 Toolisclampedandcannotmovezaxis 1261 007.5 original position and fails retract tool
1253 006.5 Operate cautiously tool magazine adjustment mode 1262
1254 006.6 magazine adjustment mode fails cycle 1264 A0080 Abnormalspindle speed position modechange
1255 006.7 Tool clamping cannot return origin position 1265 A0081 Abnormalspindle position speedmodechange
1256 __Tool clamping cannot return tool changing position 1267 Abnormaltoolmagazineforward and backward moving
1257 A007.1__| Spindle underposition cannot return tool changing position 1268 08.4 Abnormal spindle tool loosen and tighten
本 1269 A0085 spindle orientation sequence
eee
tool
1271 Abnormaltoolmagazine rotation stopped
1272 AO. Abnormalspindletoolnumber
本
forward
1274 Tooldiscoutoftoolmagazine and cannot moveforward
1288 AO. Indexingtablereleasesclampoverime
1289 Abnormal indexing table releases clamp
1290 table clamping device
1291 Indexingtableisnotreleasedandfailstorotate
1292 A.A
1293 ATS Safetygateisnotclosedandfailstocyclestat
then shift gear
1360 020.0 Lowlubricationpressureoroilleve
The alarm between A0.0 ~A19.7 system red failure alarm, and the system stops running after
alarm.
A20.0~A31.7 client customized red prompt alarm, the system keeps running after alarm.
Normal operation not interrupted.
Diagnostic message PLC alarm:
Alarming information: 1200 Abnormal air pressure (A000.0)
Causes:
Solution: Check the status X002.0
Alarming information: 1201 Abnormal lubrication (A000.1)
Causes: User-defined
Solution:
Alarming information: 1202 Abnormal lubrication motor (A000.2)
Causes: User-defined
Solution:
Alarming information: 1203 Abnormal cooling motor (A000.3)
Causes: User-defined
Solution:
Alarming information: 1204 Abnormal chip removal motor (A000.4)
Causes: User-defined
Solution:
204

--- Page 219 ---
Appendix 1Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine 205
Alarming information: 1205 Abnormal oil pump motor (A000.5)
Causes: User-defined
Solution:
Alarming information: 1207 Abnormal machine lighting (A000.7)
Causes: User-defined
Solution:
Alarming information: 1208 Abnormal machine control box temperature (A001.0)
Causes: User-defined
Solution:
Alarming information: 1209 Abnormal machine body temperature (A001.1)
Causes: User-defined
Solution:
Alarming information: 1210 Abnormal machine vibration frequency (A001.2)
Causes: User-defined
Solution:
Alarming information: 1211 Abnormal pressure oil temperature (A001.3)
Causes: User-defined
Solution:
Alarming information: 1212 Low pressure oil pressure (A001.4)
Causes: User-defined
Solution:
Alarming information: 1213 Machine not readily available for use (A001.5)
Causes: User-defined
Solution:
Alarming information: 1214 Spindle gear does not spin (A001.6)
Causes: Abnormal spindle gear detected when the spindle executing rotation code. 之
Solution: the spindle 1st gear (Y3.4=1), whether the 1st gear position detection switch
(X4.1) closed; the spindle 2nd gear (Y3.5=1), whether the 2nd gear position detection
switch (X4.2) closed; the spindle 3rd gear (Y3.6=1), whether the 3rd gear position 二
detection switch (X4.3) closed. Immediate position alarm each gear not detected within
the time set T0021.
Alarming information: 1215 Execute code before execution M06 code (A001.7)
Causes: valid code executed when executing M06 code.
Solution: Execute valid code before executing M06 code.
Alarming information: 1216 Tools released and spindle does not spin (A002.0)
Causes: Spindle rotation code executed when the tool release state, for example:
manually press spindle spin forward, backward, inching, positioning MO3, M04, M19
executed under automatic state.
Solution: manually press “clamping/unclamping’” button enter into clamping state (YO.2=0),
check whether the tool test switch (X2.6) it’s there will alarm when rotating
spindle.
Alarming information: 1217 Spindle spinning tool can not released (A002.1)
Causes: Tool release code executed when the spindle rotation.
Solution: Execute tool release code when the spindle stopped avoid alarm.
Alarming information: 1218 Tool magazine stops abnormally, reconfirm tool number (A002.2)
Causes: When the code executed and the magazine rotating, alarm occurs
pressing the “Reset” key will cause this alarm occur.

--- Page 220 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual Solution: Tool magazine returns zero. 之 Alarming information: 1224 Abnormal spindle motor enable (A003.0) a=) Causes: User-defined 三 Solution: None 全 Alarming information: 1225 Abnormal spindle orientation (A003.1) 206
Reset the tool number spindle and tool magazine. Causes: When the spindle performing positioning action (i.e.: Y2.1=1), the spindle orientation
(For detailed operation, refer to: Section III Usage and maintenance GSK218MC CNC system detection switch (X7.1) not turned off within the time set T013.
with carousel type tool magazine) Solution: Abnormal spindle drive unit spindle disc.
Alarming information: 1219 Tool magazine wrong feed position and spindle does not spin Check Y6.3 has output.
(A002.3) Readjust the time for T013.
Causes: The spindle rotation performed before the tools are returned tool magazine. Alarming information: 1226 Abnormal spindle gear (A003.2)
Solution: Return the tool magazine the tool return position (check whether the tool magazine Causes: spindle gear exception detected
returned tool return position detecting the state X5.2). Solution: While the spindle shifting 1st gear (Y3.4=1), 1st gear position detection switch
Alarming information: 1220 Abnormal spindle tool clamping (A002.4) (X4.1) not closed within the time set T0021, adjust T0021 time detect whether X4.1
Causes: When clamping tools (i.e.: Y0.2=0), the magazine clamping detection switch (X2.6) closed; when the spindle shifting 2nd gear (Y3.5=1), 1st gear position detection switch (X4.2)
not closed within the time set T010. not closed within the time set T0022, adjust T0022 time detect whether X4.2 closed;
Solution: Check the tool magazine clamping detection switch normal. when the spindle shifting 3rd gear (Y3.6=1), 1st gear position detection switch (X4.3) not
Check Y0.2 has output. closed within the time set T0023, adjust T0023 time detect whether X4.3 closed.
Readjust the time for T010. Alarming information: 1227 Tool magazine out original position and fails spin (A003.3)
Alarming information: 1221 Abnormal spindle tool unclamping (A002.5) Causes: Tool magazine not tool return position and axis not original position, the
Causes: When unclamping tools (i.e.: YO.2=1), the magazine unclamping detection switch (X2.5) alarm set off when manually press “tool magazine rotates forward” “tool magazine rotates
not closed within the time set TOO9. backward”.
Solution: Check the tool magazine unclamping detection switch normal. Solution: Return the tool magazine tool return position axis original position.
Check Y0.2 has output.
Readjust the time for T009.
Alarming information: 1222 Abnormal spindle unit temperature (A002.6)
Causes: User-defined
Solution:
Alarming information: 1223 Abnormal spindle speed (A002.7)
Causes: User-defined
Solution:

--- Page 221 ---
Appendix 1Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine
Alarming information: 1228 Tool magazine feed position and fails cycle start (A003.4)
Causes: When the tool magazine not the tool return position, pressing the “Start” button
the automatic mode the input mode DNC mode will cause this alarm occur.
Solution: Return the tool magazine tool return position.
Alarming information: 1229 Set spindle tool number (A003.5)
Causes: spindle number the alarm will set off when pressing “clamping/unclamping”
button.
Solution: The alarm remind operator it’s not allowed install tools onto spindle when the
spindle tool number set KO11.0 parameter ignore.
Alarming information: 1230 Spindle tools release state and fail change tool (A003.6)
Causes: M06 M50 code executed when spindle release state (Y0.2=1).
Solution: Clamp the spindle tool (YO.2=0).
Alarming information: 1231 Tool magazine out retract position and fail change tool (A003.7)
Causes: The M06 M50 code executed when the tool magazine not tool return position.
Solution: Put tool magazine into tool return position.
Alarming information: 1232 Abnormal tool magazine rotation (A004.0)
Causes: User-defined
Solution:
Alarming information: 1233 Abnormal tool magazine rotation motor (A004.1)
Causes: User-defined
Solution:
Alarming information: 1234 Tool magazine feed position and the program stops (A004.2)
Causes: While the program running, the alarm will set off when tool magazine not tool
return position.
Solution: Put tool magazine into tool return position and execute the program.
Alarming information: 1235 Abnormal tool magazine moving (A004.3)
Causes: User-defined
Solution: 己
Alarming information: 1236 Abnormal tool magazine zero returning (A004.4) 全
Causes: User-defined
Solution:
Alarming information: 1237 Tool magazine original spot lost zero returning (A004.5)
Causes: While the tool magazine returning zero, the alarm set off when it’s stop
abnormally.
Solution: Tool magazine returns zero point.
(For detailed operation, refer to: Section 川 Usage and maintenance GSK218MC CNC system
with carousel type tool magazine)
Alarming information: 1238 Abnormal tool feed position (A004.6)
Causes: User-defined
Solution:
Alarming information: 1239 Abnormal tool retract position (A004.7)
Causes: User-defined
Solution:
Alarming information: 1240 Abnormal tool magazine, zero returning required (A005.0)
Causes: After the tool magazine stops rotating for the time set T102, exception detected
from the tool magazine counter switch (X5.3) generates pulse signal.
While the tool magazine rotating, the state that tool magazine count switch exceeds
207

--- Page 222 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
the time set T103.
Solution: The output part (Y3.0 and Y3.1) the tool magazine forward backward rotation
abnormal.
Abnormal tool magazine count switch.
Reset the values T102 and T103.
(For detailed operation, refer to: Section Usage and maintenance GSK218MC
CNC system with carousel type tool magazine)
Alarming information: 1241 Abnormal tool feed (A005.1)
Causes: When performing feeding action (Y3.2=1), the tool magazine feed detection switch
(X5.1) does not act within the time set T104.
Solution: Check the tool magazine fee detection switch normal.
Check ifY3.2 has output.
Readjust the time for T104.
Alarming information: 1242 Abnormal tool retract (A005.2)
Causes: When performing retract action (i.e.: Y3.3=1), the tool magazine feed detection switch
(X5.2) does not act within the time set T105.
Solution: Check the tool magazine fee detection switch normal.
Check ifY3.3 has output.
Readjust the time for T105.
Alarming information: 1243 Tool magazine zero point position set validly (A005.3)
Causes: tool magazine has zero returning switch (KO10.1=0), the alarm will set off when
K010.6=1 remind tool magazine zero point position set validly.
Solution: Set K010.6
(For specific operation, refer to: Section III Usage and maintenance GSK218MC CNC system
with carousel type tool magazine)
Alarming information: 1244 Tool change stops abnormally, make sure tool magazine good
condition (A005.4)
Causes: While the tool magazine automatically changing the tool, exception occurs and
causes the tool change stop, the alarm occurs when the tool magazine detected out
之 the retract position the time starting the system. This alarm only reminds the operator
the possible disorder the number tools the magazine and spindle. Clearing this alarm
does not mean that the magazine already normal. needed reset the number tools
全 the magazine and spindle (for specific operation, refer to: Section Usage and maintenance
GSK218MC CNC system with carousel type tool magazine))
Solution: Press “reset” clear the alarm.
Re-adjust the tool magazine and confirm whether the number tools the spindle
matches, including the tool magazine returns retract position, the spindle
clamping state, the current tool pot number the same the current value CTR100,
the number tools the spindle the same the value D245, tool spindle
when D245
Alarming information: 1245 tool code repeated code tool table (A005.5)
Causes: There tool number specified code the tool table (D001-D099), the tool
number specified code repeated the tool table.
Solution: Modify the tool number tool list.
Alarming information: 1246 Out tool change position, fail feed tool (A005.6)
Causes: Tool magazine performs tool change action when axis out tool change position.
Solution: Perform G91G30Z0 code return axis tool change position.
Alarming information: 1247 Spindle underposition too position fails feed (A005.7)
Causes: Tool magazine performs tool change action when spindle out position.
Solution: Perform spindle positioning.
Alarming information: 1248 Tool release state and tool magazine fails change tool (A006.0)
208

--- Page 223 ---
Appendix 1Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine Causes: Spindle tools perform retract action when release state. Solution: Clamp spindle tools before retracting. Alarming information: 1249 Spindle with tool fail feed tool (A006.1) Causes: Tool magazine performs feed action when axis original point and tools spindle (D245 not 0). Solution: Remove tools from spindle and set D245 Alarming information: 1250 Spindle not consistent with current tool the tool magazine and fail feed tool (A006.2) Causes: axis tool change position, tool magazine performs feed action while tool number Solution: Rotate tool magazine match the tool number tool pot with that spindle. Alarming information: 1251 Switch power off (A006.3) Causes: Parameters are modified and restart required. Solution: Restart system. Alarming information: 1252 Tool clamped and cannot move axis (A006.4) Causes: When the tool magazine feed position and the spindle tool clamped, the movement the Z-axis performed. Solution: Put tool magazine into tool return position. The spindle tool release state. Alarming information: 1253 Operate cautiously tool magazine adjustment mode (A006.5) Causes: This alarm occurs when K010.7 set only reminds the tool magazine enters the Solution: Press the “Reset” key clear this alarm (note: Alarm cleared does not mean the Alarming information: 1254 Tool magazine adjustment mode fails cycle start (A006.6) 之 Causes: When K010.7 pressing the “Start” button the automatic mode the input mode Solution: Set K010.7 全 Alarming information: 1255 Tool clamping cannot return origin position (A006.7) Causes: When the tool magazine feed position and the spindle tool clamped, the Z-axis returned original position. Solution: Put tool magazine into tool return position. The spindle tool release state. Alarming information: 1256 Tool clamping cannot return tool changing position (A007.0) Causes: When the tool magazine feed position and the spindle tool clamped, the Z-axis returned tool change position. Solution: Put tool magazine into tool return position. The spindle tool release state. Alarming information: 1257 Spindle underposition cannot return tool changing position (A007.1) Causes: When the tool magazine feed position and the spindle not positioned, the Z-axis returned tool change position. Solution: Put tool magazine into tool return position. Spindle positioning. Alarming information: 1258 Abnormal tool magazine cannot return tool changing position (A007.2) 209
spindle inconsistent with that tool pot. adjustment mode. The magazine related alarms and interlock signals are system not tool magazine adjustment mode, set KO10.7 quit tool DNC mode will cause this alarm occur.
completely cleared. Caution must taken. Otherwise, exceptions will occur and magazine adjustment mode).
damage the machine.

--- Page 224 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual Causes: User-defined Solution: Alarming information: 1260 Manually retract tool change position and cannot cycle start (A007.4) Causes: When K011.1=1 (i.e. manual switch tool change position valid), pressing the “Start” Solution: Set K011.1 Alarming information: 1261 Retracting tool not allowed without being the origin (A007 .5) Causes: Tool magazine feed position, and perform tool retract action when axis out original position. Solution: Return axis original position before retracting. Alarming information: 1262 Beyond safe position (A007.6) Causes: When the tool magazine the tool feed position, the axis goes beyond the tool change position during movement. Solution: Move axis between tool change position and original position. Alarming information: 1264 Abnormal spindle position mode change (A008.0) Causes: When the M29 code executed, the spindle position mode completion signal not received within the time set T24. Solution: Adjust the time set T24 check whether spindle position mode has output after the signal received. Alarming information: 1265 Abnormal spindle speed mode change (A008.1) Causes: When the M28 code executed, the spindle speed mode completion signal not received within the time set T28. Solution: Adjust the time set T28 check whether spindle speed mode has output after the signal received. Alarming information: 1267 Abnormal tool magazine forward and backward moving (A008.3) Solution: Check the detection signals X5.1 and X5.2 are normal, and the selection 全 switch correct. Alarming information: 1268 Abnormal spindle tool loosen and tighten (A008.4) Causes: The system checks tool release signal and tool clamping signal simultaneously Solution: Check the detection signals X2.5 and X2.6 are normal, and the selection switch correct Alarming information: 1269 Spindle orientation sequence detection exception (A008.5) Causes: The system detects spindle completion signal while the spindle positioning not performed Solution: Check the detection signal X7.1 normal, and the selection switch correct Alarming information: 1270 axis not back mechanical zero and cannot change tool (A008.6) Causes: After powered emergency stop, the MO6 M50 code executed before the axis mechanical zeroing performed. Solution: Perform axis mechanical zeroing before changing tools. Alarming information: 1271 Force stop rotation due abnormal magazine rotation (A008.7) Causes: After the command rotating tool magazine issued, the pulse signal generated the tool magazine counter switch (X5.3) not detected within the time set T109. While the tool magazine rotating, the state that tool magazine count switch
button the automatic mode the input mode DNC mode will cause this alarm 已 Causes: The system checks tool magazine advance place signal and reverse place signal exceeds the time set T103.
occur. simultaneously 210

--- Page 225 ---
Appendix 1Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine Abnormal tool magazine count switch.
Solution: The output part (Y3.0 and Y3.1) the tool magazine forward backward rotation Reset the values T109 and T103.
abnormal. (For detailed operation, refer to: Section III Usage GSK218MC CNC system with
carousel type tool magazine)
Alarming information: 1272 Abnormal spindle tool number (A009.0)
Causes: the spindle equipped with tool detection device and K12.0 set the spindle
clamping state and tool number while system detects spindle has tool and executes MO6
M50 code.
Solution: Check whether X2.7 signal normal and remove tool from spindle, then execute M06
tool change code
Alarming information: 1273 Current tool disc and tool number exists but cannot move forward
(A009.1)
Causes: When the tool magazine equipped with tool detection device and K12.1 set
and there are tools spindle, when move tool magazine, the systems detects tools tool
magazine
Solution: Check the signal X5.5 normal.
Re-adjust the tool magazine and confirm whether the number tools the spindle
matches, including the tool magazine returns retract position, the spindle
clamping state, the current tool pot number the same the current value CTR100,
the number tools the spindle the same the value D245, tool spindle
when D245 case discrepancy, perform tool magazine zeroing.
(For detailed operation, refer to: Section Usage and maintenance GSK218MC
CNC system with carousel type tool magazine)
Alarming information: 1274 Tool disc out tool magazine and cannot move forward (A009.2)
Causes:
Solution:
Alarming information: 1288 Indexing table releases clamp overtime (A011.0)
Causes: detection signal received within extended time.
Solution: Check signal line, and make sure clamp and release signal input normal. 三
Alarming information: 1289 Abnormal indexing table releases clamp (A011.1) 三
Causes: Clamp and release signals are input simultaneously.
Solution: Check signal line, and make sure clamp and release signal input normal
Alarming information: 1290 Indexing table clamping device not enabled (A011.2)
Causes: When the indexing table disabled (K12.4=0), clamping unclamping action
performed.
Solution: Set K12.4 before performing clamping unclamping action.
Alarming information: 1291 Indexing table not released and fails rotate (A011.3)
Causes: When the indexing table the unclamping state, rotation action performed
Solution: Perform indexing table clamping action before rotating switch indexing table
commissioning mode (set K12.6 1), then perform indexing table rotation action.
Alarming information: 1292 Indexing table not clamped and fails move (A011.4)
Causes: When the indexing table the unclamping state, move action performed feed
axis.
Solution: Perform indexing table clamping action before moving feed axis adjust indexing table
commissioning mode (set K12.6 1), then perform feed axis movement action.
Alarming information: 1293 Safety gate not closed and fails cycle start (A011.5)
Causes: When safety door inspection device enabled (K8.3=1), the recycle start button
pressed when the safety door not closed (X4.5=0).
211

--- Page 226 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Solution: Close safety door before cycle start.
Alarming information: 1294 Fail shift gear rigid tapping, please stop rigid tapping then shift
gear (A011.6)
Causes: When shifting gear with spindle, the gear not position, M29 tapping direction will
not permitted.
Solution: Cancel rigid tapping before shifting gear.
Alarming information: 1360 Low lubrication pressure oil level (A020.0)
Causes:
Solution: Check the status X001.7
Notice:
The “user-defined” alarms for fault causes are not designed the ladder diagram and need
added the user modifying the ladder diagram.
Table Definition TMR Parameters
root
Sonate rotation compiee dey
poi conte complete ety
roo since postonng
Tobe extended
Shift gear start delays after spindle stops
greater than T29+T34
Toor
sine tor serine compete dey
Spindle too! unclamping postion detection time
7010 poston deteston ime
Spindle tool loosen and tighten detection
shoot-through dela
[tw
Spindle forward rotation disconnected,
backward rotation connection dela
Spindle backward rotation disconnected,
forward rotation connection dela
tena
unt
Spindle orientation complete delay detection eee
time
rat
Program restarting signal delay disconnection
time
Sine gear overime
time
M29 performance time (without detection
switch
M28 performance time (without detection
switch
Spindle position speed mode change detection
time
212

--- Page 227 ---
Appendix 1Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine
rake
Spindle gear shift complete signal delay switch
time
rose tebe delay
rose ebe clay
Toso see cempingtie
ross ster
ato
steam
[constant
Turntable tool magazine manual rotation delay
time
Turntable tool magazine manual rotation delay
time
Turntable tool magazine stop delay detection
time
Turntable tool magazine rotation delay detection
time
time
Turntable tool magazine retract delay detection 000
time
Turntable tool magazine retract complete
delayer
Turntable tool magazine rotation delay detection
time setting
Abnormal tool magazine rotation mandatory
stop time setting
Tool changer place signal delayed switch
time
Note: The unit minutes for T016, seconds for 07, and millimeters for the rest
Table Definition DATA Parameters
Nte usersetting
[poo Spindle tool number display Unable set
Number ofNo 100
Number No,
Number No. 8800
oftoot
Number code tool Unable set
Number current tool pot Unable set
Number
Notice:
213

--- Page 228 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
The set value D100 must less than 100 and the same that CTR100,
exception will occur.
For example: When D100=16, the datasheet D001-D016 valid;
When D100=24, the datasheet D001-D024 valid.
D000 only displays the spindle tool number, the spindle tool number cannot modified
DOOO. When the spindle tool number needs modified, shall modified D245.
The value D241 cannot modified.
D240~D247 are occupied the system, and cannot customized user.
Please refer Part for details.
Table VII Definition CTR Parameters
Address Note Initialvalue Usersetting
eee
setting
Notice
The set value CTR100 must less than 100 and the same that D100,
exception will occur.
For example: When CTR100=16, the number tool pots the magazine 16;
When CTR100=24, the number tool pots the magazine 24.
Table VIII Definition Code
Function Remark
Pauseofprogam
Selectionstopp
Mo2 Completionofprogramn
M03
Negativerotation ofspnde
Spinqlestopp
Mo6 Automatictoolchange
之 Arcoolingomn
己 coolingomn
Mg9 coolingo
三 ClampingofAaxs
MI6 unclampingcommand
MI7 clampingcommand
Cancellation spindleexactstop
MI9 Spindle exactstopcommand
M20 Spindleneutralcommand
the tool
Tool search command when clamping
ied
M26
M27_ Closechipflushvalve
M2z8
M29 Rigidtappingcommand
Completionofprogam
M35 Startchip removalliftingconveyor
Startairblowingforspnde
M45 Stopair-blowingforspinde
M50 Startautomatictoolchange
M51 Endautomatictoolchange
Check the tool correct after Reserved
eee
Check ifthere atoolonthe spindle Reserved
214

--- Page 229 ---
Appendix 1Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine
Notice
M16, M17, M21, M22, M23, and M24 are only effective during tool change and cannot
operated separately.
lll. Usage and Maintenance With Carousel Type Tool Magazine
Tool magazine installation and related PLC parameter settings
Operation purpose: align the ladder diagram with the tool magazine configuration.
The requirements the ladder diagram for machine tool with carousel type tool
magazine:
The machine tool has spindle tool automatic clamp/unclamp device, which
provided with normally open in-place detection switch.
The spindle has orientation function with the orientation angle adjustable.
The capacity the tool magazine less than 100.
The tool magazine can rotate forward and backward.
The tool magazine has counter switch, forward in-place detection switch, and
backward in-place detection switch.
The tool magazine has zero return switch (optional).
Connection tool magazine related lines:
Input parts
Address Note, Remark
Indexing table release detection Normally open contact
Indexing table clamping detection Normally open contact
X0024 External clamping/unclamping control
Unclamping detection Normally open contact
x002.6 Clamping detection Normally open contact
X005.1 Tool magazine forward place Normally open normally closed
Tool magazine backward place Normally open normally closed
Tool magazine count switch Normally open normally closed
Tool magazine zero return place
Current disc and tool check switch
X006.6 Orientation place spindle Parameter specification 之
Output parts 己
Address Note Remark
indexing table
Ferwarsrotaton
Tool magazine forward
backward
Spnle
e063 Spindle retain
Tool magazine switch model selection
Address Status0
K010.1 Whether tool magazine has zeroretuming switch ”None Yes
K010.2 Whether tool magazine has zeroretuming switch ”None Yes
_K010.3 Whether feed switch choses
Whether retract switch choses normally closed yes
Whether count switch choses normally closed yes
Whether manually set tool magazine original point
valid
Notes K10.1 and K10.6 must set according the actual situation, and cannot the same
215

--- Page 230 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual time. For example: For tool magazine without zero return switch, with each detection switch normally open, the parameters shall set follows: KO010.1=0 KO10.3=0 KO010.4=0 K010.5=0 Setting tool magazine capacity: Enter the tool magazine capacity DATA100 and CTR100. Notice The tool magazine capacity means the number tool pots the magazine. The set values DATA100 and CTR100 must less than 100. For example: When the tool magazine capacity 16, set DATA100 and CTR100 16. Setting the number tool tool magazine: Datasheets D001-D099 correspond No.1-99 tool pots the tool magazine, and the set values Notice The same tool number (excluding cannot set D001-D099. Otherwise, alarm will occur during tool change. The setting range tool number must meet the requirement set the data parameter 0206. Otherwise, alarm will occur when executing code.
datasheets D001-D099 correspond number tools No.1-99 tool pots the tool For example: When the tool magazine capacity 16,
magazine. D245 the number tool the spindle. set 1-16 sequence D1-D16, when executing M6, No.8 pot will rotate
the tool change position and then tool change performed;
itis set 10, 20, 30...160 sequence D1-D16, when executing T80 M6, No.8 pot
will rotate the tool change position and then tool change performed;
both and are set alarm will occur when executing M6.
Setting magazine related time parameters (TMR):
T004 Spindle orientation complete delayer Greaterthan orequalto0
T007 Spindle tool unclamping complete delayer Greaterthan orequalto0
T008 Spindle tool clamping complete delayer Greaterthan orequalto0
Setting unclamping time
time
time
setting
T036 Indexing table unclamping complete delay Greaterthanorequaltod 500
1037 Indexing table clamping complete delay__| Greaterthan orequalto0 500
1038 Indexing table unclamping delay detection Greaterthanorequaltod 5000
7039 Indexing table clamping delay detection Greaterthan orequalto0 5000
T040 Indexing table unclamping delay complete Greaterthan orequalto0 4000
7041 Indexing table clamping delay complete Greaterthan orequalto0 4000
delay time rotating one tool position
delay time rotating one tool position
detection time rotating one tool position
tas ton postion
detection time rotating one tool position
本 本
detection time
detection time
delayer
delayer
7108 Tumtabletoolmagazine rotation delay Greaterthantimefor 3000
216

--- Page 231 ---
Appendix 1Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine
detectiontimesetting2 rotatingtoonetoolposiion
Abnormal tool magazine rotation Greater than time for
mandatory stop time setting rotating one tool position
Notice
The above parameters (TMR) are related tool magazine model, rotation rate and other
performance. Please set reasonably according the performance index
the tool magazine.
the above parameters (TMR) are set incorrectly, will cause alarm, preventing from proper
tool change.
With the basic operations from steps the ladder diagram aligned with the tool
magazine configuration, but the tool magazine still cannot operate normally. The settings
and operations the second part below enable the tool magazine rotate forward,
backward, feed and retract manually, that possible check each action the
tool magazine normal.
Manual and zero return operations tool magazine
Operation purpose: check each action the tool magazine normal.
Detailed operation steps are below:
Effective use tool magazine.
default, the ladder diagram Ladder01.grp, i.e., the ladder diagram carousel type tool
magazine, used. Bit parameters NO: #0=1, NO: #1=0, NO: #2=0, NO:
#3=0.
The ladder diagram parameter K001.0 the PLC set
Determination the magazine rotation direction:
the manual mode, when the key pressed, the magazine rotates the direction
EO)
with tool number incrementing. When the key pressed, the magazine rotates the
direction with tool number decreasing. the contrary the case, the magazine count will
confusing, resulting incorrect tool change. This issue can addressed adjusting the 之
phase sequence the magazine rotating motor.
Zero return operation tool magazine:
The zero return operation the tool magazine takes place with without zero return switch
Tool magazine with zero return switch: the “mechanical zeroing” mode, press "M640 when
the “tool magazine zero returning indicator” on, the zero returning completed (the
light flashing indicates that the magazine returning zero).
Tool magazine without zero return switch: set the zero for the tool magazine follows:
680
the manual mode, press the key "M&W TMG rotate No.1 pot the tool magazine
the tool change position.
Set K010.6 the input mode.
the mechanical zeroing mode, press until the “tool magazine zero return indicator”
on.
Set KO10.6
Adjustment spindle orientation angle and tool change coordinate position
Adjustment the spindle orientation angle (refer the manual for the spindle drive unit).
Steps for adjusting the spindle orientation angle (example):
217

--- Page 232 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual Enter the system debug password. Press the key [nme then press the soft key Press the key [ms MDI keyboard. the Diagram Parameter] 四 SAVE Prepare tool holder and remove the blind rivet. the zero return mode, perform the Z-axis zero return operation. the manual mode, press the key TINEE0 put the tool magazine the forward Install the rivet-free tool holder the tool magazine and adjust it. the MPG mode, move the axis and down (take caution). this point,directly 之 the slot the tool holder. Set the orientation angle the spindle drive. (For the method setting the Adjustment tool change coordinate position After adjusting the orientation stated above, manually move the spindle the safe Perform the tool clamping action. Then press the key the keyboard the input mode, set KO10.7 according the above method. Set the previously recorded Z-axis machine tool coordinate the data parameter With the above two steps, possible perform the correct tool change operation. The
[Password] enter the “Setting (Password)” interface.In the input mode, enter the interface, press the soft key [Ladder Diagram] enter the latching relay viewing and then press the key and the key the data bar prompts: “The ladder position. turn the motor rotor the spindle connected the motor rotor for more than one orientation angle, please refer the Attachment: GS3000 Orientation Angle Setting position, and perform spindle orientation. Then perform the tool unclamping action. return the tool magazine the retraction position (please ensure that the tool 0052. This parameter must set correctly, accident will occur and cause operation executing code and code described follows:
system debug password, and then press the key The screen displays setting interface. Press the four direction keys the keyboard position the cursor diagram successfully downloaded!”,meaning that successfully saved, and the round, and manually adjust the spindle position until the key the spindle can enter 全 Method) Install the blind rivet the tool holder (when the magazine still the feeding already clamped). mechanical damage. TxxM6; and Txx; M6; the execution effect the same.
“Password Correct” the lower left corner. KO10.7 (whether the magazine enters the adjustment mode), press the number “1”, magazine adjustment mode effective immediately (the magazine can move forward position), and, the MPG mode, move the axis and down adjust the tool TOME; the tool the spindle will not return the magazine.
and backward unconditionally). this point, the system prompts alarm: 1253 change coordinate position (please ensure that the tool already unclamped), and Note: When the number spindle tool strictly forbidden install the tool the spindle.
Caution shall used tool magazine adjustment mode. Press the reset key record the coordinate the adjusted Z-axis machine tool (eo -120.000). 218
cancel the alarm.

--- Page 233 ---
Appendix 1Ladder Diagram User Guide GSK218MC Series with Funnel Type Tool Magazine
Otherwise, accident will occur during the tool change and cause mechanical damage!
Attachment: GS3000/GR3000 Orientation Angle Setting Method
Power the control unit, and default LED displays:
Press the key enter the monitoring mode, which displays:
the monitoring mode there are display statuses, and the desired status can
selected pressing the key Find dP-APo (the motor coded disc
used the orientation coded disc this case; find when the
spindle coded disc used the orientation coded disc), and press the key
todisplay
this point, the motor free state. Directly twist the motor rotor the spindle
connected the motor rotor, rotating the motor rotor for least one round. The
drive unit will automatically search for the correct position the motor encoder, and
when spotted, the monitor display changes
After turning the motor for more than one round the above method, adjust slowly
enable the motor (spindle) rotor orientation position the orientation point.
Stop the operation and observe the absolute position the rotor. The monitor now
displays OOO) Save the value the parameter PA103, which the
orientation position.
Note: the monitor displays 上 UUUU ,Where the symbol “E” indicates that the motor rotor
incorrect orientation position, its value cannot used orientation position reference value. Rotate the
motor rotor for least one round. The drive unit will automatically search for the correct position the motor
encoder, and when spotted, the monitor display changes OOO)
The right way handle emergency stop, power failure, reset and alarm during the
operation tool magazine
case changing tool command input mode automatically, when the tool 之
magazine the forward limit position, the spindle lowered the holding position，
the tool already clamped, and the tool magazine about retract, order
continue using the machine tool case emergency stop power failure, alarm 全
reset, you must press the key exit the tool magazine manual mode
detach the tool from the current magazine detent before use (note: this point the
spindle cannot unclamped exiting the tool magazine lifting the axis enables
the magazine detent corresponding the current spindle occupied tool,
leaving risk tool collision for the next tool change).
case changing tool command input mode automatically, when the tool
magazine the forward limit position, the spindle has unclamped the tool, and the
axis about lifted the tool disc has not been rotated after the axis lifted,
order continue using the machine tool case emergency stop, power failure, alarm
reset, you must press the key “Unclamp Tool” the spindle the manual mode
allow the tool unclamped, then lift the axis manually MPG the safe
position, and press the key exit the tool magazine (note: the magazine
detent corresponding the current spindle occupied tool while there tool
the spindle, and the system shall display “TO0000”) before normal use.
case changing tool command input mode automatically, when the tool
magazine the forward limit position, the axis has been lifted the first reference
point, and the tool disc rotating, the circumstances emergency stop, power failure,
219

--- Page 234 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual IV. Macro Program Annotation With Carousel Type Tool Magazine 091001; (Program name)
alarm reset have the potential make the current tool number disagree with the G65 H81 P50 Q#1003 R1; (Auxiliary lock machine lock, spindle tool number code tool
actual number, and cause the system pop such alarms as: “1218 Abnormal tool number, rotating N50 program ends)
magazine stop. Re-confirm the tool number” “1244 Tool change exception. Stop G65 H81 P30 Q#1002 R1; code tool number rotating N30 does not execute the tool
ensure the tool magazine normal”. order continue using the machine tool, you search code)
must press the key exit the tool magazine manual mode; return the tool G69 G50 G15 G80 G40; (Relevant modal cancelled)
magazine zero and reset the spindle tool number and magazine tool number for M50; (The tool change starts while the condition tool change
normal use. (For detailed operation, refer to: Section 川 Usage and maintenance checked for compliance; not, the alarm will appear)
GSK218MC CNC system with carousel type tool magazine). G65 H81 P20 Q#1000 R1; (Spindle tool number meaning tool the spindle,
rotating N20 does not execute the tool return code)
M19 GOO G91 G49 G30 Z0; (Spindle orientation returning tool change coordinate point)
M21; (Return tool tool magazine rotating, moving forward, spindle
unclamping tool)
N20 M19 G91 G49 G28 ZO; (Returning mechanical origin)
M22; (Search tool tool magazine rotating, moving forward, spindle
unclamping tool)
G91 G30 G49 Z0; (Returning tool coordinate point)
N30 M17: (Clamping spindle)
M24; (Tool magazine backward)
N50 M51; (End tool change)
三 M99; (End program)
220

--- Page 235 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine Notes Application Disc Type Tool Magazine During the tool change process, must confirmed that each action completed before tool pot down shall done before the magazine orientation sensor makes The tool magazine motor shall not started and the tool disc shall not rotated during tool change shall done before tool pot down confirmed. tool change shall done before the machine tool spindle returns the tool change tool change shall done before the spindle orientation completed. The spindle head shall not moved before tool change completed and the arm returns When the motor voltage too high, the overload protection relay shall tripped first Please perform the tool change manually, and check tool pot down, mechanical tool 10) During the debugging process, the debugging only requires modification the input and Il. Configuration and Definition Plc I/O Address and Internal Soft Components
Appendix Ladder Diagram User Guide GSK218MC Series with proceeding the next action. confirmation. tool pot down and before the completion tool pot down confirmed. point. the origin. avoid the motor burning. change, spindle clamping and unclamping and other actions are well matched before output signals (X, address) the ladder program. case uncertainty, not Table Input signal interface definition
Disc Type Tool Magazine proceeding CNC automatic sequence program control. modify the others avoid accidents.
interface No. selection
signal the 1st axis closed contact
Negative direction travel limit Normally
本
Signal the 2nd axis closed contact
signal the 2nd axis closed contact
signal the 3rd axis closed contact
signal the 3rd axis closed contact
Positive direction travel limit Normally
signal the 4th axis closed contact
the 1st axis closed contact
the 2nd axis closed contact
Zero return deceleration signal Normally
Sans closed contact
the 4th axis closed contact
218MC integration closed contact
221

--- Page 236 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
interface No. selection
contact
contact
per [se [ee
contact
contact
ear [er
test contact
eer [er [ae
detection contact
detection contact
[rer
control contact
ear [rer
contact
contact
xoo27 xs41 Undefined
contact
pare
contact
Specification
pes [ee
detection signal specification
eer [er ani
signal specification
closed contact
closed contact
Closed contact
村 xoo40 xsS42 Undefined
全 contact
[ea
contact
contact
xsS42 undqened
本
Contact
x0o46 xsS42 Undefined
xoo47 xsa2 undefned
the 5th axis specification
errs
detection specification
eee [oe
detection specification
contact
Contact
pase eee
in-place detection specification
ese [ee
signal the 5th axis closed contact
signal the 5th axis closed contact
222

--- Page 237 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine Please refer Volume for the connection method and notes the PLC input part address). Contacts include: Normally open contact, normally closed contact, and parameter 之 When using this ladder diagram, the user can add new functions the undefined input part Table Output signal interface definition Yoo00 xs43 zaxisband-typebrake Yoo01 xs43 coong Y0002 Toolooseningandtightenng Y0003 undefrned Yoo04 xs3 spindlebrake yooo.s xs3 undefned alarm alarm and operation running YooI1 xs43 Coontrolofcchipremoval Yool3 XS438 Machinetoollightingcontrol [Yool4 xs3 Hydraulicstaring 223
interface No. selection determined contact. Parameter determined contact, particular, means that the input (using the undefined part requires modification the ladder diagram，so please take
point’s connecting the normally open the normally closed contact determined caution).
external manual pulse the KAPA parameter the PMC. Please refer the KAPA parameter description for 全
contact details. 可
generator
asc
contact
generator
Selection the 3rd axis Normally open
external manual pulse contact
generator
Selection the 4th axis
asc
contact
generator
ens [oa
pulse generator 0.001 contact
msm
pulse generator 0.01 contact
[msm [me ena
pulse generator 0.1 contact
Normally
sono asm
Parameter
Normally
本
completion specification
本
Specification
Contact
generator
Notice:

--- Page 238 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual point control Notice Please refer Volume for the connection method and notes the PLC output part address). When using this ladder diagram, the user can add new functions the undefined part Table II| Ladder diagram address definition commissioning mode 224
Yool5 xs43 modifying the ladder diagram (using the undefined part requires modification the Address Definition Status Status1 Usersetting
yoo.e Indexingtablerelease (/O point control ladder diagram, please take caution). K000.4 Editing ofKaddress information editable not Allows
yoou.7 xs43 Indexingtableclamping ane cnr
Y0020 XxsS4 undefned point control
Y0021 undefned xs44 defined
Yo0022 Y0040 XS45 undefned
XS4 undefned Y0041 XxS45 undefned
yooz4 XxS4 undefned Y0042 XS45 undefned
Y0025 Mechanicalarmoperation Y0043 XS45 undefned
chipflushvalveoutpul xs4
Yoo27 Y0045 xs4 undefned
XS4 Forwardrotationoftoolmagazine Y0046 undefned
Yoo3.1 xs44 Backwardrotationoftoolmagazine yoou.7 xs4 undefned
Y0032 Toolpotvericaldirecion Y0050 xs4 undefned
Y0033 XS44 Toolpothorizontaldirection xs4
Y0052 xs4 Undefned
Y0053 xs4 22) undefned
Y0054 xs4 undefned
Y0055 xs4 undefned
yoos.6 undefned
己 Y0057 XS45 undefned
Yo060 Spindle enabling
Y0062
yoo.3 xs3 Spindle orientation
XS23 Positiverotationofspindle
Y0065 XS23 Negativerotationofspinde
Yoo66 zerospeedclamping

--- Page 239 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine
Address Status Status1 Usersetting
alowed permitted
Editing address information editable not
allowed permitted
not
Ame
not
rea Mom
when converting
eed
input signal valid
K004.0 spindle (VO point) Notused Used
K005.0 _Extemalpulseformachine None Yes
external cycle start
K005.2 Systementerscommissioningmode Yes
K0060 1Tlimitswitchisusedornrot 1pc
K006.4 Set zeroreturning switch normalopen Yes
ors EEC 本 本 本
fast speed override and the feed override
Cancelhardlimitof4thaxis Yes
K0074 Yes
K0075 Cancelexternalemergencysttp Yes
analog voltage
ko07.7 positionmode Notused Used
woes rere
normally off
eons
button button button
K008.2 Used Notused
rons
device OFF open
K008.4 Whether spindle has gear shiftdevice None Yes
Normally Normally
detection signal
us|
valid
Ko09.2 airsourcetestisvalid Notest Test
rons
detection valid
overload detection valid
detection valid
detection valid
rena
valid
res [ere
switch
[pe
normally closed off
本
closed off
closed off
225

--- Page 240 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual point valid When the system normal operation, please ensure the status for KO00.0, K000.1， cause accident. The parameter K001.0, modified, valid only after the system restarted. When 之 K010.5, K010.6 and K010.7 are invalid. KO05.2=1, all alarm interlocks are released, the system enters into commissioning mode, For tool magazine related parameters KO10.1, KO10.2, KO10.3, KO10.4, K10.5, K010.6, When K004.0 (whether spindle controlled with point) =1, the setting K008.4 When K012.7=1, the mechanical arm the state unconditional movement. Please Table Definition PLC external alarm 226
Address Status1 Usersetting K000.2, KO00.3, KO00.4, KO00.5, KO00.6, KO00.7, KO05.2, KO10.7, and K012.7, may K001.0=0 (i.e.: tool magazine not used), the settings KO10.1, KO10.2, KO10.3, KO10.4, When K001.0=1 (i.e.: the use tool magazine valid), the setting KO08.2 invalid. and apply only system test run, parameter shall set for normal operation, K010.7 and K012.7, refer part three, the usage and maintenance tool magazine. (whether spindle has gear shift device) invalid, meaning the spindle has gear shift return the axis the machine zero, when the mechanical arm shall not have tool.
adjustment mode When K008.2=0 (i.e.: tool clamping/unclamping device used), the setting K008.1 otherwise accident may happen. device. Please manually remove the arm before this operation. This method only suitable for
全 invalid. adjusting the position the mechanical arm. The data this point not exchanged.
positioning spindle Notes for setting KO06.0: Please use with caution.
KO06.0=0 valid, each axis has two lead limit switches.
normally closed off For example: axis has two lead limit switches (positive limit switch connected X0.0,
negative limit switch connected X0.1).
signal normally closed off KOO6.0=1 valid, each axis has one lead limit switches.
For example: axis has one lead limit switch (connected X0,0).
normally closed off Lead limit switches other axes are installed the same way shown above.
closed
adjustment mode
Usage clamping device indexingtable Yes
K014.1 operation Yes
本
detector switch
[OT
indexing table disabled
release state
releases clamp
[re
commissioning mode
Notice

--- Page 241 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine
No.
1200 Aooo0 Abnormalairpressue
Aoool Abnormallubrication
1202 Aooo2 Abnormal lubrication motor
1203 Aooo3 Coolingmotoroveroad
1204 Aoo04 Abnormalchipremovalmotor
1205 Aooo5 Abnormaloilpumpmotor
Abnornalmachinelighing
1208 Aool0 Abnormalmachinecontrolboxtemperature
1209 Abnormal machine body temperature
1210 Aool2 Abnormal machine vibration frequency
Aool3 Abnormalpressureoiltemperature
122 Aool4 kowpressureoilpressure
1213 Aool5 Machinenotreadilyavailableforuse
124 Aool6
1215 A017 Execute code before execution M06 code
1216 Aoo20 released and spindle does not spin
127 Aoo21 Spindlespinningtoolcannotbereleased
1218 0022 Toolmagazine stops abnormally, reconfirm toolnumber
[Aes
origin
1220 Aoo24 Abnormal spindle
Aoo25 Abnormalspindletoolunclampng
1222 Aoo26 Abnormalspindleunittemperature
1223 Aoo27 Abnormalspindlespeed
1224 Aoo30 Abnormalspindlemotorenable
1225 Aoo31
1226 Aoo32 Abnormalspindlegear
[ae
origin
1228 Cyclestartisnotallowed with the tool pot being
1229 Mechanical zeroing shall performed before execution M06 code
1230 003.6 Spindletoolsinreleasestateandfailtochangetocol
1231 Ao037 Toolchangeisnotallowedwithtoolpotnotbeing horizontal
1232 Aoo40 Abnormaltoolmagazinerotation
1233 Aoo41 Toolmagazinerotatingmotoroveroad
1234 Mechanicalarmmotoroveroad 二
1235 己
1236 Aoo44 Abnormaltoolmagazinezeroreturning
1237 A004. Toolmagazineinoriginalspotlostzeroreturning 全
1238 Toolpothorizontalandvertical detection exception 二
1239 Ao047 Spindle cannot rotated with the tool pot not being horizontal
1240 005.0 Abnormal tool magazine, required
1241 005.1 Toolpotverticaldirectiondetectionexception
1242 005.2 Toolpothorizontaldirection detection exception
1243 Tool magazine zero point position set validly
tae
condition
1245 Ao055 tool code repeated code intooltable
1246 Spindleunclampingandclampingdetectionexception
1247 Aoos7 Abnormalspindleorientationsequenrce
1248 Insufficientexecution conditionforTcodetoolnumber
1249 Spindlewithtoolfailtofeedtool
ens
fail feed tool
1251 Aoo63 poweroff
1252 Aoo64 ToolisclampedandcannotmoveZzaxis
1253 A0065 cautiously tool magazine adjustmentmode
1254 Tool magazine adjustment mode fails cycle start
1255 A00G.7 Tool clamping cannotrreturn origin position
1256 clamping cannot return tool changing position
1257 Aoo71 Spindleunderposition cannot retum tool changing position
1258 tool magazine cannot retum tool changing position
position
227

--- Page 242 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
PMC alarm Alarm Information
No.
1261 aAoo75 Retracting tool not allowed without being the origin.
1262 Aoor6 Beyond safe position
1263 Aoor77 Caution the mechanical arm adjustment mode
1264 A008.0 Abnormal spindle speed position mode change
A008.1 Abnormal spindle position speed mode change
A008.3 Mechanical arm not allowed act with the tool pot not being
vertical position
1268 A008.4 Mechanical not allowed act without being the origin
1269 A008.5 Abort for abnormal mechanical arm act
1270 A008.6 Mechanical arm tool holding detection exception
1271 A008.7 Mechanical arm not allowed act with the spindle not oriented
1272 A009.0 Mechanical arm not allowed act with the spindle tool clamped
1273 Mechanical arm not allowed act with the spindle tool unclamped
are Tool pot down not allowed with the mechanical arm not being the
origin
Retracting tool not allowed with the mechanical arm not being
the origin
A009.4 Rotating disc not allowed with the mechanical arm not being the
origin
1277 Ao095 Rotating disc not allowed with the tool pot not being horizontal
A009.6 Mechanical arm not allowed act with the axis not returning
the second reference point
1279 Mechanical arm origin detection exception
1280 AI0 Abnormal tool magazine rotation stopped forcibl
1288 OTL. Indexing table releases clamp overtime
1289 Indexing table unclamping and clamping detection exception
1290 A012 Indexing table clamping device not enabled
1291 Indexing table not released and fails rotate
1292, A14 Indexing table not clamped and fails move
1293 ATS Safety gate not closed and fails cycle start
Fail shift gear rigid tapping, please stop rigid tapping then shift
gear
160 Low lubrication pressure oil level
The alarm between A0.0~A19.7 system red failure alarm, and the system stops running after
alarm. A20.0~A31.7 custom yellow alert alarm. After the alarm, the system continues running
without any influence normal use.
Details PMC alarm diagnostic information:
Alarming information: 1200 Abnormal air pressure (A000.0)
Causes:
Solution: Check the status X002.0
Alarming information: 1201 Abnormal lubrication (AQ00.1)
Causes: User-defined
Solution:
Alarming information: 1202 Abnormal lubrication motor (A000.2)
Causes: User-defined
Solution:
Alarming information: 1203 cooling motor overload (AQ00.3)
Causes: Cooling motor overload
Solution: Check the cooling motor normal, and switch overload protection after clearing
Alarming information: 1204 Abnormal chip removal motor (A000.4)
Causes: User-defined
Solution:
Alarming information: 1205 Abnormal oil pump motor (A000.5)
228

--- Page 243 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine 229
Causes: User-defined
Solution:
Alarming information: 1207 Abnormal machine lighting (A000.7)
Causes: User-defined
Solution:
Alarming information: 1208 Abnormal machine control box temperature (A001.0)
Causes: User-defined
Solution:
Alarming information: 1209 Abnormal machine body temperature (A001.1)
Causes: User-defined
Solution:
Alarming information: 1210 Abnormal machine vibration frequency (A001.2)
Causes: User-defined
Solution:
Alarming information: 1211 Abnormal pressure oil temperature (A001.3)
Causes: User-defined
Solution:
Alarming information: 1212 Low pressure oil pressure (A001.4)
Causes: User-defined
Solution:
Alarming information: 1213 Machine not readily available for use (A001.5)
Causes: User-defined
Solution:
Alarming information: 1214 Spindle gear does not spin (A001.6)
Causes: Abnormal spindle gear detected when the spindle executing rotation code.
Solution: Check the first-gear in-place detection switch (X004.1) closed when the spindle 之
shifts first gear (i.e., Y3.4=1); the second-gear in-place detection switch (X004.2) closed
when the spindle shifts second gear (i.e., Y3.5=1); the third-gear in-place detection switch
(X004.3) closed when the spindle shifts third gear (i.e., Y3.6=1). alarm occurs when the 二
signal each gear being place not detected within the time set T0021.
Alarming information: 1215 Execute code before execution M06 code (A001.7)
Causes: valid code executed when executing M06 code.
Solution: Execute valid code before executing M06 code.
Alarming information: 1216 Tools released and spindle does not spin (A002.0)
Causes: Spindle rotation code executed when the tool release state, for example:
Pressing spindle forward rotation, backward rotation, inching and positioning manual mode
executing M03, M04, and M19 automatic mode will both cause the spindle rotate.
Solution: manually press “clamping/unclamping’” button enter into clamping state (YO.2=0),
check whether the tool test switch (X2.6) it’s there will alarm when rotating
spindle.
Alarming information: 1217 Spindle spinning tool can not released (A002.1)
Causes: Tool release code executed when the spindle rotation.
Solution: Execute tool release code when the spindle stopped avoid alarm.
Alarming information: 1218 Tool magazine stops abnormally, reconfirm tool number (A002.2)
Causes: When the Txx code executed and the magazine rotating, alarm occurs
pressing the “Reset” key will cause this alarm occur.
Solution: Tool magazine returns zero.

--- Page 244 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Reset the tool number spindle and tool magazine.
(For details the operation, please refer to: Section 川 Usage and maintenance
GSK218MC CNC system with disc type tool magazine)
Alarming information: 1219 Spindle cannot rotated with the mechanical arm not being the
origin (A002.3)
Causes: Spindle rotation performed when the mechanical arm not the origin.
Solution: Return the mechanical arm origin (check whether the mechanical arm the
origin detecting the state X3.4).
For easy debugging for abort during mechanical arm running, the mechanical arm
can perform positioning the mechanical zero. When the mechanical arm not the
origin, necessary perform mechanical zeroing before positioning operation.
(For detailed operation, refer to: Section II| Usage and maintenance GSK218MC
CNC system with carousel type tool magazine)
Alarming information: 1220 Abnormal spindle tool clamping (A002.4)
Causes: When clamping tools (i.e.: Y0.2=0), the magazine clamping detection switch (X2.6)
not closed within the time set T010.
Solution: Check the tool magazine clamping detection switch normal.
Check Y0.2 has output.
Readjust the time for T010.
Alarming information: 1221 Abnormal spindle tool unclamping (A002.5)
Causes: When unclamping tools (i.e.: YO.2=1), the magazine unclamping detection switch (X2.5)
not closed within the time set TOO9.
Solution: Check the tool magazine unclamping detection switch normal.
Check Y0.2 has output.
Readjust the time for T009.
Alarming information: 1222 Abnormal spindle unit temperature (A002.6)
Causes: User-defined
Solution:
之 Alarming information: 1223 Abnormal spindle speed (A002.7)
a=) Causes: User-defined
Solution:
全
Alarming information: 1224 Abnormal spindle motor enable (A003.0)
Causes: User-defined
Solution: None
Alarming information: 1225 Abnormal spindle orientation (A003.1)
Causes: When the spindle performing positioning action (i.e.: Y2.1=1), the spindle orientation
detection switch (X7.1) not turned off within the time set T013.
Solution: Abnormal spindle drive unit spindle disc.
Check Y6.3 has output.
Readjust the time for T013.
Alarming information: 1226 Abnormal spindle gear (A003.2)
Causes: spindle gear exception detected.
Solution: the first-gear in-place detection switch (X004.1) not closed within the time set
T0021 when the spindle shifts first gear (i.e., Y3.4=1), adjust the time set T0021 check
X004.1 closed; the first-gear in-place detection switch (X004.2) not closed within the time
set T0022 when the spindle shifts second gear (i.e., Y3.5=1), adjust the time set T0022
check X004.2 closed; the first-gear in-place detection switch (X004.3) not closed
within the time set T0023 when the spindle shifts third gear (i.e., Y3.6=1), adjust the time
set T0023 check X004.3 closed.
Alarming information: 1227 Cycle start not allowed with the mechanical arm not being the
230

--- Page 245 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine
origin (A003.3)
Causes: When the mechanical arm not the origin, pressing the “Start” button the
automatic mode the input mode DNC mode will cause this alarm occur.
Solution: Return the mechanical arm the origin.
Alarming information: 1228 Cycle start not allowed with the tool pot being vertical (A003.4)
Causes: When the tool pot vertical, pressing the “Start” button the automatic mode the
input mode DNC mode will cause this alarm occur.
Solution: Return the tool pot the horizontal position.
Alarming information: 1229 Mechanical zeroing shall performed before execution M06
code (A003.5)
Causes: The M06 M50 code executed before the mechanical zeroing performed.
Solution: Perform mechanical zeroing first
Alarming information: 1230 Spindle tools release state and fail change tool (A003.6)
Causes: M06 M50 code executed when spindle release state (Y0.2=1).
Solution: Clamp the spindle tool (Y0.2=0).
Alarming information: 1231 Tool change not allowed with tool pot not being horizontal (A003.7)
Causes: The M06 M50 code executed when the tool pot not horizontal.
Solution: Return the tool pot the horizontal position.
Alarming information: 1232 Abnormal tool magazine rotation (A004.0)
Causes: User-defined
Solution:
Alarming information: 1233 Tool magazine rotating motor overload (A004.1)
Causes: The mechanical jam overcurrent tool magazine rotating motor during running
causes the motor overloaded.
Solution: Check the tool magazine rotating motor mechanically normal, and switch
overload protection the electric cabinet for the mechanical tool magazine rotating motor after
clearing.
Alarming information: 1234 Mechanical arm motor overload (A004.2)
Causes: The mechanical jam overcurrent mechanical arm during running causes the motor
overloaded. 二
Solution: Check the mechanical arm mechanically normal, and switch overload protection
the electric cabinet for the mechanical arm motor after clearing.
Alarming information: 1235 Abnormal tool magazine moving (A004.3)
Causes: User-defined
Solution:
Alarming information: 1236 Abnormal tool magazine zero returning (A004.4)
Causes: User-defined
Solution:
Alarming information: 1237 Tool magazine original spot lost zero returning (A004.5)
Causes: When the tool magazine returning zero, the alarm set off when it’s stop
abnormally.
Solution: Tool magazine returns zero point.
(For detailed operation, refer to: Section 川 Usage and maintenance GSK218MC CNC system
with carousel type tool magazine)
Alarming information: 1238 Tool pot horizontal and vertical detection exception (A004.6)
Causes: The tool pot neither horizontal nor vertical
Solution: Check the detection signals X5.1 and X5.2 are normal
231

--- Page 246 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual Causes: The spindle rotation performed when the tool pot not horizontal.
Alarming information: 1239 Spindle cannot rotated with the tool pot not being horizontal Solution: Return the tool pot the horizontal position (check whether the tool pot returned
(A004.7) horizontal position detecting the state X5.2), and perform spindle rotation.
Alarming information: 1240 Abnormal tool magazine, zero returning required (A005.0)
Causes: After the tool magazine stops rotating for the time set T102, exception detected
from the tool magazine counter switch (X5.3) generates pulse signal.
When the tool magazine rotation, the state that tool magazine count switch
exceeds the time set T103.
Solution: The output part (Y3.0 and Y3.1) the tool magazine forward backward rotation
abnormal.
Abnormal tool magazine count switch.
Reset the values T102 and T103.
(For detailed operation, refer to: Section III Usage and maintenance GSK218MC CNC system
with carousel type tool magazine)
Alarming information: 1241 Tool pot vertical direction detection exception (A005.1)
Causes: When performing act the tool pot vertical direction (i.e.: Y3.2=1), the tool pot
vertical direction detection switch (X5.1) does not act within the time set T104.
Solution: Check the tool pot vertical direction detection switch normal.
Check Y3.2 has output.
Readjust the time for T104.
Alarming information: 1242 Tool pot horizontal direction detection exception (A005.2)
Causes: When performing act the tool pot horizontal direction (i.e.: Y3.3=1), the tool pot
horizontal direction detection switch (X5.2) does not act within the time set T105.
Solution: Check the tool pot horizontal direction detection switch normal.
Check Y3.3 has output.
Readjust the time for T105.
Alarming information: 1243 Tool magazine zero point position set validly (A005.3)
之 Causes: tool magazine has zero returning switch (K010.1=0), the alarm will set off when
K010.6=1 remind tool magazine zero point position set validly.
Solution: Set KO10.6
全 (For specific operation, refer to: Section Usage and maintenance GSK218MC CNC system
with carousel type tool magazine)
Alarming information: 1244 Tool change stops abnormally, make sure tool magazine good
condition (A005.4)
Causes: While the tool magazine automatically changing the tool, exception occurs and
causes the tool change stop, the alarm occurs when the mechanical arm detected
out the origin the time starting the system. This alarm only reminds the operator the
possible disorder the number tools the magazine and spindle. Clearing this alarm does
not mean that the magazine already normal. needed reset the number tools the
magazine and spindle.
(For specific setting, refer to: Section III Usage and maintenance GSK218MC CNC system
with carousel type tool magazine)
Solution: Re-adjust the tool magazine and confirm whether the number tools the spindle
matches, including whether the mechanical arm the origin, the tool pot returns the
horizontal position, the spindle clamping state, the current tool pot number the same
the current value CTR100, and the number tools the spindle the same the value
D245.
Alarming information: 1245 tool code repeated code tool table (A005.5)
Causes: There tool number specified code the tool table (D000-D009), the tool
number specified code repeated the tool table.
Solution: Modify the tool number tool list.
232

--- Page 247 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine Causes: The spindle orientation completed before the spindle oriented.
Alarming information: 1246 Spindle unclamping and clamping detection exception (A005.6) Solution: Check the signal X7.1 normal.
Causes: The spindle tool neither the unclamping position nor the clamping position Alarming information: 1248 Insufficient execution condition for code tool number (A006.0)
Solution: Check X2.5 and X2.6 are normal Causes: When the first code tool number not completed, the second code tool number
Alarming information: 1247 Spindle orientation sequence detection exception (A005.7) executed
Solution: After the first code tool number executed, execute the second code tool number
Alarming information: 1249 Spindle with tool fail feed tool (A006.1)
Causes: Tool magazine performs feed action when axis original point and tools
spindle (D245 not 0).
Solution: Remove tools from spindle and set D245
Alarming information: 1250 Spindle not consistent with current tool the tool magazine and
fail feed tool (A006.2)
Causes: axis tool change position, tool magazine performs feed action while tool number
spindle inconsistent with that tool pot.
Solution: Rotate tool magazine match the tool number tool pot with that spindle.
Alarming information: 1251 Switch power off (A006.3)
Causes: Parameters are modified and restart required.
Solution: Restart system.
Alarming information: 1252 Tool clamped and cannot move axis (A006.4)
Causes: When the mechanical arm the tool holding position and the spindle tool clamped,
the movement the Z-axis performed.
Solution: Position the mechanical arm the origin.
The spindle tool release state. 之
Alarming information: 1253 Operate cautiously tool magazine adjustment mode (A006.5)
Causes: This alarm occurs when K010.7 set only reminds the tool magazine enters the 二
adjustment mode. The magazine related alarms and interlock signals are completely cleared.
Caution must taken. Otherwise, exceptions will occur and damage the machine.
Solution: Press the “Reset” key clear this alarm (note: Alarm cleared does not mean the
system not tool magazine adjustment mode, set KO10.7 quit tool magazine
adjustment mode).
Alarming information: 1254 Tool magazine adjustment mode fails cycle start (A006.6)
Causes: When K010.7 pressing the “Start” button the automatic mode the input mode
DNC mode will cause this alarm occur.
Solution: Set KO10.7
Alarming information: 1255 Tool clamping cannot return origin position
Causes: When the tool magazine feed position and the spindle tool clamped, the Z-axis
returned original position.
Solution: Put tool magazine into tool return position.
The spindle tool release state.
Alarming information: 1256 Tool clamping cannot return tool changing position (A007.0)
Causes: When the tool magazine feed position and the spindle tool clamped, the Z-axis
returned tool change position.
Solution: Put tool magazine into tool return position.
The spindle tool release state.
233

--- Page 248 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Alarming information: 1257 Spindle underposition cannot return tool changing position
(A007.1)
Causes: When the tool magazine feed position and the spindle not positioned, the Z-axis
returned tool change position.
Solution: Put tool magazine into tool return position.
Spindle positioning.
Alarming information: 1258 Abnormal tool magazine cannot return tool changing position
(A007.2)
Causes: User-defined
Solution:
Alarming information: 1260 Cycle start not allowed for manual return the tool change
position (A007.4)
Causes: When K011.1=1 (i.e. manual switch tool change position valid), pressing the “Start”
button the automatic mode the input mode DNC mode will cause this alarm occur.
Solution: Set K011.1
Alarming information: 1261 Retracting tool not allowed without being the origin. (A007.5)
Causes: Tool magazine feed position, and perform tool retract action when axis out
original position.
Solution: Return axis original position before retracting.
Alarming information: 1262 Beyond safe position (A007.6)
Causes: When the mechanical arm the tool holding position, the axis goes beyond the tool
change position during movement.
Solution: Move axis between tool change position and original position.
Alarming information: 1263 Caution the mechanical arm adjustment mode (A007.7)
Causes: This alarm occurs when K012.7 set only reminds the mechanical arm enters
the adjustment mode. The magazine related alarms and interlock signals are completely cleared.
Caution must taken. Otherwise, exceptions will occur and damage the machine.
已 Solution: K012.7 must set exit the mechanical arm adjustment mode
Alarming information: 1264 Abnormal spindle position mode change (A008.0)
Causes: When the M29 code executed, the spindle position mode completion signal not
received within the time set T24
Solution: Adjust the time set T24 check whether spindle position mode has output after the
signal received.
Alarming information: 1265 Abnormal spindle speed mode change (A008.1)
Causes: When the M28 code executed, the spindle speed mode completion signal not
received within the time set T28.
Solution: Adjust the time set T28 check whether spindle speed mode has output after the
signal received.
Alarming information: 1267 Mechanical arm not allowed act with the tool pot not being
vertical position (A008.3)
Causes: Mechanical arm acts when the tool pot not vertical
Solution: Make the tool pot vertical first
Alarming information: 1268 Mechanical not allowed act without being the origin (A008.4)
Causes: Mechanical arm acts when the mechanical arm not the origin
Solution: Set K12.7 that is, enabling the mechanical arm enter the adjustment mode, and
press the tool change arm key return the mechanical arm the origin
Alarming information: 1269 Abort for abnormal mechanical arm act (A008.5)
Causes: While the mechanical arm operating, emergency stop pressed, and resetting
234

--- Page 249 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine
causes the mechanical arm abort
Solution: Set K10.7 that is, enabling the magazine enter the adjustment mode, and
manually return the mechanical arm the origin.
Alarming information: 1270 Mechanical arm tool holding detection exception (A008.6)
Causes: The mechanical arm performs the tool-holding operation and fails reach the tool
holding position within the time set T110; the mechanical arm moves down and rotates 180
degrees, and fails reach the tool holding position within the time set T111.
Solution: Check the output Y2.5 normal
Check the input X3.3 normal
Alarming information: 1271 Mechanical arm not allowed act with the spindle not oriented
(A008.7)
Causes: Mechanical arm acts when the spindle not oriented
Solution: Perform spindle orientation first
Alarming information: 1272 Mechanical arm not allowed act with the spindle tool clamped
(A009.0)
Causes: Mechanical arm moves down and rotates 180 degrees when the spindle does not
unclamp the tool
Solution: Check the output Y0.2 normal Check the input X2.5 normal
Alarming information: 1273 Mechanical arm not allowed act with the spindle tool unclamped
Causes: Mechanical arm holds tool returns origin when the spindle does not clamp the tool
Solution: Check the output Y0.2 normal
Check the input X2.6 normal
Alarming information: 1274 Tool pot down not allowed with the mechanical arm not being
the origin (A009.2)
Causes: Tool pot down performed when the mechanical arm not the origin
Solution: Return the mechanical arm the origin
Alarming information: 1275 Retracting tool not allowed with the mechanical arm not being
the origin (A009.3)
Causes: Tool retracting performed when the mechanical arm not the origin
Solution: Return the mechanical arm the origin 二
Alarming information: 1276 Rotating disc not allowed with the mechanical arm not being the
origin (A009.4)
Causes: Tool disc rotation performed when the mechanical arm not the origin
Solution: Return the mechanical arm the origin
Alarming information: 1277 Rotating disc not allowed with the tool pot not being horizontal
(A009.5)
Causes: Tool disc rotation performed when the tool pot not horizontal
Solution: Return the tool pot the horizontal position
Check the input X5.2 normal
Alarming information: 1278 Mechanical arm not allowed act with the axis not returning
the second reference point (A009.6)
Causes: Mechanical arm acts when the axis does not return the second reference point
Solution: Execute G30G91Z0 return the second reference point
When the mechanical arm not the origin and G30G91Z0 cannot executed
automatically return the second reference point, return the second reference
point manually (first return the Z-axis mechanical zero the zeroing mode, then
set K11.1 (allowing manually return tool change position), and press the
“USER2’ key the keyboard manually return the second reference point)
235

--- Page 250 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Alarming information: 1279 Mechanical arm origin detection exception (A009.7)
Causes: When the system powered on, the mechanical arm detected out the origin,
the signal X3.4 not received within the time set T110 when the system instructs the
mechanical arm return the origin
Solution: Return the mechanical arm the origin adjustment mode
Adjust the time set T110
Alarming information: 1280 Force stop rotation due abnormal magazine rotation (A010.0)
Causes: After the command rotating tool magazine issued, the pulse signal generated
the tool magazine counter switch (X5.3, X5.4) not detected within the time set T108.
When the tool magazine rotation, the state that tool magazine count switch
exceeds the time set T103.
Solution: The output part (Y3.0 and Y3.1) the tool magazine forward backward rotation
abnormal.
Abnormal tool magazine count switch.
Reset the values T108 and T103.
(For specific operation, refer to: Section III Usage and maintenance GSK218MC
CNC system with carousel type tool magazine)
Alarming information: 1288 Indexing table releases clamp overtime (A011.0)
Causes: detection signal received within extended time.
Solution: Check signal line, and make sure clamp and release signal input normal.
Alarming information: 1289 Abnormal indexing table releases clamp (A011.1)
Causes: Clamp and release signals are input simultaneously.
Solution: Check signal line, and make sure clamp and release signal input normal.
Alarming information: 1290 Indexing table clamping device not enabled (A011.2)
Causes: When the indexing table disabled (K12.4=0), clamping unclamping action
performed.
Solution: Set K12.4 before performing clamping unclamping action.
Alarming information: 1291 Indexing table not released and fails rotate (A011.3)
已 Causes: When the indexing table the unclamping state, rotation action performed.
Solution: Perform indexing table clamping action before rotating switch indexing table
commissioning mode (set K12.6 1), then perform indexing table rotation action.
Alarming information: 1292 Indexing table not clamped and fails move (A011.4)
Causes: When the indexing table the unclamping state, move action performed feed
axis.
Solution: Perform indexing table clamping action before moving feed axis adjust indexing table
commissioning mode (set K12.6 1), then perform feed axis movement action.
Alarming information: 1293 Safety gate not closed and fails cycle start (A011.5)
Causes: When safety door inspection device enabled (K8.3=1), the recycle start button
pressed when the safety door not closed (X4.5=0).
Solution: Close safety door before cycle start.
Alarming information: 1294 Fail shift gear rigid tapping, please stop rigid tapping then shift
gear (A011.6)
Causes: When shifting gear with spindle, the gear not position, M29 tapping direction will
not permitted.
Solution: Cancel rigid tapping before shifting gear.
Alarming information: 1360 Low lubrication pressure oil level (A020.0)
Causes:
Solution: Check the status X001.7
Notice: The “user-defined” alarms for fault causes are not designed the ladder diagram and need
236

--- Page 251 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine auxiliary function completedelay rotation connection dela rotation connection dela time 7101 Tool magazine manual forward rotation delay ontime 2000 complete delay detection detection
added the user modifying the ladder diagram. _Spindle orientation detection time T016 Lubricating interval (unit: minute) 380 7036 table unclamping complete delay 1102 Tool magazine rotation stop delay detection time
Table Definition TMR Parameters time (unit: second) 1037 __Indexing table clamping completedelay 500 1103 Tool magazine rotation delay detection time setting 3000 delay detection
Address Note nitialvaue 1018 Spindle orientation complete delay detection time 200 7038 Indexing table unclamping delay detection 5000 村 1104 Tool pot vertical delay detection time setting 5000 1111 Mechanical arm down tool change delay detection 10000
T001 Spindleforwardrotation complete delayer 500 To1i9 1039 Indexingtable clamping delay detection 5000 1105 pot horizontal delay detection time setting 5000 Note: The unit minutes for T016, seconds for T107, and millimeters for the rest.
T002 Spindle backward rotation complete delayer 500 7020 Program restarting signal delay disconnection time T040 delay clampingtime 500 tres 237
T003 point control complete delay 1021 Spindle gear shift complete detection overtime 10000 _—Pointfinderstartdelay complete 1107
T004 positioningcompletedelay 1024 Spindle speed position mode change detection time 10000 1051 Orientation complete delay switch ontime
ete 1025 M29 performance time (without detection switch) 4000 Toso Constanttimeroccuped
than T29+T34 _M28 performance time (without detection switch) 2000 Tosi Constanttimeroccuped
To07 Spindletoolunclampingcompletedelay 1028 Spindle position speed mode change detection time 10000 T082 Constanttimeroccuped
7008 Spindletoolclampingcompletedelay 500 To29 MBcompletedelaytime
7009 Spindletoolunclamping position detection time 8000 To34 Spindlebraketime time
1010 Spindle tool clamping position detectiontime 800 [ae
shoot-through dela

--- Page 252 ---
try GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Table Definition DATA Parameters
(The tool magazine capacity 24)
fares
[Be [TO panier rea
[panier
[panier
[Be [Te
[panier ite
panier Tite
Gani ire
[unseat
Notice
The set value D100 must less than 100 and the same that CTR100,
exception will occur.
For example: When D100=16, the datasheet D001-D016 valid;
When D100=24, the datasheet D001-D024 valid.
D000 only displays the spindle tool number, the spindle tool number cannot modified
D000. When the spindle tool number needs modified, shall modified D245.
The value D241 cannot modified.
4.D240~D247 are occupied the system, and cannot customized user.
238

--- Page 253 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine
Please refer Volume III for details.
Table VII Definition CTR Parameters
counts
24TOOL
Notice
The set value CTR100 must less than 100 and the same that D100,
exception will occur.
For example: When CTR100=16, the number tool pots the magazine
When CTR100=24, the number tool pots the magazine
Table VIII Definition Code
aps
was
[Sa age
detection switch for gear control
aon
Seema
removal
removal
239

--- Page 254 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
一
Check the tool correct after change
[iss eas
ose Mechanical arm arm holding position
The mechanical arm moves down, rotates
180 degrees and moves
Notice
M22, M50, and M51 are only effective during tool change and cannot operated separately. They
can operated separately MDI the tool magazine adjustment mode.
Ill. Usage and Maintenance With Mechanical Arm Tool Magazine
Tool magazine installation and related PLC parameter settings
Operation purpose: align the ladder diagram with the tool magazine configuration.
The requirements the ladder diagram for machine tool with disc type tool magazine
The machine tool has spindle tool automatic clamp/unclamp device, which
provided with normally open in-place detection switch.
The spindle has orientation function with the orientation angle adjustable.
The capacity the tool magazine less than 100.
The tool magazine can rotate forward and backward.
The tool magazine has counter switch, tool pot vertical in-place detection switch,
and tool pot horizontal in-place detection switch.
The tool magazine has zero return switch (optional).
Connection tool magazine related lines
Input parts
Pin Signal
已 position interface Address Pin function description
External clamping/unclamping Optional
control
Unclamping detection Normally open
contact
Clamping detection Normally open
contact
Mechanical arm brake signal Normally open
normally closed
Mechanical arm tool holding Normally open
detection signal normally closed
Mechanical arm zero detection Normally open
signal normally closed
Tool pot vertical direction Normally open
detection normally closed
Tool pot horizontal direction Normally open
detection normally closed
Tool magazine count (normally Normally open
contact
Tool magazine zero return Optional
in-place detection
Orientation place spindle Normally open
normally closed
Output parts
Signal Mark
ein
xs43 Yooo2 Tool loosening and tightening
240

--- Page 255 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine
xs4 Yoo25
xs4 Yoo30 Forwardrotationoftoolmagazne
xs4 Yoo31 Backwardrotationoftoolmagazne
xs4 Yoo32 Toolpotverticaldirecion
xs4 Toollpothorizontal direction
xs23 Yoo63 Spindleorientation
Tool magazine switch model selection
Address Definition Status0 Status1
oar [ee [te
switch
SES
Whether feed switch choses normally Normally Normally off
closed
ene TEE SENT eran
eran
For example: For disc type tool magazine without zero return switch, with each
detection switch normally open, the parameters shall set follows:
K010.1=0 K010.2=0 KO10.3=0 KO10.4=0 KO10.5=0
Setting tool magazine capacity
Enter the tool magazine capacity DATA100 and CTR100
Notice:
The tool magazine capacity means the number tool pots the magazine.
The set values DATA100 and CTR100 must less than 100.
For example: When the magazine capacity 24, set DATA100 and CTR100 24.
Setting the number tool tool magazine:
Datasheets D001-D099 correspond No.1-99 tool pots the tool magazine, and the
set values datasheets D001-D099 correspond number tools No.1-99 tool
pots the tool magazine. D245 the number tool the spindle.
Notice
The same tool number (excluding cannot set D001-D099. Otherwise, alarm will occur
during tool change.
The setting range tool number must meet the requirement set the data parameter 0206. 三
Otherwise, alarm will occur when executing code.
For example: When the magazine capacity 24, 1-24 are set D1-D24, the No.8
tool pot will rotate the tool change position when T8M6 executed and then
tool change performed; 10, 20, 30...240 are set D1-D24, the No.8 tool pot
will rotate the tool change position when T80M6 executed and then tool
change performed; set both and D2, alarm will occur when
T8M6 executed.
Manual and zero return operations tool magazine
Operation purpose: check each action the tool magazine normal.
Detailed operation steps are below:
Effective use tool magazine
default, the ladder diagram Ladder01.grp, i.e., the ladder diagram carousel type
tool magazine, used. use the disc type tool magazine, necessary enable
the Ladder00.grp ladder diagram, i.e., position parameters NO: #0=0, NO:
#1=0, NO: #2=0, NO: #3=0. After modifying the parameters, the system needs
powered off and restarted.
The ladder diagram parameter KO01.0 the PMC set
Tool magazine enters adjustment mode
PMC’s ladder diagram parameter K012. set
facilitate the adjustment tool magazine holding detent with spindle concentricity
and Z-axis holding position, the tool magazine adjustment PMC parameters can
set. When K012. set the restriction mechanical arm operation can
241

--- Page 256 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
canceled enter the tool magazine adjustment state. After adjustment, please set
K012.7 The data this point not exchanged.
Normally, the steps manually operating mechanical arm are follows
Return axis tool change point. (In the input mode, enter G30G91Z0 return
the mechanical arm tool change point) and set K10.7
加
Orient spindle (press the key 0RENWnONin manual mode orient it).
Make tool pot vertical (press the key manual mode make tool pot
vertical).
Manually move mechanical arm for tool holding (press thekey “tool change
manual mode complete the mechanical arm movement 1).
Unclamp tool. (Press manual mode unclamp the tool properly).
evi
Manually move mechanical arm for tool change (press the key CHANGER again
complete the mechanical arm movement 2).
Clamp tool. (Press CUMPREEE clamp the tool properly)
eyi
Manually move mechanical arm for returning its origin (press the key" CHANGER for
the third time complete the mechanical arm movement 3).
Manual mechanical arm movement complete.
Normally, the condition for manually operating mechanical arm follows:
The spindle orientation completed, the tool pot vertical, and the axis
returned the tool change point.
Determination the magazine rotation direction
the manual mode, when the key Cow pressed, the magazine rotates the
direction with tool number incrementing. When the key pressed, the
magazine rotates the direction with tool number decreasing. the contrary the case,
the magazine count will confusing, resulting incorrect tool change. This issue can
addressed adjusting the phase sequence the magazine rotating motor.
Zero return operation tool magazine
The zero return operation the tool magazine takes place with without zero return
switch.
Tool magazine with zero return switch: the “mechanical zeroing” mode, press
TMAG. When the “tool magazine zero returning indicator” on, the zero returning
completed (the light flashing indicates that the magazine returning zero).
Tool magazine without zero return switch: set the zero for the tool magazine
follows:
the manual mode, press the key TWIG. COW TMAB.OW rotate No.1 pot
242

--- Page 257 ---
Appendix Ladder Diagram User Guide GSK218MC Series with Disc Type Tool Magazine Note: the monitor displays 上 UUUU ,Where the symbol “E” indicates that the motor rotor Set the magazine tool change position coordinate the system data parameter 52. This With the above three steps, possible perform the correct tool change operation. Manual adjustment after abnormal tool magazine stop K010.7=1 bring the tool magazine the adjustment state. Following the above steps manually operating mechanical arm, adjust the mechanical arm return zero. cannot
the tool magazine the tool change position. incorrect orientation position, its value cannot used orientation position reference value. Rotate the parameter must set correctly, accident will occur and cause mechanical The operation executing code and code described follows: When power fails emergency stop and reset buttons are pressed during the operation 243
Set KO10.6 the input mode. motor rotor for least one round. The drive unit will automatically search for the correct position the motor 三 damage. Program TXXM6; Program TXX; the mechanical arm, the mechanical arm needs re-adjusted return zero. First set
the mechanical zeroing mode, press "M270. until the “tool magazine zero encoder, and when spotted, the monitor display changes OOO) G54 G90;
return indicator” on. X100, Y100;
Set KO10.6 Machining programs
Adjustment spindle orientation angle and tool change coordinate position M6;
Adjustment the spindle orientation angle (refer the manual for the spindle drive unit) Executing the above two programs has the same effect tog! change.
GS3000 orientation angle adjustment method: The following programs are the wrong format:
Power the control unit, and default LED displays: T1;
cha T2;
Press the key enter the monitoring mode, which displays: M6;
the monitoring mode there are display statuses, and the desired status can
selected pressing the key Find dP-APo (the motor coded disc
used the orientation coded disc this case; find when the
spindle coded disc used the orientation coded disc), and press the key
todisplay DUUUU
this point, the motor free state. Directly twist the motor rotor the spindle
connected the motor rotor, rotating the motor rotor for least one round. The
drive unit will automatically search for the correct position the motor encoder, and
when spotted, the monitor display changes
After turning the motor for more than one round the above method, adjust slowly
enable the motor (spindle) rotor orientation position the orientation point.
Stop the operation and observe the absolute position the rotor. The monitor now
displays Save the value the parameter PA103, which the
orientation position.

--- Page 258 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual PMC’s ladder diagram parameter setting description: Enter the system debug password. Press the key then press the soft key [Password] Press the key 回 MDI keyboard. the [Ladder Diagram Parameter interface, press the 四 IV. Macro Program Annotation With Disc Type Tool Magazine 091000; (Program name) G65 H81 P10 Q#1000 R1; (Auxiliary lock machine lock, spindle tool number code tool G69 G50 G15 G80G40; M50; (The tool change starts while the condition tool change M19 G00 G91 G49 G30 Z0; (Spindle orientation returning tool change coordinate point) M22; (Mechanical arm action begins) N10 M51; (End tool change) M99; (End program) 244
cleared, set K012.7=1 bring the mechanical arm the adjustment state, which all enter the “Setting (Password)” interface. the input mode, enter the system debug soft key [Ladder Diagram] enter the latching relay viewing and setting interface. Press number “1”, then press the key and the key the data bar prompts: number, rotating N10 does not perform tool change and the checked for compliance; not, the alarm will appear)
restrictions the operation the mechanical arm will released. Caution shall taken password, and then press the key 加 The screen displays “Password Correct” the four direction keys the keyboard position the cursor K010.7, press the Ladder diagram download succeeded! meaning that successfully saved, and the program ends)
during operation. After adjusting the mechanical arm return zero, set KO10.7=0, the lower left corner. magazine adjustment mode effective immediately. KO10.7 set exit the tool
K012.7=0, that the mechanical arm can operate normally. magazine adjustment mode.

--- Page 259 ---
Appendix Ill Ladder Diagram Configuration File Format
Appendix Ladder Diagram Configuration File Format
The signals the ladder diagram configuration file LadChixx.txt (“xx” corresponds the
running ladder diagram file number set the system) store the following information fixed
sequence.
Code and Meaning Signals X0.0-X5.7
Format: Xxxxx+Spacet+Chinese comment+Line break (Enter)
For example: “X0000 X-axis positive direction travel limit signal”
Where: “xxxx” the value this signal, for example, “O000 for 0.0” and “0067 for 6.7”, ranking
from top bottom 0000 0067 (i.e., signal 0.0 6.7), with the order unchangeable.
“Space” generally without mixing with other characters, the same below.
ll. Code and Meaning Signals Y0.0-Y5.7
Format: Yxxxx+Spacet+Chinese comment+Line break (Enter)
For example: “YOO0O Z-axis brake”
Where: “xxxx” the value this signal, for example, “O000 for 0.0” and “0057 for 5.7”, ranking
from top bottom 0000 0057 (i.e., signal 0.0 5.7), with the order unchangeable.
Ill. Code and Meaning Signals K6.0-K63.7
Format: comment+Line break (Enter)
For example: “KOO60 X-axis limit switch used not”
Where: “xxxx” the value this signal, for example, “OO60 for 6.0” and “0637 for 63.7”,
ranking from top bottom 0060 0637 (i.e., signal 6.0 63.7), with the order unchangeable.
“Space” generally too, without mixing with other characters.
IV. Code and Meaning Signals A0.0-A63.7
Format: Axxxx+Space+Chinese comment+Line break (Enter)
For example: “A0000 Abnormal air pressure”
Where: “xxxx” the value this signal, for example, “0000 for 0.0” and “0317 for 63.7”,
ranking from top bottom 0000 0317 (i.e., signal 0.0 63.7), with the order unchangeable.
“Space” generally too, without mixing with other characters.
End //End Flag
Note: Each line the above information must written block style. For details, please refer the built-in file
LadChixx.txt. The only difference the corresponding English file LadEng01.txt that the Chinese comment
changed English letters characters.
245

--- Page 260 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
Appendix Description with GR+GL200 (RJ45)
Correct Connection
mat
GR2000 GR2000 GR2000 GR3000 F(RJ45)
Be.
局 三
Fea
:过
到
we,
PPD SOD SOD
Note: loop going out from the system bus passing the drive I/O, and then returning the system bus
Relevant Parameters
Drive parameters
246

--- Page 261 ---
Appendix Description with GR+GL200 (RJ45)
The parameters below must correctly set the servo unit build Ethernet communication with the CNC system.
parameters Name Unit Parameter range Default value method
oat
ase]
There might more than one servo unit having bus communication with the CNC system. Set the serve
slave number corresponding the CNC system facilitate control serve unit. result,
tepeated serve slave numbers cannot set for the serve units the same CNC system.
Note: When three drives are provided, the values PA156 number shall set and particular
order.
When four drives are provided, the values PA156 number shall set and particular order, and
on.
System parameters
The (assigned slave) XYZ-axis set values the slave station setting the bus configuration
correspond the drive PA156.
日
[eam
100by IOtype GL200-F(RJ45)
Note: Whenthe designated sive setto0. the non bus spndesenatied
DATA S00000 TO101
加 @9: 59:
三
己
The assigned slave the slave station setting the bus configuration set directly the 全
interface above.
lll. GL200-F (RJ45) bus I/O unit
GL200-F (RJ45) has output points input points, and SPINDLE interface (44-hole socket).
三
ges
OUTPUT
ram
INPUT INPUT 2.0 “hor
GL200-F (RJ45) bus module
Input power (OV and 24V)
247

--- Page 262 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
GL200-F (RJ45) power box connection cable
Strand wire Schematic diagram
green three-position plug
GL200-F (RJ45) Power box
Green three-position plug yoke, with sheath awe
pte}
Power input line
Input and output terminals
+24V +24V
GND GND GND
X07 XLT
x06 X16 Y06 Yl6
ype
X05 XbA Y05 YI5
X04 yor
x03 X33
X12 Yl2
Yor
x00 Yoo YlO
+2AV +24V 424V +24V
GND
X27 XBT 了 Y37T
X86 y26 Y36
之 X25 MBA YB5
x24
X23
X32 Y32
X21 YB1
xx0 Y20
+24V +24V 24V
GND GND GND
X47 XBT
MAA
X44 Ysa
53.
X42 X32 Y52
X40 X50 YAO
GL200-F (RJ45) input and output points
Input address definition
The input signal has total points.
Note: This input valid when the input signal connected with +24V. This input invalid when the input signal
disconnected from +24V.
248

--- Page 263 ---
Appendix Description with GR+GL200 (RJ45)
Table
switches
tenes) [Normally closed contact_|
switches
pes corer
double switch
double Switch
switches
closed contact_|
switch
[ery corer
switches
Pes ren erat [Nema
[Nema
[212 ose inact
sop ante pete)
[a0
[as
Perf pec
mean
Gtr Parameter
249

--- Page 264 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
selection
(X4.0-X4.7) Spindle 1st gear place Normally open contact
Spindle 2nd gear place Normally open contact
Spindle 3rd gear place Normally open contact
CCS
区 Safety gate detector switch Normally open contact
CCS
CSCS
Output address definition
The output signal has total points.
Note: When the output function valid, the output signal OV. When the output function invalid, the output
signal high impedance cutoff.
Table
Z-axis brake
和
yo2 Tool loosening and tightening
Skip signal toggle selection
voo-vo7) Spindle brake
Yo5 Workpiece measurement probe
vos Red alarm light
vor Yellow light
Green
Control chip removal
Lubrication control
Machine tool lighting control
(Y10-Y17) Hydraulic starting
YI4 MO7/M09 air cooling
YI5 Indexing table release
Indexing table clamping
vr] Seen
Tool Blowing
wa0Y27) Reversing rotation chip removal
250

--- Page 265 ---
Appendix Description with GR+GL200 (RJ45)
[yes shane
Cool
(30737) [yaa Spe Tat Peavey
[Yas Seine ane ear pont cone)
ger eorversin pit onan)
res
vas
rene
Y50Y57) Y53 [Undefined
undefned
Y65 undefned
[defined
IV. Spindle Interface Definition (44-Hole Socket)
251

--- Page 266 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual
SPINDLE (44-hole socket)
PA- 16: PA+ 31; C_VCMD+
PB- 17: PB+ 32: GND
pz- 18: PZ+ 33: SIGN+
PULS1- 19: PULS1+ 34: SIGN-
SAR 20: ZSP 35: GND
PULS2+ 21: COIN 36: GND
AxisALM 22: PULS2- 37: +24V
SIGN2+ 23: GND 38: +24V
SFR 24: SON 39: +24V
10: SPO 25: SRV 40: SIGN1-
11: STAO 26: +5V 41: SIGN1+
12: 27: ZSL 42: PULS+
.27 13: SIGN2- 28: PULS- 43:
14: A.VCMD+ 29: AxisALM1 44: VPO
15: GND 30: GND
“44
30°
Spindle interface definition
Table
analog voltage output
O0V~10V -10V~10V (determined parameter
vem spindle analog votage ouput
OV~10V -10V~10V (determined parameter)
spinateanetog vottage output
Encoder feedback signal
16, 17, PA+, PB+, PZ+ Encoder feedback signal
First spindle pulse differential signal output
Fr! spl ple crecon ferent signa
Secon phe use cferntal signal cuut
Second spn use decton sna
252

--- Page 267 ---
Appendix Description with GR+GL200 (RJ45)
Third spindle pulse differential signal output sora
Spindle encoder power supply +5V voltage AxisALM1 Second spindle alarm input
sei
sre ton
eat
switch completion
con Spindle orientation completion signal X6.6
Sore shes
Note: This input valid when the input signal connected with +0V. This input invalid when the input signal
disconnected from +0V.
When the output function valid, the output signal OV. When the output function invalid, the output
signal high impedance cutoff.
With GR3000 bus servo spindle
The first spindle slave station (assigned slave) set corresponding the
PA156 number the GR3000 drive.
Note: Whenthe designated sive set to0. the non bus spndersenabled.
DATA 500080 T0101
@9: 59:
253

--- Page 268 ---
32: GSK218MC Machining Center CNC System PLC and Installation Connection Manual 己 254
With non-bus servo spindle ordinary variable frequency spindle
The first spindle slave station (assigned slave) set
|e}
[af
jaro
Note. When the desgreted daveis 0.the spndes
DATA 880900 T2101
53:

--- Page 269 ---
Appendix Description with GR+IOR-44T
Appendix Description with GR+IOR-44T
Correct Connection
IOR 44T
GR2000 GR2000 GR2000 CR3000
双生 下
Fame ie:
Fea “yan
之
了
三
ath
son
Note: loop going out from the system bus passing the drive I/O, and then returning the system bus
Relevant Parameters
Drive parameters
255

--- Page 270 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
The parameters below must correctly set the servo unit build Ethernet communication with the CNC system.
Relevant Applicable
parameters Name Unit Parameter range Default value method
EEC
There might more than one servo unit having bus communication with the CNC system. Set the serve
slave number corresponding the CNC system facilitate CNC’s control serve unit. result,
repeated serve slave numbers cannot set for the serve units the same CNC system.
Note: When three drives are provided, the values PA156 number shall set and particular
order;
When four drives are provided, the values PA156 number shall set and particular order, and
on.
System parameters
The (assigned slave) XYZ-axis set values the slave station setting the bus configuration
correspond the drive PA156.
neo paces
ete
[zo
unit, 100 Type Out
由
The assigned slave the slave station setting the bus configuration set the
interface above.
Ill. With GR3000 Servo Spindle
256

--- Page 271 ---
Appendix Description with GR+IOR-44T “ll 和 [we Yaw [af the number the spinde diver PA156
IV. UNIT lIOR-44T
四
Input power
The input power and 24V.
Schematic diagram
IOR-44T power box wire red
green three-position plug
Strand wire
IOR-44T Power box
Green thrce-position plug yoke, with sheath
Input and output terminals
257

--- Page 272 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual {x1
+24v_| +24v +24v 三 [v2
x.0 二 [Ya ¥.3
之 [xd Siva
Stee
mam
+24v_| +24v +24v_| +24v
x.0 FFYo
¥.3
SHY5
24vcont
Output terminal
Exo
个
x.7
Input terminal
全
Input address definition
The input signal has total points, and the I/O unit inputs corresponding the
X5.
Note: This input valid when the input signal connected with +24V. This input invalid when the input signal
disconnected from +24V.
Table
Contact selection
1st axis limit signal (positive direction with double Normally closed contact
switches
1st axis negative limit signal (valid with double
switches Normally closed contact
2nd axis limit signal (positive direction with
x02 double switch Normally closed contact
Input 2nd axis negative limit signal (valid with double Normally closed contact
switches
CN66 3rd axis limit signal (positive direction with
(X0.0-X0.7) x04 double switch Normally closed contact
3rd axis negative limit signal (valid with double Normally closed contact
switches
x06 4th axis limit signal (postive direction with double Normally closed contact
4th axis negative limit signal (valid with double Normally closed contact
switches
258

--- Page 273 ---
Appendix Description with GR+IOR-44T
_Normay dosed
[areas return dosed conact_|
zero retin anal _Nomay dosed contact
ipa? [x3 deeteraton sonal Nomaly cose
stop switn closes
_Narmaly open
eeanois _Narmaly ope
open
x20 pressure deecion ope
[x25 orpressue sural open contest
[x22 ope
[x23 ale tring detecton open
[24 External open contact
[x25 open
Clamping _Narmay open contest
open const
open
iat [us
xuan
conveyer
[Sine Narmaly
Spine 2nd
ious pen coract_|
x45 _Narmaly open
和
[zs
self
Output address definition
259

--- Page 274 ---
GSK218MC Machining Center CNC System PLC and Installation Connection Manual
The output signal has total points, and the I/O unit outputs corresponding the
system's Y3.
The system’s and output points are defined accordance with K22.2 and K22.3.
Note: When the output function valid, the output signal OV. When the output function invalid, the output
signal high impedance cutoff.
Table
和
[wa
[vos
[vor
Output2 Machine toollighting control
movin [va
三 Reversing rotation ofchipremoval
[re
CN74
[yes
[ves
[al
CN75
[vas ger pat
Stile ear reaveny pit
260