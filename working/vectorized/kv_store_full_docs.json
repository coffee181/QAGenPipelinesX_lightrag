{
  "01-GSK 27i高端多通道数控系统 20250226": {
    "content": "址：广州市黄埔区观达路22号编：510530\n\n数控系统营销中心\n\n销售热线：（020)81990819/(020)81986922\n\n传真：（020）81993683\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox7681544996_1624.jpg\" alt=\"Image\" width=\"9%\" /></div>\n\n高端多通道数控系统GSK 27i系列\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox595651144_533.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox5805591128_1038.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox58410971121_1437.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n磨齿机机床 重庆机床YS7232\n\n应用领域\n\n适用于汽车制造、船舶制造、风力发电、矿山机械、钢铁冶金等领域；用于加工汽车变速箱、差速器、传动轴等齿轮零部件；广泛应用于船舶制造行业，用于加工船舶的传动系统齿轮；风力发电设备中的齿轮传动系统也是磨齿机的重要应用领域。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox0560542_1036.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox01093542_1437.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox13986302380_1483.jpg\" alt=\"Image\" width=\"40%\" /></div>\n\nGSK27i系列高端多通道数控系统\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox373332673_800.jpg\" alt=\"Image\" width=\"12%\" /></div>\n\n<div style=\"text-align: center;\">17寸屏黑晶面板</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox39247296_797.jpg\" alt=\"Image\" width=\"10%\" /></div>\n\n<div style=\"text-align: center;\">21寸全触屏</div>\n\n产品概述\n\nGSK27i是面向多通道、多轴联动、复合、高精、高效加工的新一代高端数控系统平台，全新设计的软硬件平台能满足复杂、精密、智能化设备的加工要求，性能出众、精准可靠、操作宜人，可适用车削、铣削、磨削、齿轮、机器人等多种数控设备。\n支持多客户端显示、4通道32轴控制；\n\n高速高精，复杂曲面加工有效速度8m/min，最佳加工速度4m/min，最小进给量0.001um：\n支持通道间轴同步控制、混合控制、重叠控制；\n\n支持跨通道正副主轴位置同步和速度同步控制；\n\n具有前瞻功能，插补预处理段数高达1000段，速度快、精度高、光洁度好；\n\n支持PLC在线编辑、编译、信号跟踪功能；扩大PLC的程序容量，高达8000步；\n\n支持USB、RJ45通信接口，实现文件传输、DNC加工，USB在线加工；\n支持GSK-Link以太网总线功能，连接方便，扩展性强；\n支持25位绝对式编码器，精度高，免回零，可实现全闭环控制：\n具备手脉试切和手轮回退功能；\n支持斗签式、圆盘式、伺服刀库等多种刀库；\n具备电子齿轮箱（EGB）功能；\n多主轴刚性攻丝功能；\nRTCP刀轴方向、刚性攻丝、电子齿轮箱等安全回退功能；\n支持语句式宏程序（宏B），编程更加简洁；\n具有刚性攻丝跟随误差诊断界面以及波形显示界面；\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox7583341039_797.jpg\" alt=\"Image\" width=\"11%\" /></div>\n\n<div style=\"text-align: center;\">15寸屏独立式按键</div>\n双驱同步及平行轴；\n五轴刀具旋转中心编程（RTCP）；\n切削进给法向控制；\n智能化车间；\n极坐标插补功能；\n圆柱插补功能；\n垂直度补偿；\n螺纹切削；\n力矩控制；\n多路径控制；\n端面铣削转换；\n柱面转换；\n斜轴转换；\n倾斜轴；\n支持智能防碰撞检测功能；\n人-机-信息融合数字系统；\n支持在线圆度测试与分析，快速完成圆度分析帮助完成圆度调试工作；+支持密码安全中心功能，可对用户数据进行加密及权限管理，保障用户数据安全。\n\n技术特点\n\n新一代硬件\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12993322381_1501.jpg\" alt=\"Image\" width=\"44%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox01111110_541.jpg\" alt=\"Image\" width=\"45%\" /></div>\n\n擦补偿功能\n\n适应摩擦补偿功能，在不同加速度下，也能消除进给轴换向时的痕迹\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox06861129_1027.jpg\" alt=\"Image\" width=\"46%\" /></div>\n\n动抑制功能\n\n测机械共振点频率，消除共振振动和噪声\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginchartbox01152533_1476.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginchartbox58711521123_1479.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n具备自动惯量识别功能、一键自动参数整定功能、支持32级刚性等级设定、25bit高分辨率编码器。\n\n适配直线和力矩电机\n\n<div style=\"text-align: center;\">零传动间隙直接驱动，具有速度高、精度高、响应快的优势。</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12822611821_445.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox18732622322_441.jpg\" alt=\"Image\" width=\"18%\" /></div>\n\n高精度主轴定位选型推荐配置\n\nGSK27i系列产品配套机械式主轴和高精度电主轴的方案成熟、多样，客户可根据需求选择配置。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12886142414_903.jpg\" alt=\"Image\" width=\"46%\" /></div>\n\nI /O单元设备\n\nGSK27i系列产品配套IOR系列I/O单元，IOR系列I/O单元共有3款型号。\n\n<div style=\"text-align: center;\"><html><body><table border=\"1\"><tr><td>型号</td><td>IOR-04T</td><td>IOR-44T</td><td>IOR-44F</td></tr><tr><td>外观</td><td></td><td>中</td><td></td></tr><tr><td>配置</td><td>48点输入/32点输出 低电平输出 无模拟电压输出接口</td><td>48点输入/32点输出 低电平输出 4路0~10V模拟电压输出</td><td>48点输入/32点输出 高电平输出 4路0~10V模拟电压输出</td></tr><tr><td>尺寸 （宽x高x深）</td><td>90.2mm×305mm×80mm</td><td>90.2mm×305mm×80mm</td><td>90.2mm×305mm×80mm</td></tr></table></body></html></div>\n\n速高精加工\n\n高精，复杂曲面加工有效速度min，最佳加工速度4m/min；前瞻功能，预处理段数高达1000速度快、精度高、光洁度好；时间缩短5%-30%，进给速高越明显。\n\nM程序自动优化\n\n多种CAM软件生成的加工程自动优化，去除垃圾点，优刀路，提升加工效果。\n\n大的多通道功能\n\n通道配置：\n\n道数：最大支持4通道\n\n道轴数：每通道最大支持8个轴\n\n道主轴数：每通道最大支持4个主轴\n\n通道内轴配置互换，通道之间轴配置互换）\n\n现GSK-Link总线支持32从站以上功能；\n\n最大支持32个从站设备连接及控制。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox01121078_502.jpg\" alt=\"Image\" width=\"44%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox6965731087_820.jpg\" alt=\"Image\" width=\"16%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox55012091086_1561.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n适配多种结构五轴机床\n\n具备八轴五轴联动、倾斜面（3+2定位）加工，满足客户对各种多轴控制需求和提高曲面表面质量。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12552532403_619.jpg\" alt=\"Image\" width=\"47%\" /></div>\n\n<div style=\"text-align: center;\">各种类型的五轴机床结构MEN </div>\n\n五 轴RTCP\n\n基于轨迹与速度规划算法实现高速、高精度插补控制；+采用B样条对刀具中心点路径进行转角光顺，效率更高精度更好\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12518382415_1582.jpg\" alt=\"Image\" width=\"48%\" /></div>\n\n丰富的总线连接\n支持GSK-Link以太网总线，多种连接方式；+支持光纤长距离通讯，最长达到1000米。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox7227540_549.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n刀削进给法向控制\n\n削过程中有旋转轴的刀具在XY平面上移动时，法线方向控制功能以控制旋转轴，从而达到刀具始终朝着与刀具垂直的方向移动。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox17748527_1071.jpg\" alt=\"Image\" width=\"21%\" /></div>\n\n又驱同步及平行轴\n\n双驱同步控制：用一个轴指令实现双轴（或多轴）同步传动；平行轴功能：通过指令切换使其与基本轴具备相同属性暂时替代基本轴控制进行切削。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox1111285412_1570.jpg\" alt=\"Image\" width=\"12%\" /></div>\n\n自动对刀功能\n可配置高速相应IO点；\n\n<div style=\"text-align: center;\">+刀具测量：可适配测量高度及直径对刀仪。</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox5742271108_560.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n刚性攻丝回退\n\n在攻丝过程中异常中断，可执行刚性攻丝回退；可有效的避免刀具、工件的损坏。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox5737371103_1078.jpg\" alt=\"Image\" width=\"21%\" /></div>\n\n力矩控制\n进行轴的力矩模式控制，实现尾座顶紧等功能；+任意进给轴切换成扭矩轴，扭矩检测设定值灵活设置。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox57312771096_1585.jpg\" alt=\"Image\" width=\"21%\" /></div>\n\n高速刚性攻丝\n刚性攻丝回退倍率可灵活设置；\n大幅度提升刚性攻丝效率；\n在多主轴控制时，可通过选择需要刚性攻丝的主轴的选择信号，确定需要用于刚性攻丝的主轴。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginchartbox12712631807_612.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\">高速刚性攻丝</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox18562632401_615.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\">多主轴刚性攻丝</div>\n\n垂直度补偿\n可进行三个平面XY、ZX、YZ的垂直度补偿；\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12667561804_1096.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\">垂直度不好导致圆度不好</div>\n\n<div style=\"text-align: center;\">用于补偿垂直度引起的偏差，提升机床的控制精度。</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox18537592411_1099.jpg\" alt=\"Image\" width=\"23%\" /></div>\n\n<div style=\"text-align: center;\">使用垂直度补偿后的圆度效果</div>\n\n极坐标插补功能\n\n极坐标插补是一种轮廓控制，它把在笛卡尔坐标系内的编程指令转换为直线轴的移动(刀具的移动)和旋转轴的移动(工件的旋转)，这种方法可用于凸轮轴的磨削。例如：基于X轴（直线轴)和假想轴的笛卡尔坐标中的极坐标插补程序。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox126112801807_1598.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox194612952337_1605.jpg\" alt=\"Image\" width=\"16%\" /></div>\n\n三 维圆弧插补\n\n通过指定圆弧的中间点和终点，可以在三维空间上进行圆弧插补。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox356711126_466.jpg\" alt=\"Image\" width=\"31%\" /></div>\n\n圆柱插补\n\n<div style=\"text-align: center;\">回转轴转换为直线轴的距离；方便圆柱体的展开面编程；</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox0675547_1037.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\">+实现圆柱凸轮槽之类的零件加工。</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginchartbox5956821118_987.jpg\" alt=\"Image\" width=\"21%\" /></div>\n\n螺纹切削\n\n固定循环G指令编程，简单快捷；等螺距螺纹、变导程螺纹和多头螺纹等多样化。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox01213542_1571.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox59012211101_1566.jpg\" alt=\"Image\" width=\"21%\" /></div>\n\n倾斜轴控制\n\n<div style=\"text-align: center;\">+编程坐标系和机械坐标系；倾斜轴和正交轴之间的关系。</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12842301823_584.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox18812392392_545.jpg\" alt=\"Image\" width=\"21%\" /></div>\n\n跨通道正副主轴位置同步和速度同步控制\n\n主轴同步功能可使主主轴（FS)和副主轴（LS）以设定的转速比同步运行。该功能具有以下模式：\n转速同步(nFS=nLS)\n位置同步(ΦFS=ΦLS)\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12838301821_1189.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox18738342415_1185.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox128112181820_1575.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox187312252414_1580.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n人性化总线配置\n通过GSK-Link实现所有进给轴、主轴和I/O单元连接；+专用总线配置界面，可快速配置从站设备。\n\n<div style=\"text-align: center;\">从站设置页面</div>\n\n对话式编程\n\n基本运动指令以图形化的格式进行封装，运用提示和填空步骤，提供菜单对话式的编程方法。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox0625536_996.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\"><html><body><table border=\"1\"><tbody><tr><td colspan=\"3\">MDI</td><td>通道1</td><td colspan=\"3\">1/10</td><td>10:06:21 000002.TXT</td></tr><tr><td colspan=\"7\">000002.TXT</td><td></td></tr><tr><td colspan=\"7\">矩形阵列孔</td><td>绝对坐标 X{ 4.9964mmX Y1 0.0167mmY Z{ 64.9883mmZ</td></tr><tr><td colspan=\"7\">00←0←0←0 K-4 000 000④ ④①→O (X.Y) - P=5</td><td></td></tr><tr><td colspan=\"7\"></td><td></td></tr><tr><td colspan=\"7\"></td></tr><tr><td colspan=\"3\">工件坐标系（G54） 主轴转速（S）</td><td colspan=\"3\">54.0000</td></tr><tr><td colspan=\"3\"></td><td colspan=\"3\"></td></tr><tr><td colspan=\"3\">1000.0000孔底暂停时间（MS</td><td colspan=\"3\">1000.0000 2.0000</td></tr><tr><td colspan=\"3\">高度补偿号（H 钻孔加工类型G81 孔起点坐标值00</td><td colspan=\"3\">1.0000 81.0000</td></tr><tr><td colspan=\"3\">10.0000 10.0000 5.0000</td><td colspan=\"3\"></td></tr><tr><td colspan=\"3\">-100.0000 -100.0000</td><td colspan=\"3\">返回</td></tr><tr><td colspan=\"7\">孔起点坐标值（Y) 孔底绝对坐标值（Z） A平面值（R)</td></tr><tr><td>-20.0000 Y方向孔个数（K） 4.0000 5.0000</td><td>-20.0000 5.0000</td><td></td><td>客户</td><td></td><td></td><td></td><td></td></tr></tbody></table></body></html></div>\n\n智能总线连接诊断\n\n持总线诊断功能，可快速定位总线连接故障位置\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox01193527_1579.jpg\" alt=\"Image\" width=\"21%\" /></div>\n\n圆度误差分析\n\n通过圆度误差分析，可通过采集圆弧运行时数据，快速分析各平面圆度误差，帮助调试人员进行圆度调试。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox57711981104_1585.jpg\" alt=\"Image\" width=\"21%\" /></div>\n\n智能主轴负载自适应\n根据主轴负载大小自动调节进给倍率；+恒功率切削，缩短加工时间，提高加工效率。\n\n密码安全中心\n\nGSK 厂州数控\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox1858952394_410.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\">主轴负载自适应</div>\n用户可通过UKey进行权限的注册和管理，身份唯一；可防止密码泄露导致系统数据被恶意篡改；+通过导入使用证书对用户数据进行加密，加密文件只能通过对应的UKey进行解密，防止数据泄漏。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12826421808_1047.jpg\" alt=\"Image\" width=\"21%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox18506452391_1043.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n智能防碰撞检测\n采用深度神经网络DNN算法实现机床实时碰撞检测功能；\n算法采用四层网络结构，在任意进给速度下机床主轴与加工台碰撞后30ms内的急停报警效果。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox126612051809_1591.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\">模型结构图</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox186112162408_1598.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n<div style=\"text-align: center;\">防碰撞检测功能</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox371671159_1399.jpg\" alt=\"Image\" width=\"46%\" /></div>\n\n基于自主研发的智能制造核心技术装备和工业软件，应用新技术，能构建“数字化/智能化工厂”整体解决方案智能化车间管理（2）使任意的轴的移动与属于同一路径的其他任意的轴同步；\n混合控制\n\n（1）使任意的轴的移动与属于其他路径的任意的轴同步；+同步控制通过多路径控制中的同步控制、混合控制和重叠控制功能，可在路径间以及同一路径内执行同步控制、混合控制和重叠控制。通道间轴控制\n\n<div style=\"text-align: center;\">技术规格</div>\n\n<div style=\"text-align: center;\"><html><body><table border=\"1\"><tbody><tr><td>名称</td><td colspan=\"4\"></td></tr><tr><td>通道控制功能</td><td colspan=\"4\">规格</td></tr><tr><td></td><td colspan=\"4\"></td></tr><tr><td>通道数量</td><td colspan=\"4\">4个通道</td></tr><tr><td>最大控制轴数</td><td colspan=\"4\">8个进给轴加4个伺服主轴(单个通道）</td></tr><tr><td>联动轴数</td><td colspan=\"4\">5轴联动（单个通道）</td></tr><tr><td>PLC轴控制轴数</td><td colspan=\"4\">最多4轴(单个通道)</td></tr><tr><td>进给轴同步控制</td><td colspan=\"4\">最多4组（单个通道）</td></tr><tr><td>位置检测装置</td><td>脉冲编码器（绝对式）、光栅尺（绝对式）</td><td></td><td></td><td></td></tr><tr><td rowspan=\"3\">最小指令单位</td><td>最小指令单位IS-B</td><td>0.001mm</td><td>0.0001inch</td><td>0.001°</td></tr><tr><td>最小指令单位IS-C</td><td>0.0001mm</td><td>0.00001inch</td><td>0.0001°</td></tr><tr><td>最小指令单位IS-B</td><td>0.001mm</td><td>0.0001inch</td><td>0.001°</td></tr><tr><td>最小检测单位</td><td>最小指令单位IS-C</td><td>0.0001mm</td><td>0.00001inch</td><td>0.0001°</td></tr><tr><td>最大指令值</td><td colspan=\"4\">±99999.9999inch ±999999.9999° ±999999.9999mm</td></tr><tr><td>最大进给速度</td><td colspan=\"4\">最大进给速度200m/min</td></tr><tr><td>自动加减速</td><td colspan=\"4\">插补前直线、S曲线加减速、加加速度控制</td></tr><tr><td>高速高精度加工</td><td colspan=\"4\">具有前瞻功能，插补预处理段数高达1000段</td></tr><tr><td>五轴控制功能</td><td colspan=\"4\"></td></tr><tr><td>RTCP功能</td><td colspan=\"4\">刀具中心点控制</td></tr><tr><td>倾斜面加工 五轴定位（3+2）加工</td><td colspan=\"4\"></td></tr><tr><td>编程功能</td><td colspan=\"4\">ISO指令标准，程序名：O+5位数，段号N+5位数G+3位数、坐标值IP±小数点前6位后4位、</td></tr><tr><td>程序格式</td><td colspan=\"4\">S+5位数、T+3位、M+3位数、F+小数点前6位后4位</td></tr><tr><td>插补功能</td><td colspan=\"4\">定位、直线插补、圆弧插补、圆柱面插补、极坐标</td></tr><tr><td>工件坐标系 刀具补偿</td><td colspan=\"4\">基本坐标系G54~G59、附加扩展坐标系（G54P1-50）50组</td></tr><tr><td></td><td colspan=\"4\">C刀补功能、255组刀具补偿 固定循环、面铣、坐标系旋转、比例缩放、镜像、刀具长度自动测量、刀具中心点控制、倾斜面加</td></tr><tr><td>编程功能</td><td colspan=\"4\">工指令，子程序调用级数为4级，B类用户宏程序</td></tr><tr><td>程序存储</td><td colspan=\"4\">程序存储容量为4800M，程序存储数量为9999个 G27返回参考点检查；G28返回参考点；</td></tr><tr><td>参考点功能</td><td colspan=\"4\">G29从参考点返回；G30返回第2、3、4参考点</td></tr><tr><td>跳过功能 可编程控制功能</td><td colspan=\"4\">G31跳过功能，用于刀具和工件测量 可编程行程极限（G22、G23）、可编程数据输入（G10）</td></tr><tr><td>操作功能与显示功能</td><td colspan=\"4\"></td></tr><tr><td>运行方式选择 自动、MDI、编辑、手动、手脉、回零、DNC</td><td colspan=\"3\"></td><td></td></tr><tr><td></td><td colspan=\"4\">单段、跳段、机床锁住、辅助功能锁、选择停、空运行、再启动、急停、超程释放、循环启动、进</td></tr><tr><td>开关操作</td><td colspan=\"4\">给保持、手动连续进给、单步进给、快速进给、刚性攻丝回退、手脉试切、主轴倍率、进给倍率、 快速倍率</td></tr><tr><td>设定操作</td><td colspan=\"4\">刀具长度补偿测量输入，工件偏置测量输入、参数设定、伺服参数设定</td></tr><tr><td>程序操作</td><td colspan=\"4\">新建、编辑、删除、重命名、搜索、复制、拷贝、粘贴、读入、传出、后台编辑、图形仿真</td></tr><tr><td>帮助功能</td><td colspan=\"4\">报警信息解释、操作说明、参数说明、宏指令说明、G代码指令说明、PLC地址说明</td></tr><tr><td>显示</td><td colspan=\"4\">15英寸、17英寸、18.5英寸、21英寸LCD显示器，状态显示、时钟、加工时间、运行时间、加工件 数、模态信息、实际速度、硬件软件版本、梯形图、报警信息、诊断信息、报警履历、操作履历显示</td></tr></tbody></table></body></html></div>\n\n<div style=\"text-align: center;\"><html><body><table border=\"1\"><tbody><tr><td>规格</td><td colspan=\"2\">名称</td></tr><tr><td colspan=\"3\"></td></tr><tr><td>辅助功能</td><td colspan=\"2\"></td></tr><tr><td>M功能</td><td colspan=\"2\">M3位数代码、多M代码指令、M代码调用宏程序、子程序。</td></tr><tr><td>T功能</td><td colspan=\"2\">T3位数</td></tr><tr><td colspan=\"3\">S功能</td></tr><tr><td>精度补偿功能</td><td colspan=\"2\"></td></tr><tr><td>反向间隙补偿</td><td colspan=\"2\">快速进给和切削进给分开补偿</td></tr><tr><td colspan=\"3\">螺距补偿</td></tr><tr><td>通信和数据输入输出接口功能</td><td colspan=\"2\"></td></tr><tr><td>数据接口功能</td><td colspan=\"2\">以太网、USB，通过接口可实现数据传输、DNC和网络功能</td></tr><tr><td rowspan=\"4\">网络功能</td><td colspan=\"2\">以太网通信、网络DNC、远程监控、远程诊断、远程维护</td></tr><tr><td colspan=\"2\">I/O接口</td></tr><tr><td colspan=\"2\">IOR-44T接线端子式模拟I/ODI/DO:48/32AO：4路，O~10V</td></tr><tr><td colspan=\"2\">IOR-44F排线插接式模拟I/ODI/DO：48/32AO：4路，O~10V</td></tr><tr><td>最大扩展点数DI/DO:1024点/1024点</td><td colspan=\"2\"></td></tr><tr><td>伺服驱动接口</td><td colspan=\"2\">GSK-Link以太网总线接口</td></tr><tr><td colspan=\"3\">全闭环接口</td></tr><tr><td rowspan=\"12\">PLC功能</td><td colspan=\"2\"></td></tr><tr><td>PLC规格</td><td>内置PLC，梯形图编程，在线动态显示 扫描周期8ms，基本指令执行时间0.5us/步， 最大程序步数8000步。</td></tr><tr><td>中间继电器（R）</td><td>990个字节（R0到R990）</td></tr><tr><td>数据寄存器（D）</td><td>256个字（D0到D255）</td></tr><tr><td>计数器（C）</td><td>128个字（CO到C127）</td></tr><tr><td>定时器（T）</td><td>128个字（TO到T127）</td></tr><tr><td>固定定时器（TB）</td><td>128个字（TB0到TB127）</td></tr><tr><td>PLC报警(A)</td><td>64个字节（AO到A63)</td></tr><tr><td>保持型继电器（K）</td><td>64个字节（K0到K63)</td></tr><tr><td>跳转标号（L）</td><td>0-99</td></tr><tr><td>子程序标号（P）</td><td>0-99</td></tr><tr><td colspan=\"3\">安全与维护功能</td></tr><tr><td>安全功能</td><td colspan=\"2\">紧急停止、硬限位、第一软限位、第一软限位Ⅱ、第二软限位、NC报警、PLC报警、伺服报 警、伺服断开、互锁、密码安全中心</td></tr><tr><td>维护功能</td><td colspan=\"2\">操作履历、报警履历、加工履历、系统状态、总线诊断、系统数据备份恢复、伺服参数设置与伺 服负载及状态监视。</td></tr></tbody></table></body></html></div>\n\n安装尺寸\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox191371036_827.jpg\" alt=\"Image\" width=\"42%\" /></div>\n\n<div style=\"text-align: center;\">GSK27i（17寸全触屏）安装尺寸</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox289121039_1612.jpg\" alt=\"Image\" width=\"41%\" /></div>\n\n<div style=\"text-align: center;\">GSK27i（竖式15寸屏）安装尺寸</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox13511892333_814.jpg\" alt=\"Image\" width=\"40%\" /></div>\n\n<div style=\"text-align: center;\">高端机床配套应用案例</div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12929781904_1317.jpg\" alt=\"Image\" width=\"25%\" /></div>\n\n应用效果\n使用GSK27i数控系统控制，5轴联动控制，旋转轴圆光栅闭环控制；+实现密码安全中心功能，防止数据泄漏；+实现数字化车间管理，缩短工件生产时间，提高生产效率。\n\n<div style=\"text-align: center;\">五轴联动机床 天润TRCNC-YK1250B 应用需求 </div>\n\n实现内燃机动力零部件（曲轴、连杆、铸锻件）精加\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox194812182414_1527.jpg\" alt=\"Image\" width=\"19%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox093490_631.jpg\" alt=\"Image\" width=\"20%\" /></div>\n\n用效果\n\n此案例使用GSK27i数控系统控制，\n\n配套数控工具磨床，定制开发刀具磨床界面，实现4通道（通道内轴配置互换），\n最大20个轴数；\n成直径210mm的刀，起到节约材料的作用；\n在刀具检测界面中输入各轴的探测起点及工艺数据，系统自动控制机床探针运动测量；\n在刀具检测界面中输入加工参数，系统自动生成加工程序，节省手动编程时间，缩短工件生产时间，提高生产效率。\n\n加工成品\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox01143547_1509.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n四 通道多工位高效精密机床戴傑B2000\n\n应用需求\n\n实现加工圆柄类工具，如：整体铣刀、IT刀具、木工刀具、医疗工具、钻头和铰刀等孔加工刀具的加工。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox5915751096_997.jpg\" alt=\"Image\" width=\"20%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox58111411109_1510.jpg\" alt=\"Image\" width=\"21%\" /></div>\n\n应用效果\n支持双通道同步车削；\n最大支持4通道，每通道最大支持8个轴通道主轴数，每通道最大支持4个主轴；\n五轴RTCP功能；\n带力矩控制的固定点停止功能；\n端面铣削转换、柱面转换、斜轴转换、定向转换及相互级联；+主轴速度及位置同步；\n通道间程序同步；\n跨通道取进给轴/主轴，通道内轴配置互换，通道之间轴配置互换；\n滚齿方式铣削齿轮（电子齿轮箱）；\n实现GSK-Link总线支持32从站以上功能：最大支持32个从站设备连接及控制。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox125511462414_1564.jpg\" alt=\"Image\" width=\"47%\" /></div>\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox12721802031_562.jpg\" alt=\"Image\" width=\"31%\" /></div>\n\n九 轴五联动车铣复合大连机床B70ST\n\n支持双通道同步车削；\n\n五轴RTCP功能；\n\n最高可实现4通道、4主轴；\n\n中通道1配备双刀仓、主仓80刀位、副\n\n仓6刀位。\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox18686752405_1059.jpg\" alt=\"Image\" width=\"22%\" /></div>\n\n适用于汽车、模具、造船、机电、机床、印刷、轻纺等各种机械制作业；主要用于中小型零件、模具等多种加工，工件一次装夹后自动高效、高精度的连续完成统、钻、锋、较等多侧面、多工序的加工，加工实现程序化，缩短了生产周期，从而使用户获得良好的经济效益。\n\n高速高精卧式加工中心青岛云科SH50\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox1301712415_801.jpg\" alt=\"Image\" width=\"46%\" /></div>\n\n有荣喜力XH2519型立式定梁数控龙门加工中心是一款具有高刚性的结构设计、可靠的精度稳定性及保持性的机床。广泛应用于机械制造行业各种板类、箱体类、机架类等复杂零件的粗、精加工",
    "file_path": "D:\\QAGenPipelinesX_lightrag\\working\\processed\\01-GSK 27i高端多通道数控系统 20250226.txt",
    "create_time": 1767180057,
    "update_time": 1767180057,
    "_id": "01-GSK 27i高端多通道数控系统 20250226"
  },
  "01-宝鸡机床VMC850L": {
    "content": "热卖爆款名优产品质量稳定\n\n机床整体结构采用树脂砂型铸造，箱形结构，厚壁多筋，并经多道应力消除工序，使得机床具有良好的刚性；\n\n·整机针对高速、高刚性专门设计，主轴最高转速达800Or/min，X/Y采用滚珠线轨，Z轴超宽硬轨，XY轴快速移动达24m/min，Z轴快速移动15m/min；采用配重平衡系统，机床高速动态稳定性好；\n\n主轴锥孔及工作台面的淬火等方面拥有专有技术，保证了其硬度和精度稳定性；\n\n加工中心关键零件和出厂精度均由美国布朗·夏普BROWN&SHARPE 三坐标测量和英国雷尼绍RENISHAW双频激光干涉仪严格检测，对其进行全面检验，确保机床几何精度和工作精度。\n\n经典 热销CLASSIC HOTSELLING 销售热线—020-81995926—（数控机床）\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox122502450_1643.jpg\" alt=\"Image\" width=\"50%\" /></div>\n\n宝鸡机床 VMC850L COMMAND THE FUTURE\n\n<div style=\"text-align: center;\"><img src=\"imgs/imginimagebox472711130_1109.jpg\" alt=\"Image\" width=\"44%\" /></div>",
    "file_path": "D:\\QAGenPipelinesX_lightrag\\working\\processed\\01-宝鸡机床VMC850L.txt",
    "create_time": 1767180625,
    "update_time": 1767180625,
    "_id": "01-宝鸡机床VMC850L"
  },
  "2015-12-18 English GSK988MA-GSK988MB系列加工中心数控系统 编程操作使用手册": {
    "content": "I \n In this user manual we have tried to describe the matters \nconcerning the operation of this CNC system to the greatest extent. \nHowever, it is impossible to give particular descriptions for all \nunnecessary or unallowable operations due to length limitation and \nproducts application conditions；Therefore, the items not presented \nherein should be regarded as “impossible” or “unallowable”. \n \n \n \n \n \n \n \n \n Copyright is reserved to GSK CNC Equipment Co., Ltd. It is \nillegal for any organization or individual to publish or reprint this manual. \nGSK CNC Equipment Co., Ltd. reserves the right to ascertain their \nlegal liability. \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \nII \n \nPreface \nYour Excellency,    \nWe are honored by your purchase of this GSK 988MA/MB Milling CNC \nSystem made by GSK CNC Equipment Co., Ltd. \nThis \nbook \ndescribes \nGSK988MA/MB \nMilling \nCNC \nSystem, \nProgramming and Operation, and concretely introduces the programmings \nand operations. \nTo ensure safe and effective running, please read this manual \ncarefully before installation and operation. \n \n \nWarning \n Accident may occur by improper connection and operation！\nThis system can only be operated by authorized and qualified personnel. \n \nSpecial caution: \nThe power supply fixed on/in the cabinet is exclusively used \nfor the CNC system made by GSK.  \n \nIt can't be applied to other purposes, or else it may cause \nserious danger!\n\n\nCautions \nIII \nCautions \n■ Delivery and storage  \n Packing box over 6 layers in pile is unallowed. \n Never climb the packing box, stand on it or place heavy objects on it. \n Do not move or drag the products by the cables connected to it.  \n Forbid collision or scratch to the panel and display screen. \n Avoid dampness, insolation and drenching. \n■ Open-package inspection \n Confirm that the products are the required ones. \n Check whether the products are damaged in transit. \n Confirm that the parts in packing box are in accordance with the packing list. \n Contact us in time if any inconsistence, shortage or damage is found. \n■ Connection \n Only qualified personnel can connect the system or check the connection. \n The system must be earthed, and the earth resistance must be less than 0.1Ω. \nThe earth wire cannot be replaced by zero wire. \n The connection must be correct and firm to avoid any fault or unexpected \nconsequence. \n Connect with surge diode in the specified direction to avoid damage to the \nsystem. \n Switch off power supply before plugging out or opening electric cabinet. \n \n■ Troubleshooting  \n● Switch off power supply before troubleshooting or changing components. \n● Check the fault when short circuit or overload occurs. Restart can only be done \nafter troubleshooting. \n● Frequent switching on/off of the power is forbidden, and the interval time should \nbe at least 1 min. \n \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \nIV \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \nAll specifications and designs herein are subject to change without notice \n \nCaution \n Functions, technical indexes (such as precision and speed) described in this user \nmanual are only for this system. Actual function deployment and technical \nperformance of the machine tool are designed by the machine tool manufacturer, so \nfunction configuration and technical indexes are subject to the user manual from the \nmachine tool manufacturer. \nRefer to the user manual from the machine tool manufacturer for function and    \nmeaning of each button on the machine panel. \nAnnouncement \n This manual describes various possibilities as much as possible. However, \noperations allowable or unallowable cannot be explained one by one due to so many \npossibilities that may involve with, so the contents that are not specially stated in this \nmanual shall be considered as unallowable. \nWarning \n Before installing, connecting, programming and operating, please carefully read \nthe product user manual and the manual from the machine tool manufacturer and \nstrictly operate accordance with the regulations in the manual; otherwise, the \nproduct or the machine tool may be damaged, the workpiece may get rejected, \neven the personal injury may occur.                                          \n\n\nCautions \nV \n Safety Responsibility  \nManufacturer’s Responsibility  \n \n——Be responsible for the danger which should be eliminated and/or controlled on \ndesign and configuration of the provided CNC systems and accessories. \n——Be responsible for the safety of the provided CNC systems and accessories. \n——Be responsible for the provided message and advice for the users. \n \nUser’s Responsibility \n——Be responsible for being familiar with and mastering the safety operation \nprocedures through training with the safety operation of the CNC system.  \n——Be responsible for the dangers caused by adding, changing or altering the original \nCNC systems and the accessories. \n——Be responsible for the dangers caused by failing to observe the provisions in the \nmanual for operation, adjustment, maintenance, installation and storage. \n \nThis manual is kept by the end user. \n \n \n \nThank you for supporting us in the use of GSK’s products! \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \nVI \n \n \n\n\nContents \nVII \nContents \nⅠ  PROGRAMMING ········································································································································ 1 \nCHAPTER 1  PROGRAMMING FUNDAMENTAL ························································································· 3 \n1.1  PRODUCT INTRODUCTION ································································································································ 3 \n1.2  CNC SYSTEM OF MACHINE TOOLS AND CNC MACHINE TOOLS ················································································· 6 \n1.3  PROGRAMMING FUNDAMENTALS ······················································································································· 7 \n1.3.1  Coordinates Definition ······························································································································ 7 \n1.3.2  Increment System ····································································································································· 7 \n1.3.3  Max. Travel ··············································································································································· 8 \n1.3.4  Reference Point ········································································································································· 9 \n1.3.5  Machine Coordinate System ····················································································································· 9 \n1.3.6  Workpice Coordinate System ···················································································································· 9 \n1.3.7  Local Coordinate System ··························································································································· 9 \n1.3.8  Interpolation Function ···························································································································· 10 \n1.4  COORDINATE VALUE AND DIMENSION ················································································································10 \n1.4.1  Absolute Programming and Incremental Programming ········································································· 10 \n1.4.2  Decimal Programming ···························································································································· 10 \n1.4.3  Conversion between the Metric and the Inch ························································································· 11 \n1.4.4  Linear Axis and Rotary Axis ····················································································································· 11 \n1.5  STRUCTURE OF AN NC PROGRAM ·····················································································································11 \n1.5.1  Program Name ······································································································································· 12 \n1.5.2  Block Format ··········································································································································· 12 \n1.5.3  Word ······················································································································································· 13 \n1.5.4  Block Number ·········································································································································· 18 \n1.5.5  Mainprogram and Subprogram ·············································································································· 18 \n1.6  PROGRAM RUN ············································································································································19 \n1.6.1  Sequence of Program Run ······················································································································· 19 \n1.6.2  Execution Sequence of Word ·················································································································· 20 \nCHAPTER 2  G CODES ··································································································································21 \n2.1  SUMMARY ···················································································································································21 \n2.1.1  Modal, Non-modal and Initial State ······································································································· 23 \n2.1.2  Examples ················································································································································· 24 \n2.1.3  Related Definition ··································································································································· 24 \n2.1.4  Address Definition ··································································································································· 25 \n2.2  RAPID POSITIONING G00 ······························································································································· 27 \n2.3  LINEAR INTERPOLATION G01 ··························································································································· 27 \n2.4  ARC AND HELICAL INTERPOLATION G02, G03 ·····································································································28 \n2.5  DWELL G04 ·················································································································································33 \n2.6  CYLINDRICAL INTERPOLATION G07.1 ·················································································································34 \n2.7  PLANE SELECTION COMMAND  G17, G18 AND G19 ··························································································· 37 \n2.8  CONVERSION OF INCH AND METRIC G20 AND G21 ······························································································38 \n2.9  STORED TRAVEL CHECK G22, G23 ····················································································································38 \n2.10  REFERENCE POINT FUNCTION ·························································································································39 \n2.10.1  Reference Point Return Review G27 ····································································································· 39 \n2.10.2  Reference Point Return G28 ·················································································································· 40 \n2.10.3  Return from Reference Point G29 ········································································································· 41 \n2.10.4  The 2nd, 3rd and 4th Reference Point Return G30 ··············································································· 42 \n2.11  SKIP FUNCTION G31 ··································································································································· 44 \n2.12  AUTOMATIC TOOL OFFSET G36, G37 ··············································································································45 \n2.13  TOOL NOSE RADIUS COMPENSATION C (G40, G41 AND G42) ·············································································· 47 \n2.14  TOOL LENGTH COMPENSATION (G43, G44, G49) ······························································································49 \n2.15  RELEVANT FUNCTIONS OF COORDINATE SYSTEM ·································································································53 \n2.15.1  Setting Local Coordinate System G52 ··································································································· 53 \n2.15.2  Select Machine Coordinate System G53 ······························································································· 55 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \nVIII \n \n2.15.3  Workpiece Coordinate System Selection G54～G59 ············································································ 56 \n2.15.4  Additional Workpiece Coordinate System G54.1 ·················································································· 57 \n2.16  EXACT STOP MODE G61/CUTTING MODE G64 ································································································· 58 \n2.17  ABSOLUTE AND INCREMENTAL COMMANDS G90 AND G91 ·················································································· 59 \n2.18  WORKPIECE COORDINATE SYSTEM SETTING G92 ······························································································· 59 \n2.19  FEED PER MIN. G94, FEED PER REV. G95 ········································································································· 60 \n2.20  CONSTANT SURFACE SPEED CONTROL G96, CONSTANT ROTATIONAL SPEED CONTROL G97 ········································· 60 \n2.21  G98、G99 ·············································································································································· 62 \n2.22  COMPOUND CYCLE COMMAND ······················································································································ 63 \n2.22.1  Brief for Canned Cycle ·························································································································· 63 \n2.22.2  Description for canned cycle ················································································································· 66 \n2.22.3  Continous Drilling ································································································································· 95 \n2.22.4  Cautions for Canned Cycle ···················································································································· 99 \n2.22.5  Examples for Modal Data Specified in Canned Cycle ·········································································· 100 \n2.22.6  Examples for Canned Cycle and Tool Length Compensation ······························································ 101 \n2.23  RIGID TAPPING ········································································································································· 103 \n2.23.1  Rigid Tapping ······································································································································ 103 \n2.23.2  Peck Rigid Tapping ····························································································································· 104 \n2.23.3  Address Explanation ··························································································································· 106 \n2.23.4  Technic Specification ·························································································································· 106 \n2.23.5  The Cancellation of Rigid Tapping Mode ···························································································· 108 \n2.23.6  F and G Signals ··································································································································· 109 \n2.23.7  Program Example ······························································································································· 109 \n2.24  MACRO CODE ·········································································································································· 110 \n2.24.1  Variable ·············································································································································· 110 \n2.24.2  System Variable ·································································································································· 112 \n2.24.3  Operation and Jump Code ·················································································································· 116 \n2.24.4  Macro Program Statement and NC Statement ·················································································· 120 \n2.24.5  Macro Program Call ··························································································································· 120 \nCHAPTER 3  MSTF CODES ························································································································ 125 \n3.1  M CODES (MISCELLANEOUS FUNCTION) ·········································································································· 125 \n3.1.1  End of Program M02 ···························································································································· 125 \n3.1.2  End of Program Run M30 ····················································································································· 125 \n3.1.3  Program Stop M00 ······························································································································· 125 \n3.1.4  Optional Stop M01 ······························································································································· 126 \n3.1.5  Subprogram Call  M98 ························································································································ 126 \n3.1.6  Subprogram Call M198 ························································································································· 127 \n3.1.7  Return from Subprogram  M99 ·········································································································· 127 \n3.1.8  Notes for M Codes ································································································································ 128 \n3.2  SPINDLE FUNCTION ····································································································································· 129 \n3.2.1  Spindle Speed Analog Voltage Control ································································································· 129 \n3.2.2  Spindle Override ··································································································································· 129 \nCHAPTER 4  CUTTER COMPENSATION ·································································································· 131 \n4.1  APPLICATION FOR CUTTER RADIUS COMPENSATION ···························································································· 131 \n4.1.1  Brief ······················································································································································ 131 \n4.1.2  Compensation value setting ················································································································· 131 \n4.1.3  Command format ································································································································· 132 \n4.1.4  Compensation direction························································································································ 132 \n4.1.5  Caution ················································································································································· 133 \n4.1.6  Example for application ························································································································ 133 \n4.2  OFFSET PATH EXPLANATION FOR CUTTER RADIUS COMPENSATION ········································································· 134 \n4.2.1  Conception for inner side or outer side ································································································· 134 \n4.2.2  Tool movement in start-up ··················································································································· 134 \n4.2.3  Tool movement in offset mode ············································································································· 136 \n4.2.4  Tool operation in offset cancellation mode ·························································································· 140 \n4.2.5  Interference check ································································································································ 141 \n\n\nContents \nIX \n4.2.6  Command of compensation vector cancel temporarily ········································································ 143 \nII  OPERATION··············································································································································· 149 \nCHAPTER 1  OVERVIEW ····························································································································· 151 \n1.1  OPERATION OVERVIEW································································································································· 151 \n1.2  SETTING THE SYSTEM ··································································································································· 153 \n1.3  DISPLAY ···················································································································································· 153 \n1.4  SYSTEM HOST MACHINE ······························································································································· 155 \n1.4.1  System Composition ······························································································································ 155 \n1.4.2  Panel Status Display and Button Definition ·························································································· 158 \nCHAPTER 2  POWER ON/OFF AND SAFETY PROTECTION ································································· 165 \n2.1  POWER-ON ················································································································································ 165 \n2.2  POWER-OFF ··············································································································································· 165 \n2.3  OVERTRAVEL PROTECTION ····························································································································· 166 \n2.4  OVERTRAVEL PROTECTION OF STORED STROKE ··································································································· 166 \n2.5  EMERGENCY OPERATION······························································································································· 167 \n2.5.1  Resetting ··············································································································································· 168 \n2.5.2  Emergency stop ···································································································································· 168 \n2.5.3  Feed hold ·············································································································································· 168 \n2.5.4  Cutting off the Power Supply ················································································································ 168 \nCHAPTER 3  DISPLAY PAGE ······················································································································ 169 \n3.1  POSITION DISPLAY PAGE SET ·························································································································· 173 \n3.1.1  Display Absolute Coordinate ················································································································· 174 \n3.1.2  The Relative Coordinate Display ··········································································································· 176 \n3.1.3  The Machine Coordinate Display ·········································································································· 176 \n3.1.4  Comprehensive Coordinate Display ······································································································ 176 \n3.1.5  Setting the Relative Coordinate ············································································································ 177 \n3.1.6  Switch between the Modal and the Comprehensive Information ························································ 177 \n3.1.7  Clearing the Machining Workpiece Number ························································································· 178 \n3.1.8  Clearing the Running Time ···················································································································· 178 \n3.2  PROGRAM PAGE SET ···································································································································· 179 \n3.2.1  Local Content and USB Flash Disc Content ··························································································· 179 \n3.2.2  MDI Program ········································································································································ 180 \n3.2.3  Current/next block ································································································································ 181 \n3.3  SYSTEM PAGE SET ······································································································································· 181 \n3.3.1  Parameter Setting and Rewriting Page ································································································ 182 \n3.3.2  Page of Setting and Rewriting the Pitch Error Compensation Page ····················································· 184 \n3.3.3  System Information and Authority Level Operation ············································································· 185 \n3.3.4  System File Management ····················································································································· 187 \n3.3.5  The Ladder Diagram ····························································································································· 188 \n3.3.6  GSK-Link Function ································································································································· 194 \n3.4  SETTING PAGE SET ······································································································································· 194 \n3.4.1  Setting Tool Offset ································································································································ 195 \n3.4.2  CNC Setting Page ·································································································································· 196 \n3.4.3  Macro Variable Page ···························································································································· 208 \n3.5  INFORMATION DISPLAY PAGE SET ··················································································································· 209 \n3.5.1  Alarm Information Check Page ············································································································· 209 \n3.5.2  Page for Checking the Previous Alarm Records ···················································································· 210 \n3.5.3  Diagnosis Display Page ························································································································· 211 \n3.6  FIGURE DISPLAY PAGE SET ····························································································································· 213 \n3.6.1  Setting the Graph Parameters ·············································································································· 213 \n3.6.2  The Machined Graph Path Display ······································································································· 214 \n3.7  HELP PAGE SET ··········································································································································· 215 \nCHAPTER 4  EDITING AND MANAGING THE PROGRAM ····································································· 217 \n4.1  SEARCHING, CREATING, EXECUTING AND OPENING THE PROGRAM ········································································· 217 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \nX \n \n4.1.1  Searching the Program ························································································································· 217 \n4.1.2  Creating the Program ··························································································································· 218 \n4.1.3  Executing the Program ························································································································· 218 \n4.1.4  Opening the Program ··························································································································· 219 \n4.2  RENAMING, SAVING AS, OUTPUTTING, DELETING AND ARRANGING THE PROGRAM ··················································· 220 \n4.2.1  Renaming the Program ························································································································ 220 \n4.2.2  Saving as ··············································································································································· 221 \n4.2.3  Deleting the Program ··························································································································· 221 \n4.2.4  Outputting the Program ······················································································································· 221 \n4.2.5  Arranging the Programs ······················································································································· 223 \n4.3  EDITING AND REWRITING THE PROGRAM ········································································································· 223 \n4.3.1  Editing the Program ····························································································································· 223 \n4.3.2  Rewriting the Program ························································································································· 225 \n4.3.3  Shortcut Keys ········································································································································ 226 \n4.4  THE BLOCK NOTE ······································································································································· 226 \n4.5  GENERATING THE BLOCK NUMBER ·················································································································· 227 \n4.6  PROGRAM BACKSTAGE EDITING ····················································································································· 227 \n4.7  MACRO PROTECTION ·································································································································· 227 \nCHAPTER 5  MANUAL OPERATION ········································································································· 229 \n5.1  MANUAL REFERENCE POSITION RETURN ·········································································································· 229 \n5.2  MANUAL FEEDING ······································································································································ 230 \n5.3  INCREMENTAL FEEDING ································································································································ 232 \nCHAPTER 6  AUTO OPERATION ··············································································································· 235 \n6.1  AUTO OPERATION ······································································································································ 235 \n6.1.1  Select the Program to Run ···················································································································· 235 \n6.1.2  Program Running·································································································································· 236 \n6.1.3  Running from the Arbitrary Block ········································································································· 236 \n6.1.4  Block Skip ·············································································································································· 237 \n6.1.5  G31 Skip ················································································································································ 237 \n6.1.6  Automatic Running Stop ······················································································································· 238 \n6.2  MANUAL DATA INPUT (MDI) RUNNING ·········································································································· 239 \n6.2.1  Editing the Program in MDI mode ········································································································ 239 \n6.2.2  Running from Arbitrary Block ··············································································································· 240 \n6.2.3  Stopping MDI Operation ······················································································································· 240 \n6.3  DNC RUNNING ·········································································································································· 240 \n6.4  AUTOMATIC RUNNING STATUS CONTROL ········································································································· 242 \n6.4.1  Machine Lock and the Miscellaneous Lock ··························································································· 242 \n6.4.2  Dry Run ················································································································································· 243 \n6.4.3  Single Block Running ···························································································································· 244 \n6.4.4  Feedrate Override ································································································································· 244 \n6.4.5  Rapid Movement Override ··················································································································· 245 \nCHAPTER 7  TOOL OFFSET AND TOOL SETTING ················································································ 247 \n7.1  SETTING THE TOOL OFFSET VALUE AND WEARING VALUE ····················································································· 247 \n7.1.1  Direct inputting Method ······················································································································· 247 \n7.1.2  Measuring Input Mode ························································································································· 248 \n7.1.3   Clearing the Tool Offset Value or the Wearing Value········································································· 249 \n7.2  AUTOMATIC TOOL COMPENSATION ················································································································· 249 \nCHAPTER 8  GRAPH SETTING AND DISPLAY ······················································································· 251 \n8.1  SETTING THE GRAPH PARAMETERS ················································································································· 251 \n8.2  PATH GRAPH DISPLAY AND OPERATION ··········································································································· 251 \nCHAPTER 9  THE USAGE OF THE USB FLASH DISC ··········································································· 253 \n9.1  SENDING THE PROGRAM ······························································································································ 253 \n9.2  DATA BACKUP ············································································································································ 254 \n\n\nContents \nXI \n9.2.1  System File Backup ······························································································································· 254 \nCHAPTER 10  GSK-LINK BUS FUNCTION ······························································································· 257 \n10.1  STARTING THE BUS FUNCTION ······················································································································ 257 \n10.1.1  Correct Connection ····························································································································· 257 \n10.1.2  Setting the System Parameters about the Communication ································································ 259 \n10.2  SERVO ···················································································································································· 260 \n10.2.1  Servo Parameters ································································································································ 260 \n10.2.2  Servo Running Status/Adjustment ······································································································ 265 \n10.2.3  Servo I/O Diagnosis ····························································································································· 267 \n10.2.4  Servo Alarm/Remind ··························································································································· 268 \n10.2.5  Servo Type and Configuration ············································································································· 268 \n10.3  I/O UNIT ················································································································································ 270 \n10.3.1  Setting the Parameters of I/O Unit and the Mapping List ·································································· 270 \n10.3.2  I/O Unit Running Status Diagnosis ······································································································ 274 \n10.3.3  I/O Unit Alarm/Remind ······················································································································· 275 \n10.3.4  I/O Unit Type and Configuration ········································································································· 276 \n10.4  THE OSCILLOSCOPE ···································································································································· 276 \nCHAPTER 11  PARAMETER INTRODUCTION ·························································································· 281 \n11.1  PARAMETERS OF SETTING ···························································································································· 284 \n11.2  PARAMETERS OF THE SYSTEM CONFIGURATION ································································································ 285 \n11.3  PARAMETERS OF THE AXIS CONTROL/SETTING UNIT ·························································································· 285 \n11.4  PARAMETERS OF THE COORDINATE SYSTEM ····································································································· 290 \n11.5  PARAMETERS OF THE MEMORY STROKE CHECK ································································································ 292 \n11.6  PARAMETERS OF THE FEEDRATE ···················································································································· 297 \n11.7  PARAMETERS OF ACCELERATION/DECELERATION CONTROL ················································································· 303 \n11.8  PARAMETERS OF THE SERVO AND BACKLASH COMPENSATION ·············································································· 307 \n11.9  PARAMETERS OF GSK-LINK ························································································································· 311 \n11.10  PARAMETERS OF DI/DO ··························································································································· 315 \n11.11  PARAMETERS OF DISPLAY AND EDIT ············································································································· 319 \n11.12  PARAMETERS OF PROGRAMMING ················································································································ 323 \n11.13  PARAMETERS OF PITCH ERROR COMPENSATION······························································································ 326 \n11.14  PARAMETERS OF SPINDLE CONTROL ············································································································· 331 \n11.15  PARAMETERS OF TOOL OFFSET ··················································································································· 339 \n11.16  PARAMETERS OF CANNED CYCLES ················································································································ 344 \n11.17  PARAMETERS OF RIGID TAPPING ················································································································· 349 \n11.18  PARAMETERS OF SCALING/COORDINATE ROTATION/POLAR COORDINATE ····························································· 352 \n11.19  PARAMETERS OF CUSTOM MACROS ············································································································· 356 \n11.20  PARAMETERS OF SKIP FUNCTION ················································································································· 359 \n11.21  PARAMETERS OF GRAPHIC DISPLAY ············································································································· 361 \n11.22  PARAMETERS OF DISPLAYING OPERATION TIME AND NUMBER OF PARTS ······························································ 361 \n11.23  PARAMETERS OF MANUAL HANDLE FEED ······································································································ 362 \n11.24  PARAMETERS OF PROGRAM RESTART ··········································································································· 365 \n11.25  PARAMETERS OF AXIS CONTROL BY PLC ······································································································· 366 \n11.26  PARAMETER OF BASIC FUNCTIONS ··············································································································· 370 \n11.27  PARAMETERS OF FEEDING SYNCHRONOUS CONTROL ························································································ 371 \nIII  APPENDIX ················································································································································ 377 \nAPPENDIX 1  ALARM INFORMATION LIST ······························································································ 379 \nAPPENDIX 1.1  PROGRAM ALARM（P/S ALARM） ································································································· 379 \nAPPENDIX 1.2  DSP ALARM（P/S ALARM 2） ······································································································ 395 \nAPPENDIX 1.3  SERVO ALARM ····························································································································· 399 \nAPPENDIX 1.4  OVERTRAVEL ALARM ····················································································································· 399 \nAPPENDIX 1.5  OPERATION ALARM ······················································································································· 400 \nAPPENDIX 1.6  DSP OPERATION ALARM ················································································································ 402 \nAPPENDIX 1.7  SYSTEM ALARM ···························································································································· 403 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \nXII \n \nAPPENDIX 1.8  REMIND OF REWRITING THE IMPORTANT PARAMETERS ········································································· 404 \nAPPENDIX 1.9  REMIND OF THE OPERATION PANEL COMMUNICATION ·········································································· 405 \nAPPENDIX 1.10  GSK-LINK COMMUNICATION ALARM/REMINDER ·············································································· 405 \nAPPENDIX 2  CONFIGURATION OF STANDARD LADDER DIAGRAM FUNCTION ··························· 411 \nAPPENDIX 2.1  THE STANDARD MACHINE PANEL BUTTON CONFIGURATION ··································································· 411 \nAppendix 2.1.1  GSK988MA Standard Machine Panel ··················································································· 411 \nAppendix 2.1.2  GSK988MA-H standard machine panel ················································································ 412 \nAppendix 2.1.3  GSK988MB(GSK988MB-H) standard machine panel ···························································· 412 \nAPPENDIX 3  THE OVERALL INSTALLATION DIMENSIONS ································································ 413 \nAPPENDIX 3.1  GSK988MA AND THE OVERALL DIMENSIONS OF THE CONFIGURATED MACHINE PANEL ······························· 413 \nAppendix 3.1.1  GSK988MA Host Machine Overall Dimensions ····································································· 413 \nAppendix 3.1.2  The Overall Dimensions of the Machine Operation Panel in MP17 Type ····························· 414 \nAPPENDIX 3.2  GSK988MA-H AND THE OVERALL DIMENSIONS OF THE CONFIGURATED MACHINE PANEL ··························· 415 \nAppendix 3.2.1  GSK988MA–H Host Machine Overall Dimensions ································································ 415 \nAppendix 3.2.2  The Overall Dimensions of the Machine Operation Panel in MP19 Type ····························· 416 \nAPPENDIX 3.3  GSK988MB AND THE OVERALL DIMENSIONS OF THE CONFIGURATED PANEL ············································· 417 \nAPPENDIX 3.4  OVERALL DIMENSIONS OF GSK988MB-H ························································································· 417 \nAPPENDIX 3.5  OVERALL DIMENSIONS OF I/O UNIT ································································································· 418 \nAppendix 3.5.1  IOL-01T ································································································································· 418 \nAppendix 3.5.2  IOL-02T ································································································································· 418 \nAppendix 3.5.3  IOL-02F·································································································································· 419 \nAppendix 3.5.4  MCT07 Deconcentrator （Adaptive with IOL-02F） ··························································· 419 \nAPPENDIX 4  LIST OF NORMAL OPERATION ························································································ 421 \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n \n1 \nI  Programming \n \n \n \n \n \n \n \n \n \nⅠ  PROGRAMMING \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n2 \n \nI  Programming \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\nChapter 1  Programming Fundamental \n3 \nI  Programming \nChapter 1  Programming Fundamental \n1.1  Product Introduction \nWith 6 feed axes (including Cs axis), 3 spindles, GSK988MA /GSK988MB is a new product \naiming at the slant CNC machine and turning center，connected with a servo and I/O unit by \nGSK-Link bus. Its matched servo motor uses a high-resolution absolute encoder to realize \n0.1µm-level position precision and meet high-precision turning-milling compound machining.  \nWith a network interface, GSK988MA/GSK988MB supports a remote monitor and file \ntransimission, and meets requirements of a networked teachining and workshop management. It is \nthe best choice of a slant CNC turning machining and turning center. \n \nFig.1-1-1  appearance \n \n Technical characteristics \n \n6 feed axes（including Cs axis）, 3 spindles  \n \nCode unit 1µm and 0.1µm, up to 100 m/min.The servo drive and I/O unit use connection \ncontrol of GSKLink bus \n \nSupporting look-ahead control technology \n \nSupporting shape simulation control technology \n \nSupporting milling lathe compound machining \n \nNested many PLC programs, PLC ladder on-line editing  \n \nPart programs edited on the background  \n \nNetwork interface, remote monitoring and file transmission  \n \nUSB interface, U disc file operation, system allocation and software upgrading \n Technical specifications \n \nControllable axes \n Max. controllable axes：6（including Cs axis） \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n4 \n \nI  Programming \n \n PLC controllable axis number：6 axes in each path \n \nFeed axis function \n Least code unit：0.001mm and 0.0001mm (optional) \n Least code range：±99999999× least code unit  \n Rapid traverse speed：max. 240m/min in 0.001mm code unit, max. 100 m/min in \n0.0001mm code unit \n Rapid override：F0, 25%, 50%, 100% real-timing tuning \n Cutting feedrate：0.01 mm/min～100000 mm/min or 0.01 inch/min～4000 inch/min\n（G98:feed per minute）；  0. 001 mm/rev～500 mm/rev or 0. 0001 inch/rev～9.99 \ninch/rev（G99: feed per rev） \n Feedrate override：0～150% 16-level real-time tuning \n Interpolation mode: linear, circular, thread, polar, cylindrical, rigid tapping interpolation. \n \nAcceleration/deceleration function \n Cutting feed: look-ahead、shape simulation、before the S type acceeration/decelera- \ntion \n Rapid traverse: linear type \n Initial speed, terminate speed, time of acceleration/deceleration set by the paramete \n \nSpindle function \n 3-channel spindle control supporting multi-spindle spindle control \n Spindle speed: spindle speed specified by S or PLC signal, its range: 0rpm～20000rpm \n Spindle override：50%～120% 8-level real-time tuning \n Spindle constant surface contro \n Rigid tapping \n \nTool function \n Tool length compensation（tool offset）：99 groups \n Tool wear compensation：99 groups of tool wear compensation data \n Tool nose radius compensation（C type） \n Offset execution mode: modifying coordinate mode, tool traverse mode \n \nPrecision compensation \n◆Backlash compensation: compensation range (-9999~9999)× check unit  \n◆Memory pitch error compensation：1024 compensation points，compensation point \nnumber of each is set by the parameter, each point compensation range (-700~700) × \ncheck unit  \n PLC function \n 13 basic codes, 30 functional codes \n PLC ladder on-line edit, real-time monitoring \n 2-level PLC program, up to 12000 steps, the 1st level program refresh period 8ms \n Many PLC programs（up to 16 programs），the current running PLC program can be \nselected  \n \nI/O unit \n Rapid I/O：16 input/8 output interface \n\n\nChapter 1  Programming Fundamental \n5 \nI  Programming \n Operation panel I/O：118 input/96 output interface \n Up to 4 GSKLink remote IO interfaces，each I/O has 64 input interfaces and 64 output \ninterfaces \n \nHuman-computer interface \n◆Display in Chinese, English and others  \n◆Two-dimensional tool path and solid graph displa  \n◆Servo state monitoring \n◆Servo parameter on-line allocation  \n◆System debugging, servo debugging \n◆Real-time clock \n◆On-line help \n \nOperation managemen \n◆Operation mode: Auto, Manual, Edit, MDI, DNC, MPG, Reference point return  \n◆Multi-level operation Authorization Management \n◆Alarm log \n◆Timed stop \n \nProgram edit \n◆Program capacity:25MB, 10000 programs（including subprogram and macro program） \n◆Edit mode: full-screen edit, part program edit on the background  \n◆Edit function：searching, modifying and deleting programs/blocks/words, copying/ deleting  \nblocks  \n◆Program format: ISO code(A set of G code, G code sysem B), word without blank space, \nrelative coordinates, absolute coordinate compound programming  \n◆Macro code: statement macro code program  \n◆Program call: macro program call with parameters, 12-level subprogram nesting  \n◆Aided programming: common used cycle codes using graphic aided programming  \n◆Grammar check: executing the rapid grammar check for the program(do not run the \nprogram) after it has been edit  \n◆Path preview: do not run programs, use the path preview function to ensure the program \npath is correct  \n \nCommunication function \n◆USB：U disc file operation, U disc file directly machining, upgrading PLC program and \nsystem software U disc  \n◆LAN：remote monitoring, network DNC machining, file transmission, remotely upgrading \nPLC program, system software \n \nSafety function \n◆Emergency stop \n◆Hardware travel limit \n◆Many stored travel checks \n◆Data backup and recover \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n6 \n \nI  Programming \n \n1.2  CNC System of Machine Tools and CNC Machine Tools \nCNC machine tool is an electro-mechanical integrated product, composed of Numerical Control \nSystems of Machine Tools, machines, electric control components, hydraulic components, pneumatic \ncomponents, lubricating, cooling and other subsystems (components), and CNC systems of machine \ntools are control cores of CNC machine tools. CNC systems of machine tools are made up of \ncomputerized numerical control(CNC), servo (stepper) motor drive devices, servo (or stepper) motor \netc.  \nOperational principles of CNC machine tools: according to requirements of machining \ntechnology, edit user programs and input them to CNC, then CNC outputs motion control codes to the \nservo (stepper) motor drive devices, and last the servo (or stepper) motor completes the cutting feed \nof machine tool by mechanical driving device; logic control codes in user programs to control spindle \nstart/stop, tool selections, cooling ON/OFF, lubricant ON/OFF are output to electric control systems of \nmachine tools from CNC, and then the electric control systems control output components including \nbuttons, switches, indicators, relays, contactors and so on. Presently, the electric control systems are \nemployed with Programmable Logic Controller (PLC) with characteristics of compact, convenience \nand high reliance. Thereof, the motion control systems and logic control systems are the main of CNC \nmachine tools.  \nThe system has simultaneously motion control and logic control function to control two axes of \nCNC machine tool to move, and has PLC function. Edit PLC programs (ladder diagram) according to \nrequirements of input and output control of machine tool and then download them to \nGSK988MA/988MB Milling Machine CNC system, which realizes the required electric control \nrequirements of machine tool, is convenient to electric design of machine tool and reduces cost of \nCNC machine tool.  \nSoftwares realizing CNC control function is divided into system software (NC for short) and PLC \nsoftware (PLC for short). NC system is used for controlling display, communication, edit, decoding, \ninterpolation and acceleration/deceleration, and PLC system for controlling explanations, executions, \ninputs and outputs of ladder diagrams. \nStandard PLC programs are loaded when the system is delivered, concerned PLC control \nfunctions in following functions and operations are described according to control logics of standard \nPLC programs, marking with “Standard PLC functions” in GSK988MA/988MB Milling CNC System \nUser Manual. Refer to Operation Manual of machine manufacturer about functions and operations of \nPLC control because the machine manufacturer may modify or edit PLC programs again. \nProgramming is a course of workpiece contours, machining technologies, technology \nparameters and tool parameters being edit into part programs according to special CNC \nprogramming G codes. CNC machining is a course of CNC controlling a machine tool to complete \nmachining of workpiece according requirements of part programs. Technical flow of CNC machining \nis shown in Fig. 1-2-1. \n\n\nChapter 1  Programming Fundamental \n7 \nI  Programming \n \nFig.1-2-1 \n1.3  Programming Fundamentals \n1.3.1  Coordinates Definition \nGSK988MA/MB uses a rectangular coordinate system composed of X, Y, Z axis Parameter NO.1020 \ncan set and modify program names for each axis and their corresponding relationship is shown \nbelow:  \nTable 1-3-1 \nAxis name \nSetting value \nAxis name \nSetting value \nX\n88\nZ\n90\nY\n89\nA\n65\nB\n66\nC\n67\nU\n85\nV\n86\nW\n87\n \n1.3.2  Increment System \nIncrement system includes least input increment (input) and least code increment (output). Least \ninput increment is the least unit of programming movement distance. Least code increment is the \nleast unit of tool movement on the machine tool. Their unit: mm, inch or degree.  \nIncrement systems are separately IS-B and IS-C. No.1004 Bit1 decides to select IS-B or IS-C. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n8 \n \nI  Programming \n \nNo.1004 Bit1 is applied to all axes. \nTable 1-3-2   increment system IS-B \n \nLeast input increment \nLeast code increment \nMetric machine \nmm input \n0.001mm（diameter） \n0.001mm（radius） \n0.001deg \n0.0005mm \n0.001mm \n0.001deg \ninch input \n0.0001inch（diameter） \n0.0001inch（radius） \n0.001deg \n0.0005inch \n0.001inch \n0.001deg \nInch machine \nmm input \n0.001mm（diameter） \n0.001mm（radius） \n0.001deg \n0.00005mm \n0.0001mm \n0.001deg \ninch input \n0.0001inch（diameter） \n0.0001inch（radius） \n0.001deg \n0.00005inch \n0.0001inch \n0.001deg \nTable 1-3-3   increment system IS-C \n \nLeast input increment \nLeast code increment \nMetric machine \nmm input \n0.0001mm（diameter） \n0.0001mm（radius） \n0.0001deg \n0.00005mm \n0.0001mm \n0.0001deg \ninch input \n0.00001inch（diameter） \n0.00001inch（radius） \n0.0001deg \n0.00005inch \n0.0001inch \n0.0001deg \nInch machine \nmm input \n0.0001mm（diameter） \n0.0001mm（radius） \n0.0001deg \n0.000005mm \n0.00001mm \n0.0001deg \ninch input \n0.00001inch（diameter） \n0.00001inch（radius） \n0.0001deg \n0.000005inch \n0.00001inch \n0.0001deg \nWhether the least input increment is mm or inch is determined by the machine based on the  \nparameter INM(1001#0). The least input increment can be switched between the inch and the mm  \ninput, which is controlled by G codes( G20 or G21) or the set parameter \n1.3.3  Max. Travel \nMax. travel=least code increment X（±）99999999 \nTable 1-3-4 max. travel IS-C \nIncrement system \nMax. travel \nIS-B \nMetric machine system \n±99999.999mm \n±99999.999deg \nInch machine system \n±9999.9999inch \n±99999.999deg \nIS-C \nMetric machine system \n±9999.9999mm \n±9999.9999deg \nInch machine system \n±999.99999inch \n±9999.9999deg \n \nNote 1: The unit is diameter value in diameter programming, is radius value in radius programming in the \nabove table.  \nNote 2: The input code cannot exceed max. travel code.  \nNote 3: The actual travel decides the machine tool.  \n \n\n\nChapter 1  Programming Fundamental \n9 \nI  Programming \n1.3.4  Reference Point \nA reference point is a fixed point on the machine tool. The tool can move to the position by \nexecuting the reference point return function. Generally, the reference point is used to tool change \nand setting coordinate system. GSK988MA/MB Milling CNC System can set 4 reference positions by \nparameters, which is shown in the following figure： \nY\nX\n \nFig.1-3-1 reference point \n1.3.5  Machine Coordinate System \nThe machine tool coordinate system is a benchmark one used for the CNC counting coordinates \nand a fixed one on the machine tool. A machine tool zero is a fixed point which position is specified by \nzero switch or zero return switch on the machine tool. After the system is turned on, the reference \npoint return is executed to set machine coordinate system. The machine coordinate system is not \nkeeping until the system is turned off.  \nNote: For the machine with the incremental encoder, must execute the reference position return every time to set \nthe machine coordinate system after power-off; for the machine with the multi-coil absolute encoder, need \nnot execute the reference position return every time after power-off. \n1.3.6  Workpice Coordinate System \nThe workpiece coordinate system is a rectangular coordinate system based on the part drawing, \nalso called floating coordinate system. The workpiece coordinate system is set by the system in \nadvance, can be changed by moving its coordinate origin point. The established workpiece is valid till \nit is replaced by a new one. The system has preset 6 workpice coordinate systems (G54-G59). \n1.3.7  Local Coordinate System \nWhen the system compiling programs in the workpiece coordinate system, sub-coordinate \nsystem of workpiece coordinate system can be set for easily programming, called local coordinate \nsystem as follows: \nLocal coordinate system\nWorkpiece coordinate system\nMachine coordinate system\n \n  Fig.1-3-2  local coordinate system \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n10 \n \nI  Programming \n \n1.3.8  Interpolation Function \nInterpolation is defined as a planar or three dimensional contour formed by path of 2 or multiple \naxes moving at the same time, also called Contour control. The controlled moving axis is called link \naxis when the interpolation is executed. The moving distance, direction and speed of it are controlled \nsynchronously in the course of running to form the required Composite motion path. Positioning \ncontrol is defined that a motion end point of one axis or multiple axes instead of the motion path in the \ncourse of running is controlled.  \nLinear interpolation: Composite motion path of Xp、Yp and Zp axis is a straight line from start \npoint to end point. \nCircular interpolation: Composite motion path of Xp/Yp、Yp/Zp and Zp/Xp axis is arc radius \ndefined by R or the circle center (I, J, K) from start point to end point.  \nThread interpolation：Xp、Yp、Zp three axis linkage which at the same time, the current plane axis \narc interpolation, perpendicular to the plane of the shaft in a certain \nproportion of linear interpolation. \nNote 1:Xp, Yp, Zp are separately X or its parallel axis, Y or its parallel axis, Z or its parallel axis. The \nfollowings are the same as those.  \nNote 2: IP expresses the combination of X_Y_Z_(used in programming). \n1.4  Coordinate Value and Dimension \n1.4.1  Absolute Programming and Incremental Programming \nThere are two kinds of modes for commanding axis offset, one is absolute command the other is \nincremental command. The absolute command is programmed by coordinate value of the terminal \nposition by the axis movement. The incremental command is directly programmed by the movement \nvalue of the axis. They are separately specified by G90 and G91 commands. \nCode format：G90  IP  ；  Absolute command \n \n \n      G91  IP  ；  Incremental command \n1.4.2  Decimal Programming \nValue can be input by decimal programming. Distance, time and speed can be input by decimal \nprogramming. The following addresses can use decimal point: X, Y, Z, A, B, C, U, V, W, H, I, J, K, R \nand F, and other addresses cannot use decimal programming. An alarm occurs a word has more \nthan one decimal point; an alarm occurs when an address which cannot be specified by a decimal \npoint has a decimal point.  \nThere are two types of decimal point usage which is decided by No. 3401 Bit0(DPI).  \nWhen NO.3401 Bit0(DPI) is set to 1, a value without a decimal point is with mm, inch. \nWhen NO.3401 Bit0(DPI) is set to 0, an input value is specified by least input increment. \nParameter setting \nLeast code unit \nROTx=0 \nRotary axis \nThe rotary \naxis is not \nrelated to \nparameter \nINI \nISC=0 \n0.001deg \nISC=1 \n0.0001deg \nROTx=1 \nLinear axis \nINI=0 \nMetric \nISC=0 \n0.001mm \nISC=1 \n0.0001mm \nINI=1 \nInch \nISC=0 \n0.0001inch \nISC=1 \n0.00001inch \nExample: when the metric input, the least input increment unit are set to 0.001： \n\n\nChapter 1  Programming Fundamental \n11 \nI  Programming \nProgram code \nThe corresponding actual \nvalue when DPI is 1  \nThe corresponding actual value when \nDPI is 0 \nX1000 without a decimal \ncode value \n1000mm \n1 mm \nX1000.0 with a decimal \ncode value \n1000mm \n1000mm \n \nThe decimal which is less than the least input increment unit is discarded in course of program \nbeing executed.  \nExample: X2.34567. When the least unit of input increment is 0.001mm, X2.34567 becomes \nX2.345, when the least unit is 0.0001inch, it becomes X2.3456. \n1.4.3  Conversion between the Metric and the Inch \nMetric input or inch input is set by NO.0000 Bit2(INI). G codes corresponding to metric/inch \nsystem is as follows:   \nG20： inch input ； \nG21： mm input. \nInput data unit becomes the inch or metric input unit when NO.0000 Bit2 (INI) setting is changed. \nBut, the angle unit is not changed. It is suggested that the system should be turned on again when INI \nis modified. The unit of the following value is changed after metric/inch system is switched.  \n——F feedrate;  \n——position code;  \n——zero offset of workpiece; \n——tool compensation value;  \n——graduation unit of MPG;  \n——movement distance in incremental feed. \n \nNO.1001 Bit0 (INM) can be used to set machine’s metric/inch output instead of metric/inch input. \n \n1.4.4  Linear Axis and Rotary Axis \nNO.1006 Bit0 (ROTx) can set each axis to a linear axis or rotary axis. NO. 1006 Bit 1 (ROSx) can \nbe used to select the rotary type for each axis.  \nAbsolute coordinate value is displayed circularly with the movement per rev set by NO.1260 \nwhen the cycle function is executed, which can prevent the rotary axis from overflowing. The cycle \nfunction is valid when NO.1008 Bit 0(ROAx) is set to 1.   \nFor absolute value code, the coordinate value is the corresponding angle cycle value of per rev \nset by NO. 1260 after the machine moves. When NO.1008 Bit 1(RABx) is set to 0, the machine \nrotates according to the shortest distance (to the target point). For incremental code, the machine \nmoves according to the angle defined by the code. \n \n1.5  Structure of an NC Program \nA program consists of a sequence of blocks, beginning with “OXXXX”(program name)and ending with  \n“M30”. A block consist of many words, beginning with block number (can be omitted) and ending with  \n“；”.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n12 \n \nI  Programming \n \n1.5.1  Program Name \nFormat：O △△△△ \n \nProgram number (0000～9999, the leading zero can be omitted） \nAddress O \n△△△△ is number of a program name, its range is 4-digit integer 0000～9999, an alarm occurs when \nthe negative program name is input. \n \n1.5.2  Block Format \n   1. Format: /  N△△△△△countless words;       \n      /：          skip character. A block can have or not it, generally, it is placed in the initial \nposition of a program; user can press “SKIP” on the operation panel to \nexecute the operation when the skip function is valid, otherwise, the \n“SKIP” key on the operation panel is valid, i.e. the skip character in the \nblock is invalid;  \nN△△△△△：block number. A block can have or not it; number △△△△△ following N is \n5-digit non-negative integer 00001～99999, and the system alarms when \nthe input number is decimal.  \n \nCountless words: one block can input countless words, and one block can have one or more \nwords or have no words.  \n；：           “EOB” is a end character when one block is completed, “;” is displayed in LCD, \nthere must be have one end character for one block; \n2. Format requirements \n（1）In one block, there can be no blank space between block number and word, and can be \ncountless blank space(the total characters of one block is within 255); \n（2）In one block, there can be not or be countless space between skip character and block  \nnumber or words;  \n（3）In one block, there can be not or be countless space between end character of block and its \nfront word or blocks;  \nEach block can be up to 256 characters, including skip character, block number, code, \nspace, end character of block“;”;  \n（4）The system automatically ignores the content with small bracket “(”,“)”. \n \nExplanations of program annotation:  \nNote: The annotation of program home as the total annotation of a program is displayed in the \nprogram catalog window, the created program automatically creates the small brackets“(”、“)”, \nif they are deleted, the system has no them and they can be replaced by “;”. \nSprit(/) explanations: \nSlash sign (/) explanations:  \nNote 1：When the slash sign (/) is taken as a skip sign, it is placed at the beginning of a block. \nWhen it is placed at other places and the skip switch is open, the messages between the \nslant and EOB code are ignored. Example: U10. G00/04；when the skip switch is open, \nthe system executes U10. G00;(G00 U10.); when the skip switch is closed, it executes \n\n\nChapter 1  Programming Fundamental \n13 \nI  Programming \nU10. G0004;(G04 U10.); \nNote 2：When the cycle code buffer is executed and the block is read to the buffer memory from \nthe memory, the system ensures the skip function is valid. After the block is read into the \nbuffer memory, even if the skip switch state is changed, the block read into the buffer is \nnot influenced;   \nNote 3：The slash (/) symbol in <Expression> (closed in the brackets[]) and that at the right of \nassignment statement “=” are taken as a division operator, which is not taken as a skip \nsymbol.  \n \n3. Parameters relevant with a block number:  \n（1）Automatically creates a block number： \n         The user can set the system automatically creates a block number by No.0000 bit5(SEQ);  \n（2）The user can set a interval value by No.3216 when the system automatically creates bock \nnumbers. \n1.5.3  Word \n1. Format: address + number. There must not be a space between address and number.  \nPresently, the system permissively input addresses: G, M, S, T, F, X, Y, Z, U, V, W, P, Q, I, J, K, \nR, L, A, B, C, H, N, O，and will add other. \nCode number range following address is referred to the following table. \nTable 1-5-1  word and key word table A \nAddre\nss \nFunction \nmm input \nInch input \nRelated \nG \ncodes \nO \nProgram name \n0～9999 \n0～9999 \n \nN \nLine label \n1～99999() \n1～99999 \nG \nPreparatory function  \nSee G command explanation \nSee G command explanation \nM \nMiscellaneous function \n0～9999 \n0～9999 \nS \nSpindle speed  \n（G96）0～32767 (m/min) \n（G96）0～3276（feet/min） \n（G97）0～32767 (r/min) \n（G97）0～32767 (r/min) \nT \nTool offset \n0000～9999 \n0000～9999 \nF \nFeedrate per minute \n（G94） \n（ISB system） \n1～240000 （mm/min） \n（ISB system） \n0.01～9600 ( inch/min) \nG94 \n（ISC system） \n1～24000  (mm/min) \n（ISC system） \n0.01～4000  (inch/min) \nFeedrate per rev \n（G95） \n（ISB system） \n0.001～500  (mm/r) \n（ISB system） \n0.0001～9.99  (inch/r) \nG95 \n（ISC system） \n0.0001～500 (mm/r) \n（ISC system） \n0.00001～9.99 (inch/r) \nX \nX absolute coordinate \nvalue((linear \naxis), \ndelay time (*1) \n（ISB system） \n-99999.999～99999.999 (mm)\n（ISB system） \n-9999.9999～9999.9999 (inch) \nCodes \nrelevant \nwith\nthe thread ,\nG04 \n（ISC system） \n-9999.9999～9999.9999 (mm)\n（ISC system） \n-999.99999～999.99999 (inch) \nY \nY absolute coordinate \nvalue(linear axis)  (*1) \n（ISB system） \n-99999.999～99999.999 (mm)\n（ISB system） \n-9999.9999～9999.9999 (inch) \nCodes \nrelevant with\nthe axis \n（ISC system） \n-9999.9999～9999.9999 (mm)\n（ISC system） \n-999.99999～999.99999 inch \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n14 \n \nI  Programming \n \nAddre\nss \nFunction \nmm input \nInch input \nRelated \nG \ncodes \nZ \nZ absolute coordinate \nvalue (linear axis) (*1) \n（ISB system） \n-99999.999～99999.999 (mm)\n（ISB system） \n-9999.9999～9999.9999 (inch) \nCodes \nrelevant with\nthe thread \n（ISC system） \n-9999.9999～9999.9999 (mm)\n（ISC system） \n-999.99999～999.99999 (inch) \nA \nA absolute coordinate \nvalue(linear axis) (*1) \n（ISB system） \n-99999.999～99999.999 (mm)\n（ISB system） \n-9999.9999～9999.9999 (inch) \nCodes \nrelevant with\nthe thread \n（ISC system） \n-9999.9999～9999.9999 (mm)\n（ISC system） \n-999.99999～999.99999 (inch) \nB \nB absolute coordinate \nvalue(linear axis) (*1) \n（ISB system） \n-99999.999～99999.999 (mm)\n（ISB system） \n-9999.9999～9999.9999 (inch) \nCodes \nrelevant with \nthe thread \n（ISC system） \n-9999.9999～9999.9999 (mm)\n（ISC system） \n-999.99999～999.99999 (inch) \nC \nC absolute coordinate \nvalue (rotary axis) (*1) \n（ISB system） \n-99999.999～99999.999 (deg)\n（ISB system） \n-99999.999～99999.999 (deg) \nCodes \nrelevant with\nthe thread \n（ISC system） \n-9999.9999～9999.9999 deg \n（ISC system） \n-9999.9999～9999.9999 (deg) \nR \nArc radius \n(*1) \n（ISB system） \n-99999.999～99999.999 (mm)\n（ISB system） \n-9999.9999～9999.9999 (inch) \nG02、G03 \n（ISC system） \n-9999.9999～9999.9999 (mm)\n（ISC system） \n-999.99999～999.99999 (inch) \nP \nDwell time \n0~99999999ms \n0~99999999 ms \nG04 \nG30 returning to No.n \nreference position  \n2， 3，4 \n2，3，4 \nG30（default \nto 2） \nCodes \nfor \nmacro \nprogram \nnumber, \nsubprogram \nand \nsubprogram call times \n1～9999 \n \n1～9999 \nG65，G66 \nM98 （times \nis defaulted \nto 1） \nL \nMacro program call  \ntimes assignment \n1～9999（default to 1） \n1～9999（default to 1） \nG65, G66 \nI \nX vector of arc center \nrelative to start point \n(*1) \n（ISB system） \n-99999.999～99999.999(mm) \n（ISB system） \n-9999.9999～9999.9999(inch) \nG02, G03 \n（ISC system） \n-9999.9999～9999.9999 (mm)\n（ISC system） \n-999.99999～999.99999 (inch) \nJ \nY vector of arc center \nrelative to start point \n(*1) \n（ISB system） \n-99999.999～99999.999 (mm)\n（ISB system） \n-9999.9999～9999.9999 (inch) \nG02, G03 \n（ISC system） \n-9999.9999～9999.9999 (mm)\n（ISC system） \n-999.99999～999.99999 (inch) \nK \nZ Vector of arc center \nrelative to start point  \n(*1) \n（ISB system） \n-99999.999～99999.999 (mm)\n（ISB system） \n-9999.9999～9999.9999 (inch) \nG02, G03 \n（ISC system） \n-9999.9999～9999.9999 (mm)\n（ISC system） \n-999.99999～999.99999 (inch) \nH \nTool \nlength \ncompensation \n0～99  \n0～99  \nG43、G44、\nG49 \nD \nTool \nnose \nradius \ncompensation \n0～99 \n0～99 \nG40、G41、\nG42 \n \n\n\nChapter 1  Programming Fundamental \n15 \nI  Programming \nTable 1-5-1   word and key word table B  \nSign \nAbbrev \nFunction description \nRemark \nIF \n \nConditional judgement\n \nTHEN \nTH \nExecution after IF conditional judgment is \ncompleted successfully \n \nGOTO \nGO \nNon-conditional skip\n \nWHILE \nWH \nCycle judgment \n \nDO \n \nStart to execute cycle \n \nEND \nEN \nReturn to WHILE \n \nEQ \n== \nEqual to \nJugement logic, only used \nto brackets after IF,WHILE \nNE \n<> \nNot equal to  \nGT \n> \nGreater than  \nGE \n>= \nGreater than or equal to  \nLT \n< \nLess than  \nLE \n<= \nLess than or equal to  \nSIN \nSI \nSine  \nFunctional function, used to \ncoumt a expression value  \nASIN \nAS \nAnti-sine  \nCOS \nCO \nCosine  \nACOS \nAC \nAnti-cosine  \nTAN \nTA \nTangent  \nATAN \nAT \nAnti-tangent  \nSQRT \nSQ \nSquare root  \nABS \nAB \nAbsolute value  \nROUN \nRO \nRounding-off  \nFIX \nFI \nDown integer \nFUP \nFU \nUp integer \nLN \n \nNature  logarithm \nEXP \nEX \nExponential function \nOR \n \nOR \nXOR \nXO \nOR AND \nAND \nAN \nAND \nBIN \nBI \nConverse from BCD  to BIN \nBCD \nBC \nConverse from BIN to BCD \n01234 \n56789 \n \nWith to compose the value of word, the leading 0 \ncan be omitted  \n \n0 \n \nWord is 0 and is different with Null value  \n+ \n \nNumber count and number expression  \n- \n* \n/ \n \nSkip code, selectively skip the codes following the \ncharacter  \n. \n \nFloating point number with number  \n= \n \nVariable assignment  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n16 \n \nI  Programming \n \nSign \nAbbrev \nFunction description \nRemark \n[ \n \nPrior operation of expression and conditional \njudgement prompt  \n] \n# \n \nVariable  \n; \n \nEnd of program in the block, following annotation \n( \n \nAnnotation \nstart \nin \nthe \nblock. \nExample: \n(X20.)W-10.; not execute X20. \n) \n \nAnnotation end in the block  \n% \n \nEnd of program \nNote 1: The 2-digit following the decimal point of F value is value, and the more following the two-digit is \nignored.  \nNote 2: The expression can follow the word, the value counted by the expression is taken as the value of the \nword, and the expression should have[] , and there must not be the space between the word and the \nexpression. For example X[#1-#110]  Z[#1+SIN[#120]]. \n \n*1）：When the address values in the above table, X, Y, Z, C, A, B, C, U, V, W, H, I, J, K, R are taken as \nword address, their value ranges are controlled by the following 4 parameters:  \n（1）No.0000#2  INI \nINI     input unit \n \n \n \n \n0：metric \n \n \n \n \n1：inch \n（2）No.1006#0  ROTx \nROTx   set linear axis or rotary axis \n \n \n \n \n0：linear axis \n \n \n \n \n1：rotary axis \n（3）No.1013#1  ISC \nISC setting least input increment and least code increment \nISC \nLeast input increment  \nAbbrev \n0 \n0.001mm, 0.001deg or 0.0001inch \nIS-B \n1 \n0.0001mm, 0.0001deg or 0.00001inch \nIS-C \nTable 1-5-2  least code increment and value range \nAddress \nParameter setting \nLeast code \nincrement \nRange \nX, Y, Z, C, A, \nB, C, U, V, \nW, H \nROTx=0 \nRotary \naxis \nThe Rotary \naxis is not \nrelated to \nINI \nISC=0 \nISB \n0.001deg \n-99999.999～99999.999（deg）\nISC=1 \nISC \n0.0001deg \n-9999.9999～9999.9999（deg）\nX, Y, Z, C, A, \nB, C, U, V, \nW, H, I, J, K, \nR \nROTx=1 \nLinear \naxis \nINI=0 \nMetric \nsystem \nISC=0 \nISB \n0.001mm \n-99999.999～99999.999 （mm）\nISC=1 \nISC \n0.0001mm \n-9999.9999～9999.9999 （mm）\nINI=1 \nInch \nsystem \nISC=0 \nISB \n0.0001inch \n-9999.9999～9999.9999 （inch）\nISC=1 \nISC \n0.00001inch \n-999.99999～999.99999 （inch）\n\n\nChapter 1  Programming Fundamental \n17 \nI  Programming \n When these word addresses follow data (with positive/negative sign), data precision is least \ncode increment, and excessive data is ignored. When a word address follows variable number or has \n[ ] expression, the word value has decimal data, and its precision is the least code increment, but its \nexcessive data rounds.  \n（4）No.3401#0  DPI \nDPI    can use decimal address. When the decimal is omitted, its setting is as follows: \n0：least  setting unit  \n1：unit: mm，inch，s \nWhen parameter DPI is set to 1, word range is referred to Table 1-5-2;  \nWhen DPI is set to 0, and word omits its decimal, its value range is -99999999～99999999, data \nunit is the least code increment in Table 1-5-2. \n \n*2）：Code value calculation method specified by U, W, R, K is the same that of  *1）, they meet the \nvalue range described in  *1） and limit value range according to preparatory function. \n \n*3）：Position specified value codeed by P, Q is  0～99999999, data unit is the least code \nincrement in Table 1-5-2. value range is limit by specific preparatory function. \n \n2、Word value and state will change when the system runs, the following table 1-5-3 separately \nexplains each word omittace and state in the next block when the system is ON, resets. \nTable 1-5-3  word state \nAddress\nFunction \nInitial value \nwhen power-on\nDefault \nvalue \nKeep in the next \nblock? \nValue after pressing \nreset key \nRelevant \nexplanatio\nn \nO \nProgram name \nValue reserved \nby last \npower-on \nCurrent \nvalue \nYes \nYes \nNone \nG \nPreparatory function\nInitial mode in \neach group \nModal \nvalue \nNo \n \nNone \nM \nMiscellaneous \nfunction M00, M01, \nM02, M30, M98, \nM99 \nNull \nNull \nNo（function \nreserved） \nNull \nSpecified \nby PLC, \nset by \nparameter\nS \nAnalog spindle \nspeed \n0 \nCurrent \nvalue \nYes \nCurrent value，\noutput is invalid \n \nT \nTool offset \nThe tool number \nis the value \nreserved by \nlast power-on \nand the tool \noffset value is \n0 \nCurrent \nvalue \nYes \nCurrent value \n \nF \nFeedrate \nParameter \nvalue \nCurrent \nvalue \nYes \n \n \nX \nSpecify delay time \nNull \n0 \nNo \n0 \n \nX absolute \ncoordinate value \n0 \nCurrent \nvalue \nYes \nCurrent value \nY \nY absolute \ncoordinate value \n0 \nCurrent \nvalue \nYes \nCurrent value \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n18 \n \nI  Programming \n \nAddress\nFunction \nInitial value \nwhen power-on\nDefault \nvalue \nKeep in the next \nblock? \nValue after pressing \nreset key \nRelevant \nexplanatio\nn \nZ \nZ absolute \ncoordinate value \n0 \nCurrent \nvalue \nYes \nCurrent value \n \nC \nC absolute \ncoordinate value \n0 \nCurrent \nvalue \nYes \nCurrent value \n \nH \nC increment value \n0 \n0 \nNo \nCurrent value \n \nR \nArc radius \n0 \n0 \nNo \nCurrent value \n \nP \nDwell time \nNull \n0 \nNo \nNull \n \n \nL \nG30 returning to No. \nn reference position\nNull \n2 \nNo \nNull \n \nMacro program \nnumber, \nsubprogram, \nsubprogram call \ntimes \nNull \nAlarm \nNo \nNull \n \nMacro program call \ntimes assignment \n1 \n1 \nNo \nNull \n \nI \nX vector of circle \ncenter corresponding \nto start point \n0 \n0 \nNo \nCurrent value \n \nJ \nY vector of circle \ncenter corresponding \nto start point \n0 \n0 \nNo \nCurrent value \n \nK \nZ vector of circle \ncenter corresponding \nto start point \n0 \n0 \nNo \nCurrent value \n \nH \nC increment value \n0 \n0 \nNo \nCurrent value \n \n1.5.4  Block Number \n   1、Format: N △△△△△ \n         △△△△△ is 5-digit integer 00001～99999, and its leading zero can be omitted.  \n（1）Can or not input a block number in one block (must input block number in target block in \nwhich program skips), when many block number are input in one block, only the last block \nnumber is valid;  \n（2）A block number can be placed any position of block but it is suggested that it should be \nplaced at the initial position in order to search and read；  \n（3）There can be many same block number in one program, but the block number of target \nblock of program skip has only one; otherwise, the program skips to the nearest block to the \nblock;  \n（4）Block numbers can be placed at will.(it is suggested that it should be placed by the rising or \nfalling monotonously;  \nNote: When the block number exceeds the range, and the program runs or the grammatical check is \ndone, the relevant alarm occurs.  \n1.5.5  Mainprogram and Subprogram \nTo simplify the programming, when machining path, the same or similar control process need to \nbe used many times, can take the part of the code editor for the independent procedure call. Call the \nprogram called the mainprogram, the called program (end with M99) called a subprogram. \n\n\nChapter 1  Programming Fundamental \n19 \nI  Programming \nSubprogram and mainprogram as the occupation of the system program capacity and storage space, \nthe subprogram must have its own independent subprogram name, can be any of the other \nmainprogram call, you can also run independently. Subprogram after return to the mainprogram \nexecution continues. \n \nFig.1-5-2 \n1.6  Program Run \n1.6.1  Sequence of Program Run \nRunning the current open program must be in Auto mode. GSK988MA cannot open two or more \nprograms at the same time, and runs only one program any time. When one program is open, the \ncursor is located at display line of the program name and can be moved in Edit mode. In the run stop \nstate in Auto mode, the program starts to run by the cycle start signal (CYCLE START key) is pressed \nor external cycle start signal)from a block pointed by current cursor, usually blocks are executed one \nby one according to their programming sequence, the program stops running till executing M02 or \nM30. The cursor moves along with program running and is located at the heading of the current block. \nSequence and state of program running are changed in the followings:  \n◆The program stops run after pressing RESET or EMERGENCY STOP button; \n◆The program stops running when the CNC system or PLC alarms; \n◆The program runs and single block stops (the program run stops after the current block \nruns completely) in Edit, MDI mode, and then a block pointed by the current cursor starts \nrunning after the system switches into Auto mode, the CYCLE START key is pressed or \nexternal cycle start signal is switched on;  \n◆The program stops run in Manual(Jog), Handwheel (MPG), Single Block, Program \nReference position Return, Machine Reference position Return mode and it continuously \nruns from the current stop position after the system is switched into Auto mode and the \nCYCLE START key is pressed or the external cycle start signal is switched on;  \n◆The program pauses after pressing the FEED HOLD key or the external cycle start signal \nis switched off, and it continuously runs from current position after pressing the CYCLE \nSTART key or the external cycle start signal is switched on;  \n◆When Single Block is ON, the program pauses after every block is executed completely, \nand then it continuously runs from the next block after the CYCLE START key is pressed \nor the external cycle start signal is switched on; \n◆Block with “/” in the front of it is not executed when the block skipping switch is ON;  \n◆Call corresponding subprograms or macro program to run when executing M98; the \nO0001 \nG92 X100 Y100 Z100 \nM3 S1 \nG0 X0 Y0 Z0 \nG91 G1 X200 Z200 F200 \nM98 P21006 \nG90 \nG0 X100 Y100 Z100 \nM5 \nM30 \n \n \n \n Mainprogram \nO1006 \nG1 G90 X50 Y50 Z50 \nG0 X0 Y0 Z0 \nG18 \nG91 G1 X150 Z250  \nG2 X-30 Z-15 R15 F330 \nG19 \nG1 X-10 Y-10 Z-10 \nM99 \n \n \n \n \n \nSubprogram \nCall \nReturn \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n20 \n \nI  Programming \n \nsystem returns to main program to call the next block when executing M99(if M99 \nspecifies a target block number, the system returns to it to run) after the subprograms or \nmacro programs run completely;  \n◆The system returns to the first block to run and the current program is executed repetitively \nwhen M99 is executed in a main program. \n1.6.2  Execution Sequence of Word \nThere are many words (G, X, Z, F, R, M, S, T and so on) and most of M, S, T are transmitted to \nPLC by NC explaining and others are directly executed by NC. M98, M99, S word for specifying \nspindle speed (r/min, m/min) is directly executed by NC.  \nThe NC firstly executes G and then M codes when G codes and M00, M01, M02 and M30 are in \nthe same block.  \nThe NC firstly executes G and then M codes( without transmitting M signal to PLC) when G \ncodes and M98, M99 are in the same block.  \nWhen G codes and M, S, T executed by PLC are in the same block, PLC defines M, S, T and G \nto be executed simultaneously, or execute M, S ,T after G codes. Pleaste see User Manual of \nmachine manufacturer for execution sequence of codes.  \nExecution sequence of G, M (except for the above M codes), S, T defined by GSK988MA/MB PLC in \nthe same block is determined by PLC, which is divided into two methods:  \n            a) Movement codes and M miscellaneous code are executed simultaneously.  \n             b) Execute miscellaneous codes after executing movement codes.  \nRefer to the machine manufacture’s user manual for the concrete execution method. \nThe second method is executed when there is M9, M99, M13, M33 or M5 for our GSK ladder.  \n \nNote: When G28 or G30 and M01 are in the same block, the pause after zero return is done. When there is \na single block stop code without M01, the single block stop is executed at the middle point and zero \nreturn completion position.\n\n\nChapter 2  G Codes \n21 \nI  Programming \nChapter 2  G Codes \n2.1  Summary \nG code consists of code address G and its following code value, used for defining the motion \nmode of tool relative to the workpiece, defining the coordinates and so on. Refer to G codes as Fig. \n2-1-1. \n      \n \nThe G command words can be classified into 16 groups such as 00, 01, 02, 03, 05, 06, 07, 08, 09, \n10 ,12，14，16，17 and 22. They share the same block except for 01 and 00 groups, different groups \nG commands can be defined at the same block. The last G command is valid when two or more same \ngroup G commands are introduced at the same block. Different G command groups without common \nparameter (command word) can be defined at the same block, and their functions are simultaneously \nvalid regardless of sequence. If the G command or the optional G command other than Table 3-1 is \nemployed, alarm occurs. \n \nTable 2-1-1 G command word list \n \nCommand word \nGroup \nFunction \nRemark \nG04 \n00 \nDwell, exact stop \nNon-modal G \ncommand \nG7.1 \nCylinder interpolation \nG10 \nProgrammable data input ON\nG11 \nProgrammable data input \nOFF \nG27 \nReference point detection \nG28 \nReference point return \nG29 \nReturn from reference point \nG30 \n2nd, 3rd and 4th reference point \nreturn \nG31 \nSkip function \nG37\nAutomatic measuring tool length\nG52 \nLocal coordination system \nsetting \nG53 \nMachine coordinate system \nselection \nG60\nOne-way positioning\nG65 \nMacro \nG92 \nCoordinate system setting \nG00 \n01 \nRapid traverse \n \nModal G \ncommand \nModal G \ncommand \nG01 \nLinear interpolation \nG02 \nCircular interpolation (CW) \nG03 \nCircular interpolation (CCW) \nG33\nTheread cutting\n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n22 \n \nI  Programming \n \nCommand word \nGroup \nFunction \nRemark \nG17 \n02 \nXY plane selection \n \nModal G \ncommand \nG18 \nZX plane selection \nG19 \nYZ plane selection \nG90 \n03 \nAbsolute programming \nModal G \ncommand \nG91 \nRelative programming \nG22 \n04 \nMemory stroke 2 check is \nconnected \nModal power down \nmemorize \nG23 \nMemory stroke 2 check is \ndisconnected \nG94 \n05 \nFeed per minute \nModal G \ncommand \nG95 \nFeed per revolution \nG20 \n06 \nData inch input \nModal power down \nmemorize \nG21 \nData metric input \nG40 \n07 \nTool nose radius \ncompensation cancellation \nModal G \ncommand \nG41 \nTool nose radius \ncompensation left \nG42 \nTool nose radius \ncompensation right \nG43 \n08 \nTool length offset in + \ndirection \nModal G \ncommand \nG44 \nTool length offset in - direction\nG49 \nTool length offset cancellation\nG73 \n09 \nPeck drilling cycle \nModal G \ncommand \nG74 \nLeft-hand (counter) tapping \ncycle \nG76 \nFinish Boring Cycle G76 \nG80 \nCanned cycle cancellation \nG81 \nDrilling cycle (spot drill cycle)\nG82 \nDrilling cycle (counter bore \ncycle) \nG83 \nPeck drilling cycle \nG84 \nTapping cycle \nG85 \nBoring cycle \nG86 \nDrilling cycle \nG87 \nBack boring cycle \nG88 \nBoring cycle \nG89 \nBoring cycle \nG98 \n10 \nReturn to initial plane in \ncanned cycle \nModal G \ncommand \nG99 \nReturn to R plane in canned \ncycle \nG66 \n12 \nMode macro program is \ncalled \nModal G \ncommand \n\n\nChapter 2  G Codes \n23 \nI  Programming \nCommand word \nGroup \nFunction \nRemark \nG67 \nCancel macro program calling \nmode \nG96 \n13 \nConstant surface speed \ncontrol is voilid \nModal G \ncommand \nG97 \nCancel constant surface \nspeed control \nG54 \n14 \nWorkpiece coordinate system \n1 \nModal G \ncommand \nG54.1 \nAdditional workpiece \ncoordinate system \nG55 \nWorkpiece coordinate system \n2 \nG56 \nWorkpiece coordinate system \n3 \nG57 \nWorkpiece coordinate system \n4 \nG58 \nWorkpiece coordinate system \n5 \nG59 \nWorkpiece coordinate system \n6 \nG63 \n15 \nTapping mode \nModal G \ncommand \nG64\nCutting mode\n \n2.1.1  Modal, Non-modal and Initial State \nThe G commands can be set to 16 groups such as 00, 01, 02, 03, 05, 06, 07, 08, 09, \n10 ,11,12 ,13,14,15,16and 22. Thereinto, G commands of 00 group are non-modal G commands, \nthat of other G group are modal commands. G00, G80, G40, G49 ,G67 and G94 are initial G \ncommands. \nAfter the G command is executed,  the function defined or status is valid until it is changed  by \nother G command where in the same group, this kind of command is called modal G command. \nAfter this G command is performed and before the function defined or status is changed, this G \ncommand need not be input again when the next block performs this G command. \nAfter the G command is performed, the function defined or status is valid for once, The G  \ncommand word should be input again while every time the G command is performed, this kind of \ncommand is called non-modal G command. \nThe modal G command is valid without performing its function or state after the system is \npowered on, this is called initial G command. If the G command is not introduced after the power is \nturned on, then the initial G command is executed. The initial commands of GSK988MA are G00, G17, \nG40,G49, G54, G67, G80, G90, G97, and G98. \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n24 \n \nI  Programming \n \n2.1.2  Examples \nExample 1 \nO0001； \nG17 G0 X100 Y100;（Move to G17 plane X100 Y100 at the rapid traverse rate; modal \ncommand G0 and G17 valid） \nX20 Y30; \n（Move to X20 Y30 at the rapid traverse rate; modal command G0 can \nbe omitted） \nG1 X50 Y50 F300; （Linear interpolation to X50 Y50, feedrate is 300mm/min, modal \ncommand G1 valid) \nX100; \n（Linear interpolation to X100 Y50, feedrate is 300mm/min; the Y \ncoordinate is not input, use current value Y50; keep F300, the modal \ncommand G01 can be omitted） \nG0 X0 Y0； \n（Move to X0 Y0 at the rapid traverse rate, modal G command G0 valid） \nM30； \n \nExample 2 \nO0002； \nG0 X50 Y5；（Move to X50 Y5 at the rapid traverse rate） \nG04 X4；（Time delay for 4 seconds） \nG04 X5；（Time delay again for 5 seconds，non-modal command G04 should be input again） \nM30； \n \nExample 3:              (the first operation after the power is turned on)  \nO0003； \nG90 G94 G01 X100 Y100 F500; \n（G94 feed per minute，feedrate is 500mm/min） \nG91 G95 G01 X10 F0.01; \n（G95 feed per revolution, input the F value again） \nG90 G00 X80 Y50； \nM30； \n \n2.1.3  Related Definition \nThe words or characters which are not specially described in this manual are as follows: \nStart point: the position before performing the current block; \nEnd point: \nthe position after performing of the current block; \nX:  the end point absolute coordinate of X axis for G90, the incremental value of X axis \nagainst current point for G91; \nY:  the absolute coordinate of Y axis at the end for G90, the incremental value of Y axis \nagainst current point for G91; \nZ:  the absolute coordinate of Z axis at the end for G90, the incremental value of Z axis \nagainst current point for G91; \nF:  Cutting feedrate. \n\n\nChapter 2  G Codes \n25 \nI  Programming \n2.1.4  Address Definition \nUsage of the address in system is as follows  \n \nTable 2-1-2 \nAddress\nFunction \nValue range \nRounding \nA \n4th，5th axis，axis name address\n-99999999～99999999×least \ninput increment \nRound-off \nB \n4th，5th axis，axis name address\n-99999999～\n99999999×absolute value of \nnegative  number \nRound-off \nC \n4th，5th axis，axis name address\n-99999999～99999999×least \ninput increment \nRound-off \nD \nTool radius offset number \n1~32 \nDecimal \nalarm \nF \nG94 feed per minute \n0~15000 \nDecimal \nefficiency \nG95 feed per rotation \n0.0001~500 \nRound-off \nTooth pitch in G74,G84 \n(unit：G21, mm/r;  G20 , inch/r) \n0.001~500 \nRound-off \nG \nG code \nG command in system \nDecimal \nalarm \nH \nLength offset number \n0~32 \nDecimal \nalarm \nOperation command in G65 \n0~99 \nDecimal \nalarm \nI \nDistance from arc start point to \ncenter point in \nX direction \n-99999999～99999999×least \ninput increment \nRound-off \n \nG110~G115: radius value of circle\n-99999999～99999999×least \ninput increment, absolute value \nof negative number \nRound-off \nG74,G84：inch screw（unit：\ntooth/inch） \n0.06~25400 \nAbsolute value for negative \nRound-off \nJ \nDistance from arc start point to \ncenter point in \nY direction \n-99999999～99999999×least \ninput increment \nRound-off \nK \nDistance  from  arc  start  point \nto  the  center point in Z direction\n-99999999～99999999×least \ninput increment \nRound-off \nL \nPunching number for linear serial \npunch (use together with the \ncanned cycle punch) \n0～99999999×least input \nincrement, absolute value of \nnegative number \nDecimal \npart omitted \nM \nM miscellaneous function \n0~99 \nDecimal \nalarm \nM code subprogram call \n9000~9999 \nDecimal \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n26 \n \nI  Programming \n \nalarm \nN \nProgram sequence number \n0~99999999 \nDecimal \nalarm \nO \nProgram number \n0~9999 \n \nP \nDelay time in G04 (ms) \n-99999999～99999999×least \ninput increment \nNegative number means exact \nstop \nDecimal \nalarm \nWhat kind of number reference \nreturned in G30 \n2~4 \nDecimal \npart omitted \nM98 subprogram call \n(times+program name) \n0~99999999 \nDecimal \nalarm \nSequence number of M99 \nsubprogram return \n0~9999 \nDecimal \nalarm \nG54.1: additional workpiece \nsystem P n \n1~48 \nDecimal \nalarm \nQ \nSpecifying G73 and G83 cut-in \nvalue per time \n-99999999～99999999×least \ninput increment \nRound-off \nR \nRadius value of arc \n-99999999～99999999×least \ninput increment \nRound-off \nR plane value of canned cycle \ncommand \n-99999999～99999999×least \ninput increment \nRound-off \nS \nAnalog spindle \n0~9999 \nDecimal \nalarm \nShift spindle \n0~99 \nDecimal \nalarm \nT \nNumber of tool \n1~32# parameter set value \nDecimal \nalarm \nTool compensation number \n0~32 \nDecimal \nalarm \nU \nCorner radius \nvalue \nof arc \ncorner \n-99999999～99999999×least \ninput increment, absolute value \nof negative number \nRound-off \nX \nDelay time in G04 (s) \n-99999999～99999999×least \ninput increment, absolute value \nof negative number \nRound-off \nX axis coordinate value \n-99999999～99999999×least \ninput increment \nRound-off \nY \nY axis coordinate value \n-99999999～99999999×least \ninput increment \nRound-off \nZ \nZ axis coordinate value \n-99999999～99999999×least \ninput increment \nRound-off \n \n \n \n\n\nChapter 2  G Codes \n27 \nI  Programming \n2.2  Rapid Positioning G00 \nFunction: X, Y and Z axes simultaneously move to end points from start at their rapid traverse rates.\n Two axes move at their respective speeds, the short axis arrives at the end firstly, the \nlong axis moves the rest of distance independently, and their resultant paths are possibly \nnot linear \nFormat: \nG00 IP___; \nExplanation: G00, which is initial G command; \nX, Y, Z：-99999999～99999999×least input increment； \nX, Y and Z axes, one of them can be omitted or all of them can be omitted. When one \nof them is omitted, it means that the coordinate value of start and end points are \nsame. The start and end points share the same position when they are omitted at the \nsame time. \nCommand path figure: \nTool positions at the rapid traverse rate independently for each axis. Usually, the tool path is not \nlinear. \n \n      Fig. 2-2-1 \n \nExample: \ntool traverses from point A to point B. \n \nFig.2-2-2 \nG90 G0 X120 Y253 Z30; \n (absolute coordinate programming)  \n             G91 G0 X160 Y-97 Z-50;   （relative coordinate programming） \n \n \n2.3  Linear Interpolation G01 \nFunction: Movement path is a straight line from start to end points. \nFormat: G01  IP  F__； \nExplanation: G01, which is modal G command; \nX, Y, Z：-99999999～99999999×least input increment； \nX, Y and Z axes which one of them can be omitted or all of them can be omitted. When \none of them is omitted, it means that the coordinate value of start and end points are \nconsistent. The start and end points share the same position when they are omitted at \nthe same time. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n28 \n \nI  Programming \n \nF command value is vector resultant speed of instantaneous rates in X, Y and Z axes \ndirections, the actual feedrate is the product of override and F command value; \nF command value is invariable after it is performed till the new one is executed. The \nfollowing G command with F command word uses the same function \nThe value range is indicated as table 2-3-1： \ntable 2-3-1 \nCommand function \n \nmm input \ninch input \nG94 \nISB system\n１～240000 mm/min \n0.01～9600 inch/min \nISC system\n１～100000 mm/min \n0.01～4000 inch/min \nG95 \nISB system\n0.001～500mm/r \n0.0001～9.99999inch/r \nISC system\n0.0001～500mm/r \n0.00001～9.99999 inch/r\n \nCommand path figure: \nThe linear interpolation is performed from point O to point A: \n \nG01 X α Y β  Z γ  F f  ； \n \n \nFig.2-3-1 \nThe feedrate specified by F is the tool movement speed along the line. The speed of each axis is \nas follows: \n \nNote: The F initial default value is set by data parameter No.026 when the power is turned on. \n \n2.4  Arc and Helical Interpolation G02, G03 \nFunction: Only two axes of circular interpolation can be linked for controlling tool movement along \nwith the arc on the selected plane in any time. If the 3rd axis is specified simultaneously in \nlinear interpolation mode, it will be linked by linear interpolation type to constitute helical \ninterpolation. G02 movement path is CW from start to end points. G03 movement path is \nCCW from start to end points. \n\n\nChapter 2  G Codes \n29 \nI  Programming \nFormat：   \nCircular interpolation: \nArc in the XY plane: \n \nArc in the XZ plane: \n \nArc in the YZ plane: \n \nHelical interpolation \nArc interpolation in XY plane, Z axis linear interpolation linkage; \n \nArc interpolation in XZ plane, Y axis linear interpolation linkage; \n \nArc interpolation in YZ plane, X axis linear interpolation linkage; \n \nExplanation: \nG02 and G03 are modal G commands; \nR is an arc radius, its value：-99999999～99999999×least input increment； \nWhen the circle center is specified by address I, J and K, they are corresponding with the X, Y \nand Z axes separately. \nI is the difference between the center point and the arc start point in the X axis direction, \nI=Xc(center point coordinate of X)- Xst (arc start point coordinate of X), its value：-99999999～\n99999999×least input increment ; \nJ is the difference between the center point and the arc start point in the Y axis direction, \nJ=Yc(center point coordinate of Y)- Yst (arc start point coordinate of Y)  its value：-99999999～\n99999999×least input increment ; \nK is the difference between the center point and circle start point in the Z axis direction, \nK==Zc(center point coordinate of Z)- Zst (arc start point coordinate of Z), its value：-99999999～\n99999999×least input increment. \nNote：When I, J and K are for whole-circle that they have signs according to the direction. And they are  \npositive values when I, J and K share the same directions with X, Y and Z axes; otherwise they are \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n30 \n \nI  Programming \n \nnegative ones. \nItem\nSpecified \ncontent \nCommand \nMeaning \n1 \nPlane \nspecification \nG\n1\n7 \nSpecifying XY plane arc \nG18 \nSpecifying ZX plane arc \nG19 \nSpecifying YZ plane arc \n2 \nRotating \ndirection \nG\n0\n2 \nCW \nG03 \nCCW \n3 \nEnd \npoint\nG90 \nmode \nTwo axes of X, Y \nand Z \n3 \nG91 mode\nTwo axes of X, Y and \nZ \n \n4 \nDistance from  \nstart point to circle \ncenter point \nI \nX axis distance from start point \nto the center point (with sign)\nJ \nY axis distance from start point \nto the center point(with sign) \nK \nZ axis distance from start point \nto the center point (with sign) \nArc radius \nR \nArc radius \n5 \nFeedrate \nF \nFeedrate along the arc \n“Clockwise” and “Counterclockwise”  are  defined  when  XY  plane(ZX  plane,  YZ  \nplane)  is  viewed  in  the positive-to-negative direction of the Z axis (Y axis, X axis) in the \nCartesian coordinate system, see the following figure 2-4-1. \nX\nY\nG 17\nZ\nX\nG 18\nG 02\nG 03\nY\nZ\nG 19\nG 02\nG 03\nG 02\nG 03\n \nFig. 2-4-1 \nThe  end  point  of  an  arc  is  specified  by  using  the  address  X,  Y  or  Z,  and  \nis  expressed  as  an  absolute  or incremental value according to G90 or G91. The incremental \nvalue is the distance value from start to end points of an arc.  The  arc  center  is  specified  by  \naddress  I,  J  and  K  against  the  X,  Y and  Z  respectively.  The  numerical  value following  \nI,  J  and  K,  however,  is  a  vector  component  from  start  point  of  an  arc  to  the  center  \npoint,  which  is  an incremental value with sign. See the following figure 2-4-2： \n\n\nChapter 2  G Codes \n31 \nI  Programming \nI\nJ\nEnd point (X,Y)\nK\nI\nEnd point (Z,X)\nJ\nK\nCenter \nStart point\nEnd point (Y,Z)\nStart point\nStart point\nCenter \nCenter \nFig. 2-4-2 \nThe F command is circular interpolation rate in helical interpolation, in order to achieve the  \nlinkage interpolation between linear axis and arc, the speed of linear interpolation by the 3rd axis  \nhas the following relationship to the F command: \nlength\n \narc\ncircular \nlength\n \naxis\nlinear \nF\nf\n×\n=\n \nHelical interpolation path is as follows figure 2-4-3：  \nX\nZ\nY\nTool path\nThe feedrate along the circum ference of tw o circular \ninterpolated axes is the specified feedrate \n \nFig. 2-4-3 \nI, J and K have signs according to the direction. The circular center also can be specified by \nradius R other than I, J and K, as follows: \nG02 X_ Y_ R_ ; \nG03 X_ Y_ R_ ; \nNow, the following two arcs can be described, one arc is more than 180°, the other is less than \n180°. The arc radius which is less than 180° is specified by the positive value; the arc radius which is \nmore than 180° is specified by the negative value. The radius is either positive or negative when the \narc command is equal to 180°. \n(Example) Arc ① less than 180° \nG91 G02 X60.0 Y20.0 R50.0 F300.0;  \nArc ② more than 180° \nG91 G02 X60.0 Y20.0 R-50.0 F300.0； \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n32 \n \nI  Programming \n \n \nExample for the programming： \n \nFig. 2-4-4 \nTo program the above paths using the absolute mode and incremental mode respectively: \n(1) Absolute mode \nG92 X200.0 Y40.0 Z0 ； \nG90 G03 X140.0 Y100.0 I-60.0 F300.0 ； \nG02 X120.0 Y60.0 I-50.0 ； \nOr G92 X200.0 Y40.0 Z0 ； \nG90 G03 X140.0 Y100.0 R60.0 F300.0 ； \nG02 X120.0 Y60.0 R50.0 ； \n(2) Incremental mode \nG91 G03 X-60.0 Y60.0 I-60.0 F300.0 ； \nG02 X-20.0 Y-40.0 I-50.0 ； \nOr G91 G03 X-60.0 Y60.0 R60.0 F300.0 ； \nG02 X-20.0 Y-40.0 R50.0 ； \nThe feedrate of circular interpolation is specified by F command; it is the speed of the tool \nalong the arc tangent direction.. \nNote 1: I0, J0 and K0 can be omitted; but, it is very necessary to input one of the addresses I, J, K or R, or the system \nalarm is generated. \nNote 2: The X, Y and Z can be omitted simultaneously when the end and start points share same position. When the \ncenter point is specified by address I, J and K, it is a 360° arc. \nG02 I_; (Full circle) \nThe circle is 0° when using R.  \nG02 R_; (not move) \nIt is recommended that programming uses R.  In  order  to  guarantee  the  start  and  \nend  points  of  the  arc  are consistent with the specified value, the system will move by \ncounting R again according to the selected plane, when programming using the I, J and K. After \n\n\nChapter 2  G Codes \n33 \nI  Programming \ncalculation, the radius difference cannot exceed the permissive value set by No.3410.  \nPlane selection \nCount the radius R value again \nG17 \n2\n2\nJ\nI\nR\n+\n=\n \nG18 \n2\n2\nK\nI\nR\n+\n=\n \nG19 \n2\n2\nK\nJ\nR\n+\n=\n \n \nNote 3: The error between the actual tool feedrate and the specified feedrate is ±2% or less. The command speed is \nmovement speed after tool radius offset along the arc. \nNote 4: The R is effective when address I, J and K are commanded with the R, but the I, J and K are disabled at one \ntime. \nNote 5: The axis not exists is specified on the set plane, the alarm occurs. \nNote 6: If  the  radius difference  between  start  and  end  points  exceeds  the  permitted  value  by \nparameter (№.3410), a P/S alarm occurs. \n2.5  Dwell G04 \nFunction: Axes stop, the current G command mode and the data, status are invariable, after \ndelaying time specified, the next block will be executed. \nFormat： G04  P__ ；or \nG04  X__ ； \nG04； \nExplanation: G04, which is a non-modal G-command; \nG04 delay time is specified by command words P_, X_; \nSee the following figure table for time unit of P_ and X_ command value： \nTable 2-6-1 \nAddress\nP \nX \nUnit \nDWT=1 \n0.001s \ns \nDWT=0 \nISB \n0.001s \nISC\n0.0001s\nNote 1: X can be specified by the decimal but P not, or the alarm will be generated. \nNote 2: When  the  P and  X  are  not  introduced  or  they  are  negative  value,  it  means  exact  stop  \nbetween  the programs to ignore the delay. \nNote 3: The P is effective when the P and X are in the same block.  \nNote 4: The  operation  is  held  on  when  feeding  during  the  G04  execution.  Only  the  delay  time  \nexecution  is finished, can the dwell be done. \nSee the following figure table for time unit of P_ and X_ value range： \ntable 2-6-2 \n \n \n \nAddres\ns \nIncrement system \nmm input \ninch input \nX \n \nISB system \n0～99999.999 \n0～9999.9999 \nISC system \n0～9999.9999 \n0～999.99999 \nP \nISB system \nParameter 1015.7=0：0～99999999\nParameter 1015.7=0：0～99999999 \nISC system \nParameter 1015.7=1：0～9999999 \nParameter 1015.7=1：0～9999999 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n34 \n \nI  Programming \n \n2.6  Cylindrical Interpolation G07.1 \nFunction：In the cylindrical interpolation, the travel amount of rotary axis specified by an angle is \nconverted to a distance of a linear axis on the outer surface in CNC, so that linear \ninterpolation or circular interpolation can be performed with another axis. After \ninterpolation, convert this distance to the travel amount of the rotary axis. \n \nFig. 2-7-1 \nBecause the side of a cylinder is allowed to use in programming, programs for cylindrical \ncam grooving can be created very easily,the following figure 2-7-2。 \n \nFig. 2-7-2 \nFormat：G07.1 IPr;  —— Starts the cylindrical interpolation mode \n \n \n  … \n   —— (cylindrical interpolation is valid) \n \n     G07.1 IP0; —— The cylindrical interpolation mode is cancelled \n \nThereinto, IP is the address of rotary axis; r is the radius of the cylinder. Namely, when r≠0 \ninterpolation starts, r=0 interpolation stops  \nG07.1is G code of 00. G107 can be used instead of G07.1. \nExplanations for plane selection: Plane selection is needed in circular interpolation, tool nose radius \ncompensation and automatic chamfer. The following table shows the planes of G code selection. \nTable 2-7-1 \nG code \nSelected plane\nXP \nYP \nZP \nG17 \nXP-YP plane \nX axis or its\nparallel axis \nY axis or its\nparallel axis \nZ axis or its\nparallel axis \nG18 \nZP-XP plane \nG19 \nYP-ZP plane \n\n\nChapter 2  G Codes \n35 \nI  Programming \nSpecify rotary axis as a parallel axis of X, Y, Z by parameter No.1022. Specify G code selection \nplane, and now the rotary axis is regarded as a specified linear axis for the plane. For example, when \nrotary axis is parallel to the axis of X, XP-Y plane should be specified by G17. This plane is \ndetermined by rotary axis and Y axis. \nFor cylindrical interpolation, only a rotary axis can be set. Parallel axes for different planes are \nlisted as follows. \n \nFig.2-7-3 \nNote: The above are the plane of “X” displaying, which can not be specified. If it is specified, P/S alarm occurs. \n \nRelated explanations for circular interpolation: \nIn cylindrical interpolation mode, circular interpolation is possible with the rotary axis and another \nlinear axis. The unit for rotary axis is not degrees but millimeters (for metric input) or inches (for inch \ninput). \n \nCircular interpolation between the Z axis and C axis \nWhen the C axis of parameter No.1022. is set to 5 (parallel axis of X axis), in this case, the \ncommand for circular interpolation is: \n \nG18 Z_ C_;  →  G18 Z_ XP_;  （XP is the parallel axis for X axis） \nG02/G03 Z_ C_ R_;   →  G02/G03 Z_ XP_ R_; \nWhen the C axis of parameter No.1022. is set to 6 (parallel axis of Y axis), in this case, the \ncommand for circular interpolation is: \nG19 C_ Z_; →  G19 YP_ Z_;  （YP is the parallel axis for Y axis） \nG02/G03 Z_ C_ R_;   →  G02/G03 Z_ YP_ R_; \nCircular interpolation between the X axis (or Y axis) and C axis is similar to the above. \nFeedrate: The specified federate F (mm/min) in the cylindrical interpolation is the speed of the \nunfolded cylinder surface, which is called linear speed. The linear interpolation and circular \ninterpolation is performed with speed F (mm/min). \nThereinto: \n2\n/\n/\n2\nz\ny\nx\nc\nF\nF\nF\n+\n=\n \nFc ：  In linear and circular interpolation, linear velocity (mm/min) of C axis, \nFx/y/z ：In linear and circular interpolation, linear velocity (mm/min) of X/Y/Z axes.  \n \nAfter interpolation, The C axis output linear distance by converting it to the angle of rotary axis. \nThat is, the relation between output speed ω (deg/min) of C axis and Fc (mm/min) are as follows: \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n36 \n \nI  Programming \n \nπ\nω\nR\nFc\n180\n=\n (deg/min) \nSpeed restriction: The increase of the speed F will make the output speed ω of C axis exceeds the \nupper speed (parameter No.027.) that is specified by the system, so the program speed F should be \nrestricted. \n180\nmax\nπ\nω\n×\n×\n< R\nF\n（mm/min） \nThereinto:  \nR：Indicates the cylinder radius of specified cylindrical interpolation (unit: mm)  \nωmax：Upper cutting feedrate of each axis (parameter No.1422.，it of rotary axis: deg/min )  \nNote: Speed command F should be specified in the mode G94. If it is specified in G95, P/S alarm occurs. \nAuxiliary function  \n \nCommand can be performed correctly in cylindrical interpolation mode with auxiliary function (M). \nPlease command tool T, H commands before cylindrical interpolation. If it is commanded \nin cylindrical interpolation mode, P/S alarm occurs. \nTool nose radius compensation \nTo perform tool nose radius compensation in the cylindrical interpolation mode, cancel any \nongoing tool nose radius compensation before entering the cylindrical interpolation mode. \nThen, start and stop tool nose radius compensation in the cylindrical interpolation mode. \nThe tool offset value can not be changed in cylindrical interpolation mode. \nRestrictions \n \nThe cylindrical interpolation command can not be specified in MDI mode, otherwise, alarm \noccurs. \n \nIn the cylindrical interpolation mode, arc radius is specified by the address R but not specified by \nI, J, K, otherwise, alarm occurs. \n \nIn the cylindrical interpolation mode, positioning operation G00 cannot be specified (including the \ncommands that produce rapid traverse such as G28, G53 and canned cycle G73~G89). Before \npositioning is specified, the cylindrical interpolation mode must be cancelled. Cylindrical interpolation \n(G07.1) can not be performed in the positioning mode (G00). \n \nTo determine rotary axis of interpolation, a plane must be selected before entering the cylindrical \ninterpolation mode. The plane can not be switched after entering the cylindrical interpolation mode. \n \nTool length compensation must be specified before cylindrical interpolation. The function of tool \nlength compensation can not be performed in cylindrical interpolation. The cylindrical interpolation \ncommand can not be specified simultaneously in the block where the length compensation command \nis specified, otherwise, alarm occurs. \n \nThe validity of the cylindrical interpolation can not be specified repeatedly in the cylindrical \ninterpolation mode and only a rotary axis can be set in this mode. \n \nThe workpiece coordinate system (G54~G59,G92) and local coordinate system (G52) can not be \nspecified in the cylindrical interpolation mode. \n \nProgrammable mirror image, scaling and coordinate system rotary function can not be specified \nin the cylindrical interpolation mode. \n \nCancel cylindrical interpolation mode in the following modes: \n1) G07.1 IP0 cancel \n2) Reset \n3) Program executed \nExample: \n\n\nChapter 2  G Codes \n37 \nI  Programming \nO0001 (G07.1) \nN01 G90 G54 G49 G40 G17 G0 X0 Y30 Z0 C0 \nN02 G01 Z5 F800 \nN03 G19 G07.1 C57.299 \nN04 G41 D1 G01 Y120 \nN05 C30 \nN06 G02 Y90 C60 R30 \nN07 G01 Y70 \nN08 G03 Y60 C70 R10 \nN09 G01 C150 \nN10 G03 Y70 C190 R75 \nN11 G01 Y110 C230 \nN12 G02 Y120 C270 R75 \nN13 G01 C360 \nN14 G40 Y100 \nN15 G07.1 C0 \nN16 G90 G00 X-10 Y30 Z-10 C90 \nN17 M30 \n \nC axis is the parallel axis of Z axis  \n \n \nFig. 2-7-4 \nThe above figure is side stretched-out drawing of the cylinder in the above example. It can  \nbe seen from the figure that: when travel amount of rotary axis (C axis) specified by angle is \nconverted to a distance of a linear axis on the outer surface, the interpolation formed by it and another \nlinear axis (Y axis) can be seen as an interpolation in the plane coordinate system Y-Z on plane G19. \n2.7  Plane Selection Command  G17, G18 and G19 \nFunction：The plane of arc interpolation and tool radius compensation are chosen by using the G \ncode. \nFormat： \n \nG17  \n \n……XY plane  \n \nG18  \n \n……ZX plane  \n G19  \n \n……YZ plane； \nCommand explanation: G17, G18, G19 are modal G codes.  \n                  Xp: X or its parallel axis \n                  Yp: Y or its parallel axis \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n38 \n \nI  Programming \n \n                      Zp: Z or its parallel axis \nNote 1: Xp, Yp, Zp are determined by the axis addresses of G17, G18, G19 in the block; when the axis \naddresses are omitted, the system defaults the omitted are the addresses of the basic axis; the plane \nkeeps when the system does not code G17, G18, G19 blocks.  \nNote 2: The parameter (No. 1022) sets each axis to have three basic axes (X, Y, Z) or the parallel axis.  \nNote 3: The plane remains unchanged in the G17, G18, G19 not be specified.   \nNote 4: When the system is turned on, its initialization is defaulted to G17 state, i.e. XY plane； \nNote 5: When the system repetitively specifies G17～G19 in the same block, and No.3403 Bit 6(AD2) is 0, the \nlast G17～G19 word is valid, the system alarms when the parameter is set to 1； \nNote 6:The motion command is not related to the plane selection, besides the arc interpolation and tool nose \nradius compensation command, when the system commands the axis beyond the planes, it does not alarm and \nthe axis can move; when the system selects the axis motion beyond the plane in the arc interpolation command, \nFor example: \n……； \nG17； \nG01 X100 Y50 Z20 F100；the system does not alarm and the Z axis can move \n……； \nG02 X20 Z50 R100；the system executes  arc interpolation command \n……； \n \nFor example: \nG17 X_ Y_ ；select XY plane \nG17 A_ Y_ ；select AY plane  \nG18 X_ Z_ ；select ZX plane  \nG17；       select XY plane \nG17 A_      select AY plane \nG18 Y_      select ZX plane, Y motion is not relative the plane \n2.8  Conversion of Inch and Metric G20 and G21 \nFunction: G code selects the metric or inch system. \nFormat: G20; inch input \nG21; metric input \nExplanation：G17,  G18  and  G19  are  modal  G  commands,  the  plane  will  not  be  \nchanged  when  a  block without any command inside. \nNote 1: The plane selection command can share the same block with other group G commands.  \nNote 2: The move command is regardless of the plane selection. For example, the Z axis is not On XY plane, the Z \naxis movement is regardless of the XY plane in command  G17 Z_ . \n2.9  Stored Travel Check G22, G23 \nFunction: Create the forbidden area of stored travel limit check 2 and limit the tool traverse range in \none area. \nFormat：G22；      stored travel 2 check is turned on   \n         ---------；     \n---------；     \nG23；       stored travel 2 check is turned off \nExplanation:G22: stored travel check is turned on; \n            G23: stored travel check is turned off;  \n            Positive coordinates of the stored travel area is set by No.1322;  \n  Negative coordinates of the stored travel area is set by No. 1323。 \n\n\nChapter 2  G Codes \n39 \nI  Programming \n \nLimit area figure: taking examples of X, Y, Z limit area are as follows. X, Y, Z are positive coordinates, \nI, J, K are negative.                     \n                      \n \nFig. 2-10-1 \nNote 1: The modal G22/G23 in group 9 can be set by No. 3402 Bit 7(G23); \nNote 2: G22 stored travel check is limited to the stored travel limit check 2, and the detailed is referred to \nOPERATION; \nNote 3: The data is set by the distance (least code increment is taken as the unit) to the reference position when the \nparameter sets the top point of the forbidden area; \nNote 4: Whether the limit range is the inner side or outer side of the area is set by No. 1300 Bit0 (OUT) , and it is the \ninner side when it is set to 0; \nNote 5: The limit is valid after the system executes the reference position return; the system alarms when the \nreference position is in the limit area in G22 mode;  \nNote 6: The tool reversely traverses when the travel alarm occurs, and the alarm is cleared after reset again;  \nNote 7: G22/G23 is codeed in an alone block, and an alarm occurs when it and other G codes or MST are in the same \nblock; \nNote 8: When the system is switched from G23 to G22 in the forbidden area, an alarm occurs;   \nNote 9: When No.1310 Bit 0(OT2x) of the stored travel limit check 2 is set to 1(executing the stored travel limit 2 \ncheck), the system executes G22 and then the check; the system does not execute the check when it is G23. \n2.10  Reference Point Function \n2.10.1  Reference Point Return Review G27 \nFunction：travese to the middle point at rapid traverse speed from start point of the current program \nand then return to the reference point. \nFormat：G27  IP__  ； \nExplanation：G27 is a non-modal G command； \n \nnote 1：the tool rapidly traverses to the specified position by specifying G27. When the tool \nreaches the reference point, and the reference point return is completed and the indicator is ON. \nnote 2： only one axis returning to the reference point means the indicator for the axis having \ncompleted the reference point return is ON.  \nnote 3：after the positioning ends, when the specified axis does not reach the reference point, \nNo.540 alarm occurs, prompting \"G27 reference point return check is mistaken. \nnote 4：check whether the current position  is the reference point without an axis moving.  \nnote 5：the axis for G27 reference point return check must firstly create a reference point, \notherwise, No.539 alarm occurs \"not create a reference point before specifying G27 reference \npoint\"  \nnote 6：in machine locked state, executing G27 performs the point positioning without executing \nthe reference point check. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n40 \n \nI  Programming \n \n2.10.2  Reference Point Return G28 \nFunction: The middle point position specified by X, Y and Z is reached from the start point at the \nrapid traverse rate, then it returns to the reference point. \nFormat：G28  IP__  ； \nExplanation:G28 is a non-modal G-command; \nX: The  absolute  coordinate  of  middle  point  in  X  axis  is  indicated  by  \nG90,  the  middle  point increment against current point in X axis is indicated by \nG91; \nY: The  absolute  coordinate  of  middle  point  in  Y  axis  is  indicated  by  \nG90,  the  middle  point increment against current point in Y axis is indicated by \nG91; \nZ:  The  absolute  coordinate  of  middle  point  in  Z  axis  is  indicated  by  G90,  \nthe  middle  point increment against current point in Z axis is indicated by G91.  \nTable 2-11-2 \n \n \nOne of the command addresses X, Y and Z or all of them can be omitted, as follows: \n \n \nProcess for command action (See the figure 2-11-1): \n(1)  Positioning  from current  position  to  intermediate  point  of  command  axis  at  the  \nrapid  traverse  rate  (From point A to B) \n(2) Positioning to the reference point from intermediate point at the rapid traverse rate (From \npoint B to R) \n(3) If the machine tool is unlocked, the zero return indicator lights up when the reference point \nreturn is finished. \n \nPoints for attention: \n\n\nChapter 2  G Codes \n41 \nI  Programming \n（1）After power on,manual  reference point return hasn't been executed. When execute \ncommand G28 to return to reference point, the system operates whether alarm or manual \nreference point return through the third bit (AZR) of parameter No.1002, and uses deceleration \nblock to return to reference point. However, when use reference point setting function free of \nblock,  (the first bit(DLZ) of parameter NO.1002 is 1 or the first bit (DLZx) of parameter NO.1005 \nis 1) the setting is not related to AZR,  execute command G28 before setting the reference point, \nthe system alarms. \n（2）During the process from the starting point to the intermediate point and from the intermediate \npoint to the reference point, each axis moves at its own rapid speed, which is G00 mode;  \n（3）In tool radius compensation mode, command G28 or G30,auto cancel tool radius \ncompensation, and auto restore the tool radius compensation mode during the next movement \ncommand.  \n（5）Generally, G28 command should be specified in single block; In one block, if G codes ,such \nas G00 or G01, of same axial parameter address character are specified meanwhile, IP_ will be \nspecified as parameter of G28 command, but commands G00 or  G01 only changes the \ncorresponding mode value of G code group without movement. \n \n2.10.3  Return from Reference Point G29 \nFunction: When a rapid traverse is performed from the current point to mid point, it positions to the \nspecified position by X, Y and Z at the rapid traverse rate.  \nFormat:   G29  IP__ ； \nExplanation: \nX: The absolute coordinate of aim point in X axis is indicated by G90; the aim \npoint increment against the mid point in X axis is indicated by G91; \nY:  The absolute coordinate of aim point in Y axis is indicated by G90; the aim point \nincrement against the mid point in Y axis is indicated by G91; \nZ:  The absolute coordinate of aim point in Z axis is indicated by G90; the aim point \nincrement against the mid point in Z axis is indicated by G91; \nOne of the command address X, Y and Z or all of them can be omitted, see the following \nfigure:  \nTable 2-11-3 \nCommand \nFunction \nG29 \nX,Y and Z axes are in the original position, \nthe next block continued \nG29 X \nOnly X axis performs the command \nreturning from the reference point \nG29 Y \nOnly Y axis performs the command \nreturning from the reference point \nG29 Z \nOnly Z axis performs the command \nreturning from the reference point \nG29 X  \nZ \nOnly X and Z axes perform the command \nreturning from the reference point \nG29 X   Y \nOnly X and Y axes perform the command \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n42 \n \nI  Programming \n \nCommand \nFunction \nG29 \nX,Y and Z axes are in the original position, \nthe next block continued \nreturning from the reference point \nG29 Y   Z \nOnly Y and Z axes perform the command \nreturning from the reference point \nG29 X   Y  Z \nX, Y and Z perform the command returning \nfrom the reference point \n \n \nProcess for command action: \n \n \nFig.2-11-2 \n(1) The command axis direction performs positioning at the intermediate point specified by G28 \n(from point R to B), the action is  ①→②. \n(2) The positioning is performed from intermediate point to specified point (from point B to C), \nmoving to the intermediate and command point at a rapid feedrate, the action is  ③→④. \n \nNote 1:G29 is specified after G28, if an intermediate point is not specified by any of axes, the system alarm will be \ngenerated. \nNote 2: It is incremental distance against the intermediate point in G91 coordinate programming. \n2.10.4  The 2nd, 3rd and 4th Reference Point Return G30 \nFunction: \nFrom the start point, after the intermediate point by X, Y and Z is reached at a rapid \ntraverse rate, the machine 2nd, 3rd and 4th  reference points are returned. The command word P2 \ncan be omitted when the machine 2nd reference point is returned。 \n\n\nChapter 2  G Codes \n43 \nI  Programming \n \nFig.2-11-3 \nFormat： \n \n \n G30 P2  X_ \nY_ Z_ ; the machine 2nd reference point return (P2 can be omitted)  \n \n \nG30  P3 X_ \nY_ \n Z_ ; the machine 3rd reference point return  \nG30 P4  X_ \nY_ Z_ ; the machine 4th reference point return. \nExplanation: \nG30, which is a non-modal G-command;  \nX:   X axis coordinate for intermediate point;  \nY:  Y axis coordinate for intermediate point;  \nZ:  Z axis coordinate for intermediate point; \nOne of the command address X, Y and Z or all of them can be omitted, see the following \nfigure: \nCommand \nFunction \nG30 Pn X  \nMachine nth  reference point return for X axis, Y and Z axes in \nthe original position \nG30 Pn Y_ \nZ_ \nMachine nth  reference point return for Y and Z axes, X axis in the \noriginal position \nG30 \n3 axes in the original position, the next block continued \nG30 Pn X_ \nY_ Z _  \nX,  Y and Z axes return to the machine nth reference point \nsimultaneously. \nFig. 2-11-4 \nCommand traverse process:  \n   （1）Rapidly position from the current position to the intermediate point of command axis;  \n   （2）Rapidly position from the intermediate point to the reference point specified by P;  \n    Points for attention  \n   （1）The position of reference point is set in parameter NO.1241～NO.1243; \n   （2）After power on, firstly return to reference point for one time before executing G30; \n   （3）P is omitted in the command, the system  processes based on P2, default to return to the \nsecond reference point;  \n   （4）The processes from the starting point to the intermediate point and from the intermediate \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n44 \n \nI  Programming \n \n实际移动 \npoint to the reference point, each axis moves at its own independent rapid speed, which is \nG00 mode; \nNote 1: After returning the machine reference point by manual or the G28 command is performed, the machine 2nd, \n3rd  and 4th  reference point return function can be employed only, or the 2nd, 3rd  and 4th  reference point \noperation of G30 command , the system alarm will be generated. \nNote 2: From point A to B or from point B to R2, the 2 axes are moved at their separately rate, so the path is not \nstraight line possibly. \nNote 3: After machine 2nd, 3rd and 4th reference point returned by the G30 command, the system tool length \ncompensation cancellation is defined by bit 3 of the parameter No.5003 \nNote 4: The 2nd, 3rd and 4th reference point operation of G30 command can not be executed if the zero switch is not \ninstalled on the machine tool. \nNote 5: The workpiece coordinate system is set after the machine 2nd, 3rd  and 4th reference point are returned. \n2.11  Skip Function G31 \nFunction: during executing the command, when an external skip signal(X3.5) is input, the system \ninterrupts the command execution to skip the next block. The function is used to dynamic \nmeasure(such as milling turning), toolsetting measure of workpiece dimension. \nFormat：G31  IP__   F__； \nExplanation: non-modal G code(00 )； \n            its address format is consistent with that of G01, and its use is similar to that of G01. \n            cancel the tool nose radius compensation before using the code;  \n            the feedrate is not big to get the precise stop position; \n1.  The  next  block  to  G31  is  incremental  command  1: it  moves  with  incremental  value  \nfrom the  position interrupted by the skip signal. \n \nExample: \nG31 G91 X100.0 F100  ； \nY50.0  ； \n \n2.  The  next  block  to  G31  is  absolute  command  for  one  axis: \nThe \n \ncommand  \naxis  moves  to  the  specified position, and the axis not specified keeps at the skip signal input \nposition. \nExample: G31 G90 X200.0 F100  ； \nY100.0  ； \n \n     3. The next block to G31 is absolute command for 2 axes: \nWherever the skip signal input is, \n\n\nChapter 2  G Codes \n45 \nI  Programming \nthe tool moves to specified position of next block. \nExample: G31 G90 X200.0 F100  ； \nX300.0 Y100.0  ； \n \nSkip signal explanation: \n         skip signal（SKIP）： X3.5  \n     Type: input signal \n     Function: X3.5 signal ends the skip cutting. Namely, in the block containing G31, when the skip \nsignal becomes \"1\", the absolute coordinate position is stored in the system macro \nvariables (#5061～#5065，the last digit corresponds to the nth axis of the system), at the \nsame, the system ends G31 block movement. No.6200 bit1 (SK0) sets the valid input \nstate of the skip signal, and when it is set to 0, it is valid. \n     Operation: when the skip signal becomes \"1\", the CNC executes the followings: when the block \nis executing the skip command G31, the CNC stores the current absolute coordinates of \neach axis. The CNC stops G31 and executes the next block, the skip signal checks its \nstate instead of up edge. When the skip signal becomes \"1\", the system considers  it \nmeets immediately skip conditions. \n     Note 1: when a skip signal is input, the feedrate override, dry run, automatic \nacceleration/deceleration is invalid during using skip function to move to improve the tool's \npositioning precision. These function become valid when No.6200 bit7(SKF) is set to 1. \n     Note 2: when the skip signal is valid, the CNC stop axis's feed immediately stops(do not \nexecute acceleration/deceleration). So, G31 feedrate should be low as possible to \nimprove the stop position precision. \n2.12  Automatic Tool Offset G36, G37  \nFunction: When the code is executed to make the tool move to the measured position, the CNC  \nsystem automatically measures the difference between the current actual coordinates  \nand the code coordinates to be the tool offset value. The function is used to the  \nautomatic toolsetting.  \nFormat:  G36 X__;  \n \n \n      G37 Z__;  \nExplanations: X absolute coordinate(only used to G36), Z absolute coordinate (only used to \nG37);  \n                Non-modal G code (00 group); \n                Cancel the tool nose radius compensation before using it; \n                Only use the absolute programming; \n                Specify the tool offset number before using the code; \nMeasure position arrival signal:  \nXAE(X0.6)  ――――corresponding to G36 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n46 \n \nI  Programming \n \nZAE(X0.7)  ――――corresponding to G37 \nType: input signal \nFunction: When the position measured by the program code is different from that where the tool \nactually reaches (i.e. at the time, the measured position arrival signal becomes the state \nset by No.6240#0), the difference of the coordinates is added to the current tool \ncompensation value to update the compensation value. When G36X_(or G37Z_) is \nexecuted, the tool firstly rapidly traverses to the position γ measured by the code, and \ndecelerates and temporarily stop the position before the measured position, and then, \nreaches to the measured position at the speed set by No.6241 (or No.6242). When the \nmeasured position arrival signal corresponding to G code becomes the state set by No. \n6240#0, and the tool is in the measured position range ±ε, the system updates the offset \ncompensation value and ends the block. When the measured position arrival signal does \nnot become “1”, and after the tool reaches the measured position distance ε, the CNC \nalarms, ends the block and does not update the offset compensation value.  \n \nFig.2-13-1 \nG36, G37 automatic tool offset code use  \nFrom the initial position to the measured position specified by Xa (or Za) in G36(or G37), the tool \nrapidly traverses to A zone and stops at T point (Xa–γx (or Za–γz) , and then traverses to B, C and D \nat the feedrate set by No.6241( or No.6242). The system alarms when the tool traverses in B zone \nand the measured point arrival signal of the end point is set to. The system alarms when the tool \nstops at V point. Parameter No. 6241, No. 6242, No.6254, No.6255 are set by the radius value. \n \nFig.2-13-2 \n\n\nChapter 2  G Codes \n47 \nI  Programming \n2.13  Tool Nose Radius Compensation C (G40, G41 and G42) \nFormat: \n \nFunctions： \nTool nose radius compensation function \nTo cancel or perform the tool radius compensation vector by using the commands G40, G41 \nand G42. They are combined  with  the  commands  G00,  G01,  G02  and  G03  for  \nspecifying  a  mode  which  can  be  confirmed  the compensation vector value, direction \nand the direction of tool movement. \nG codes \nFunctions \nG40 \nTool radius compensation cancellation \nG41 \nTool radius left compensation \n G42 \nTool radius right compensation \n \nG41 or G42 drives the system into compensation mode; G40 cancels the system compensation \nmode. \n \nExplanation： \n \nCompensation plane \nThe  compensation  plane  can  be  confirmed  based  upon  plane  selection  command;  \nthe  tool  compensation  C  is calculated in this plane. \n \n \n \n \n \n \n \n \n \nCompensation value (D code) \nThis system can be set for 32 compensation values at most. Two digits specified by D code in \nthe program, is called serial number of compensation value, the compensation value should be set by \nMDI/LCD unit. \nD code determines the compensation value in tool offset page according to the bit 1 of \nparameter No.002, it is very important to notice that the value applied is diameter or radius. \nSetting range of compensation value is as follows: \nCompensation value: 0～9999999×least input increment. \n \n \nCompensation vector \nThe compensation vector is two-dimensional vector; it is equal to the compensation value \nPlane selection \nPlane compensation \nG17\nX－Y plane \nG18\nZ－X plane \nG19\nY－Z plane \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n48 \n \nI  Programming \n \nspecified with D code. The compensation vector is calculated in control unit, its direction is real-time \nmodified along with the tool path in each block. You can calculate how much compensation is \nneeded for tool movement when the compensation value is applied in control unit.  Compensation  \npath  (tool  center  path)  =  programmed  path  \n\ntool  radius  (or  diameter)  (determined by \ncompensation direction). \n \nNote: \n \nCompensation operation is executed in the plane selected by G17, G18, G19. For \nexample, when XY plane is selected, (X,Y) or (I, J) is used to carry out compensation \noperation and vector operation. The coordinate value whose axis in not in the \ncompensation plane is not affected by the compensation.  \n \nIn 3-axis linkage control, compensation only performed for the tool path projected on \nthe compensation plane.  \n \nThe alteration of compensation plane should be executed posterior to the \ncompensation mode cancelled. Otherwise, the system will give an alarm and machine \nstops.  \n \nWhen the cutter compensation is cancelled by G40, movement amount should be \nspecified, otherwise, an alarm will occur.  \n \nIn the canned cycle G codes, G40, G41, G42 codes are disabled. \n \n \n \n \nExample :  \nBlock (1) is named start; the compensation cancellation mode becomes compensation mode by \n\n\nChapter 2  G Codes \n49 \nI  Programming \nG41 in this block. At the end of this block, tool center is compensated in the direction that tool \nradius is vertical to next program path  (From P1 to P2). Tool compensation value is specified \nwith D07, so set the compensation number to 7, then the G41is indicated with tool path \ncompensation left. \nAfter the compensation begins, tool path compensation performs automatically when creating \nthe workpiece as P1→P2……P8→P9→P1. \n \n     N00 G92 X0 Y0 Z0； \n N01 G90 G17 G00 G41 D7 X250.0 Y550.0 ；  （The  compensation  value  should  be  \npre-set  with compensation number） \n N02 G01 Y900.0 F150 ； \n N03 X450.0 ； \n N04 G03 X500.0 Y1150.0 R650.0 ； \n N05 G02 X900.0 R-250.0 ； \n N06 G03 X950.0 Y900.0 R650.0 ； \n N07 G01 X1150.0  ； \n N08 Y550.0 ； \n N09 X700.0 Y650.0 ； \n N10 X250.0 Y550.0 ； \n N11 G00 G40 X0 Y0 \n \n2.14  Tool Length Compensation (G43, G44, G49) \nFunction： \n \n \n \nFunction:Tool length compensation function. \nExplanation： \nG43 and G44 are modal G codes; they are effective before meeting other G codes in the same group. \n \nFig.2-15-1 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n50 \n \nI  Programming \n \nThe  end  point  specified  by  Z  axis  moves  an  offset  value,  as  above  figure  G17  \nplane  is  selected.  Difference between supposed and actual machined tool length value is pre-set at \nthe offset storage when the program is applied. Different  length  tool  can  be  employed  by  \nchanging  tool  length  compensation  value,  so,  program  change  is  not needed. \nDifferent offset directions were specified by G43 and G44, the offset number is specified by H \ncode.  \nOffset axis \nThe offset axes are vertical to the specified planes (G17, G18 and G19) \nSpecifying plane\nOffset axes \nG17\nZ axis\nG18\nY axis\nG19\nX axis\nTool position offset for two or more axes can be used to specify the offset axis and the offset \naxis changed by 2~3 blocks \n(Example) X and Y axes compensation \nG19 G43 H_ ; …X axis offset \nG18 G43 H_ ; …Y axis offset, composed with the previous block, X and Y axes are \ncompensated. \nOffset direction \nG43: Positive offset \nG44: Negative offset \nCompensation  axes  can  be  regarded  as  Z,  Y  and  X.  Either  absolute  or  \nincremental  command,  the  end  point coordinate value specified by Z axis movement command \nin program adds the offset specified by H codes in G43 (set in the offset storage), or subtracts the \noffset specified by H code in G44, finally, the value calculated is regarded as the end point coordinate. \nThe following command is indicated for Z axis move omitting: When the offset is positive, G43 is \nfor an offset in the positive direction; G44 is for an offset in the negative direction. \nIt reversely moves when the offset is negative value. \nSpecifying the offset \nAn  offset  number  is  specified  by  H  code  and  its  corresponding  offset  adds  \nor  subtracts  Z  axis  movement command value in program to get a new Z axis movement \ncommand value. The offset number is H00~H32. \nOffset value corresponded with offset number is pre-set in the offset storage by using the panel \nof LCD/MDI. Setting range for offset is as follows: \nOffset value: -9999999～9999999×least input increment  \nOffset number 00, i.e. H00 corresponds to the 0 offset. It is disabled to set offset value to H00. \nTool length compensation cancellation \nG49 or H00 can be specified when the tool length compensation is cancelled. When two or \nmore axes compensations are cancelled, all of the axes compensation will be cancelled if the G49 \nis applied. Compensation value of the vertical axis for currently specified plane is cancelled with \nH00. After G49 or H00 is specified, the system immediately cancels the compensation value. \nNote 1: In the block that tool length compensation is specified, G02，G03, G04, G92 ，G31，G142 and G143 cannot \nbe specified at the same time, otherwise, an alarm will occur.  \n\n\nChapter 2  G Codes \n51 \nI  Programming \nNote 2:Tool length compensation command can be specified in the block in which canned cycle is specified. But after \nthe canned cycle is executed, the tool length compensation is disabled and is not modal. \nExample： \nNormal  \nModal  \nExplanation (H1=10.0mm，H2=20.0mm) \nG43 H1 \nG44 G01 X50 Y50 Z50 H2 \nG90 G00 X100 Y100 Z100 \nG43 H1\nG44 H2\nG44 H2\nSetting H1, tool length compensation in the positive \ndirection. \nLinear \ninterpolation, \nsetting \nH2 \ntool \nlength \ncompensation in negative direction \nPosition \nto \nX100 \nY100 \nZ100(Z80) \nwith \nH2 \ncompensation offset.  \nIn the same block with G02,G03,G04,G31,G92  \nG43 H1 \nG49 G02 X50 R25 H2 \nG43 H1\nG43 H1\nSetting H1 tool length compensation in the positive \ndirection. \nAlarm occurs.  \nIn the same block with canned cycle code \nG43 H1 \nG44 G81 X50 R5 Z-70 H2 \nG90 G00 X100 Y100 Z100 \nG43 H1\nG44 H2\nG44 H2\nSetting H1 tool length compensation in the positive \ndirection. \nSetting H2 tool length compensation in the negative \ndirection. Starts the canned cycle from H2. \nSpecified in the canned cycle \nG43 H1 \nG90 G81 X50 R5 Z-70 \nG49 H2 \nG49 G0 X75 Y75 Z75 H0 \nG43 H1\nG43 H1\nG43 H1\nG49 H0\nSetting H1 tool length compensation in the positive \ndirection. \nCompensation offset with H1; enters into canned \ncycle mode.  \nThe tool length compensation (G49,H2) in the canned \ncycle is ineffective, and the previous block remains \nmodal. \nCancel all the axis compensations, and set H0 modal. \nPosition to X75 Y75 Z75(Z75).  \n \nCommand Example: \nTool length compensation (#1, #2 and #3 hole machining) \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n52 \n \nI  Programming \n \n \n \n \n \noffset  H01 = 4.0 \nN1 G91 G00 X120.0 Y80.0 ；.....…. \n⑴ \nN2 G43 Z-32.0 H01 ；...........……… \n⑵ \nN3 G01 Z-21.0 ；.........................… \n⑶ \nN4 G04 P2000 ；............................ ... ⑷ \nN5 G00 Z21.0 ；..........................…. \n⑸ \nN6 X30.0 Y-50.0 ；.......................…. \n⑹ \nN7 G01 Z-41.0 ；.........................….. \n⑺ \nN8 G00 Z41.0 ；..........................….. \n⑻ \nN9 X50.0 Y30.0 ；........................….. ⑼ \nN10 G01 Z-25.0 ；........................…. \n⑽ \nN11 G04 P2000 ；.........................… \n⑾ \nN12 G00 Z57.0 H00 ；....................... ⑿ \nN13 X-200.0 Y-60.0 ；...................... \n⒀ \nN14 M30 ； \nZ, X or Y axis offsets a value at offset storage positively or negatively from the original \nend position according to the above command. Offset axes can be specified with G17, \nG18 and G19, offset direction can be specified with G43 and G44. Offset No. \ncorresponding to the offset is specified by H code \n \n \n \n \n \n \n \n\n\nChapter 2  G Codes \n53 \nI  Programming \n2.15  Relevant Functions of Coordinate System \nThe tool position is expressed with a coordinate value of the coordinate system. GSK988MA/MB \nsystem has three kind of coordinate system:   \n1. machine coordinate system, 2. workpiece coordinate system, 3. local coordinate system  \nFig.2-20 describes the relationship of the three coordinate systems: \n \nFig.2-20 \n \nNote1: The system has created the above coordinate system after the reference point return is executed firstly. The \ncoordinate system is created after the system is turned on with the absolute position encoder. \n2.15.1  Setting Local Coordinate System G52 \nFor easy programming, during programming in the work piece coordinate system, the \nREF \nReference position. \nM0 \nOrigin of machine coordinate system is a fixed point on the machine, No. 1240 value \nconfirms the relative position of the reference position and the machine origin. \nM2 \nThe 2nd reference position, No.1214 set the 2nd reference position in the machine \ncoordinate system. \nEXT \nThe outer origin offset can be set by No. 1220 or in the coordinate setting window. \nG50 \nThe offset set by G50 is 0 when the system is turned on. \nG54, \n59 \nThe offset of the workpiece coordinate system is set by No. 1221, No. 1226, and is \nalso set in the coordinate window. \nW0-54, \nW0-59 \nOrigin of the workpiece coordinate system. \nG52\nThe offset of the local coordinate system is 0 when the system is switched on. All \nworkpiece coordinate systems share, i.e. the local coordinate system offset set in one \nworkpiece coordinate system can exist in other workpiece coordinate system. \nL0 \nOrigin of the local coordinate system. \nL0 \nL0 \nM0 \nM2 \nREF \nEXT \nG50 \nG54 \nG59 \nG52 \nG52 \nW0-54 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n54 \n \nI  Programming \n \nsubcoordinate system of the work piece coordinate system can be set, which is also called as part \ncoordinate system. \nFunction: In program, command G52 can set part coordinate system in work piece coordinate \nsystems G54～G59. The origin of the part coordinate system is set in the position \nspecified by IP_ in the work piece coordinate system. \n'\nY\n'\nZ\n_\n_\n_\n52\nZ\nY\nX\nG\n'\nX\nX\nZ\nY\nWorkpiece coordinate system\nLocal coordinate system \n \nFig.2-16-2 \nFormat:  G52 IP__；set part coordinate system  \n     …… \nG52 IP0；cancel part coordinate system \nExplanation：G52 is non-mode command G； \nIP_: When IP_ is the absolute command, it specifies the part coordinate system origin at \nthe absolute coordinate value in the work piece coordinate system; when IP_ is increment \ncommand, it specifies the relative coordinate value of the part coordinate system origin \nrelative to the work piece coordinate system origin;  \n    Once the part coordinate system is set, its coordinate can be the traverse command \nof axis. When G52 commands the zero point of the new part coordinate system (in work \npiece coordinate system),  the position of the part coordinate system can be changed;    \nIf cancel the part coordinate system and return to the work piece coordinate system, it just \nrequires the zero points of the part coordinate system and that of work piece coordinate \nsystem coincide, namely, command G52 X0 Z0 \nattention \n（1）Setting the part coordinate system doesn't change the coordinate systems of work piece \nand machine; \n（2）Command G52 can cancel the offset of nose radius compensation temporarily;  \n（3）In part coordinate system, when command G50 sets the work piece coordinate system, if \nnot all axes are specified with the coordinate values in the part coordinate system, the axes \nwhich are not specified in G50 remain unchanged in part coordinate system, then the part \ncoordinate system relative to the axis commanded by G50 is canceled; such as: \n …… \n    G52 X50 Z50; \n   …… \n    G50 X100; the coordinate value in Z axis of part coordinate system remains unchanged,but \nthe part coordinate system relative to X axis is canceled.  \n     …… \n（4）In the part coordinate system, if the work piece coordinate system commands (G54～G59) \nchange the work piece coordinate system, the part coordinate system also trasfers to the new \nwork piece coordinate system.  \n（5）During resetting, whether cancel the part coordinate system is set by the third bit (RLC) of \n\n\nChapter 2  G Codes \n55 \nI  Programming \nparameter NO.1202; when the parameter is set as 1, the part coordinate system is canceled \nduring resetting.  \n（6）During manually return to reference point, whether cancel the part coordinate system is set \nby the second bit (ZCL) of parameter NO.1201; when the parameter is set as 1, cancel the part \ncoordinate system during manually return to reference point. \n2.15.2  Select Machine Coordinate System G53 \nA particular on the machine as the machining reference is called the machine zero which is taken \nas the origin of the coordinate system is called as the machine coordinate system. After the system is \nturned on, executing the manual reference position return sets the machine coordinate system which \nkeeps till the system is turned off. \nCommand function: when the position of the machine coordinate system is codeed, the tool \ntraverses to the position at the rapid traverse speed.  \nCommand format: G53  IP   ;  \nCommand explanation: G53 is non-modal;  \nIP_: coordinate values of each axis in the machine coordinate system must bespecified by the \nabsolute value.  \nExecution process: As the following figure: the specified axis rapidly moves from A (10, 20) in the \ncurrent workpiece coordinate system to point B (-8, -10) in the machine \ncoordinate system.  \nWorkpiece coordinate system \nMachine coordinate system \nCoordinate system \nZ\nX\nZ20\nX10\nX -8\nZ -10\nRapid feed\nA\nB\n \nFig.2-16-3 \nattention:  \n   （1）G53 command is non-mode, only valid in the block with its own command;  \n   （2）G53 command is the absolute position value in machine coordinate system. When \nsome axis is commanded by increment value, the axial commands are ignored;  \n   （3）If command G53, the nose radius compensation is canceled;  \n   （4）After power on, complete manually return to reference point or G28 auto returns to \nreference point, the system auto sets the position of machine coordinate system origin \nbased on the value set by parameter NO.1240.  \n   （5）Machine coordinate system must be set before command G53; therefore,after \npower on, manually return to reference point must be executed or G28 auto returns to \nreference point; while use absolute position encoder, it doesn't require; \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n56 \n \nI  Programming \n \n2.15.3  Workpiece Coordinate System Selection G54～G59 \nFunction: One of G54～G59 is specified, one of workpiece coordinate system 1～6 can be \nselected. After the workpiece coordinate system is specified, the specified \npoint in the block is in the specified workpiece till a new workpiece \ncoordinate system is created as Fig. 2-21. The tool positions X60.0, Z20.0 \nin the workpiece coordinate system 3.  \n \nFig.2-16-4 \nFormat: G54  workpiece coordinate system 1； \nG55  workpiece coordinate system 2； \nG56  workpiece coordinate system 3； \nG57  workpiece coordinate system 4； \nG58  workpiece coordinate system 5； \nG59  workpiece coordinate system 6 \nExplanation: G54～G59 are modal.  \nNote 1: A workpiece coordinate system is valid after a reference point is created.  \n       When the system is turned on, No.1201 Bit 5 (EWZ) sets to memery the workpiece coordinate system or \nnot. When EWZ is set to not to memory, the workpiece coordinate system defaults to G54 after power-on.  \n       When reset, No.1201 Bit7 (WZR) sets the system returns to G54 workpiece coordinate system or not. But \nwhen No.3402 Bit 6(CLR) is set to 1, the mode in the group also returns to G54. \nNote 2: G54-G59 describing the 6 workpiece coordinate systems can change their positions by the external \nworkpiece zero offset value or workpiece zero offset value, and their relationship is as Fig.2-16-5; \n \n    \n \nFig.2-16-5 \n\n\nChapter 2  G Codes \n57 \nI  Programming \nNote 3: Use the following method to change: \n1）MDI input changes the workpiece coordinate system zero;  \n2）Use G50 to move the workpiece coordinate system;  \n \nSpecifying G50 IP_ makes the workpiece coordinate system（G54～G59）to set a new workpiece coordinate \nsystem where the current tool position is consistent with the specified coordinates. When G50 specifies the \nrelative value, the value adding the previous tool position coordinate value creates a new coordinate system, but \nthe tool position does not change but the coordinate system executes the offset as Fig. 2-16-6:  \n \nFig.2-16-6 \nNote 4: The coordinate offset value created by G50 adds to the one of all workpiece zero to make ensure that all \nworkpiece coordinate systems offset are the same value as Fig. 2-16-7: \n \n \nFig.2-16-7 \nNote 5: The workpiece zero offset value of G54～G59 workpiece coordinate system can be set in the parameters \nand input in the coordinate setting window; \n2.15.4  Additional Workpiece Coordinate System G54.1 \nThe system supports sixes standard workpiece coordinate systems (G54~G59), and also uses 48 \nadditional workpiece coordinates. \nFormat：G54.1 Pn or G54 Pn \n \n \n \n     Pn：specify commands of workpiece coordinate system  \n \n \n \n     n：1~48 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n58 \n \nI  Programming \n \nExample： \n \nG54.1 P1┄┄┄┄┄additional workpiece system 1 \n \nG54.1 P2┄┄┄┄┄additional workpiece system 2    \n \n┇ \n \nG54.1 P48┄┄┄┄additional workpiece system 48 \n \nWhen P command and G54.1(G54) are executed in the same block, a corresponding workpiece \ncoordinate system in additional workpiece coordinates is selected. The selected workpiece \ncoordinate system is valid till it is replaced by another one.  \nWhen the system is started again, the defaulted workpiece coordinate system is controlled by \nSCRD of No.540. \n \nRestrictions:  \nAfter G54.1, P must be specified, the workpiece coordinate system 1 （G54.1 P1）is defaulted \nwhen P following G54.1 is not specified in the same block.   \nP/S alarm occurs when the specified command value in P command exceeds 1~48. \nWhen other G commands containing P command in G54.1(G54) is specified, P command is \nshared when they are executed. It is shown below: G54.1 G04 P1000 or G54 M98 P48 \n \n \nOther notes are the same those of G54~G59. \n2.16  Exact Stop Mode G61/Cutting Mode G64 \nG61 function: the programmed axis of a block must exactly stop at the end point of the block, and \nthe system continuously executes a next block.  \nG64 function: the system executes a next block while the programmed axis of each block after \nG64 starts to decelerate (the axis does not reach the programmed end point). \nThe programmed contour in G64 mode is different from the actual contour, and \nthe different degrees is determined by F value and the angle between two paths, \nbigger their difference is, F value is bigger. \nCommand format: G61; （exact stop mode） \nG64; （cutting mode, defaulted to default value） \nCommand explanations: \n1. A block including G61 exactly stops the end point of the program before the system executes \nthe next block, which is used to process sharp edges and corners. G61 is modal and valid \nbefore G64 is codeed. The programmed contour is the same that of the actual.  \n2. G64 is modal, valid and default before G61 is codeed. G64 path is different from that of G61 as \nFig. 2-17-1;  \n3. G61, G64 belong to Group 15, and their relations with other G groups are referred to Group 5. \n4. When G0 is executed, it is in the exact stop in cutting mode because it is non cutting code.  \n5. When G61 /G64 is specified, it is value in the next codeed block.  \n\n\nChapter 2  G Codes \n59 \nI  Programming \n \nFig. 2-17-1 \n2.17  Absolute and Incremental Commands G90 and G91 \nFormat:  \nG90;          Absolute command \nG91;          Incremental command \nFunction:  \nThere are two kinds of modes for commanding axis offset, one is absolute command the other is \nincremental command. The absolute command is programmed by coordinate value of the terminal \nposition by the axis movement. The incremental command is directly programmed by the movement \nvalue of the axis. They are separately specified by G90 and G91 commands. \nExample:  \n \nFig.2-18-1 \nThe above movement is programmed by absolute and incremental commands, which is as \nfollows:  \nG90 X40.0 Y70.0 ;  or  G91 X－60.0 Y40.0; \n \n2.18  Workpiece Coordinate System Setting G92 \nFormat：G92  X   Y   Z  ； \nFunction:  The workpiece coordinate system is set by setting the absolute coordinate in current \nposition in the system (It is also called floating coordinate system). After the workpiece coordinate is \nset, the coordinate value is input in absolute programming in this coordinate system till the new \nworkpiece coordinate system is set by G92. \nCommand explanation:  G92, which is a non-modal G-command; \nX:  The new X axis absolute coordinate of current position; \nY:  The new Y axis absolute coordinate of current position; \nZ:  The new Z axis absolute coordinate of current position; \nZ\n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n60 \n \nI  Programming \n \nNote: In G92 command, current coordinate value will be not changed if the X, Y and Z are not input, the program zero \nis set by the current coordinate value. When the X, Y or Z is not input, the coordinate axis not input keeps \non the original set value. \n2.19  Feed per min. G94, Feed per rev. G95 \nFormat:   G94 Fxxxx; (F0001~ F8000, the leading zero can be omitted, the feedrate per min. is \noffered, mm/min.) \nFunction:  The cutting feedrate is offered in mm/min unit when the G94 is modal G command. \nThe G94 can be omitted if the current mode is G94. \nFormat:  G95 Fxxxx;    (F0.0001～F500, The leading zero can be omitted） \nCommand Function:  The cutting feedrate is offered in mm/rev unit when the G95 is modal G \ncommand. The G95 can be omitted if the current mode is G95. The product of F \ncommand value (mm/r) and current spindle speed(r/min) is regarded as the \ncommand cutting feedrate to control the actual feedrate when the G95 Fxxxx is \nperformed by system. The actual cutting feedrate varies with the spindle speed. The \nspindle cutting feed value per rev is specified by G95 Fxxxx, it can form even cutting \ngrain on the surface of the workpiece. The machine should be installed spindle \nencoder when the G95 mode is used.  \nG94 and G95 are modal G commands in same group, one of them is effective in one time. G94 is \ninitial modal G command, it is defaulted effective when the power is turned on. \nThe conversion formula for feed value per rev and per min is as following:  \nFm = Fr×S \nFm:  Feed value per min (mm/min); \nFr:  Feed value per rev per rev (mm/r); \nS:  Spindle speed (r/min). \n \nNote 1: G94, G95 are the modal G commands in the same group and only one is valid. The system defaults the modal \ncan be set by No.3402 Bit4 (FPM) when the system turns on;  \nNote 2: In G95 mode, there is the uneven cutting feed rate when the spindle speed is lower than 1 r/min; there is the \nfollow error in the actual cutting feed rate when there is the swing in the spindle speed. To gain the high \nmachining quality, it is recommended that the selected spindle speed should be not lower than min. speed of \nspindle servo or converter; \nNote 3: No.1422 set the upper of the cutting feedrate. When the actual cutting feedrate (the value is multiplied by the \noverride) exceeds the specified upper limit, it is clamped to the upper limit value; \nNote 4: No. 1403 Bit0(MIF)can set the cutting speed unit per minute and the detailed is referred to Ⅱ Operation; \nNote 5: When G95 instead of F command in G94 mode is commanded, F is the previous modal value in G95. In a \nsimilar way, when G94 instead of F command in G95 mode is commanded, F is the previous modal value in \nG94; \nNote 6: When the initial mode is G94/95, and G99/G98 is alone executed after power on, the system runs at the speed \nset by No. 1411 \n2.20  Constant Surface Speed Control G96, Constant Rotational Speed \nControl G97 \nG96 command function: The constant surface speed control is valid, the cutting surface speed is \ndefined (m/min) and the constant rotational speed control is cancelled. \nCommand format:  G96 Sxxxx;  \n\n\nChapter 2  G Codes \n61 \nI  Programming \nCommand explanation: G96 is modal G code. If the current modal is G96, G96 can not be input;  \nit is the cutting surface speed in Sxxxxx constant surface control.  \nG97 Command function: the constant surface speed control is cancelled, the constant rotational \nspeed control is valid and the spindle speed is defined (r/min).  \nCommand format:  G97 Sxxxx;  \nCommand explanation: G97 is modal G code. If the current modal is G97, G97 cannot be input;  \nIt is the spindle speed in Sxxxxx constant speed control(r/min). \nRelative code: G50 \nCommand function: define max. spindle speed limit (r/min) in the constant surface speed \ncontrol(r/min). \nCommand format:  G50 Sxxxx;  \nCommand explanation: After the system is turned on, and the max. spindle speed is not specified, \nthe system does not limit the spindle speed state. Max. spindle speed limit is \nvalid for G96, and is invalid for G97;  \nS value set by G50 is modal and is value before the new max. speed \nis set;  \nNote: when G50 S0 is executed, the spindle speed is limited in 0 r/min \n(the spindle does not rotate) in the constant surface control;  \n \nAddress\nIncremental system \nMetric（mm）input \nInch (inch)input \nS（G96）ISB, ISC \n0～20000 m/min \n0～2000 feet/min \nS（G97）ISB, ISC \n0～20000 r/min \n0～20000 r/min \n \nWhen the machine tool cuts it, the workpiece rotates based on the axes of spindle as the center \nline, the cutting point of tool cutting workpiece is a circle motion around the axes of spindle, and the \ninstantaneous speed in the circle tangent direction is called the cutting surface speed (for short \nsurface speed). There are different surface speed for the different workpiece and tool with different \nmaterial. \nWhen the spindle speed controlled by the analog voltage is valid, the constant surface control is \nvalid. The spindle speed is changed along with the absolute value of X absolute coordinate of \nprogramming path in the constant speed control. If the absolute value of X absolute coordinate \nincreases, the spindle speed reduces, and vice versa, which make the cutting surface speed as S \ncode value. The constant speed control to cut the workpiece makes sure all smooth finish on the \nsurface of workpiece with diameter changing. \nSurface speed=spindle speed× |X| × π ÷1000  (m/min)     \nSpindle speed: r/min  \n|X|: absolute value of X absolute coordinate value (diameter value)    π≈3.14 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n62 \n \nI  Programming \n \n \n                                 Fig. 2-21-1 \nIn G96, the spindle speed is changed along with the absolute value of programming path X \nabsolute coordinate value in the course of cutting feed (interpolation), but it is not changed in G00 \nbecause there is no actual cutting and is counted based on the surface speed of end point in the \nprogram block. \nIn G96, Z coordinates axis of workpiece system must consist with the axes of spindle (rotary axis \nof workpiece), otherwise, there is different between the actual surface speed and the defined one. \nWhen the constant surface speed is valid, G50 Sxxxxx can limit max. spindle speed (r/min). The \nactual spindle speed is the limit value of max. speed when the spindle speed counted by the surface \nspeed and X coordinate value is more than the max. spindle speed set by G50 Sxxxxx. After the \nsystem powers on, max. spindle speed limit value is not defined and its function is invalid. Max. \nspindle speed limit value defined by G50 Sxxxxx is reserved before it is defined again and its function \nis valid in G96. Max. spindle speed defined by G50 Sxxxxx is invalid in G97 but its limit value is \nreserved. \n \nNote 1: G96, G97 are modal in the same group, and one of them is valid in the same time. G97 is initial word and is \nvalid after the system is turned on.  \nNote 2: In G96, S value codeed is reserved in G97. there is no new S is codeed and the S value in the last G96 state is \nrecovered to the current valid surface speed after the system returns to G96 state, the system outputs the \nleast surface speed in G96 when there is no saved value.  \nNote 3: From G96 to G97, if none of S code (r/min) is codeed in the program block in G97, the last spindle speed in \nG96 is taken as S code in G97, namely, the spindle speed is not changed at this time;  \nNote 4: The constant surface speed control function is still valid when the machine is locked(X, Z do not move when \nthe system executes X, Z motion codes);  \nNote 5: In G96, when the spindle speed counted by the cutting surface speed is more than max. speed of current \nspindle gear, at this time, the spindle speed is limited to max. one of current spindle gear; \nNote 6: In thread cutting, To gain the precise thread machining, it should not be adopted with the constant surface \nspeed control but the constant rotational speed (G97) in the course of thread cutting;  \nNote 7: No.3031 sets the numerical digit permitted by S.  \nNote 8: X=0: the theory speed is infinite but the actual speed corresponds to 10V voltage because the maximum \nvoltage of sent analog is 10V. \n2.21  G98、G99 \n\n\nChapter 2  G Codes \n63 \nI  Programming \nFunction:  \n         G98; Tool returns to the initial plane when the hole machining is returning. \n            G99; Tool returns to the point R plane when the hole machining is returning. \n \nExplanation:  \nModal G command \nG98 (return to initial level )\nInitial level \nG99 (return to point R level)\nInitial level\nPoint R\n \nFig.2-22-1 \nRefer to the explanation for canned cycle command. \n2.22  Compound Cycle Command \n2.22.1  Brief for Canned Cycle \nGenerally, the canned cycle is a machining movement completion from one block with G function \nto the completion of multi-block specified. Canned cycles make it easier for the programmer to create \nprograms. With a canned cycle, a frequently used machining operation can be specified in a single \nblock with a G function; without canned cycles, multiple blocks are needed, and canned cycles can \nshorten the program to save memory. \nTable 2-23-1-1   Canned cycle list \nG codes\nDrilling \nOperation at the \nbottom of a hole \nRetraction \nApplication \nG73 \nIntermittent \nfeed \n── \nRapid feed \nHigh-speed peck drilling cycle \nG74 \nFeed \nDwell, spindle CCW \nFeed \nLeft-hand tapping cycle \nG76 \nCutting feed \nSpindle orientation \nRapid feed \nFinishing boring cycle \nG80 \n── \n── \n── \nCanned cycle cancellation \nG81 \nFeed \n── \nRapid feed \nDrilling, point drilling \nG82 \nFeed \nDwell \nRapid feed \nDrilling, boring, counter boring \nG83 \nIntermittent \nfeed \n── \nRapid feed \nPeck drilling cycle \nG84 \nFeed \nDwell, spindle CW \nFeed \nTapping \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n64 \n \nI  Programming \n \nG85 \nFeed \n── \nFeed \nBoring \nG86 \nFeed \nSpindle stop \nRapid feed \nBoring \n \n \n \n \n \nG88 \nFeed \nDwell, spindle stop \nmanual \nBoring \nG89 \nFeed \nDwell \nFeed \nBoring \nCanned circle explanations \nGenerally, a canned cycle consists of a sequence of the following operations, see the right \nfigure. \n \nFig.2-23-1-1 \n2.22.1.1  G90/G91 \nThe data mode corresponded with G90 and G91 are different. The point R plane and the \nabsolute position machined at the bottom of the hole are specified by R and Z values, when the \ncommand is G 90. The specified R value is the distance relative to the initial plane, and the Z value is \nthe distance relative to the R point plane when the command is G91. See the following figure. \n \nFig. 2-23-1-2 Absolute and incremental commands for canned cycle \n2.22.1.2  Returning point level G98/G99 \nTool can be returned to the initial plane or point R plane according to G98 and G99 during \nreturning. See the following figure Fig. 2-23-1-3. \nNormally, the initial hole machining is used by G99, the last machining is used with G98. The \ninitial level will not be changed when the hole machining is done by G99. \n\n\nChapter 2  G Codes \n65 \nI  Programming \n \nFig.2-23-1-3  Levels for initial and point R \nNote ：The initial point level is an absolute position for hole machining axis direction which is indicated from the \ncanned cycle cancellation to start. \nThe middle hole returning to initial plane or plane R is determined by No. 582 BRCH when the system executes \ncontinuous drilling holes. \n2.22.1.3  Canned cycle cancellation \nThere are two ways for canned cycle cancel are listed below:  \n1. Canceling the canned cycle with the G80. \n2. The canned cycle is cancelled by the G00, G01, G02 and G03 command in group 01. \n(1) When the canned cycle is cancelled by the command G80, if the G00, G01, G02 and G03 of \nthe 01 group are not specified, then the reserved modal command (G00 or G01) performs motion \nbefore using canned cycle.  \nFor example:   \nN0010 G01 X0 Y0 Z0 F800;  （The modal command is G01 before entering the canned cycle） \nN0020 G81 X10 Y10 R5 Z-50;    （Entering canned cycle） \nN0030 G80 X100 Y100 Z100;    (The modal G01 command reserved before canned cycle \nperforms cutting feed ） \nIf the G01 is not specified in the abovementioned program N0010, but G00, the G00 performs \nrapid positioning for N0030. \nWhen both command G80 and commands G00, G01, G02 and G03 are specified in block, \nactions are performed by the latter, G00, G01, G02 and G03. \nFor example:   \nN0010 G01 X0 Y0 Z0 F800;    (The modal command is G01 before entering the canned cycle) \nN0020 G81 X10 Y10 R5 Z-50;      (Entering canned cycle) \nN0030 G00 G80 X100 Y100 Z100; (The G00 performs positioning at the rapid rate, and the \nmodal command G00 is saved) \nNote: The cutting feedrate by F command is still held on even if the canned cycle is cancelled.  \n2.22.1.4  General command format for canned cycle \nOnce the hole machining data is specified in the canned cycle, it is held until the canned cycle is \ncancelled. So the hole machining data should be outright specified at the beginning of the canned \ncycle, only the modified data is specified in the following canned cycle. \nThe general command format of canned cycle:  G_  X_  Y_  R_  Z_  Q_  P_  F_  L; \nAll commands for canned cycle are listed in above-mentioned format. But it is not needed to specify \nthe above-mentioned format in each canned cycle. For example, the canned cycle can be performed \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n66 \n \nI  Programming \n \nas long as the G command (hole machining) and any of X, Y, Z and R are specified; additionally, Q or \nP is not available in some canned cycle G command (hole machining), the command is disabled even \nif these data are specified, they are regarded as modal data memories only. \nTable 2-23-1-2 Command explanations for canned cycle \nSpecifying \ncontent \nAddress \nExplanation for command address \nHole \nmachining \nG \nRefer to the canned cycle list. \nHole position \ndata \nX，Y \nSpecifying the hole position with the absolute and incremental value, \ncontrol is same with G00 position. Unit:  mm; \nHole \nmachining \ndata \nR \nThe distance from initial point level to point R plane is specified by using \nthe incremental value, or specifying the coordinate value of the point R by \nabsolute value. Unit:  mm; \nZ \nHole depth. the distance from R point to the bottom of a hole is specified \nby using the incremental value or specifying the coordinate value of the \nhole bottom by absolute value. Unit:  mm; \nQ \nSpecifying each cut-in in G73 and G83 or translational value in G76 and \nG87. Unit:  mm; \nP \nSpecifying the dwell at the bottom of a hole. Relation of time and the \nnumerical specified are same with G04. Unit:  ms; \nL \nMachining cycle for L holes is performed from start (start position of block) \nto XY coordinate position. \nF \nThe cutting feedrate is specified, tooth pitch is indicated in G74 and G84.\nA part of command of canned cycle such as G110, G111, G112, G113, G114, G115, G134, \nG135, G136, G137, G138 and G139 are explained in the following chapters or sections. \n2.22.2  Description for canned cycle \n2.22.2.1  High-speed Peck Drilling Cycle G73 \nFormat:  G98/G99  G73  X_ Y_ R_ Z_ Q_ F_ K_; \nFunction:  This kind of cycle performs high-speed peck drilling, it performs intermittent cutting \nfeed to the bottom of a hole, and eliminating the chips from the hole simultaneously. \nExplanation:  Refer to the command explanation of canned cycle in Table 3-2. \nCycle process:  \n(1) Positioning to XY plane level at the rapid traverse; \n(2) Down to the point R plane at the rapid traverse rate; \n(3) Cutting feed for Q distance; \n(4) Retract d distance in rapid traverse; \n(5) Cutting feed for (Q+d) distance \n(6) Machine to the Z axis hole bottom by cycling the (4) and (5); \n(7) Return to the start point level or point R plane according to G98 or G99 at the rapid traverse.  \nCommand Path:  \n\n\nChapter 2  G Codes \n67 \nI  Programming \n \nFig.2-23-2-1 \nRelated Explanation:  \n(1) This kind of cycle is peck drilling for Q value intermittent feeding along the Z-axis direction. \nThe Q value should be positive, the sign is ineffective even if the negative value is specified. If the Q \nvalue is not specified, then it defaults 0.1mm. If a depth to be cut is less than the Q value, then cut to \nthe bottom of the hole without tool retraction at the rapid traverse for the first time. \n(2) To remove chips from the hole easily, a small value can be set for retraction. This allows \ndrilling to be performed efficiently. The tool is retracted in rapid feed, the retraction amount d is set by \nparameter No.5114, the default is 1000, unit:  0.001mm. \n(3) The command P is disabled, but its value is reserved as canned cycle modal value \n \n \n \n2.22.2.2  Left-handed Tapping Cycle G74 \nFormat:  G98/G99  G74 X_  Y_  R_  Z_  P_  F_  K \nFunction:  This cycle performs left-handed tapping. In the left-handed tapping cycle, the spindle \nrotates clockwise for tapping till the bottom of the hole has been reached, then retracts \nby counter-clockwise after dwell. \nExplanation:  For canned cycle explanation, see the Table 2-23-1-2 \nThereinto, the F is indicated for tooth pitch. The value range are indicated as 0.001~500.00mm \n(metric), 0.06~25400 teeth/inch (inch) \n \nCycle process:  \n(1) Positioning to XY plane level at the rapid traverse; \n(2) Down to the point R plane at the rapid traverse; \n(3) Tapping to the bottom of a hole; \n(4) The spindle stops; \n(5) Pause for time P if dwell is specified; \n(6) The spindle rotates CCW, and then retracts to point R plane; \n(7) The spindle is stopped; pause for time P if dwell is specified; \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n68 \n \nI  Programming \n \n(8) Spindle rotates CW; \n(9) Return to the initial plane if it is G98. \n \nCommand Path:  \n \nFig.2-23-2-2 \nCommand explanation:  \n     （1）the cycle operation is executed by G74 block containing Z（W）and Q（∆k）. When a block \nhas no Z（W）, G74 is not executed. When only “G74 R（e）；” block is executed，only NO.5139 value \nis modified, and the cycle operation does not perform;  \n     （2）∆d  and e are specified by the address R, their difference is according to whether there is \nZ（W）and Q（∆k）or not in the block; \n     （3）during executing G74, can stop automatic run and manually move. But return to the \nposition which is before executing manually moving, and then execute G74 again. The following fun \npath is dislocation when a return is not executed to continuously perform. \n     （4）for executing a single block operation,the program stops after the system completes the \ncurrent one-time cutting cycle and arrives the end of the cutting path. \n     （5）when the system performs blind hole cutting, R（∆d）must be ignoreeed,because there is \nno tool retraction distance to axial cutting end point. \n2.22.2.3  Finish Boring Cycle G76 \nCommand format  \nG76 X_ Y_ Z_ R_ Q_ P_ F_ K_ \n \nX_ Y_：Positioning data of hole  \nZ：Hole depth. Incremental value specifies distance between point R plane to the hole or \nabsolute value commands coordinate values of hole bottom.  \nR：Incremental value specifies distance between point R plane to the hole or absolute value \ncommands coordinate values of hole bottom.  \nQ：Offset value of hole bottom.  \nP：Pause time of hole bottom.  \n\n\nChapter 2  G Codes \n69 \nI  Programming \nF：Cutting feedrate.  \nK：Kmeans the quantity of hole from starting to the point set by G76. K means the times of drilling \nhole cycle at the current position. \n \nCommand function  \nFine boring cycle is used to bore precise holes. The tool leaves the workpiece when arriving at \nthe hole bottom, which avoid smooth of workpiece surface influenced by tool trace, and reduces to \ndamage the tool.   \n \nCycle process  \n \n⑴ Rapidly traverse to XY plane;  \n    ⑵ Rapidly approach point R plane;  \n    ⑶ Cut to hole bottom;  \n⑷ When P is commanded, the system pauses within the time P; \n⑸ When the spindle orientation is executed, the spindle stops at a fixed position;  \n⑹ The tool reversely traverses the distance Q at the hole bottom; \n⑺ Rapidly return to the initial point plane or point R plane with G98 or G99;  \n⑻ Offset Q distance to XY initial position; \n⑼ The spindle rotates clockwise;  \nCommand path \n \nFig.2-23-2-3 \nPoints for attention: \n   （1）During thread cutting process, after executing feed hold, the system cuts, after cutting, \ndisplay “stop”, the running stops;  \n   （2）During thread cutting process, execute single block; after return to the starting point (one-time \nthread cutting cycle movement completes), running stops;  \n   （3）The system resets, emergency stops or driver alarms, the thread cutting decelerates till \nstops;  \n   （4）All of the command addresses G76 P（m）（r）（a） Q（△dmin） and R（d） or some of them \ncan be omitted, the omitted addresses run based on the parameter setting value;  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n70 \n \nI  Programming \n \n   （5）m, r and a are input by one command address P in one time; when m, r and a are omitted, run \nbased on the setting values of parameter NO.5142, 5130 or 5143; when address P inputs irregular \nnumerical values, the system firstly takes the last two digits of value P as value of a, and then takes \nreciprocal three or four digits as value of r, the remaining numerical values are value of m;  \n   （6）Codes of U and W set the direction of A→C→D→E, the code of R（i） sets the direction of \nC→D. The codes of U and W have four combined modes, about the relative four processing path, \nrefer to figure 3-49.  \n   （7）When set the thread cutting depth at the first time greater than the total thread cutting depth, \nonly one-time rough turning is operated, the cutting depth is the total rough turning cutting depth.  \n   （8）The system alarms when the minimum cutting amount or the finish cutting surplus is greater \nthan thread screw heigh during thread rough turning.  \n（9）The system alarms when thread run-out length is greater than the thread processing length of \nlong axis.  \n2.22.2.4  Drilling Cycle, Spot Drilling Cycle G81 \nFormat:  G98/G99  G81  X-  Y_  R_  Z_  F_  K_ ; \nFunction:  This cycle is used for normal drilling. Cutting feed is performed to the bottom of the \nhole, the tool is then retracted from the bottom of the hole in rapid traverse. \nExplanation:  For the command explanation of canned cycle, see the Table 2-23-1-2. \nCycle Process:  \n(1) Positioning to the XY plane level position at the rapid traverse; \n(2) Down to the point R plane at the rapid traverse; \n(3) Cutting feed to the bottom of the hole; \n(4) Returning to the initial point or point R plane at rapid traverse according to the G98 or G99; \nCommand Path: \n \nFig.2-23-2-4 \nRelated Explanation:  \nThe command Q or P is disabled in this cycle, but its value will be saved as canned cycle modal \nvalue. \n\n\nChapter 2  G Codes \n71 \nI  Programming \n2.22.2.5  Drilling Cycle, Counter Boring Cycle G82 \nFormat：G98/G99  G82  X_  Y_  R_  Z_  P_  F_  K_ ； \nFunction:  Cutting feed is performed to the bottom of the hole. Hole depth precision is added \nwhen the dwell is performed, and then the tool is retracted from the bottom of the hole \nat rapid traverse. \nExplanation:  For the command explanation of these canned cycles, see the Table 2-23-1-2 \nCycle process:  \n(1) Positioning to the XY plane level at the rapid traverse; \n(2) Down to the point R  plane at the rapid traverse; \n(3) Cutting feed to the bottom of a hole \n(4) Dwell for P time if it is commanded. \n(5) Returning to the initial point or point R plane according to G98 or G99 at the rapid traverse; \n \n \n \n \n \n \n \n \nCommand Path:  \n \nFig.2-23-2-5 \nRelated Explanation:  \n(1) They are basically the same as G81 (drilling and spot-drilling machining), it is up after dwell at \nthe bottom of a hole only (the dwell time is specified by P, the dwell will not be executed if it is not \nspecified, and the command action is same as that of G81). In the blind hole, the accuracy of hole \ncan be improved by the dwell.  \n(2) The command Q is disabled in this cycle, but its value will be reserved as the canned cycle \nmodal value \n2.22.2.6  Peck Drilling Cycle G83 \nFormat:  G98/G99  G83  X_  Y_  R_  Z_  Q_  F_  K_ ; \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n72 \n \nI  Programming \n \nFunction:  This cycle performs high-speed peck drilling; it performs intermittent cutting feed to \nthe bottom of a hole while removing chips from the hole.  \nExplanation:  The command explanation for canned cycle, see the table 2-23-1-2. \nCycle Process:  \n \n(1) Positioning to the XY plane level at the rapid traverse; \n(2) Down to the point R plane at the rapid traverse; \n(3) Cutting feed for Q distance; \n(4) Retract to the point R plane at the rapid traverse; \n(5) Rapid feed to d distance to the end surface  \n(6) Cutting feed for (Q+d) distance; \n(7) Cycling (4) (5) and (6) to the bottom of a hole along Z-axis; \n(8) Return to the initial point or point R plane according to the G98 or G99 at the rapid traverse; \n \n \n \n \n \n \n \n \nCommand Path:  \n \nFig.2-23-2-6 \nRelated Explanation:  \n(1) Same as G73, after feeding for Q, it returns to the point R plane at the rapid traverse firstly, \nand then rapid feeds to d mm to the end surface, then cutting feed is applied and the cycle is \nperformed in turn. The Q value should be positive, even if the negative value is specified, and the sign \nis also disabled. Q value 0.001mm is defaulted if Q value is not specified; d, is set by the parameter \nNo.5115, its default value is 1000, and the unit is 0.001mm. If the cutting depth is less than the Q \nvalue, then cutting to the bottom of a hole at the first time, and rapid traverse retraction is not \nperformed. \n(2) The command P is disabled in this cycle, but its value will be reserved as canned cycle modal \nvalue. \n\n\nChapter 2  G Codes \n73 \nI  Programming \n2.22.2.7  Tapping Cycle G84 \nFormat:  G98/G99  G84  X_  Y_  R_  Z_  P_  F_  K_ ; \nFunction:  This cycle is used to machine a thread. The tapping is performed by spindle rotating \npositively, when the bottom of a hole has been reached, the spindle is retracted in \nthe reverse direction. \nExplanation:  For command explanation of canned cycle, see the Table 2-23-1-2 \nThere into, the F is tooth-pitch. The value range is 0.001~500.00mm (metric), 0.06~25400 \ntooth/inch (inch). \nCycle Process:  \n(1) Positioning to the XY plane level at the rapid traverse; \n(2) Down to the point R plane at the rapid traverse; \n(3) Tapping to the bottom of a hole; \n(4) Spindle stops; \n(5) For dwell time P if it is commanded \n(6) Spindle returns to the point R plane in reverse direction; \n(7) Spindle stops; for dwell time P if the P is commanded; \n(8) The spindle is rotated in the positive direction; \n(9) Returning to the initial point level if it is G98. \n \nCommand Path:  \n \nFig.2-23-2-7 \nRelated Explanation:  \nPlease refer to the related explanation for G74 (Counter tapping cycle) \nNote: No. 3720 (spindle encoder lines) is set to 0, the encoder is not checked to execute holing when \nG84 is executed. \n2.22.2.8  Boring Cycle G85 \nFormat:  G98/G99  G85 X_  Y_  R_  Z_  F_  K_ ; \nFunction:  After positioning along X and Y axes, rapid traverse is performed to point R; the \nboring is performed from point R to point Z thereafter. Cutting feed is performed to \nreturn point R plane when the Z point has been reached the bottom of a hole. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n74 \n \nI  Programming \n \nExplanation:  Command explanation for the canned cycle, see the table 2-23-1-2. \n \nCycle process:  \n(1) Positioning to the XY plane level at the rapid traverse; \n(2) Down to the point R plane at the rapid traverse; \n(3) Cutting feed to the bottom of a hole; \n(4) Cutting feed to the point R plane; \n(5) Returning to the initial point level if it is G98; \n \n \n \n \n \n \n \n \n \n \n \nCommand Path:  \n \nFig.2-23-2-8 \nRelated explanation  \n(1) This cycle is used to bore a hole. The command motion is basically same as the G81 (Drilling, \nSpot-drilling cycle), the difference is that by the G81 it returns to the point R plane in rapid \ntraverse rate, while by the G85 it returns to the point R plane in feedrate when the cutting feed \nreaches the bottom of a hole. \n(2) The Q and P commands are disabled in this cycle, but its value is reserved as the canned \ncycle modal value. \n2.22.2.9  Boring Cycle G86 \nFormat:   G98/G99  G86  X_  Y_  R_  Z_  F_  K_ ； \nFunction:  After positioning along X and Y axes, rapid traverse is performed to R point, and the \nboring is performed from point R to point Z. The tool is retracted in rapid traverse and \n\n\nChapter 2  G Codes \n75 \nI  Programming \nspindle is rotated positively when the spindle is stopped at the bottom of the hole. \nExplanation:   For command explanation for canned cycle, see the table 2-23-1-2 \nCycle process:  \n(1) Positioning to the XY plane level at the rapid traverse; \n(2) Down to the point R plane at the rapid traverse; \n(3) Cutting feed to the bottom of a hole; \n(4) The spindle stops; \n(5) Returning to the initial point or point R plane at rapid traverse according to the G98 or G99; \n(6) The spindle is rotated in the positive direction; \n \n \n \n \n \n \n \n \n \n \nCommand Path:  \n \nFig.2-23-2-9 \nRelated explanation:  \n (1) This cycle is used to be bore a hole. The command operation is basically same with G81, \nonly spindle rotation status is different. After cut feeds to the bottom of a hole, the M05 is executed \n(spindle stops), then the point R plane is retracted at the rapid traverse, the M03 is then performed \n(spindle rotates positively) regardless of the currently spindle rotation status and the positive or \nnegative rotation are specified before the canned cycle. \n(2) The command Q and P are disabled in this cycle, but its value is reserved as canned cycle modal \nvalue. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n76 \n \nI  Programming \n \n2.22.2.10  Back Boring Cycle G87 \nCommand format \nG87  X_ Y_ Z_ R_ Q_ P_ F_K_ \n \nX_ Y_：hole’s positioning data.  \nZ：hole depth. Incremental specifies distance between point R plane and hole bottom or absolute \nvalue specifies coordinates of hole bottom.  \nR：Incremental specifies distance between point R plane and hole bottom or absolute value \nspecifies coordinates of point R plane.  \nQ：Offset amount of hole bottom.  \nP：Pause time of hole bottom.  \nF：Cutting feedrate.  \nK：K means quantity of holing from starting point and point set by G87. K means times of \ncurrently circular holing when G87 does not set holing point.  \nCommand function  \nBack boring cycle is used to boring precise hole, and the tool safely retracts to the initial plane \nafter machining completion.  \nCycle process \n \n⑴ Rapidly position to XY plane;  \n    ⑵ The spindle orientation is done and stops at the fixed position after XY plane positions;  \n⑶ Traverse Q distance;  \n⑷ Rapidly traverse to point R;  \n⑸ Traverse Q distance;  \n⑹ Spindle rotates CW;  \n⑺ Execute boring cycle to point Z;  \n⑻ When P is commanded, the system pauses at P time;  \n⑼ The spindle orientation is executed, it stops at the fixed position;  \n⑽ Traverse Q distance;  \n⑾ Return to initial plane;  \n⑿ Offset Q distance to XY initial position;  \n⒀ The spindle rotates CW.  \nCommand path  \n\n\nChapter 2  G Codes \n77 \nI  Programming \n \nFig.2-23-2-10 \nRelated explanation：  \n（1）Q value must be positive, i.e. the negative value is commanded, the sign is invalid; when Q value \nis not commanded or Q0 is commanded, Q value is defaulted to 0.1mm; Q value is modal, it can be \nused in other fixed cycle commands, and the Q value cannot be big, otherwise, the tool retraction \noperation can hit the workpiece, so Q value must be specified to the small. \n2.22.2.11  Boring Cycle G88 \nFormat:   G98/G99  G88  X_  Y_  R_  Z_  P_  F_  K_ ; \nFunction:  A dwell is performed at the bottom of a hole, the spindle is stopping. If the manual \noperation is applied now, tool can be removed manually. It is better to retract the tool \nsafely from the hole regardless of any kind of manual operation. It is rapidly retracted to \npoint R or initial plane when the automatic operation is performed again, the spindle is \nstopped and G88 is finished. \nExplanation:  For the command explanation of the canned cycle, see the table2-23-1-2. \n \nCycle process:  \n(1) Positioning to the XY plane at the rapid traverse rate; \n(2) Down to the point R plane at the rapid traverse rate; \n(3) Cutting feed to the bottom of hole; \n(4) The spindle is stopped; \n(5) P time is delayed if it is specified. \n(6) Manual operation will be performed if the dwell is executed. \n(7) Restoring the automatic mode, retracting to initial point or point R plane according to the G98 \nor G99 at the rapid traverse rate. \n(8) The spindle rotates positively; \nCommand Path:  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n78 \n \nI  Programming \n \nG88（G98）Mode for \nreturning to initial plane\nInitial level\nG88（G99）Mode for \nreturning to the point R plane\nPoint R\nPoint R level\nSpindle stop \nafter dwell\nPoint R\nPoint Z\nPoint Z\nSpindle ccw\nSpindle ccw\nSpindle stop \nafter dwell\nMPG feedrate\nMPG feedrate\n \nFig.2-23-2-11 \nRelated Explanation:  \n The command Q is disabled in this cycle, but its value is reserved as the canned cycle modal value. \n2.22.2.12  Boring Cycle G89 \nFormat:  G98/G99  G89  X_  Y_  R_  Z_  P_  F_  L_ ; \nFunction:  This cycle is used to bore a hole normally. This cycle performs a dwell at the bottom \nof the hole; the tool is then retracted from the bottom of the hole at the rapid traverse \nrate. \nExplanation:  For the command explanation of the canned cycle, see the table 2-23-1-2. \nCycle process:  \n(1) Positioning to XY plane at the rapid traverse rate; \n(2) Down to the point R plane at the rapid traverse rate; \n(3) Cutting feed to the bottom of a hole; \n(4) For dwell time P if the P is specified; \n(5) Cutting feed to the point R plane; \n(6) Returning to the initial point level if it is G98; \n \n \n \n \n \n \nCommand Path:  \n\n\nChapter 2  G Codes \n79 \nI  Programming \nG89（G98）Mode for \nreturning to initial plane\nInitial level\nG89（G99）Mode for \nreturning to the point R plane\nPoint R\nPoint R level\ndwell\nPoint R\nPoint Z\nPoint Z\n dwell\n \nFig.2-23-2-12 \nRelated Explanation:  \n(1) G89 (Boring cycle) is basically same as the G85, a dwell is applied at the bottom of a hole \n(Dwell time is specified by P, if it is not specified, the dwell is not applied, the command operation \nis same to the G85) \n(2) The command Q is disabled in this cycle, but its value is reserved as canned cycle modal value. \n \n2.22.2.13  Groove Rough Milling Inside the Round G110/G111 \nFormat:  \n \n \n \n \nG110 \n \nG98/G99 \n \n \n \nX_  Y_  R_  Z_  I_  W_  Q_  K_  V_  E_ D_  F_ \n \n \n \n \nG111 \nFunction:From the beginning of the center point, arc interpolations are performed helically till the \nround groove of programming dimension has been machined. \nExplanation:For command explanation of the canned cycle, see the table 2-23-1-2. \nG110：Groove rough-milling inside the round in CCW; \n          G111: Groove rough-milling inside the round in CW; \nI:  I is radius inside the round groove, it should be more than the radius of current tool. \nW:  The firstly cutting depth is from the R reference level to the undersurface along the Z \naxis direction, it should be more than 0 (The first cutting position is over the bottom of \nthe groove, then bottom position is regarded as machining position); \nQ:  The cutting incremental value each time along Z axis direction; \nK:  The width increment of cut inside XY plane, it should be less than the tool radius, and \nmore than 0; \nV:  The distance to the end machining plane at the rapid traverse, it should be more than \n0 when cutting; \nD:  Tool radius serial number, the value range is 0~32, 0 is the default of D0. The current \ntool radius is determined by the specified serial number. \n \nCycle process:  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n80 \n \nI  Programming \n \n(1) Positioning to the XY plane level at the rapid traverse rate; \n(2) Down to the point R plane at the rapid traverse rate; \n(3) Cut W depth downwards in cutting feedrate \n(4) Mill a round face with radius I helically by K increment each time from center point to outside. \n(5) The Z axis is retracted to the R reference surface at the rapid traverse rate; \n(6) X and Y axes are positioned to the center at the rapid traverse rate; \n(7) Down to distance V to the end machining surface along Z axis at the rapid traverse rate; \n(8) Cut along Z axis for (Q+V) depth;  \n(9) Cycling the operations from (4) ~ (8) till the round surface of total depth is finished. \n(10) Return to the initial plane or point R plane according to G98 or G99. \n（11）Return to XY starting point \nCommand Path:  \n \nFig.2-23-2-13 \n \nFig.2-23-2-14 \nRelated Explanation:  \nThe P and L are disabled in this cycle, but the P value will be reserved as canned cycle modal \nvalue. \nFor example:   \nA round inside groove rough-milling is specified in canned cycle G111, see the following Figure \n\n\nChapter 2  G Codes \n81 \nI  Programming \n \nFig.2-23-2-15 \nG90 G00 X50 Y50 Z50;    (G00 positioning at the rapid traverse rate) \nG99 G111 X25 Y25 R5 Z-50 150 W20 Q10 K10V10 F800 D1;  (Rough-milling cycle inside the \nround groove D1=5) \nG80 X50 Y50 Z50;    (Canceling canned cycle, returning from the point R plane) \nM30; \nNote: Set the 5122# parameter value to one which is more than 10, by G110and G111 it feeds helically along Z \naxis;The value of D must be greater than or equal to eauivalent of 2000 times and less than or equal to 2/3 I; If \nincrement is IS-C,the value of D must be greater than or equal to 0.2 and less than 2/3I.Rough-milling machining can \nbe directly performed for      non-groove workpieceSee the following figure for helical cutting path:  \n \nFig.2-23-2-16 \n2.22.2.14  Fine-milling Cycle Inside Full Circle G112/G113 \nFormat:  \nG112 \n \n \n G98/G99 \n  \n \nX_  Y_  R_  Z_  I_  J_  D_  F_ \n \n \n \n \n \nG113 \nFunction:  A fine-milling inside the full circle is finished with the specified radius value I and \ndirection, the tool is retracted after the fine-milling. \nExplanation:  For command explanation of canned cycle, see the table 2-23-1-2. \n          G112:  Fine-milling cycle inside the full circle in CCW. \n          G113:  Fine-milling cycle inside the full circle in CW \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n82 \n \nI  Programming \n \n          I:  Fine-milling circle radius, the value range is indicated as 0~9999.999mm, the absolute \nvalue is taken when it is negative. \n      J:  Fine-milling distance from start point to the center point, the value range is indicated \nas 0~9999.999mm, the absolute value is taken when it is negative \nD:  Sequence number of tool radius, the value range is indicated as 0~32, the 0 is default \nof D0. The current tool radius value is taken according to the specified sequence \nnumber. \nCycle process:  \n(1) Positioning to the XY plane level at the rapid traverse rate; \n(2) Down to the point P level at the rapid traverse rate; \n(3) Feed to the bottom of a hole; \n(4) Perform the circle interpolation by the path of transit arc 1; \n(5) Perform the full circle interpolation by the path of arc 2 and arc 3; \n(6) Perform circular interpolation by the path of transit arc 4 and return to the start point; \n(7) Return to the initial point level or point R plane according to G98 or G99. \n \nCommand Path:  \n \nFig.2-23-2-17 \nRelated Explanation:  \nThe commands Q, P and L are disabled in this cycle, but the Q and P value will be reserved as \nthe canned cycle modal value. \nFor example:  Fine-mill a finished rough-milling round groove by the canned cycle G112 command, \nsee the following figure:  \n\n\nChapter 2  G Codes \n83 \nI  Programming \n \nFig.2-23-2-18 \nG90 G00 X50 Y50 Z50; (G00 rapid positioning) \nG99 G112 X25 Y25 R5 Z-50 150 J10 F800 D1; (Start canned cycle, fine-milling cycle inside the \ncircle at the bottom of a hole D1=5) \nG80 X50 Y50 Z50; (The canned cycle is cancelled, returning from the point P level) \nM30; \n2.22.2.15  Fine-milling Cycle Outside Circle G114/G115 \nFormat:  \nG114 \n \n \nG98/G99 \n \n \n \nX_  Y_  R_  Z_  I_  J_  D_  F_； \n \n \n \n \n \nG115 \nFunction:  A fine-milling outside the full circle is performed by the specified radius value and the \ndirection, and the tool is retracted after the fine-milling is finished. \nExplanation:  For command explanation of canned cycle, see the table 2-23-1-2. \n          G114:  Finish-milling cycle for outside circle in CCW. \n          G115:  Finish-milling cycle for outside circle in CW. \n          I:  A fine-milling circle radius, value range: -99999999～99999999×least command \nincrement, the absolute value is taken when it is negative. \n      J:  Distance of fine-milling between the start point and the circle, the value range is \nindicated as -99999999～99999999×least command increment，the absolute value is \ntaken when it is negative; the absolute value is taken when it is negative. \nD:  The sequence number of tool radius, the value range is 0~32, 0 is the default of D0. \nThe current tool radius value is taken according to the specified sequence number. \nCycle process:  \n(1) Positioning to the XY plane level at the rapid traverse rate; \n(2) Down to the point R plane at the rapid traverse rate; \n(3) Cutting feed to the bottom of a hole; \n(4) Perform the circle interpolation by the path of transit arc 1; \n(5) Perform the full circle interpolation by the path of arc 2 and arc 3; \n(6) Perform circular interpolation by the path of transit arc 4 and return to the start point; \n(7) Return to the initial point level or point R plane according to G98 or G99. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n84 \n \nI  Programming \n \nCommand path:  \n \nFig.2-23-2-19 \nRelated Explanation:  \n(1) The interpolation direction of between transit arc and fine-milling arc are different when the \nfine-milling outside circle is performed, the interpolation direction in command explanation is \nthe interpolation direction of fine-milling arc. \n(2) The command Q, P and L are disabled in this cycle, but the Q and P value are reserved as \ncanned cycle modal value. \nFor example:  A finished rough-milling round groove is performed by fine-milling with the canned \ncycle G114 command, see the following figure :  \n \nFig.2-23-2-20 \nG90 G00 X50 Y50 Z50;    (G00 rapid positioning) \nG99 G114 X25 Y25 R5 Z-50 150 J60 F800 D1;    (Start canned cycle, the fine-milling cycle \nis performed outside the circle at the bottom of a hole D1=5) \nG80 X50 Y50 Z50;     (The canned cycle is cancelled, returning from the point R plane) \nM30； \n\n\nChapter 2  G Codes \n85 \nI  Programming \n2.22.2.16  Roughing Cycle Outside Circle G116/G117 \nCommand format: ：  \nG116 \n \n       G98/G99 X_ Y_ Z_ R_ I_ J_ W_ Q_ K_ C_ E_ D_ F_ \n \nG117  \nCommand function: the tool executes the full-circle interpolation at the specified radius value and \ndirection from the starting point till the programmed circle convex plate is \nmachined completely.  \nCommand explanation: related commands are referred to Table 2-23-1-2.  \n \n \n  G116：roughing cycle for outside circle in CCW  \n \n \n  G117：roughing cycle for outside circle in CW  \n \n  \n  I：outer roughing circle radius (it should be more than 0, and its absolute value is done \nwhen it is negative)  \n    \n  J：blank workpiece radius ( it should be more than 0, and its absolute value is done when \nit is negative） \n \n \n  E：allowance of excircle roughing in XY plane( it should be more than 0, and its absolute \nvalue is done when it is negative)  \n \n  W：Z-axis cutting depth of first starting downward from R reference plane should be more \nthan 0, its absolute value is done when it is negative (when the first cutting depth exceeds the groove \nbottom, the groove bottom is the reference to machine)  \n \n  \n  Q：Z-axis cutting depth every time, its absolute value is done when it is negative  \n     K：cutting width increment in XY plane (it should be less than tool diameter, its absolute value \nis done when it is negative; when K is not specified, K is defaulted to tool radius D)  \n \n  C：X-axis cutting amount of first tool infeed(it should be more than or equal to tool radius \n+2.0. when C value is more than 0, the tool executes infeed in positive X direction, the workpiece is at \npositive starting point. When it is less than 0, the tool executes infeed in negative X direction, the \nworkpiece is at negative starting point.） \n \n  \n  D: serial number of tool radius, range: 0~32，D0 is defaulted to be 0. The current tool \nradius value is taken out according to the given serial number  \nCycle process： \n(1）Rapidly position to starting point XY plane \n(2) Rapidly approach downward point R plane \n(3)Rapidly approach downward the distance W  \n(4)X-axis firstly executes tool infeed amount C，linear 1 is the path to execute the linear interpolation \ninfeed  \n(5)Execute full-circle interpolation based on the path arc 2 \n(6)Mill the circle surface(its radius is I+E) from outer to inner in an increment of K value every time  \n(7)Z-axis rapidly positions to R reference plane \n(8)Rapidly position to starting point XY plane  \n(9)Z-axis rapidly approaches the distance (unmachined distance +Q)  \n(10)Execute the above operation step 5~9 till the circle surface (its total cutting depth is Z) is \nmachined completed  \n(11)Return to initial point plane or point R plane according to G98 or G99  \n(12)Return to XY starting point  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n86 \n \nI  Programming \n \n \nFig.2-23-2-21 \n \nFig.2-23-2-22 \nRelated explanation:  \nCommanding P, L in the cycle is invalid, but P value is saved as modal value of the fixed cycle. \nExample: G117 commands to rough mill a circle convex plate, which is shown below： \n \n\n\nChapter 2  G Codes \n87 \nI  Programming \n \nFig.2-23-2-23 \nG90 G00 X0 Y0 Z50； \n（G00 rapidly position） \nG99 G117 X50 Y50 R5 Z-50 I20 J50 W20 Q10 K10 C20 E2 F800 D1； （execute the rough \nmilling cycle of outer convex plate D1=5） \nG80 X50 Y50 Z50； （cancel fixed cycle, return from point R plane） \nM30; \n2.22.2.17  Rectangular Roughing G132/G133 \nCommand format： \n \nG132 \n \n \n \nG98/G99 X_ Y_ Z_ R_ I_ J_ A_ B_ W_ Q_ K_ C_ U_ E_ D_ F_ \n \nG133  \nCommand function: the tool executes the linear cutting cycle from starting at the specified parameter \ndata till the programmed rectangular convex plane is machined completed.  \nCommand explanation: related commands are referred to Table 2-23-1-2. \n \nG132：outer rectangle roughing CCW \n \nG133：outer rectangle roughing CW \n \nXY：start-up coordinates in XY plane  \n  \nI：X-axis width of outer rectangle roughing(it is more than 0, and its absolute value is done when \nit is negative） \n \nJ：Y-axis width of outer rectangle roughing（it is more than 0, and its absolute value is done when \nit is negative） \n \nA: X-axis width of blank（it is more than 0, and its absolute value is done when it is negative） \n  \nB：Y-axis width of blank（it is more than 0, and its absolute value is done when it is negative） \n \nE：Allowance in XY plane of outer rectangle roughing（it is more than 0, and its absolute value is \ndone when it is negative.） \n \nW：Z-axis depth of first cutting is the distance downward from R reference plane, and should be \nmore than 0, its absolute value is done when it is negative (when the first cutting depth exceeds \ngroove bottom position, directly machining the groove position is done） \n \nQ：Z-axis cutting depth increment every time. its absolute value is done when it is negative \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n88 \n \nI  Programming \n \n \nK：Cutting width increment in XY plane（it should be less than tool diameter, its absolute value is \ndone when it is negative; when K is not specified, K is defaulted to tool radius D） \n \nC：X-axis cutting amount of first tool infeed (it should be more than or equal to tool radius +2.0. \nwhen C value is more than 0, the tool executes infeed in positive X direction, the workpiece is at \npositive starting point. When it is less than 0, the tool executes infeed in negative X direction, the \nworkpiece is at negative starting point.） \n \nU：Coner arc radius. Omitting it means no corner arc transition. its absolute value is done when it \nis negative \n \n \nD：serial number of tool radius, range: 0~32，D0 is defaulted to be 0. The current tool radius value \nis taken out according to the given serial number  \nCycle process： \n(1）Rapidly position to starting point XY plane \n(2) Rapidly approach downward point R plane \n(3)Rapidly approach downward the distance W  \n(4)X-axis firstly executes tool infeed amount C，linear 1 is the path to execute the linear interpolation \ninfeed  \n(5)Execute full-circle interpolation based on the path arc 2 \n(6)Mill the rectangle(its length is I+2E, width J+2E) from outer to inner in an increment of K value \nevery time  \n(7)Mill arc angle of the rectangle  \n(8) Z-axis rapidly positions to R reference plane \n(9)Rapidly position to starting point XY plane  \n(10)Z-axis rapidly approaches the distance (unmachined distance +Q)  \n(11)Execute the above operation step 4~9 till the circle surface (its total cutting depth is Z) is \nmachined completed  \n(12)Return to initial point plane or point R plane according to G98 or G99  \n(13)Return to XY starting point  \n \nFig.2-23-2-24 \n\n\nChapter 2  G Codes \n89 \nI  Programming \n \nFig.2-23-2-25 \nRelated explanation:  \nCommanding P, L in the cycle is invalid, but P value is saved as modal value of the fixed cycle. \n \nExample: G133 commands to rough mill a convex plate of outer rectangle, which is shown below:： \n \nFig.2-23-2-26 \nG90 G00 X0 Y0 Z50； \n（G00 rapidly position） \nG99 G133 X50 Y50 R5 Z-50 I50 J40 A100 B80 W20 Q10 K10 C20 E2 U5 F800 D1；（execute the \nrough milling cycle of inner groove cycle D1=5） \nG80 X50 Y50 Z50； （cancel fixed cycle, return from point R plane） \nM30； \n \n2.22.2.18  Rectangle Groove Rough-milling G134/G135 \nExplanation:  For command explanation of canned cycle, see the table 2-23-1-2. \n        G134:  Rectangle groove rough-milling in CCW \n        G135:  Rectangle groove rough-milling in CW \nI:  The width of rectangle groove along the X axis direction \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n90 \n \nI  Programming \n \nJ:  The width of rectangle groove along the Y axis direction. \nK:  The cut width increment inside XY plane, it is less than the tool radius, but, more than 0. \nW:  For the first cutting along the Z axis direction, the distance is downward to the R \nreference surface, it is more than 0 (if the first cutting is over the position of the bottom of the \ngroove, then the bottom of the groove is taken as the machining position) \nQ:  The cutting incremental value each time along Z axis. \nV:  Distance to the end machining surface, which is more than 0, when the rapid traverse is \nexecuted. \nU:  Corner arc radius, if it is omitted, that is no corner arc transition is not shown. \nE: Allowance of rectangle groove rough in XY plane（it should be more than 0, its absolute \nvalue is done when it is negative.） \nD:  Sequence number of tool radius, its value range is indicated as 0 ~ 32, thereunto, the 0 \nis default of D0. The current tool radius value is taken out according to the specified \nsequence number. \n \nCycle process:  \n(1) Positioning to the XY plane at the rapid traverse rate; \n(2) Down to the point R plane at the rapid traverse rate; \n(3) W distance depth is cut downwards by cutting feedrate \n(4) Mill a rectangle face helically by K increment each time from center point to outside. \n(5) R reference surface is retracted along the Z axis at the rapid traverse rate. \n(6) The center of rectangle is positioned along the X and Y axes at the rapid traverse rate. \n(7) Down to distance V to the end machining surface along Z axis at the rapid traverse rate; \n(8) Cut along Z axis for (Q+V) depth; \n(9) Cycling the operation from (4) ~ (8) till the surface of total cutting is performed. \n(10) Return to the initial plane or point R plane according to G98 or G99. \n(11)Return to XY hole positioning position. \n \nCommand Path:  \n \n \nFig.2-23-2-27 \n\n\nChapter 2  G Codes \n91 \nI  Programming \n \nFig.2-23-2-28 \nRelated Explanation:  \nThe commands P and L are disabled in this cycle, but the P value is reserved as canned cycle \nmodal value. \n \nRelated Paramter： \n5\n1\n0\n4\nUCK\nUCK：During the rectangle inner/outer roughing,whether check the relation between the range of the \narc corner \nU lue and K value \n \n0---- Yes； \n    1-----No \n \nFor example:  An inside rectangle groove rough-milling is specified by G134 in canned cycle, see \nthe following  \nfigure:  \n \nFig.2-23-2-29  \nG90 G00 X50 Y50 Z50;(G00 rapid positioning) \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n92 \n \nI  Programming \n \nG99 G134 X25 Y25 R5 Z-50 I70 J50 W20 Q10 K5 V10 U10 F800 D1;(Groove rough-milling cycle \ninside rectangle is performed D1=5) \nG80 X50 Y50 Z50;(The canned cycle is cancelled, returning from the point R plane) \nM30； \nThe helical feeding path is as follows:  \n \n \nFig.2-23-2-30 \n2.22.2.19  Rectangle Groove Inner Fine-milling Cycle G136/G137 \nFormat:  \nG136 \n \n \nG98/G99 \n \n \n \nX_  Y_  R_  Z_  I_  J_  D_  K_  U_  F_； \n \n \n \n \n \nG137 \nFunction:  The tool performs fine-milling inside the rectangle with the specified width and \ndirection, it is returned after finishing the fine-milling. \n \nExplanation:  For command explanation of canned cycle, see the table2-23-1-2. \nG136:  Finish-milling cycle inside groove of rectangle in CCW. \n          G137:  Finish-milling cycle inside groove of rectangle in CW. \n          I:  The rectangle width along the X axis, range: -99999999～99999999×least input \nincrement. \n          J:  The rectangle width along the Y axis, range: -99999999～99999999×least input \nincrement. \nD:  Sequence number of tool radius, the value range is 0~32, the 0 is default value of D0. \nThe current tool radius value is taken out according to the specified sequence number. \n          K:  The distance between the finish-milling start point and the rectangle side in X axis \ndirection, range: -99999999～99999999×least input increment. \n      U:  Corner arc radius; no corner arc transition if it is omitted. When the U is omitted or it is \nequal to 0 and the tool radius is more than 0, the alarm is generated. \n \nCycle process:  \n(1) Positioning to XY plane at the rapid traverse rate; \n(2) Down to point R plane at the rapid traverse rate; \n(3) Cutting feed to the bottom of a hole; \n(4) Perform the circle interpolation by the path of transit arc 1; \n\n\nChapter 2  G Codes \n93 \nI  Programming \n(5) Perform the circular and linear interpolation by the path of 2-3-4-5-6; \n(6) Perform circular interpolation by the path of transit arc 7 and return to the start point; \n(7) Returning to the initial plane or point R plane according to G98 or G99. \n \nCommand Path: \n         \n \nFig.2-23-2-31 \nRelated Explanation:  \nThe commands Q, P and L are disabled in this cycle, but the Q and P values are reserved as the \ncanned cycle modal value. \n \nFor example:  To perform a fine-milling for the finished rough-milling rectangle groove with the \ncanned cycle G136 command, see the following figure: \n \nFig.2-23-2-32 \nG90 G00 X50 Y50 Z50;    (G00 rapid positioning) \nG136 X25 Y25 R5 Z-50 I80 J50 K30 U10 F800 D1; (Perform finish-milling inside the rectangle groove \nat the bottom of a hole in the canned cycle D1=5) \nG80 X50 Y50 Z50;     (The canned cycle is cancelled, returning from the point R plane) \nM30； \n \n2.22.2.20  Finish-milling Cycle Outside the Rectangle G138/G139 \nFormat:  \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n94 \n \nI  Programming \n \nG138 \n \n \nG98/G99 \n \n \n \nX_  Y_  R_  Z_  I_  J_  D_  K_  U_  F_ \n \n \n \n \n \nG139 \nFunction:  The tool performs fine-milling outside the rectangle by the specified width and \ndirection, it is returned after finishing the fine-milling. \nExplanation:  \nG138:  Finish-milling cycle outside the rectangle in CCW. \n          G139:  Finish-milling cycle outside the rectangle in CW. \n          I:  The width of rectangle along the X axis, range: -99999999～99999999×least input \nincrement. \n          J:  The width of the rectangle along the Y axis, range:-99999999～99999999×least input \nincrement. \nD:  Sequence number of tool radius, its value range is indicated as 0 ~ 32, thereinto, the \n0 is default of D0. The current tool radius value is taken out according to the specified \nsequence number. \n \n  \nK:  The distance between the finish-milling start point and the side of rectangle along the \nX axis, range: -99999999～99999999×least input increment. \n          U:  Corner arc radius, if it is omitted, no corner arc transition. \n \nCycle process:  \n(1) Positioning to the XY plane at the rapid traverse rate; \n(2) Down to the point R plane at the rapid traverse rate; \n(3) Cutting feed to the bottom of a hole; \n(4) Perform the circle interpolation by the path of transit arc 1; \n(5) Perform the circular and linear interpolation by the path of 2-3-4-5-6; \n(6) Perform circular interpolation by the path of transit arc 7 and return to the start point; \n(7) Returning to the initial plane or point R plane according to G98 or G99. \n \nCommand Path:  \n \nFig.2-23-2-33 \n \nRelated Explanation:  \n(1) The interpolation direction of transition arc is inconsistent to that of the fine-milling arc when a \nfine-milling is performed outside the rectangle. The interpolation direction is the one for the \n\n\nChapter 2  G Codes \n95 \nI  Programming \nfine-milling arc in the command explanation. \n(2) The commands Q, P and L are disabled in this cycle, but, the value of Q and P are reserved \nas canned cycle modal value. \nFor example:  A finished rough-milling rectangle groove is performed by the fine-milling by the \ncommand G138 in canned cycle. See the following figure. \n \nFig.2-23-2-34 \nG90 G00 X50 Y50 Z50;    (G00 rapid positioning) \nG99 G138 X25 Y25 R5 Z-50 180 J50 K30 U5 F800 D1; (The rectangle outside finish milling \nis performed under the canned cycle at the bottom of a hole D1=5) \nG80 X50 Y50 Z50;    (The canned cycle is cancelled, it returns from the point R plane) \nM30; \n2.22.3  Continous Drilling \n2.22.3.1  Line Series Punch (L function) \nL holes machining cycle should be performed from current plane position to end point specified \nby X and Y are indicated if the L word is specified in canned cycle, so the current position (block start \nand end) will not be drilled, the end point position is regarded as the last hole, holes are equal-spaced, \nas follows:  \n \n \nFig.2-23-3-1 \nL value setting \nSystem execution result \nValue is negative\nIneffective, the value should be positive \nThe value is \nNormal drilling cycle 1 time \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n96 \n \nI  Programming \n \nunspecified or \nequals to 1 \nThe value is 0 \nNo change of axes, the system reserves relevant cycle modal data \nThe value is \ndecimal \nWhen L＞1,using round number \nWhen L＜1, it is processed as L=0, not moving but reserving its modal data and \nrelevant cycle parameter values. \n \nNote 1：Input range of command L: -99999999～99999999×least input increment; Decimals is ignored and absolute \nvalue is used instead of negative value. L code is effective only in current block. \nNote 2：In continuous drilling, the return planes are R point plan. After the last hole is processed, the return plane is \nspecified by G98/G99.  \nNote 3：When there is no axis position command in the specified L block, it means drilling cycle is performed L times in \nthe original place.  \nNote 4：Fixed cycle G110,G111,G112,G113,G114,G115,G134,G135,G136,G137,G138,G139 have no consecutive \ndrilling function.  \nNote 5：When L0 is specified, no drilling will be performed. \n2.22.3.2  Rectangle Series Punch (G140/G141) \nFormat:  \n \n \n \n \nG140 \n \nG98/G99 \n \n \n \nGxx  X_  Y_  R_  Z_  A_  B_  J_  F_ \n \n \n \n \nG141 \nFunction:  Performing series punch on each side of the rectangle according to the punch \nnumber specified. \nExplanation:  \nG140 – Punching in CW \n   G141 – Punching in CCW \nGxx – Punching type (G73, G74, G81, G83, G84, G85, G86, G88, G89) \nX, Y – End coordinate of the first rectangle side \nR – R plane position \nZ – Hole depth \nA – The punching number on the 1st and 3rd side \nB – The punching number on the 2nd and 4th side \nJ-  The length of the 2nd side \nF – Cutting feedrate \n \nFor example:  \nThe end point coordinate of the rectangle first side is X90, Y40; the length of the 2nd side is \n20mm as for the rectangle path punching. The punching holes are machined by G81, to punch 3 \nholes at 1st and 3rd side each other; punch 2 holes at 2nd and 4th side each other, the hole depth is \n25mm; \n\n\nChapter 2  G Codes \n97 \nI  Programming \n \nFig.2-23-3-2 \nIts programming is as follows:  \nG90 G17 G0 X0 Y0 Z25； \nM03； \nG140 G81 X90 Y40 R5 Z-25 A3 B2 J20 F800； \nG80 G0 X100 Y100 M05； \nM30 \nThere are 10 holes such as A1~A3, B4, B5, A6~A8, B9 and B10 to be machined as in above \nfigure. \nNote 1: If the G140 or G141 is specified in the canned cycle, it is indicated that the rectangle serial punching will be \nperformed. The rectangle data are defined according to specified X, Y coordinates and J value in a program, \nand the serial punching cycle is performed according to the punch mode (canned cycle command). \nNote 2: The command value of maximum punching number A and B at each side is 9999; the command is disabled \nwhen it is negative. The decimal part will be rounded off if the command is decimal; if the A or B is not specified, \nthen 0 is a default. \nNote 3: The rectangle is defined by the current start point, the end of the 1st side and the length of the 2nd side; the \ndefault is current start point if the end of 1st side is not specified; the alarm will be generated if the length \n(namely, the J is not specified) of 2nd side is not specified.  \nNote 4: The returned levels are all R point plane in serial punching, the corresponding plane will be retracted according \nto G98/G99 specified in a block when the last hole is performed. \nNote 5: Canned cycles, such as G110, G111, G112, G113, G114, G115, G134, G136, G137, G138 and G139 have no \nserial punching functions. \nNote 6: The command words G140, G141, A, B and J are only effective in current block. The alarm will be \ngenerated if the G140 and G141 are specified without the canned cycle (punching). The A, B and K will be ignored if A, \nB and K are specified instead of the G140 or G141. \n2.22.3.3   Arc Serial Punching (G142/G143) \nFormat:  \n \n \n \n \nG142 \n \nG98/G99 \n \n \n \nGxx  X_  Y_  R_  Z_  B_ (I_  J_)  C_  F_ \n \n \n \n \nG143 \nFunction:  Serial punching is performed according to the specified punching number on \nspecified arc. \nExplanation:  \nG142 – Punching in CW \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n98 \n \nI  Programming \n \nG143 – Punching in CCW \nGxx – Punching type（G73, G74,G81,G82, G83, G84,G85, G86, G88,G89） \nX,Y – End point coordinate for the arc, it is fixed for G17 plane. \nR – R plane position \nZ – Hole depth \nB – Radius of arc, when a negative value is specified, it is major arc. \n(I_ J_) – The circle center and radius are calculated by I or J when the R value is not \nspecified. \nC – Number of punching \nF – Cutting feedrate \n \nFor example:  \nG91 G142 G81 X100 R50 Z-50 C4 \n     \n Fig.2-23-3-3 \nExample 2：when drilling 7 holes in full circle, the start points and end points are coordinate origins, \nand the radius is 50, hole depth is 50.  \nO0001； \n \nG00 G90 X0 Y0 Z0 G17； \n \nG98 G142 G82 I50 J0 R-10 Z-50 C7 F3000； \n \nM30； \n \n% \n1\n2\n3\n4\n5\n6\n7\n \nFig.2-23-3-4 \nNote 1:When starting point and end point are the same one in the continuous drilling and I, J are used to program, the \nfull-circle drilling is executed.   \nNote 2: Canned cycle G110, G111, G112, G113, G114, G115, G134, G135, G136, G137, G138, G139 has no \ncontinuous drilling function.  \nNote 3: The maximum drilling number C is 9999; the negative value is processed as absolute value; the decimals are \nrounded.  \nNote 4：When C is not specified or equals to 0, it reaches the end point directly and no drilling will be performed. \n\n\nChapter 2  G Codes \n99 \nI  Programming \n2.22.4  Cautions for Canned Cycle \n(1) The spindle should be rotated (The M code should be correctly specified, or, the alarm will be \ngenerated, the G74 by M04, G84 by M03) by using the miscellaneous function (M code) before the \ncanned cycle is executed. \n (2) Specifying any command of the X, Y, Z and R data, the hole machining can be performed in \nthe canned cycle of G73~G89. If neither data is contained in the block, the hole machining is not \nperformed (G110, G111, G112, G113, G114, G115, G134, G135, G136, G137, G138 and G139 are \nstill needed to specify the corresponding address I, J and K, or the alarm occurs). But the hole \nmachining is not performed when the G04 X_ is specified in the circumstance of X, because the X \nindicates for time when the G04 is specified. \nG00 X_;                      (G00 rapid positioning) \nG81 X_ Y_ Z_ R_ F_ L_;       (Hole machining performs) \n;                            (Without hole machining) \nF_ ;                         (F value is refreshed without the hole machining) \nM_ ;                         (Performing the miscellaneous function only) \n (3) When the canned cycle (G74 or G84) is employed in spindle rotation consolation, if the hole \nposition (X, Y) or distance from initial point level to the point R plane is short, and it is necessary to \nmachine serially, or sometimes the spindle can not reach the specified speed before the hole \nmachining operation, for delaying the time, the dwell block by G04 is inserted into each hole \nmachining, which is shown as follows:  \n \nFig.2-23-4-1 \nG86 X_ Y_ Z_ R_ F_ ； \nG04 P _;             (For dwell time P, without hole machining) \nX_ Y_;               (The next hole is machined) \nG04 P _;             (For dwell time P, without hole machining) \nX_ Y_;               (The next hole is machined) \nG04 P_;              (For dwell time P, without hole machining) \nSometimes, this issue will not be considered according to different machine tool, refer to the \nmanual supplied by the machine tool builder. \n (4) As stated above, the canned cycle can also be cancelled only when G00~G03 codes are \nread. So, there are two cases (# expresses for 0~3, □□ for canned cycle code) will be shown \nwhen they share the same block with the canned cycle G code.  \nG# G□□ X- Y- Z- R- Q- P- F- K-;    (For canned cycle) \nG□□ G# X- Y- Z- R- Q- P- F- K-; The X, Y and Z axes are moved by G#, the R, P, Q and K are \ndisabled, the F is stored. The principle, which the last G code is effective when G codes of same \ngroup share the same block, is met by cases above.  \n (5) When the canned cycle and miscellaneous function are specified at the same block, The M \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n100 \n \nI  Programming \n \nand MF codes are delivered at the beginning of positioning (see the operation 1). The next hole \nmachining can be performed till the ending signal (FIN) occurs. \n (6) When the canned cycle is applied, if the tool compensation C is current state, the tool \ncompensation information C is then temporarily cancelled and saved; the tool compensation C status \nis restored when the canned cycle is cancelled. \n (7) If the tool length offset commands (G43, G44 and G49) are specified in a canned cycle block. \nThen, the offset is performed when the point R plane is positioned (operation 2). The tool length \noffset commands are disabled after the canned cycle is entered till it is cancelled. \n (8) The cautions for the operation of canned cycle:  \na. Single block \nWhen the canned cycle operation is performed by using the single block mode, normally, it is \nseparately stopped at the terminal of the movements 1, 2, 3, 4, 5 and 6 in the Fig. 13.1 (A). And the \nsingle block is somewhat different according to corresponding canned cycle action at the bottom of a \nhole. For example, the single block is stopped when the dwell is applied. The operation at the bottom \nof the hole for fine-milling and rough-milling are divided into multiple single stop. So, it is necessary to \nstartup for several times to machine a hole in a single block.  \nb. Feed hold \nThe feed hold is disabled between the movement 3 ~ 5 in commands G74 and G84, but the \nindicator of feed hold will light up. But the control stops till the operation 6. If the feed hold is \nperformed again in operation 6, then it is stopped immediately. \nc. Override \nThe feedrate override is considered for 100 percent in the operation G74 and G84, the override \nchange is disabled. \n(9) When the bit 1 of parameter 3 (D_R) is set to 1, the D value in tool compensation page \nindicates diameter value. \n \n2.22.5  Examples for Modal Data Specified in Canned Cycle \nTable 2-23-5-1 \nNo. \nData Specification \nExplanation \nN0010 \nG00 X_ M3 ； \nG00 positioning at the rapid traverse, and rotating the spindle; \nN0020 \nG81 X_ Y_ Z_ R_ \nF_； \nBecause it is the beginning for the canned cycle, so the value \nneeds to be specified for Z, R and F. \nN0030 \nY_； \nThe corresponding hole machining data is same to the previous \nhole, only the position Y is different, so G81Z_R_F_ can be \nomitted. As for the hole position is shifted for Y, hole machining is \nperformed further by using the G81; \nN0040 \nG82 X_ P_； \nThe hole position needs to be moved along the X axis as for the \npervious one. The Z, R and F of previous hole and the P specified \nby this hole are taken as hole machining data by the G82; \nN0050 \nG80 X_ Y_ M5 ； \nThe hole machining is not executed, all of the hole machining data \nare cancelled (except for the F); The GO positioning is performed \nwith XY; \nN0060 \nG85 X_ Z_ R_ P_；\nThe Z and R are needed to be specified newly because all of the \ndata in previous block are cancelled, the above value specified is \napplied when the F is omitted. Although the P value is commanded, \nbut it is not needed for this hole machining, so the P value is saved.\n\n\nChapter 2  G Codes \n101 \nI  Programming \nN0070 \nX_ Z_； \nThe Z is different compared with the previous hole, and the hole \nposition just moves along the X axis; \nN0080 \nG89 X_ Y_ D_； \nThe Z and R, P values separately specified by N0070 and N0060, \nthe F value specified in N0020 are taken as hole machining data, \nwhich are used for G89 hole machining. \nN0090 \nG112 I_ J_ F_ D_；\nThe fine-milling hole machined by G89 is performed by G112. \nN0100 \nG0 X_ Y_ Z_； \npositioning for a rectangle machining \nN0110 \nG134 \nZ_R_I_J_K_U_D_；\nStart machining the rectangle; \nN0120 \nY_I_J_K_U_D_； \nBegins machining the second rectangle; \nN0130 \nX_ \nY_ \nI_J_K_U_D_； \nBegins machining the 3rd rectangle; \nN0140 \nG138 X_ Y_ R_ Z_ \nI_ \n J_ K_ U_ D_ F_；\nThe fine-milling inside the machined rectangle groove is to be \nperformed, the corresponding data are needed; \nN0150 \nG01 X_ Y_， \nCancel the hole machining mode and data (except for F); the G01 \ncutting feed is performed by XY. \n \n2.22.6  Examples for Canned Cycle and Tool Length Compensation \n \nFig.2-23-6-1 \nThe hole number from 1 to 6… drilling Φ10 \nThe hole number from 7 to 10… drilling Φ20 \nThe hole number from 11 to 13… boring Φ95 hole (depth is 50mm) \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n102 \n \nI  Programming \n \n \nFig.2-23-6-2 \nThe values of offset numbers H11, H15 and H 31 are separately set to 200.0, 190.0 and 150.0, \nthe program is as following: \nN001 G92 X0 Y0 Z0 ； \nThe coordinate system is set at the reference point \nN002 G90 G00 Z250.0 ； \n \nN003 G43 Z0 H11 ； \nPlane tool length compensation is performed at the \ninitial plane. \nN004 S30 M3 ； \nThe spindle starts. \nN005 G99 G81 X400.0 Y-350.0 ； \nZ-153.0 R-97.0 F120.0 ； \n#1 hole is machined after positioning. \nN006 Y-550.0 ； \n#2 hole is machined after positioning, point R plane \nreturned. \nN007 G98 Y-750.0 ； \n#3 hole is machined after positioning, initial plane \nreturned. \nN008 G99 X1200.0 ； \n#4 hole is machined after positioning, point R plane \nreturned. \nN009 Y-550.0 ； \n#5 hole is machined after positioning, point R plane \nreturned. \nN010 G98 Y-350.0 ； \n#6 hole is machined after positioning, initial plane \nreturned \nN011 G00 X0 Y0 M5 ； \nReference point return, the spindle stops. \nN012 G49 Z250.0 ； \nTool length compensation cancellation \nN013 G43 Z0 H15 ； \nInitial plane, tool length compensation. \nN014 S20 M3 ； \nSpindle starts \nN015 G99 G82 X550.0 Y-450.0 ； \nZ-130.0 R-97.0 P30 F70 ； \n#7 hole is machined after positioning, point R plane \nreturned. \nN016 G98 Y-650.0 ； \n#8 hole is machined after positioning, initial plane \nreturned. \nN017 G99 X1050.0 ； \n#9 hole is machined after positioning, point R plane \n\n\nChapter 2  G Codes \n103 \nI  Programming \nreturned. \nN018 G98 Y-450.0 ； \n#10 hole is machined after positioning, initial plane \nreturned. \nN019 G00 X0 Y0 M5 ； \nReference point return, the spindle stops. \nN020 G49 Z250.0 ； \nTool length compensation cancellation. \nN021 G43 Z0 H31 ； \nTool length compensation at initial plane. \nN022 S10 M3 ； \nSpindle starts. \nN023 G85 G99 X800.0 Y-350.0 ； \nZ-153.0 R47.0 F50 ； \n#11 hole is machined after positioning, point R plane \nreturned. \nN024 G91 Y-200.0 ； \nY-200.0 ； \n#12 and #13 are machined after positioning, point R \nplane returned. \nN025 G00 G90 X0 Y0 M5 ； \nReference point return, the spindle stops. \nN026 G49 Z0 ； \nTool length compensation cancellation \nN027 M30 ； \nProgram stops. \n \n2.23  Rigid Tapping \nThe right-handed tapping cycle (G84) and left-handed tapping cycle (G74) may be performed in \nstandard mode or rigid tapping mode. In standard mode, the spindle is rotated and stopped along with \na movement along the tapping axis using miscellaneous functions M03 (rotating the spindle \nclockwise), M04 (rotating the spindle counterclockwise), and M05 (stopping the spindle) to perform \ntapping. \nIn rigid mode, tapping is performed by controlling the spindle motor as if it were a servo \nmotor and by interpolating between the tapping axis and spindle. When tapping is \nperformed in rigid mode, the spindle rotates one turn every time a certain feed (thread \nlead) which takes place along the tapping axis. This operation does not vary even during \nacceleration or deceleration. \n \n2.23.1  Rigid Tapping \nCode format: \nLeft-handed rigid tapping: G74 X_ Y_ Z_ R_ P_ F_Q_ K_ \nRight-handed rigid tapping: G84 X_ Y_ Z_ R_ P_ F_ Q_ K_ \nCode function: In rigid mode, tapping is performed by controlling the spindle motor as if it were a \nservo motor and by interpolating between the tapping axis and spindle. When \ntapping is performed in rigid mode, the spindle rotates one turn every time a certain \nfeed (thread lead) which takes place along the tapping axis. This operation does not \nvary even during acceleration or deceleration. \nCycle process: (1) Position to the XY plane at the rapid traverse rate; \n             (2) Reduce to the point R plane rapidly, then to the position where the C is specified at \nthe rapid traverse rate; \n             (3) Tapping is performed to the bottom of the hole, then the spindle stops; \n             (4) Dwell time P is performed if the P is specified; \n             (5) Spindle rotates reversely returns to the point R plane, the spindle then stops; dwell \ntime P is performed if the P is specified; \n   (6) Return to the origin plane if the command is G98; \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n104 \n \nI  Programming \n \nCode path: (G74 shows a sample) \nG 7 4 （G 9 8 ）\nIn itia l le v e l\nG 7 4 （G 9 9 ）\nP\nS p in d le  sto p\nS p in d le  cw\nP\nO p e ra tio n  1\nO p e ra tio n  2\nP o in t R\nS p in d le  c cw\nS p in d le  s to p\nO p e ra tio n  5\nO p e ra tio n  2\nO p e ra tio n  1\nO p e ra tio n  6\nO p e ra tio n  5\nO p e ra tio n  3\nO p e ra tio n  3\nO p e ra tio n  4\nO p e ra tio n  4\nP o in t R\nS p in d le  cc w\nP o in t R\nS p in d le  s to p\nS p in d le  sto p\nP o in t Z\nP o in t Z\nP\nP\nS p in d le  s to p\nS p in d le  s to p\nS p in d le  c w\n \nFig.2-24-1 \n2.23.2  Peck Rigid Tapping \nCode format: \n (High-speed/standard) peck left-handed rigid tapping: G74 X_ Y_ Z_ R_ P_ F_ Q_ K_ \n    (High-speed/standard) peck right-handed rigid tapping: G84 X_ Y_ Z_ R_ P_ F_Q_ K_ \nCode function: When the peck tapping is performed in rigid tapping, due to chips sticking to the tool or \nincreased cutting resistance, in such cases, the preferable tapping can be performed by the \npeck rigid tapping. \nHigh-speed peck rigid tapping: \nWhen the PCP of state parameter No.5200#5 is set to 0, the high-speed peck rigid tapping cycle \nis selected. \nAfter positioning along the X- and Y-axes, rapid traverse is performed to point R, then position to \nthe place where specifies by C. From point R, cutting is performed with depth Q (depth of cut for each \ncutting feed), then the tool is retracted by distance d, the retraction speed can be overridden. When \npoint Z has been reached, the spindle is stopped, and then rotated in the reverse direction for \nretraction. The tool retracts to the point R, the spindle stops. If it is G98 state, rapidly move to the \ninitial position, the Figure is shown below: \n \n \n \n\n\nChapter 2  G Codes \n105 \nI  Programming \nG74、G 84（G98）\nInitial level \nG74、G84（G99）\nQ\nQ\nd\nPoint Z\nPoint R\nd\nSpindle \norientation\nd=back distance \nQ\n(1)\n(2)\n(3)\nInitial level \nQ\nQ\nd\nPoint Z\nPoint R\nd\nSpindle \norientation\nd=back distance \nQ\n(1)\n(2)\n(3)\n \nFig.2-24-2 \nStandard peck rigid tapping: \nWhen the PCP of state parameter No.5200#5 is set to 1, the standard peck rigid tapping cycle is \nselected. \nAfter positioning along the X- and Y-axes, rapid traverse is performed to point R, then position to \nthe place where specifies by C. From point R, cutting is performed with depth Q (depth of cut for each \ncutting feed), then the tool is retracted by distance d, the retraction speed can be overridden. The \nposition is performed from point R to a distance d from the end of the last cutting, which is where \ncutting is restarted, and the cutting feed is performed. When point Z has been reached, the spindle is \nstopped, then rotated in the reverse direction for retraction. The tool retracts to the point R, the \nspindle stops. If it is G98 state, rapidly move to the initial position, the Figure is shown below: \n \nG74、G 84（G98）\nInitial level \nG74、G84（G99）\nQ\nQ\nd\nPoint Z\nPoint R\nd\nQ\nQ\nd\nPoint Z\nPoint R\nd\nSpindle \norientation\nd=cutting start distance \nd=cutting start distance \nQ\nSpindle \norientation\nInitial level \nQ\n \nFig.2-24-3 \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n106 \n \nI  Programming \n \n2.23.3  Address Explanation \nTable 2-24-1  \nSpecified \ncontent \nAddres\ns  \nCommand address explanation \nHole position \ndata \nX,Y \nSpecify the hole position by the absolute value or incremental \nAparture \nmachining \ndata \nR \nFrom the initial plane to the point distance \nZ \nDepth of a hole, the distance from point R to the bottom of the hole \nP \nSpecify the dwell time at the bottom of the hole or at point R when a return \nis made. The dwell does not perform when it is not input or the value is 0.\nQ \nTool infeed value of peck tapping \nL \nIt indicates that the consecutive machining cycle of L holes are performed \non this line segment from start (the start position of block) to XY \ncoordinate position. The continued drilling may not perform if it is not input \nor the value is 0. \nF \nMetric thread leading, the solution range: 0.001~500mm. The alarm 201 \nmay alarm if it is not input. \nThe tapping feed axis is specified based upon the parameter FXY (Bit 0 of Para.No.5101). Which \nspindle can be used that is determined by the relevant G signal (It is related with the PLC program of \nthe system operation). \nThe thread leading can be affirmed by the cutting federate F (the federate of tapping axis) and \nspindle speed S. \nIn per minute mode, thread lead =command cutting feedrate /spindle speed.  \nIn per rotation mode, thread lead =command feedrate. \nIn rigid tapping mode, the system can select three kind of machining mode by Q value (cutting \namount every time) and PCP (NO.5200#): Standard rigid tapping cycle, high-speed deep hole rigid \ntapping cycle, and deep hold rigid tapping cycle. \nStandard rigid tapping cycle \nQ value is not specified or Q value is 0 \nHigh-speed deep hole rigid \ntapping cycle  \nSpecify Q value（it is not zero） and PCP（NO.5200#5）=“0”\nDeep hold rigid tapping cycle \nSpecify Q value（it is not zero） and PCP（NO.5200#5）=“1”\n \n2.23.4  Technic Specification \nAcceleration/deceleration \n \nRigid tapping adopts the acceleration or deceleration before a straight line to control. \nOverride \nThe override regulation is invalid for rigid tapping infeed, but the override value can be adjusted \nor not which is determined by data parameter. \nDry run \nG84/G74 can be used a dry run, the dry run equals to the feedrate along Z axis. The override \nadjustment is invalid in dry run. \nMachine lock \nG84/G74 can be used a machine lock, the tapping axis and spindle axis are not moved when the \nmachine lock is enabled. \n\n\nChapter 2  G Codes \n107 \nI  Programming \nResetting \nThe resetting can be reset the tapping when the rigid tapping is performed, but the G74/G84 can \nbe not be reset. \nDwell \nThe dwell is disabled. \nWorking \nG84/G74 is only valid in Auto or MDI mode. \nManual feed \nThe rigid tapping can not used for manual feed. \nTool length compensation \nIf the tool length compensation (G43, G44 or G49) is specified in canned cycle, the offset value is \nadded till position to the point R. \nCutter compensation \n \nCutter compensation is ignored in canned cycle. \nAxis switching \n \nThe Z axis tapping can only be performed in rigid mode. \nS code \n \nIf the command speed is more than the maximum speed, the alarm may occur. \nM29 \n \nSpecify an axis movement code between M29 and G84/G74 causes alarm. \nP/Q \n \nIf they are specified in non-drilling block (If they are specified in a block that does not perform \ndrilling), they are not stored as modal data. When Q0 is specified, the peck rigid tapping cycle is not \nperformed. \nSpecify them in tapping block, they are stored as modal data, when the tapping command is \nretracted, either Q modal (did it). \nCancellation \n \nDo not specify a group 01 G code and G84/G74 in the same block. \nA Cs contour control is used with rigid tapping at the same time. \n   \nCS axis selects a speed mode or position mode which is determined by CON (G27.7), but, \nthe system is rigid tapping mode, regardless of the value of CON. After the rigid tapping is \ncancelled, the rotation axis is either CS axis or common one which is determined by state \nparameter. The C axis can not be moved in manual mode when the rigid tapping is not \ncancelled. \n1、 Specify M29 before G74/G84 \nG84 shows a sample for the following time-sequence \nM29\nRATP(F76.3)\nG84 executed\nOutput S command \nRGTA(G61.0)\nFIN(G4.3)\nThe spindle rotation operation\nOperation 1\nShielding 2\nOperation 3\nThe spindle CCW signal SFR \n \nFig.2-24-5 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n108 \n \nI  Programming \n \n2、 Specify M29 and G74/G84 at the same block \nG84 shows a sample for the following time-sequence \nM29\nRATP(F76.3)\nG84 executed\nOutput S command \nRGTA(G61.0)\nFIN(G4.3)\nThe spindle rotation operation\nOperation 1\nShielding 2\nOperation 3\nThe spindle CCW signal SFR \n \nFig.2-24-6 \n3、 The explanation of time sequence  \nThe spindle rotation operation means that the rotation axis is shifted to the position control mode \n(namely, the servo spindle is needed to send a switch signal in position mode), and check the position \nmode arrival signal of servo spindle \n2.23.5  The Cancellation of Rigid Tapping Mode \n \nThe rigid tapping mode is canceled by G80 \n \nSpecify other canned cycles by G codes \n \nThe other G codes of group 1. \n \nCNC resetting \nThe signal descending of F76.3 along the signal with canceling the rigid tapping of PLC, if the \nstate RTCRG of parameter No.588 is equal to 1, the system is then performed the next block without \nwaiting for the rigid tapping mode signal which G61.0 is set to 0; \nWhen the state parameter No.588 (CRG) =0, the time sequence is as follows: \n \nFig.2-24-7 \nWhen the state parameter No.5200#2 (CRG) =1, the time sequence is as follows: \n\n\nChapter 2  G Codes \n109 \nI  Programming \n \nFig.2-24-8 \n2.23.6  F and G Signals \nRGTAP (G61.0): Rigid tapping signal \n \nWhen the M 29 is commanded, PMC enters the rigid tapping mode, and the signal is then set to \n1 to inform the CNC \n \n1: PMC enters the rigid tapping mode \n \n0: PMC does not enter the rigid tapping mode \n \nIf this signal does not set to 1, after the M29 has been commanded, the alarm may occur in the \nblock of G74/G84. \nRGSPM, RGSPP (F65.1, 0) spindle turning signal \n \nWhen the rigid tapping is performed, the signal is informed to the PMC whether the current \nspindle is CCW (positive) or CW (negative). \n \nRGSPM: 1 spindle CW (negative) \nRGSPP: 1 spindle CCW (positive) \n \nIn rigid tapping, these signals are output when the spindle is rotated. In the mode of rigid tapping, \nwhen the spindle is positioned at the hole or stopped at the bottom of the hole or R position, these \nsignals are not output. \nIn the mode of rigid tapping, when the spindle is positioned at the inter-locked stop, machine lock \nor Z axis ignorance states, the spindle does not regard as a stop state, in this case, these signals are \noutput. These signals are only enabled in rigid tapping, and they are all set to 0 in the normal spindle \ncontrol mode. \nRTAP (F76.3): Rigid tapping process signal \n \nThis signal informs PMC which has been in the mode of rigid tapping or not. The CNC is in the \nmode of rigid tapping currently when the signal is set to 1. \n \nThis signal can be locked M29, PLC has been commanded the rigid tapping mode, the PMC is \nthen treated with the corresponding logic, and this signal can be replaced the lock of M29, even so, \nthe FIN signal of M29 is not ignored still. \n2.23.7  Program Example \nG84 shows an example for the following program \nO1000 (Rigid tapping example); \nG0 X0 Y0 Z0； \nM29 S200; \nG84 X10 Y10 Z-10 R-5 P2000 F2 C20; \nX20 C40 \nG80; \n        M30; \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n110 \n \nI  Programming \n \n2.24  Macro Code \nGSK988MA provides the macro code which is similar to the high language, and can realize the \nvariable assignment, and subtract operation, logic decision and conditional jump by user macro code, \ncontributed to compiling part program for special workpiece, reduce the fussy counting and simplify \nthe user program. \n2.24.1  Variable \n（1）variable use \nThe variable can specify the address value in the program. The variable value is assigned \nby the program code or is set directly by the keyboard. One program can use many variables \nwhich can be distinguished by their variable number.  \n \nVariable expression \nUse “#”+variable number to express;  \nFormat：# i（i=200，202，203，……）； \nExample：#205，#209，#225. \nBesides, the expression can be used to specify the variable number. At the moment, the \nexpression must be in the brackets.  \nExample：#[#20+#30/4] \n \nVariable reference  \n1. Use variable to permute the number following address. \nFormat: ﹤address﹥+“# i” or ﹤address﹥+“－# i” means to take the variable value or \nthe negative value of value of the variable as the address value. \nExample: F#203…#203=15: it is the same those of F15 functions; \nZ-#210…#210=250: it is the same those of Z-250 functions; \nG#230…#230=3: it is the same those of G3 functions. \nWhen the variable value is used in program, the decimal point can be omitted. Example: \n#1=123: the actual value of #1 is 123.000.  \nWhen the variable value followed the axis code address has the decimal point, the data \nless than the least setting unit executes the rounding. For example: #1=1.23456; the axis \nleast setting unit is 0.001, the tool to execute G00 X#1 positions to 1.235 position.  \n \n2. Use variable to permute variable number. \nFormat: “#”+[variable number] \nExample: 5 uses #30 to execute the permutation in #5, is written to #[#30]. \n3. Refer the undefined variable. \nWhen the variable is not defined, it becomes the “Null” variable. When the variable #0 is \nNull, it is only read instead of being written.  \nWhen the system refers to the undefined variable, it ignores the variable and the word.  \nExample: when the variable #10 value is 0, the variable #!1 value is Null and the system \nexecutes G00 X#10 Y#11, the execution result is G00 X0，Y#11 to be ignored.  \n In course of operation, besides using null variable assignment, null variable value is the \nsame that of 0 in other cases.  \n  When #2=<Null> , #1=#2,    #1=<Null>； \n             #1=#2*3,    #1=0;  \n                    #1=#2+#2,   #1=0; \n       Beside using the Null to assign, the variable value is 0 in other conditions.  \n\n\nChapter 2  G Codes \n111 \nI  Programming \n  When #2=< Null >, #1=#2,    #1=<Null>； \n             #1=#2·3,    #1=0;  \n                    #1=#2+#2,   #1=0; \n<Null> in conditional expression is different with 0.  \n   When #2=<Null>, #2 EQ #0，#2 NE 0, the condition is false.  \n    When #2=0, #2 EQ #0，#2 NE 0, the condition is false. \n \n（2）Variable Type \nThe variable is divided into the different variable types according to the variable number, \ntheir use and prosperity are different below: \nTable 2-26-1 \nVariable range\nVariable type \nFunction \n#0 \nNull variable \nThe variable is null and is not assigned.  \n#1～#33 \nLocal variable\nThe local variable is used to transmit parameters \n(when the system uses G65, G66 to call \nsubprograms every time, it initializes the local \nvariable value by parameters), and store data (for \nexample: store operation result) in the macro \nprogram. When the system is turned off, the local \nvariable is initialized to be null. When the macro \nprogram is called, the argument assigns to the \nlocal.  \n#100～#199 \n#500～#999 \nShare variable\nThe share variable has the same meaning in the \ndifferent macro program. When the system is \nturned off, the variable #100~#199 is initialized to \nbe null, #500~#999 is saved and is not lost.  \n#1000-- \nSystem variable The system variable is used to read all types of \ndata when CNC runs.  \n \n（3）Variable range \nThe input range of the local variable and common variable is -99999999~99999999 which \ninteger part and decimal part are up to 8-digit number. When the assignment exceeds the valid \nrange, an alarm occurs. When the operation result exceeds -99999999~99999999 and is stored \ninto the variable, the system window displays “***” which means overflow. When the variable is \nused in code, the relevant operation result is displayed to “***”; when the digit exceeds 8-digit, its \nformer 8 digits are valid, and its ninth digit is rounded; the middle result in the macro variable \ncount can be more than the valid input digital. \n \nNote 1: The variable cannot be referred to address O and N. The system cannot use O#200，N#220 to execute the \nprogramming;  \nNote 2: When the variable exceeds the max. code value defined by the address, it cannot be used; for example: #230 \n= 120: M#230 exceeds the max. code value; \nNote 3: The system cannot identify –0 and + 0. # 4 = - 0: X # 4 is taken as X 0; \nNote 4: When the variable is used to the address data, the other except for the valid digit is rounded.  \nNote 5: The number followed by the address can use <Formular> to replace. The system takes “Word address \n[<Formular>]” or word address-[<Formular>]” as a program, and take <Formular> value or its negative value \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n112 \n \nI  Programming \n \nas the code value of the address.  \nNote 6: The decimal point which defines the variable in a program can be omitted. For example, #1=123 is defined, the \nactual value of #1 is 123.000;   \nNote 7: The negative sign of variable value which changes the reference should be placed in the front of #, such as \nG00X-#1; \nNote 8:The variable #1～#33, #100～#199 are cleared out after they reset, which are set by NO.6001Bit7（CLV） and \nBit6（CCV）, and which cannot be executed in MDI mode; \nNote 9: When the variable value overflows, the code address referring to the variable is ignored.  \nNote 10: NO.6000 Bit5（SBM）sets whether the single block stop is valid in user macro program.  \nNote 11: The number in expression (including brackets) can be omitted. For example, X[10] actual value is \nX10.000. \n2.24.2  System Variable \nThe system variable is used to read and write NC internal data. For example, some system \nvariable only read the tool offset value and current position data. The system variable is the base \nof the automatic control and general machining program development. \n \n（1）Interface signal \nThe interface signal can program the exchange message between the machine controller \nand user macro programs, i.e. it completes the exchange with PLC by G, F signals and the \ninterfaces with IO are defined by PLC. \nThe input signal can be only read, and the output signal can be read and written. \nSystem variable of interface signal \nVariable \nnumber \nFunction \nCorresponding G, F signals \n#1000--#1031\nRead the 32-bit signal according to its \nbit from PLC to user macro program \nCorresponding to G54.0～G57.7 signal \nstate  \n#1032 \nRead 32-bit signal one time. \nCorresponding to G54.0～G55.7 signal \nstate \n \n#1033 \nRead 32-bit signal one time. \nCorresponding to G56.0～G57.7 signal \nstate \n \n#1034 \nRead 32-bit signal one time.  \nCorresponding to G276.0 ～G277.7 \nsignal state \n \n#1035 \nRead 32-bit signal one time. \nCorresponding to G278.0 ～G279.7 \nsignal state \n \n#1100--#1131\nWrite \n32-bit \nsignal \nfrom \nmacro \nprograms to PLC according its bit (its \ncorresponding signal is 0 or 1 based on \nits macro variable value which is \nrounded off.  \nCorresponding to  F54.0 ～F57.7 \nsignal state \n\n\nChapter 2  G Codes \n113 \nI  Programming \n \n（2）Tool compensation value \nThe system variable can read/write the tool compensation value. The system variable of the \ntool compensation storage area is 2001～2999. The variable numbers divided exactly by 100 in \nthe above range are illegal. The concrete ranges are referred to the following table. \nTable 2-26-2 \n \n \n \n \n \n \n \n \n（3）Marco program alarm \nAlarms and alarm messages specified by the user can exist in programs. The variable can only \nbe written instead of being read. \nVariable \nFunction \n#3000 \nWhen the system executes the assignment statement of #3000=XXX, \nit stops the run and alarms. \nThe alarm message only displays 31 characters (15 Chinese \ncharacters), and the system only displays the first 31 characters when \nthere are more than it.  \nThe value of the alarm number being #3000 adds 3000, the alarm \nrange is 3000 to 3200.  \nWhen #3000 value is less than 0, the alarm number is 3000, when \n#3000 value is more than 200, the alarm number is 3200. \n \nExample:  \n#3000=6; the tool has not found \nWhen the system executes the block, it stops and alarms and the alarm number is 3006. \nThe alarm message is “TOOL NOT FOUND”, The system maybe alarm in advance because of \nthe buffer exists. \nThe alarm message can use the small brackets. For example, #3000=6(TOOL NOT \nFOUND). When the small brackets and the semicolon are in the block, the latter specified \nmessage is valid, such as #3000=6(TOOL NOT FOUND); TOOL NOT FOUND，the displayed \nmessage is “TOOL NOT FOUND”. \n#1132 \nWrite 32-bit signal to PLC one time. \nCorresponding to  F54.0 ～F55.7 \nsignal state \n \n#1133 \nWrite 32-bit signal to PLC one time. \n \nCorresponding to  F56.0 ～F57.7 \nsignal state \n#1134 \nWrite 32-bit signal to PLC one time. \n \nCorresponding to  F276.0 ～F277.7 \nsignal state \n#1135 \nWrite 32-bit signal to PLC one time \nCorresponding to  F278.0 ～F279.7 \nsignal state \nCompensation  number \nH code \nD code \noffset \nwear \noffset \nwear \n1 \n2001 \n2201 \n2401 \n2601 \n… \n… \n… \n… \n… \n99 \n2099 \n2299 \n2499 \n2699 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n114 \n \nI  Programming \n \n（4）Stop message \nThe program execution is interrupted and the system displays one message. i.e. the single stops \nafter the system executes the block, and the system displays only one prompt. The variable is only be \nwritten instead of being read. \n \nVariable\nFunction \n#3006 \nWhen the system executes the assignment statement of #3006=1, it stops the \nrun and displays only one prompt message. \nThe alarm message only displays 26 characters (13 Chinese characters), \nand the system only displays the first 26 characters when there are more than \nit. The value of the alarm number being #3006 adds 3200, the prompt number \nrange is 3201 to 3500. When #3006 value is less than 1, the alarm number is \n3201, when #3006 value is more than 300, the alarm number is 3500. \nFor example:  \n#3006=3; wait for run  \nWhen the system executes the block, it stops and displays one prompt and the prompt \nnumber is 3203. The prompt message is “WAITING FOR RUN”. The format of the prompt \nmessage is the same that of description in the macro program alarm. \n \n（5）Machine workpiece quantity \nThe required workpiece quantity (the target quantity) and machined workpiece quantity \n(completed quantity) are read and written  \nRequired workpiece quantity and machined workpiece quantity \nVariable \nFunction \n#3901 \nMachined workpiece quantity(completed quantity)  \n#3902 \nRequired workpiece quantity(target quantity)  \nWhen #3901 value is changed, the workpiece quantity displayed in POSITION window also \nchanges.  \nWhen #3902 value is changed, No.6713 value also changes. \n \n（6）Modal message \nThe previous modal message which is being processed can be read. \nVariable \nnumber \nFunction \n#4001 \nG00、G01、G02、G03、G33 \nGroup 1 \n#4002 \nG17、G18、G19 \nGroup 2 \n#4003 \nG90、G91 \nGroup 3 \n#4004 \nG22、G23 \nGroup 4 \n#4005 \nG94、G95 \nGroup 5 \n#4006 \nG20、G21 \nGroup 6 \n#4007 \nG40、G41、G42 \nGroup 7 \n#4008 \nG43、G44、G49 \nGroup 8 \n#4009 \nG73、G74、G76、G80、G81、G82、G83、G84、G85、G86、\nG87、G88、G89 \nGroup 9 \n#4010 \nG98、G99 \nGroup 10 \n#4011 \nG50、G51 \nGroup 11 \n\n\nChapter 2  G Codes \n115 \nI  Programming \n#4012 \nG66、G67 \nGroup 12 \n#4013 \nG96、G97 \nGroup 13 \n#4014 \nG54、G55、G56、G57、G58、G59 \nGroup 14 \n#4015 \nG61、G64 \nGroup 15 \n#4016 \nG68、G69 \nGroup 16 \n#4017 \nG15、G16 \nGroup 17 \n。。。 \n \n。。。 \n#4022 \nG50.1、G51.1 \nGroup 22 \n#4109 \nF code \n \n#4113 \nM code \n \n#4119 \nS code \n \n#4120 \nT code \n \n \nExample:  \nWhen the system executes #1=#4016, #1 value is 17, 18 or 19. \nAn alarm occurs when the reading/writing modal value is G command which cannot be used \nby the system. \n(7) Current position \nThe position message is only read instead of being written.  \nVariable \nnumber \nPosition signal \nCoordinate \nsystem \nTool compensation \nvalue  \n#5021--#5026\nCurrent position \nMachine \ncoordinate system\nincluding \n#5041--#5046\nCurrent position \nWorkpiece \ncoordinate system\nincluding \n#5081--#5086\nTool length compensation \nvalue \n \n \n \nThe read is the position value after the last block execution. \nThe units digit from 1 to 6 of variable number corresponds the No. n axis.  \n \n(8) Compensation value of workpiece coordinate system \nThe workpiece zero offset value can be read and written. \nVariable number \nFunction \n#5201--#5206 \nExternal zero offset value \n#5221--#5226 \nG54 workpiece zero offset value \n#5241--#5246 \nG55 workpiece zero offset value \n#5261--#5266 \nG56 workpiece zero offset value \n#5281--#5286 \nG57 workpiece zero offset value \n#5301--#5306 \nG58 workpiece zero offset value \n#5321--#5326 \nG59 workpiece zero offset value \nThe following is the extended workpiece origin offset value\n#7001～#7006 \nG54.1P1 workpiece origin offset value  \n#7021～#7026 \nG54.1P2 workpiece origin offset value \n…… \n \n#7941～#7946 \nG54.1P48 workpiece origin offset value \n \nThe units digit from 1 to 6 of variable number corresponds the No. n axis. \n \n(9) Note \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n116 \n \nI  Programming \n \nThe system variable is the state value of the system, and is buffered in advance when multi cycles are \nexecuted, so, the attained system variable is the value before the multi cycle command instead of the current \nvalue to avoid using the system variable in the cycle body of the multi cycles. \n2.24.3  Operation and Jump Code \n(1) Operation code \nVariables can execute all kinds of operations, and their operation command format is as \nfollows.  \n#i=＜Expression＞ \nThe right <expression> of an operation code is a compose of constant, a variable, function and \noperator.  \nGSK988MA/MB defines the following operations and logic codes: \nTable 2-26-3 \nFunction \nFormat \nUse \nassignment \n#i=#j; \nAssignment statement assigns #j value to #i； \n#i is Null when #j is Null; \naddition \n#i=#j+#k; \nAddition. When #j value is Null, it it taken as 0.0 \nvalue, and the following functions are the same that \nof it; \nSubtraction \n#i=#j-#k; \nExecute subtraction operation;  \nMultiplication  \n#i=#j*#k; \nExecute division operation; \nDivision \n#i=#j/#k; \nExecute addition; \nSine  \n#i=SIN[#j]; \nExecute sine operation;  \nAngle unit is degree; \nArc sine  \n#i=ASIN[#j]; \nExecute arc sine operation; \n#j value is -1～1; \ncosine \n#i=COS[#j]; \nExecute cosine operation ; \nAngle unit is degree \nArc cosine \n#i=ACOS[#j]; \nExecute arc cosine; \n#j value is -1～1 \nFunction range: 0°～180°. \nTangent  \n#i=TAN[#j]; \nExecute tangent operation ; \nAngle unit is degree \n#j value cannot be 90, 270 \nArc tangent  \n#i=ATAN[#j]/[#k];\nSpecify the lengths of two sides, execute the arc \ntangent, #j is opposite with “/” to partition; \nSquare root  \n#i=SQRT[#j]; \nExecute square root operation;  \n#j cannot be less than zero  \nAbsolute value \n#i=ABS[#j]; \nExecute absolute value operation; \nRounding  \n#i=ROUND[#j]; \nExecute rounding operation; \nIn macro program, execute the rounding of one-digit \nof No., in NC statement, execute the rounding of the \nnext digit of the least increment \nFUP \n#i= FUP [#j]; \nFloating UP integer ; \nIn puls quantity, #i is more than or equal to #j，in the \nnegative,#i is less than or equal to #j \n\n\nChapter 2  G Codes \n117 \nI  Programming \nFIX \n#i= FIX [#j]; \nFloating FIX integer; \nIn puls quantity, #i is less than or equal to #j，in the \nnegative,#i is more than or equal to #j \nNatural \nlogarithm \n#i=LN[#j]; \nExecute natural logarithm ; \nThe system alarms when #j is zero or less than zero\nExponential \nfunction \n#i=EXP[#j]; \nExecute #j exponent ; \n#j value cannot be more than 80 \nOR \n#i=#j OR #k; \nExecute the binary logic operation of input data  \n#j, #k cannot be less than zero  \nWhen there are the decimal points in #j, #k, the \ndecimal parts are rounded \nXOR \n#i=#j XOR #k; \nAND  \n#i=#j AND #k; \nBCD to BIN \n#i=BIN[#j]; \nConverse the decimal data into the binary;  \nThe system alarms for the data which cannot the \nconverse \nBIN to BCD \n#i=BCD[#j]; \nConverse the binary into the decimal  \n \nCommand explanation: \n（1）operation sequence: \nPriority\nOperator and function \n5 \n\" [\" , \"]\" \n4 \n\"#\" \n3 \n\"SIN\", \"SI\", \"ASIN\", \"AS\", \"COS\", \"CO\", \"ACOS\", \"AC\", \"TAN\", \n\"TA\", \"ATAN\", \"AT\", \"SQRT\", \"SQ\", \"ABS\", \"AB\", \"ROUND\", \n\"RO\", \"FIX\", \"FI\", \"FUP\", \"FU\", \"LN\", \"EXP\", \"EX\", \"BIN\", \"BI\", \n\"BCD\", \"BC\", \n2 \n\"AND\", \"AN\", \"*\", \"/\", \n1 \n\"OR\", \"XOR\", \"XO\",\"+\", \"-\", \n（2）EXP function input value cannot be more than 80, otherwise, an alarm occurs;  \n（3）”/” character in <expression>(in the right of assignment”=” or in the bracket []) is taken \nas the division operator instead of optional block skip code;  \n(4) A bracket “[]” is used to 5 levels, including the bracket used in the function. An alarm \noccurs when it exceeds 5 levels.  \n（5）The angle units of the triangle function SIN, COS, ASIN, ACOS, TAN and ATAN are \ndegrees, for example: 90°30＇is 90.5 degree; \n（6）#i=ASIN[#j] value range:  \n   When NO.6004 No. 0-digit NAT is set to 0: 90°～270° \n      When NO.6004 No. 0-digit NAT is set to 1: -90°～90° \n          When #j exceeds between -1 and 1, the system alarms and #j can be a constant. \n（7）#i=ACOS[#j] range: 0°～180°。 \nWhen #j exceeds between -1 and 1, the system alarms and #j can be a constant. \n（8）In #i= ATAN[#j]/[#k], ATAN #j and #k are the weight length of two right-angle sides as \nfollows:  \nWhen NO.6004 No. 0-digit NAT is set to 0: 0°～360° \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n118 \n \nI  Programming \n \nExample: when #1=ATAN[-1]/[-1] is specified, #1=225°. \n     When NO.6004 No. 0-digit NAT is set to 1: -180°～180° \nExample: when #1=ATAN[-1]/[-1] is specified,#1=-135° \n      #j，#K can be the constant. \nIn division or TAN[90], the division is specified to 0, P/S alarms;   \n（9）The function ROUND is used to NC code or macro statement, which rounds the data \nwith the decimal point. It is used to NC statement, which rounds according to the least \nsetting unit; when it is used to the macro statement, which rounds No. 1-digit decimal \npoint; \n     In executing #2=ROUND[#3], when #3=1.2345, the variable #2 value is 1. \nIn ISB increment metric input, #2=1.2345, #3=2.5456: \n      G00 X#2； the tool moves to 1.234mm \n      G00 X#3； the tool moves to 2.545mm \n（10）For FUP, FIX, when the absolute value of the integer after execution is more than that \nof the original, it is FUP; when it is less than that, it is FIX.  \nWhen #2=1.2，#3=-1.2 \n      In executing #4=FUP[#2], 2.0 is assigned to #4 \n      In executing #4=FIX[#2], 1.0 is assigned to #4 \nIn executing #4=FUP[#3], -2.0 is assigned to #4 \n      In executing #4=FUP[#3], -1.0 is assigned to #4 \n（11）Logic operation OR, XOR, AND firstly are conversed the decimal into the binary, and \nare executed in the binary by one-digit to one digit.  \n      Range: 0～99999999，when it has the decimal point, it is ignored.  \n      Example:  \n#101=10  （the binary is: 00001010） \n      #102=12  （the binary is: 00001100） \n      #103=#101 OR #102   （or the operation result is : 00001110） \nThe window display result of macro variable is #101=10.000000 #102=12.000000 #  \n103=14.000000 \n（12）The function BIN converses the decimal into the binary which is displayed in decimal \nsystem.  \n      The function converses the binary number displayed in decimal system into 8421 \nformat BCD. The system cannot display and alarms when some digit in BCD code \nafter conversion exceeds 9.  \n      \n   Example 1：      \n#101=37        （BCD 37 corresponds to the binary : 00110111） \n      #102=BCD[#101] \nMacro variable window display #102=55.000000 \n \n(2) Transfer and cycle codes  \nThe transfer and the repetition codes can change the control flow, and there are three kind of \ntransfer and repetition operation: the unconditional transfer GOTO, the conditional transfer \nIF…GOTO, IF…THEN and WHILE DO repetition. \nCommand format:  \n\n\nChapter 2  G Codes \n119 \nI  Programming \nGOTO n; \nCommand function:  \nSkip to the line number n without condition;  \nCommand format:  \nIF <Logical expression> THEN <expression>; \nCommand function: \nWhen the logical expression is valid, the system executes one following THEN, otherwise, it \nexecutes the next block.  \nCommand format:  \nIF < Logical expression > GOTOn; \nCommand function: \nWhen the logical expression is valid, the system skips the block with the line number n to \nexecute, otherwise, it executes the next block;  \nCommand format:  \nWHILE < Logical expression >  DOn; \n…………； \nENDn \nCommand function: \nWhen the logical expression is valid, the system executes the block between Do and END, \notherwise, its execute the block following END. The numerical value n following DO and END \nis used to specify the execute range label of the specified program, n value is 1, 2, 3. The \nsystem alarms when n is not 1, 2, 3. \nIF, WHILE logical operation character rules are as follows:  \nOperator    substitute  character definition  \nEQ    \n    ==        （=） \nNE    \n    <>        （≠） \nGT    \n    >         （＞） \nGE         \n>=        （≥） \nLT         \n<         （＜） \nLE         \n<=        （≤） \nNote 1: When the system transfers to the block with the serial number n and specifies the another exceeding the serial \nnumber range between 1 and 99999, P/S alarms, and the expression can specify the serial number; \nNote 2: The conditional expression must include the operator which is inserted in the middle of two variables or the \nvariable and the constant and is closed by the bracket[]. The expression can be replaced by the variable; \nNote 3: The number following D0 and the one following END specify the execution range label of the specified \nprogram, and the label value is 1, 2, 3. The system alarms when n is not 1, 2, 3;   \nNote 4: The label (1-3) in the repetition DO—END can be used many times, but P/S alarms when there is the cross \nrepetition (superposition in DO range); \nNote 5: When the system specifies D0 instead of WHILE statement, it creates the limitless repetition between DO and \nEND;  \nNote 6: In using EQ, NE logical operation expression, <Null> and zero have the different result. <Null> is taken as the \nzero in +, -, * conditional expression;  \nNote 7: The macro program statement cannot be used with NC statement together, and the macro program statement \ndefinition is as follows:  \n       Block including arithmetic or logical operation(=);  \nBlock including the control statement (such as TOTO, DO, END);  \nBlock including macro program call code (such as G65, G66, G67 or other G codes, M code call macro \nprogram) ; \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n120 \n \nI  Programming \n \nAny blocks except for macro program statements are NC statements;  \nNote 8: Any blocks except for macro program states are NC statements.  \nNote 9: The system can use the substitution character which is easily understood to replace the operator. ‘>’, ‘<’ can be \nedit in PC instead of on MDI keyboard and are uploaded into the system; \nNote 10: When macro statement needs a line number, the line number must be compiled in the front the statement; \nNote 11: In MDI mode, the system cannot execute the skip statement, otherwise, it alarms.  \n \nExample:  \n（1）GOTO example \n \n（2）IF <Logical expression> THEN <expression> example \n     IF[#2 EQ #3] THEN #4=0； \n     When #2 value is same that of #3, #4 value is 0. \n（3）WHILE <Logical expression>  DOn;…；ENDn example \n  \n \n2.24.4  Macro Program Statement and NC Statement \nThe following blocks are macro program statements:  \nIncluding arithmetic or logical operation (=);  \nIncluding control statement(such as GOTO, DO, END);  \nIncluding macro program call code (G65, G66, G67).  \nAny NC blocks except for macro program statement are NC statements.  \nIn Single Block mode, when No.6000 Bit5 (SBM) is set to 0, the system directly skips the macro \nprogram statement and the machine does not stop, but it is set to 1, the system stops run and \nenters the stop state.  \nOne block cannot have the macro program statement and NC statement simultaneously. \n2.24.5  Macro Program Call \n（1）Non-modal call of macro program G65 \nCommand format: G65  P    L __  〈argument list 〉； \nCommand function: The system calls macro program L times specified by P and transfers the \nargument to the called macro program. \nCommand explanations: P: specify the macro program to be called; \nL: times of calling the macro program, and its default is 1 and its \nrange is 1～9999; \nArgument list: data transferred to macro programs. \nArgument specification： \nTwo types of argument specification are available. Argument specification I uses letters other than \nG, L, O, N and P once each. Argument specification II uses A, B and C once each and also uses Ii, \n\n\nChapter 2  G Codes \n121 \nI  Programming \nJi and Ki. i is 1~10, and the types of argument specification are determined automatically \naccording to the letters used. \n \nArgument specification I \nAddress \nVariable No.\nAddress \nVariable No.\nAddress \nVariable No.\nA \n#1 \nI \n#4 \nT \n#20 \nB \n#2 \nJ \n#5 \nU \n#21 \nC \n#3 \nK \n#6 \nV \n#22 \nD \n#7 \nM \n#13 \nW \n#23 \nE \n#8 \nQ \n#17 \nX \n#24 \nF \n#9 \nR \n#18 \nY \n#25 \nH \n#11 \nS \n#19 \nZ \n#26 \n \nAddresses G, L, N, O and P cannot be used in arguments; \nAddresses that need not be specified can be omitted and local variables corresponding to an \nomitted address are set to null; \nAddresses do not need to be specified alphabetically. They conform to word address format, but \nI, J , K are specified according to the letter order;  \nExample: B_A_D_…J_K_ Correct \nB_A_D_…K_J_ Incorrect \nArgument specification II uses A, B and C once each and uses I, J, and K up to ten times. \nArgument specification II is used to pass values such as three-dimensional coordinates as \narguments. \n \nArgument specification II \nAddress\nArgument No.\nAddress\nArgument No.\nAddress\nArgument No.\nA \n#1 \nK3 \n#12 \nJ7 \n#23 \nB \n#2 \nI4 \n#13 \nK7 \n#24 \nC \n#3 \nJ4 \n#14 \nI8 \n#25 \nI1 \n#4 \nK4 \n#15 \nJ8 \n#26 \nJI \n#5 \nI5 \n#16 \nK8 \n#27 \nK1 \n#6 \nJ5 \n#17 \nI9 \n#28 \nI2 \n#7 \nK5 \n#18 \nJ9 \n#29 \nJ2 \n#8 \nI6 \n#19 \nK9 \n#30 \nK2 \n#9 \nJ6 \n#20 \nI10 \n#31 \nI3 \n#10 \nK6 \n#21 \nJ10 \n#32 \nJ3 \n#11 \nI7 \n#22 \nK10 \n#33 \n \nNote 1: G65 must be specified before any argument; \nNote 2: After G65, specify at address P and L. when P or L is repeated and No.3403 Bit6 (AD2) is set 0, the \nspecification later takes precedence, otherwise, the system alarms; \nNote 3: Subscripts of I, J, K in the argument specification II for indicating the order of argument specification are not \nwritten in the actual program;  \nNote 4: The CNC internally identifies argument specification I and argument specification II. If a mixture of argument \nspecification I and argument specification II is specified, the type of argument specification specified later \ntakes precedence; \nNote 5: Calls can be nested to a depth of four levels including simple calls G65 and modal calls G66. This does not \ninclude subprogram call M98. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n122 \n \nI  Programming \n \nNote 6: Whether the units used for argument without a decimal point correspond to the least input increment of each \naddress is related to the parameter DPI (No.3401#0); \nNote 7: G65, G66 cannot be in the same block with NC code, otherwise, the system alarms; \nNote 8: In macro program nesting call, the local variables from level 0 to 4 are provided for nesting. When the level of \nthe main program is 0, each time a macro is call, the local variable level is incremented by one. The values of \nthe local variables at the previous level are saved in the CNC. When M99 is executed in a macro program, \ncontrol returns to the calling program. At that time, the values of the local variables saved when the macro was \ncalled are restored.  \nNote 9: The line number of the code line of the macro statement must be home, otherwise, the system alarms. \nMacro program nesting example \n \nO 0 0 01 ；\n. . .\n. . .\n. . .\nG 6 5P 0 00 2 ;\n. . .\n. . .\n. . .\n. . .\nM 3 0;\nM a i n  p ro g ra m\nL e ve l  1  \nL e ve l  2  \nO 00 0 3；\n.. .\n.. .\n.. .\nG6 5 P0 0 04 ;\n.. .\n.. .\n.. .\n.. .\nM9 9 ;\nM a c ro  p r o g ra m\nO 0 00 4 ；\n. . .\n. . .\n. . .\nG 6 5P 0 00 5 ;\n. . .\n. . .\n. . .\n. . .\nM 9 9;\nM a c ro  p r o g ra m\nO 00 0 2 ；\n. ..\n. ..\n. ..\nG 65 P 00 0 3;\n. ..\n. ..\n. ..\n. ..\nM 99 ;\nM a cr o  p ro g r a m  \nO 0 00 5 ；\n. . .\n. . .\n. . .\n. . . \n. . .\n. . .\n. . .\n. . .\nM 9 9;\nM a c ro  p r o g ra m\nL e v e l 3  \nL e v e l  4  \n \nFig. 2-26-1 Nesting macro program \n \n（2）Modal call of macro program G66, G67 \nCommand function: set the modal message of the specified macro program L times for calling P, \nsend the argument to the called macro program. \nCommand format：G66  P    L __  〈argument list 〉； \n                   ……； \n                       G67； \nCommand explanation: \nG66：modal macro program call needs one line to be specified;  \nG67：call macro program call mode;  \nP：specify many called macro programs;  \nL：times for calling the macro program. It is default to 1, its range is 1—9999; \nArgument list: data sending to macro program is referred to the explanations of G65. \n \nNote 1: In G66, call a movement code in the same CNC file or M98, G65 or G66 cannot be executed in \nnon-movement blocks; \nNote 2: G66 is specified before P_, L_ and argument, and the use methods of P, L, the argument are the same \nthose of G65; \nNote 3: G66 can’t call a macro program in G66 blocks but it can execute the call only when its mode is called; \nwithout movement codes, it cannot call a macro pgoram in miscellaneous function or dry run mode; \nNote 4: The local variable (argument) is specified only in G66 block, and the system does not set it again when \neach modal call is executed; \nNote 5: Cannot specify the macro call code in MDI mode; \nNote 6: When the reset is executed by setting the parameter, whether the common variables of the local \nvariables from #1 to #33 and from #100 to #149 are cleared to the Null value. \nNote 7: The system clears the call state of all user macro programs and subprograms and DO state, and returns \nto the main program; \nNote 8: In executing the macro program statement, when the feed pause is valid, the machine stops after the \nmacro statement is executed, and the machine also stops when the system resets or alarms. \n\n\nChapter 2  G Codes \n123 \nI  Programming \nApplication example:  \n（1） G65 example \n \n \n 2）G66, G67 example  \nProgram: O0002 \nG00 X100 Z50； \nG66 P0100 L2 A2 B20 C20 I30 J20 K20；execute the block instead of call, writing local \nvariables, but only change the mode  \nG01 X80 Z50；after executing the block, call No.P0100 program two times(refresh the local \nvariable according to the argument)  \nG0 U0 W0;            have no subprograms to be called  \nG01 U1;              after executing the block, call No.P0100 program two times(refresh the \nlocal variable according to the argument) \nG67；                G66 mode call is cancelled  \nG01 X20 Z50；        after executing the block, the system does not call No.P0100 program  \nM30； \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \nProgram：O0001 \n \nN001 G0 X40.0 Z5.0；      \n…；        \n…；   \nN006 G65 P9000 L3 B20.0 C10.0；\n…；           \n…；           \nN009 M30；              \nMacro program：O9000 \n \nN001 #4=#3-#2；      \nN002 IF[#4 GT 40 ] GOTO 9      \n…；   \nN006 G01 X100.0 Z100.0； \n…；           \n…；           \nN009 M99；              \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n124 \n \nI  Programming \n \n \n \n\n\nChapter 3  MSTF Codes \n \n125\nI  Programmin \nChapter 3  MSTF Codes \n3.1  M Codes (Miscellaneous Function) \nM code consists of code address M and its following digits (the digit is set by No.3030), used for \ncontrolling the flow of executed program or outputting M codes to PLC . \n \nThere is one valid M code in one block. There are most specified 3 M codes in one block(set by \nNO.3404 Bit 7 (M3B) ). The corresponding relationship between M codes and their functions are \ndetermined by the machine manufacturer. CNC sends M code signal and one strobe signal to PLC in \nexecuting M codes.  \nExcept for M00、M01、M02、M30、M98、M198、M99, all M codes are executed in PLC. Their \nfunctions, meanings, control sequence and logic are referred to the machine manufacture’s manual \nbooks. \n3.1.1  End of Program M02 \nCommand format:  M02 or M2     \nCommand function: In Auto mode, after M02 is executed and other codes of current block are \nexecuted, the automatic run stops. Whether the cursor returns the home of \nprogram is set by No.3404 Bit5 (M02). The cursor must return to the start of \nprogram when the program is executed again. \nExcept for the above-mentioned function executed by NC, M02 function is also defined by PLC \nladder diagram as follows: current output of CNC is reserved after M02 is executed.  \n3.1.2  End of Program Run M30 \nCommand format:  M30 \nCommand function: In Auto mode, after other codes of current block are executed in M30, the \nautomatic run stops, the amount of workpiece is added 1, the tool nose radius \ncompensation is cancelled and the cursor returns to the start of program \n(whether the cursor return to the start of program or not is defined by \nparameters). \nBesides the above-mentioned function executed by NC, M30 function is also defined by PLC ladder \ndiagram as follows: the system closes M03, M04 or M08 signal output and outputs M05 signal after M30 \nis executed. \n3.1.3  Program Stop M00 \nCommand format: M00 or M0 \nCommand function: the system stops the automatic run after M00 block is executed, which is same \nthat of the single block pausing to save the previous modal message, i.e. which \nis equal to the program pause function. Press the CYCLE START key on the \noperation panel to execute the follow block and the CNC continuously \nautomatically runs.  \nWhen M00 are other G code are in the same block, the system executes the code in the block, then \nM00, and last stops running. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n126\nI  Programming \n \n3.1.4  Optional Stop M01 \nCommand format: M01 or M1 \nCommand function: after the block containing M01 is executed, the system stops the automatic run \nand the single block stopping signal lights. M01 is valid when the OPTIONAL STOP on the \nmachine operation panel is pressed. \n3.1.5  Subprogram Call  M98 \nCommand format：M98  P○○○○□□□□ \n \n \n \n \n \nCommand function: In Auto mode, after other codes in the current block are executed in M98, CNC \ncalls subprograms specified by P. \nWhen the subprogram is called one time, ○○○○ can be omitted in inputting the number“○○○○□□□□” \nbehind P, at the same time, the leading zero of the called subprogram number can be omitted and \nthe system does not alarms. Example: M98 P12; it expresses to call the subprogram O0012 one \ntime; the leading zero cannot be omitted when the subprogram call times are more than one.  \nThe called subprogram name in M98 must be the program in the system and be less than 9999, and \nthe subprogram name must be input.   \nThe specified call times in M98 is 1～9999.  \nThe called subprogram format in M98 is the following. The last end of the subprogram must be M99 \ninstead of M30, its program compiling format is the same that of the main program compiling format.  \nSubprogram： O□□□□；（subprogram name） \n…； \n…； \nM99；（return from subprogram） \n \nFig.3-1-1 subprogram call \nThe called subprogram can call other subprograms. The subprogram called by the main program \nis called as the one-embedded subprogram, and the one called by the one-embedded subprogram is \ncalled as the two-embedded subprogram and so forth. One main program can call 12-embedded \nsubprogram (including macro program call). The following is the four-embedded subprogram.   \n Called subprogram number \nCall times \n\n\nChapter 3  MSTF Codes \n \n127\nI  Programmin \nO 1 0 01 ；\n. . .\n. . .\n. . .\nM 9 8P 1 00 2 ;\n. . .\n. . .\n. . .\n. . .\nM 3 0;\nM a in  p r o g ra m\nL e v el 1  \n L e v el 2\nO 1 0 03 ；\n. . .\n. . .\n. . .\nM 9 8P 1 00 4 ;\n. . .\n. . .\n. . .\n. . .\nM 9 9;\nS u b p r o g ram  \nO 10 0 4；\n.. .\n.. .\n.. .\nM9 8 P1 0 05 ;\n.. .\n.. .\n.. .\n.. .\nM9 9 ;\nSu b p ro g r am  \nO 1 0 02 ；\n. . .\n. . .\n. . .\nM 9 8P 1 00 3 ;\n. . .\n. . .\n. . .\n. . .\nM 9 9;\nS u b p r o g ra m  \nO 10 0 5；\n.. .\n.. .\n.. .\n.. .  \n.. .\n.. .\n.. .\n.. .\nM9 9 ;\nS u b p r o g ra m  \n L ev el 3  \n L e v el 4  \n \nFig.3-1-2 Subprogram nesting \nNote 1: An alarm occurs when the system has not searched the subprogram specified by P;  \nNote 2: In MDI mode, inputting M98P_ cannot call a subprogram, otherwise, an alarm occurs;  \nNote 3: An alarm occurs when P98P__ call itself;  \nNote 4: An alarm occurs when M98 is codeed and the subprogram is called without P code \n3.1.6  Subprogram Call M198 \nCommand format：M198  P○○○○ □□□□ \n                                               Called subprogram number \n                                               Repetitive call times \n \nCommand function: in Auto mode, when M198 is executed and the other codes in the current block \nhas been performed, the CNC calls the subprogram in the external input/output \ndevice (usually, it is U disk) specified by P. \n                  The code usage and notes are those of M98, and the operations are referred to \nM98. \n3.1.7  Return from Subprogram  M99 \nCommand format： M99  P○○○○○ \n \n \n \nCommand function: After other codes of current block in the subprogram are executed, the system \nreturns to the main program and continues to execute next block specified by P, \nand calls a block following M98 of current subprogram when P is not input. The \ncurrent program is executed repeatedly when M99 is defined to end of program \n(namely, the current program is executed without calling other programs).  \nExample:   Execution path of calling subprogram (with P in M99) as Fig. 3-1-3.Execution path of calling subprogram \n(without P in M99) as Fig. 3-1-4. \n \nExecuted block after returning to the main program is \n0000～9999，and its leading zero can be omitted. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n128\nI  Programming \n \nO1009；\nN0010 ………;\nN0020……….;\nN0030……….;\nN0040 M98 P1010;\nN0050……….;\nN0060……….;\nN0070……….;\n……..\nO1010；\nN1020………;\nN1030………;\n………\n………\nN1100 M99 P0070;\n%\n \nFig.3-1-3 \n \nFig. 3-1-4 \nNote 1: M99 does not need to be specified in the alone block. Example: G00 X100 Z100 M99;  \nNote 2: An alarm occurs when M99 has codeed the block number which does not exist;  \nNote 3: In Auto mode, the specified block number following M99 is repetitive, and the system executes the followings: 1. \nwhen the two block numbers are front of M98 block, the program returns to the later repetitive block; 2. when the \ntwo block numbers are behind of M98 block, the program returns to the top repetitive block; 3. when the two block \nnumbers are separately in front of or behind of M98 block, the program returns to the later repetitive block;  \nNote 4: In Auto mode, the system ignores the line and returns to the beginning of the file to perform the execution \nwhen the main program ends in M99 and specifies the line number following P。 \n3.1.8  Notes for M Codes \n1．M00, M01, M02, M30, M98, M99 is separately specified in one block. When it with other M code \nare specified, the system ignores the other M code and the above M code is executed; when the \nabove seven M codes are in the same block, the first codeed M code is valid.  \n2．When M05, M11, M13, M33, M9 and G codes are in the same block, there are two execution \nmethods: \n       a) The motion codes and M miscellaneous function codes are executed simultaneously. \n   b) The miscellaneous function codes following the motion codes are executed. \nRefer to the tool manufacturer’s user manual. The second method is executed for GSK’s \nstandard ladder. \n3．CNC permits there are up to specified 3 codes in one block (when NO.3404 Bit7 M3B is set to 1), \nsome M codes cannot be specified simultaneously because of machinery operation, such as the \nspindle’s automatic gear change codes: M41, M42, M43, M44. \n4．No.3010 sets the delay time of the strobe signal MF, SF, TF signals. \n\n\nChapter 3  MSTF Codes \n \n129\nI  Programmin \n5．No.3011 sets the width of M, S, T function end signals (FIN). \n3.2  Spindle Function \nS code is used to controlling spindle speed. In GSK988MA/MB spindle speed control, NC outputs \n0~10V analog voltage signal to spindle servo device or inverter to realize the gradeless spindle speed. \n3.2.1  Spindle Speed Analog Voltage Control \nCommand format: S □□□□□ \n \n \n \n \n \nCommand function: the spindle speed is defined, and the system outputs 0～10V analog voltage to \ncontrol spindle servo or converter to realize the stepless timing. S code value is \nnot reserved, and it is 0 after the system is switched on. \nCommand explanation: spindle speed analog voltage control code  \n□□□□□ means the set spindle speed, its value range is referred to Table 1-4, \nand the leading zero can be omitted. When the value exceeds the range set \nby No.3772, the most spindle speed limit is specified in the program, and S \nvalue is specified to the most spindle speed; when it is not specified, the \nupper and lower limit of S value is specified. The system alarms when the \ndecimal is input to the specified of the S value. The system can set the digit \nnumber by No.3031.  \nThe first spindle of the CNC can execute 4-gear spindle speed, and the second spindle has 2-gear \nspindle speed. In executing S code, the system counts the analog voltage value corresponding to \nthe specified speed according to setting value(corresponding to No.3741～No.3744) of max. spindle \nspeed (analog voltage is 10V)of current gear, and then outputs to spindle servo or converter to \nensure that the spindle actual speed and the requirement are the same. \nAfter the CNC is switched on, the analog output voltage is 0V. The analog output voltage is reserved \n(except that the system is in cutting feed in the surface speed control mode and the absolute value \nof X absolute coordinates is changed) after S code is executed. The analog output voltage is 0V \nafter S0 is executed. The analog output voltage is reserved when the system resets and emergently \nstops. \nWhen the spindle speed analog voltage control is valid, there are 2 methods to input the spindle \nspeed: the spindle fixed speed is defined by S code( r/min), and is invariant without changing S code \nvalue, which is called constant speed control(G97 modal); other is the tangent speed of tool relative to \nthe outer circle of workpiece defined by S code, which is called constant surface speed control (G96 \nmodal), and the spindle speed is changed along with the absolute coordinates value of X absolute \ncoordinates in programming path when cutting feed is executed in the constant surface speed. \n \n3.2.2  Spindle Override \nWhen the spindle speed analog voltage control is valid, the spindle actual speed can be tuned real \ntime by the spindle override and is limited by max spindle speed of current gear after the spindle \noverride is tuned, and it also limited by limited values of max. and min. spindle speed in constant \nsurface speed control mode. \nThe system supplies 8 steps for spindle override (50%～120% increment of 10%). The actual \nsteps and tune of spindle override are defined by PLC ladder and introductions from machine \nmanufacturer should be referred when using it. Refer to the following functions of GSK988MA/MB \nstandard PLC ladder. \nThe spindle actual speed specified by GSK988MA/MB standard PLC ladder can be tuned real time \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n130\nI  Programming \n \nby the spindle override tune key at 8 steps in 50%～120% and it is not reserved when the spindle \noverride is switched off. Refer to the operations of spindle override in Ⅱ OPERATION. \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n Chapter 4  Cutter Compensation \n \n131\nI  Programmin \nChapter 4  Cutter Compensation \n4.1  Application for Cutter Radius Compensation \n4.1.1  Brief \nGenerally, the parts machining process is programmed according to parts drawing in one point on a \ntool. As for the tool used actually, because of the processing or other requirement, the tool is not an ideal \npoint, but an arc only. The position offset exists between actual cutting point and ideal point when the \ncutting feed is performed. It may cause over cut or undercut, so the part accuracy will be affected. So, \nthe cutter radius compensation can be used to improve the part accuracy in machining. \nThe path of part figure can be shifted by a cutter radius, which this method is called B type tool \ncompensation; this is a simply method but the movement path of next block can be processed only after \na block is performed, so the phenomenon as over cutting will be generated at the intersection point of \ntwo blocks. \nIn order to settle the above issues and eliminate the error, the Tool compensation C should be \nsetup. When a block is read in, the tool compensation C is not performed immediately but the next block \nis read in again. Corresponding movement path is calculated according to the point of intersection of two \nblocks (conjunction vector). The tool compensation C performs more accurate compensation in figure \nbecause two blocks are read for processing in advance. See the Fig. 6-1. \n \n4.1.2  Compensation value setting \nThe radius value of each tool should be set before tool compensation C is applied. Tool radius \ncompensation value is set in the OFFSET page (table 6-1), this page contains tool geometric radius and \ntool radius wear. There into, D is the tool compensation value, when the bit 1 of bit parameter No.002 is \n1, the D is compensation value input by diameter. If the bit 1 of bit parameter No.002 is 0, the D is \ncompensation value input by radius. The following explanations are all indicated in radius compensation \nvalue if not especially pointed out. \n \nTable 6-1 Display page for CNC cutter radius compensation value \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n132\nI  Programming \n \nNO. \nGeometric（H） Wearing（H） \nGeometric（D）Wearing（D） \n001 \n20.020 \n0.030 \n5.000 \n0.020 \n002 \n10.020 \n0.123 \n0.500 \n0.030 \n… \n… \n… \n… \n… \n \n4.1.3  Command format \n  \n  X_  Y_  Z_  D_ ；  \n              \n \n \n \nCommands \nExplanation \nRemarks \nG17\nOffset plane selection command (XY plane)\nSee the Fig.6-2 \nG18\nOffset plane selection command (XZ plane) \nG19\nOffset plane selection command (YZ plane) \nG40\nCutter radius compensation cancellation \nG41\nCutter radius compensation left along advancing direction \nG42\nCutter radius compensation right along advancing direction\n4.1.4  Compensation direction \ntool\nworkpiece\nZ\nO\nX\nY\nY\nX\nO\nY\nX\nO\nG42:Cutter radius compensation \nright along advancing direction\nG41:Cutter radius compensation \nleft along advancing direction\n \nTool compensation direction is determined according to the relative position of tool with work \npiece, when the cutter radius compensation is applied. See the Fig.6-2. \nG40 \n \nG41 \n \nG42 \nG00 \n  \nG01 \n \nG17 \n \nG18 \n \nG19 \n\n\n Chapter 4  Cutter Compensation \n \n133\nI  Programmin \n4.1.5  Caution \n \nIn initial status CNC is in cutter radius compensation cancellation mode. CNC sets cutter radius \ncompensation offset mode when the G41 or G42 command is executed. At the beginning of the \ncompensation, the CNC reads two blocks in advance, the next block is stored in the cutter radius \ncompensation buffer memory when a block is performed. When in Single mode, two blocks are read, \nafter the end point of the 1st block is performed, it is stopped. Two blocks are read in advance in \nsuccessive performance. So, there are a block being performed and two blocks behind it in CNC. \n \nThe cutter radius compensation value can not be a negative, normally, the wearing value is negative \n(negative value indicates for wearing) \n \nInstead of G02 or G03, the setting or cancellation of cutter radius compensation can be commanded \nonly by using G00 or G01, or the alarm occurs. \n \nCNC will cancel Tool compensation C mode when you press RESET key. \n \nCorresponding offset should be specified while the G40, G41 or G42 is specified in the block, or the \nalarm occurs. \n \nWhen cutter radius compensation is employed in main program and subprogram, the CNC should \ncancel compensation mode before calling or exiting sub-program (namely, before M98 or M99 is \nperformed), or the alarm occurs. \n \nCancel the compensation mode temporarily when G54-59, G28-31 and canned cycle command are \nexecuted. Restore the cutter radius compensation mode when the above commands are finished. \n \n4.1.6  Example for application \nThe parts are machined in the coordinate system in Fig. 6-3. The tool compensation number D07 is \nemployed, tool geometric radius is 2mm and the tool radius wearing is 0. \n \nPerform tool setting in the mode of offset cancellation, after finishing the tool setting, and set the tool \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n134\nI  Programming \n \nradius D in OFFSET page. \nTable 4-2-1 \nNO. \n \nH \nD \n001 \noffset \n… \n… \nwear \n… \n… \n… \noffset \n… \n… \nwear \n… \n… \n002 \noffset \n… \n2.000 \nwear \n… \n… \n… \noffset \n… \n… \n… \n… \nwear \nPrograms: \nN0 G92 X0 Y0 Z0;  Tool are positioned at start position X0, Y0 and Z0 when the absolute \ncoordinate system is specified \nN1 G90 G17 G00 G41 D07 X250.0 Y550.0; Start-up cutter, the tool is shifted to the tool path by \nthe distance specified in D07, geometric radius of D07 \nis set to 2.0mm, tool wearing 0, then the tool radius is \n2mm. \n      N2 G01 Y900.0 F150;                 Specifies machining from P1 to P2 \n      N3 X450.0;                          Specifies machining from P2 to P3 \n      N4 G03 X500.0 Y1150.0 R650.0;       Specifies machining from P3 to P4 \n      N5 G02 X900.0 R-250.0;  \n          Specifies machining from P4 to P5 \n      N6 G03 X950.0 Y900.0 R650.0;        Specifies machining from P5 to P6 \n      N7 G01 X1150.0; \n                  Specifies machining from P6 to P7 \n      N8 Y550.0;                          Specifies machining from P7 to P8 \n      N9 X700.0 Y650.0;                   Specifies machining from P8 to P9 \n      N10 X250.0 Y550.0;                  Specifies machining from P9 to P1 \n      N11 G00 G40 X0 Y0;                Cancels the offset mode, the tool is returned to the start \nposition (X0, Y0) \n4.2  Offset Path Explanation for Cutter Radius Compensation \n4.2.1  Conception for inner side or outer side \n“Inner side” and “outer side” will be employed in the following explanations. When an angle of \nintersection created by tool paths specified by move commands for two blocks is over or equal to 180°, it \nis referred to as “inner side”. When the angle is between 0° and 180°, it is referred to as “outer side”. \n \n4.2.2  Tool movement in start-up \nThere are 3 steps should be performed for cutter radius compensation: establishment, performing \n\n\n Chapter 4  Cutter Compensation \n \n135\nI  Programmin \nand cancellation. \nThe tool movement performed from offset cancellation mode to G41 or G42 command \nestablishment is called tool compensation establishment (also called start-up) \n \nNote: For S, L and C labeled in the following figures, if not especially described, they should be regarded as the following \nmeaning: \nS----Single block stop point; \nL----Linear; \nC---Circular arc. \n（a）Tool movement along an inner side of a corner（α≥180°）  \n \n(b) Tool movement along the outside of a corner at an obtuse angle（180°＞α≥90°） \n \n(c) Tool movement along the outer side of a corner at an actuate angle（α＜90°） \n \n(d) Tool movement along the outside linear to linear at an acute angle less than 1 degree（α≦1°） \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n136\nI  Programming \n \n \n \n \n4.2.3  Tool movement in offset mode \nThe mode after setting the cutter radius compensation and before canceling the cutter radius \ncompensation is called offset mode. \n \nOffset path of invariable compensation direction in compensation mode \n（a） Tool traversing inside along corner（α≥180°） \n \nFig. 4-2-8  linear—linear（moving inside）         Fig. 4-2-9  linear—circular（moving inside） \n \nFig. 4-2-10  Circular—linear（moving inside）     Fig. 4-2-11  Circular—circular（moving inside） \n \n1） Machining inside (α＜1°) and zoom in the compensation vector \n \n\n\n Chapter 4  Cutter Compensation \n \n137\nI  Programmin \n \nFig. 4-2-12  Linear —linear（α＜1°, moving inside） \n（b） Move along the outer of obtuse angle corner（180°＞α≥90°） \n \nFig. 4-2-13  Linear —linear（ moving outside）   Fig. 4-2-14  Linear—circular（moving outside） \n3）Linear to linear                                    4）Circular to circular \n \nFig. 4-2-15  circular—linear（ moving outside） Fig. 4-2-16 circular—circular（moving outside）\n \n（c）Move along the outer of acute angle corner（α＜90°） \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n138\nI  Programming \n \nFig. 4-2-17 Linear—Linea（moving outside）   Fig. 4-2-18 Linear—circular（moving outside）\n \nFig.4-2-19 Circular—linear（moving outside ）  Fig.4-2-20 Circular—circular（moving outside ）\n \nOffset path with the compensation direction changed in compensation mode \nThe compensation direction of tool nose radius is specified by G41 and G42 and the sign symbol is \nas follows:  \nTable 4-2 \nCompensation value sign\nG  \n+ \n- \nG41 \nLeft compensation \nRight compensation \nG42 \nRight compensation \nLeft compensation \n \nThe compensation direction can be changed in compensation mode in special cutting, it cannot be \nchanged at starting block and its following one. There is no inside and outside cutting when the system \nchanges the compensation direction. The following compensation value is supposed to be positive.  \n \nFig. 4-2-21  Linear—linear           Fig. 4-2-22  Linear—circular \n\n\n Chapter 4  Cutter Compensation \n \n139\nI  Programmin \n（changing compensation direction）         （changing compensation direction） \n \nG42\nS\nC\nr\nG41\nr\nL\nProgrammed path\nTool nose center path \n \nFig. 4-2-23 circular—linear（changing          Fig. 4-2-24  circular—circular \ncompensation direction）                     （changing compensation direction） \n5）When there is no intersection if the compensation is normally performed \nWhen changing the offset direction from block A to block B using G41 and G42, if the intersection of \nthe offset path is not required, create the vector vertical to block B at the start point of block B. \nProgrammed path\nTool nose center path\nL\nL\nr\nS\nL\nS\nr\nG41\nG42\nProgrammed path\nTool nose center path\nL\nr\nS\nG42\nG41\n \nFig. 4-2-25  Linear—linear, no intersection（changing compensation direction） \nii)Linear to circular \n  \nFig. 4-2-26  Linear—circular without intersection（changing compensation direction） \niii)Circular to circular \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n140\nI  Programming \n \n  \nFig. 4-2-27  Circular—circular without intersection (changing compensation direction) \n4.2.4  Tool operation in offset cancellation mode \nWhen the G40 command is employed in block in compensation mode, the CNC enters the \ncompensation cancellation mode. This is called compensation cancellation. \nThe circular arc command (G02 and G03) can not be employed when the cutter radius \ncompensation C is cancelled. If they are commanded, alarm is generated and the operation is stopped \nIt controls and performs this block and the blocks in the cutter radius compensation buffer memory \nin the compensation cancellation mode. If the single block switch is turned on, it stops after executing a \nblock. The next block is executed instead of reading it when the start key is pressed again \n (a) Tool traversing inside along corner(α≥180°)  \n \n \n                                         \n(b) Tool traversing outside along corner(180°＞α≥90°)  \n \n \n \n(c) Tool traversing outside along corner(α＜90°) \nFig. 4-2-29  Circular-linear (moving inner  \nand canceling offset)\nFig. 4-2-28  Circular-linear (moving inner  \nand canceling offset) \nFig. 4-2-30  Circular—linear（moving \noutside and canceling offset） \nFig. 4-2-31  Circular—linear（moving \noutside and canceling offset） \n\n\n Chapter 4  Cutter Compensation \n \n141\nI  Programmin \n \n \n \n(d)  Tool traversing outside along corner(α＜1°) ; linear→ linear  \n \nFig. 4-2-34  Linear—linear (α＜1°cutting outside and canceling offset) \n4.2.5  Interference check \nTool over cutting is called “interference”. The interference check function can check tool over cutting \nin advance. This interference check is performed even if the over cutting does not occur. However, all \ninterference can not be checked by this function. \n (1) Conditions for the interference \n1) The direction of the tool path is different from that of the programmed path. (90 degrees to 270 \ndegrees between these paths) \n2) In addition to the condition above, the angle between the start point and end point of the tool \ncenter path is quite different from that between the start point and end point of the programmed \npath in circular machining (more than 180 degrees). \nExample: Linear machining \n \nFig. 4-2-35  Machining interference, No.257 alarm occurs \n \nFig.4-2-33  Linear—linear (cutting outside \nand canceling offset)\nFig.4-2-32 \nLinear—linear \n(cutting \noutside and canceling offset) \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n142\nI  Programming \n \n \n (2) If there is no interference actually, but it is treated as interference. \n1) The groove depth less than the compensation value \n \nFig. 4-2-37  Executing interference (1) \n \nThere is no interference actually, but program direction in block B is opposite to the cutter radius \ncompensation path. The cutter stops, and the alarm occurs. \n2) The groove depth less than compensation value \n \nFig. 4-2-38  Executing interference (2) \n \nThere is no interference actually, but program direction in block B is opposite to the cutter  \nradius compensation path. The cutter stops, and the alarm occurs. \n \n \n刀尖中心路径 \n程序路径 \nDirection difference of two paths being big（180°） \nFig. 4-2-36  No. 260 alarm occurs when machining interference \nTool nose center path\nProgrammed path \n\n\n Chapter 4  Cutter Compensation \n \n143\nI  Programmin \n(3) Automatic interference vector clear \nThe system has the automatic interference vector clear function. For example, when the neighbor \nthree blocks N10, N20, N30 execute the tool radius compensation, the section between N10 and \nN20 creates the vector V1, V2, V3 and V4, and the section between N20 and N30 creates V5, V6, \nV7, V8.  The system executes the interference check to the last vectors in the above two group of \nvector, i.e. V4 and V5. V4 and V5 are ignored when there is the interference; the system checks V3 \nand V6, and they are ignored when there is the interference; the system does V2 and V7, and they \nare ignored when there is the interference. When the system executes the interference check to the \nlast vectors V1 and V8, and there is the interference, they cannot be ignored, the tool stops \nmovement and the system alarms. Based on the above process, the system executes the \ninterference check, and has checked the vector which is not interfered, the followings are not check, \nand the tool runs according to the path of the first group vector which does not create the \ninterference. When the last group of vector creates the vector, they cannot be ignored, the tool stops \nmovement and No.257 alarms.  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \nNote 1: NO.5008 Bit 0（CNI）can set whether the interference check is executed in tool nose radius compensation \nmode.  \nNote 2: NO.5008 Bit 1（CNC）can set whether the system alarms when the difference 90°-270° between the \nmovement direction and offset direction.  \nNote 3: NO.5008 Bit 3（CNV）can set whether the system executes the interference check and the vector clear. \n \n4.2.6  Command of compensation vector cancel temporarily \nIf the following commands G92, G28, G29, coordinate command selection G54~G59 and canned \ncycle are specified in compensation mode, the compensation vector is temporarily cancelled and then \nautomatically restored after these commands are executed. Now, the temporary compensation vector \ncancellation is different to the compensation cancellation mode, tool is moved to the specified point by \ncompensation vector cancellation from the intersection. And the tool moves to the intersection directly \nwhen the compensation mode restores. \n \n \n \n \n \n \nTool nose center path\nProgrammed path\nr \nL \nS \nN30\nN30\nN30\nN30 \nV1\nV1\nV1\nV1 \nr \nV2\nV2\nV2\nV2 \nV3\nV3\nV3\nV3 \nV4\nV4\nV4\nV4 \nV5\nV5\nV5\nV5 \nV6\nV6\nV6\nV6 \nV7\nV7\nV7\nV7 \nV8\nV8\nV8\nV8 \nN10\nN10\nN10\nN10 \nN20\nN20\nN20\nN20 \nExecuted tool nose \ncenter path \nFig.4-2-39 interference vector clear\n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n144\nI  Programming \n \n \nCoordinate system setting command G92 and coordinate system selection command G54~G59 \n \nFig.4-2-40 Temporary compensation vector by G92 \nNote:  SS is indicated as the point stopped for twice in Single block mode. \n \n \nAutomatic return to the reference point  G28 \nIf G28 is specified in compensation mode, the compensation will be cancelled at an intermediate \nposition. The compensation mode is automatically restored after the reference point is returned.  \n \nFig.4-2-41 Temporary cance compensation vector by G28 \n \nFig.4-2-42 G29 temporarily cancel compensation vector  \nIf the canned cycle command is specified in compensation mode, the compensation will be \ntemporarily cancelled in the canned cycle operation 1. The compensation mode is automatically restored \nafter the canned cycle is terminated. \n \nExceptional case \n When the inner corner machining is less than tool radius \nWhen the inner corner machining is less than tool radius, the inner offset of a tool will cause over cut. \n\n\n Chapter 4  Cutter Compensation \n \n145\nI  Programmin \nThe tool stops and alarm occurs after moving at the beginning or at the corner in previous block. But if \nthe switch of “Single block” is ON, the tool will be stopped at the end of the previous block. \n \n When a groove less than the tool diameter is machined \nWhen the tool center moves opposite to the direction of programmed path, the over cutting will be \ngenerated by the cutter radius compensation. Tool stops and alarm appears after moving at the \nbeginning of previous block or at the corner. \n \n When a step less than the tool radius is machined \nWhen a program contains a step which is an arc and less than tool radius, tool center path may form \na opposite movement direction to the programmed path. So the first vector is ignored and it moves to the \nend of the second vector along a straight line. The program will be stopped for Single block mode, the \ncycle continues if it is not single block mode. The compensation will be executed correctly and no alarm \nwill be generated if the step is a straight line. (But the uncut part is reserved.) \n When the sub-program is contained in G code \nCNC should be in compensation cancellation mode before calling the sub-program (namely, before \nthe G98 is performed). Offset can be applied after entering the sub-program, but the compensation \ncancellation should be applied before returning to the main-program (before M99), or the alarm occurs. \n When compensation value is changed \n(a) Usually, the compensation value is changed when the tool change is performed in compensation \ncancellation mode. If the compensation value is changed in compensation mode, the new one is \nineffective which is effective till the program is executed again. \n(b) If different compensation values are commanded in different blocks of a program, different \ncompensation value will be compensated to the corresponding block. But if it is an arc, the alarm will be \ngenerated. For details, refer to the following explanation. \n(c) about “arc data error in C type cutter radius compensation”. \n When the end point for the programming arc is not on the arc \nWhen the end point for the programming arc is not on the arc, the tool stops and the alarm \ninformation shows “end point is not on the arc”. \nTwo same points in the starting is shown an example: \nN3\nProgrammed path\nTool center path\nr\nN2\nN0\nN1\nP1\nP2\nG42\n \nN0 G90 G00 X-50 Y-50 \nN1 G91 G1 G41 X0 Y0 D1 F800 …without moving \nN2 G90 X0 Y0 \nN3 X50 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n146\nI  Programming \n \nN3\nProgrammed path\nTool center path\nr\nN2\nN0\nN1\nP1\nP2\nG42\n \nThe above-mentioned program may occur the “two same points” when starting, and the \ncompensation may not perform. The transit point P1 between N0 and N1 and the transit point P2 \nbetween N1 and N2 are shared a same point. \nN0 G90 G00 X-50 Y-50 \nN1 G1 G41 X0 Y0 D1 F800 \nN2 G91 X0 Y0 …without moving \nN3 X50 \n \nThe “last two same points” may occur when starting at the last program, in the case of the \ncompensation has been performed. The section without moving which is regarded as the movement \napproximates to the zero, so it is necessary to maintain the compensation amount. The transit point \nbetween N1 and N2 is P1, and the transit point between N2 and N3 is P2, P1 and P2 are shared a same \npoint. \nIn the same way, in the compensation mode, if the “two same points” may occur, the compensation \nvalue will be maintained; in the retraction mode, the similar start mode is divided into “the previous two \nsame points” and “the last two same points” \n \nThe alarm and corresponding explanation of ‘Circular arc data error in cutter compensation C’ \n (a) The example of this alarm may occur in a circle \nProgram example：N0 G90 G00 X-50 Y-50 Z50 \n \n \n \n             N1 G01 G42 X0 Y0 D1 F800 \n \n \n \n             N2 G02 I50 \n \n \n \n             N3 G91 G01 X-50 Y-50 \nProgrammed path\nTool center path\nr\nG42\nN1\nN2\nN3\nP2\nP1\n \n \nThe transit point between straight line N1 and circular arc N2 is P1, the transit point between circular \nN2 and straight line N3 is P2, and the compensation radius is r, in this case, the circular after tool \ncompensation is more than 360°. \n\n\n Chapter 4  Cutter Compensation \n \n147\nI  Programmin \nProgrammed path\nTool center path\nThe path after N9 block  is inserted \nr\nr\nG42\nN1\nN2\nN3\nP2\nP1\nThe path after N9 block  is not inserted \n \nAfter a block (N9 G91 G0 X0 Y0) (without moving) is inserted between N1 and N2 in the \nabove-mentioned program, the “circular data error in cutter compensation C” may alarm. \nBecause the point after N9 inserted which is equal to the one of N1, namely, they are regarded as \n“two same points”. The transit point P1 is performed treating the “two same points”, the position of P1 is \nobviously differ from the above one which does not insert the N9 block. So the cut circular arc path by \nthis transit point is absolutely differing from the path to be machined, so the alarm is then generated: \n“circular arc data error in cutter compensation C” \n (b) The example for a non-circle may occur: \nProgrammed path\nTool center path\nr\nN2\nN0\nN1\nP1\nP2\n \n \nProgram example: N0 G90 G00 X-50 Y-50 Z50 \n \n \n    \nN1 G01 G41 X0 Y0 D1 F800 \n \n \n    \nN2 G02 X50 R25 \nThe P1 and P2 are the transit point of tool compensation as the left figure shown, wherein the “r” is \ncompensation radius. This is a normal treatment mode for the straight line to circular arc. \n \n \nThe alarm may occur in terms of the following program \n \nN0 G90 G00 X0 Y0 Z0 \n \nN1 G01 G41 X0 Y0 D1 F800 …without moving originally start \n,    N2 G02 X50 R25 \n \n \nBecause the N1 block does not a movement, namely, it equals to the “two same points”. The transit \npoints P1 and P2 are performed based on the treatment of two same points (The path of two same \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n148\nI  Programming \n \npoints), so the circular arc path cut by this transit point obviously differs from the actual path to be \nmachined, in this case, the “circular arc data error in cutter compensation C” may alarm. \n (c) In the calculation of arc cutter compensation C, this alarm may issue if the compensation radius \nD is modified. \nProgrammed path\nTool center path\nr\nN2\nN0\nN1\nP1\nP2\nN3\nG41\n \n \nProgram example: N0 G90 G00 X-50 Y-50 Z25 \n \n      N1 G01 G41 X0 Y0 D1 F800 \n \n \n  N2 G02 X50 R25 \n \n \n  N3 G02 X100 R25 \nThe left figure is shown the programmed path and the tool center path. \nIf the compensation radius D is changed in N3, for example, the D2 is specified in N3 block (the \nvalue of D2 is not equal to the one of D1), in this case, it is similar as (b), an alarm of the “circular arc \ndata error in cutter compensation C” may occur \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n \n \n149\nII Operation \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \nII  OPERATION \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n150\nII Operation \n \n \n\n\nChapter 1  Overview \n \n151\nII Operation \nChapter 1  Overview  \n1.1  Operation Overview  \nGSK988MA is with the operation modes: Edit, Auto, MDI, Reference position return, MPG/Single \nstep, Manual and DNC operation modes, etc.  \n \n \nEditing the program  \nThe operation is completed with the program editing function, and the edited program is saved in \nCNC memory, and the program can be corrected and rewritten. (About the details, refer to Chapter \nFour.) \n \n \nAuto running  \nAutomatic running is to operate the machine based on the edited program. Once the program is \nedited into CNC memory, the program can run based on the program commands, and the operation is \ncalled as running in Auto mode. (Refer to 6.1 for details.) \n \n \nFig.1-1 Automatic running \n \n \nManual data input（MDI）mode running: On MDI page, after inputting the program, the program can \nrun based on the program commands. And the operation is called as running in MDI mode. (Refer to \n6.1 for details.) \n \n \nReference position return  \nA CNC machine tool is provided with a fixed position for setting the position of the machine \nworktable. And the fixed position is called as the reference position. Normally, tool change or setting the \ncoordinate system is performed at this position. After power on, the tool is moved into the reference \nposition. Manual reference position return is to move the tool into the reference position by the switches \nand the buttons on the operation panel (Refer to 4.1 for details.).  \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n152\nII Operation \n \nFig. 1-2  Manual reference position return \nMoreover, the tool can be moved into the reference position with the program command, and the \nmethod is called as the automatic reference position return. (About the details, please refer to the \nprogramming explanation.).  \n \nMPG feeding  \nThe tool can be moved the distance corresponding to the rotation angle by rotating MPG.  \n \n \nManual operation  \nThe tool can be moved along each axis by the switches on the machine operation panel, buttons or \nMPG.  \n \nFig.1-3 \n（1）Manual (manual continuous) feed (refer to 5.2 for details.) \nDuring the button is pressed, the tool can be continuously moved.   \n（2）Incremental feed (refer to 5.3 for details.)  \n         After the button is pressed, the tool is only moved for certain distance when the button is \npressed once.  \n \n \nDNC running: The program can be directly read from the external input/output equipment for \nrunning the machine; however, the program isn’t saved into CNC memory, and the operation is \ncalled as DNC running (Refer to 6.3 for details.) . \n\n\nChapter 1  Overview \n \n153\nII Operation \n1.2  Setting the System  \nThe operator can set CNC by CNC host machine buttons and the normal setting is: the tool offset \nsetting, CNC setting and the macro variable setting.  \n \nTool offset setting: The tool has its own dimension (length, diameter). When the workpiece with \ncertain shape is machined, the tool dimensions vary based on the different movement amounts. \nIf the dimension data of the tools are set in advance, the tool path is automatically given by the \nsame program even the different tools are used, so the workpiece shape specified by the \nprogram can be cut by any tool.  \nThe data of the tool dimension are called as the offset amount (Refer to Chapter Seven for details.).  \n \nCNC setting: CNC setting includes setting the system, the coordinate, the system time and the \nsystem IP. (About the details, refer to Chapter 3.4.).  \n \nMacro variable setting: CNC system can support the various macro editing, while the variable \nrequired by the macro should be set here.  \n \n1.3  Display  \n \nProgram display: \n1. The content of the program currently being executed is displayed, which is shown as Fig. 1-4: \n \nFig.1-4 \n1. View the list of CNC memory programs, which is shown as Fig. 1-5:  \n \nFig. 1-5 \n Current coordinate display  \nThe coordinate value of each coordinate system can be displayed the current tool position, and can be \ntaken as the distance to go from the current position to the target position, which is shown as Fig. 1-6.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n154\nII Operation \n(About details, refer to Chapter 3.1: Position Display Page).   \n \nFig. 1-6 \n Alarm display  \nWhen the fault occurs during running, the corresponding wrong codes and alarm message will \nbe displayed, which is shown as Fig. 1-7. Please refer to Appendix One for the detailed explanation \nof the alarm information.  \n \nFig. 1-7 \n Display the machined workpiece number and the operation time  \nThe machined workpiece number, the operation time and the cutting time can be displayed on the \ncurrent position display page, which is shown as Fig. 1-8: \n     \n \nFig.1-8 \n\n\nChapter 1  Overview \n \n155\nII Operation \n1.4  System Host Machine  \n \nAbout GSK988MA and GSK988MB, the system overview and the button arrangement are different, \nwhile the basic functions are similar. And the difference between GSK988MB and GSK988MA is mainly \nthe screen size and the software keys below the screen. The screen size of GSK988MB is 10.4 inches, \nand that of GSK988MA is 8.4 inches.  \n1.4.1  System Composition \nGSK988MB is composed of the host machine, the machine operation panel, the editing panel and \nthe additional panel. And the host machine and the machine panel are commonly used, and the edit \npanel and the additional panel are divided into the horizontal and the vertical types.  \n \nFig.1-10 GSK988MB host machine \n \n  \nFig.1-11 GSK988MB edit panels \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n156\nII Operation \n \nFig.1-12   GSK988MB machine panel  \n \n \nFig.1-13  GSK988MB edit panels in horizontal type (left) and vertical type (right) \n \nNote: The two types of 988MB machine operation panel operation are taken as the standard ones mentioned in \nthe manual. If the panel configurated by the user is different, please refer to the introduction of the \nmachine manufacturer.  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\nChapter 1  Overview \n \n157\nII Operation \n \nGSK988MA is divided into the host machine and the machine panel, also the horizontal and vertical types.  \n \nFig. 1-14  GSK988MA vertical host machine \n \n \nFig. 1-15  GSK988MA horizontal host machine \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n158\nII Operation \n1.4.2  Panel Status Display and Button Definition  \nThe definitions of the editing panel buttons are shown as the following list. \nTable 1-4-1 \nButton \nName \nFunction \nNote \n \nReset \nkey \nAfter the reset key is pressed, the \nsystem enters the resetting status, \nfeeding and output stops and the \nalarm is released.  \n \nAddress/ \nnumeri-\ncal key \nThe letters or the digits, etc can be \ninput during editing the system \nprograms \nor \ninputting \nthe \nnumerical values. \nWhen \nthe \nshift \nkey \nindicator lamp is ON, \nthe left top content of \nthe \nbutton \nis \nvalid; \notherwise, \nthe \nlower \nright content is valid.   \n“EOB” \nequals \nto \ninputting \none \nsemicolon.  \n“SP” equals to inputting \none space.  \n \nShift key\nThe key is for switching the letters \nand the digits; and it is for \nselecting one block with the cursor \nkey \nThe shift function is \nstarted when the left top \nindicator lamp is ON.  \n \nInput key\nConfirm the data input and line \nfeed during editing the program \n \n \nChange \nkey  \nThe key is for switchover of some \ninput states; and the shortcut \nmode is formed when it is with \nother keys during editing the \nprogram  \n \n \nBackspa\nce key \nDelete the characters before the \ncursor  \n \n \nCancel \nkey  \nCancel the current operation  \n \n \nDelete \nkey  \nDelete the character after the \ncursor  \n \n \nCursor \nmove- \nment key\nControl the cursor \nleft/right/upward/downward  \n \n\n\nChapter 1  Overview \n \n159\nII Operation \nButton \nName \nFunction \nNote \n \nPage \nkey \nSwitch the page in the same \ndisplay interface  \n \nMain \npage \nswitch \nkey  \nPress each function key to switch \nto the corresponding display page   \n \nFunction \nsoftware \nkeys \nThe page is switched by the main \npage switch key, the content of \nsome subpage of the current page \ncan \nbe \ndisplayed \nby \nthe \ncorresponding software keys, or \ninputting on the current page can \nbe operated.  \nWhen \n is displayed \nleft, it means returning \nto the previous menu; \nwhen \n is displayed \nright, it means it is \nswitched into the other \noperation of the page of \nthe current valid level 2. \n \nThe machine operation panel status introduction is shown as the following list:   \n \nEach axis reference position \nreturn end indicator lamp  \n \n \nRunning indicator lamp \n \nAlarm indicator lamp  \n \nSelf-defined \nindicator \nlamp  \nGear/tool \nlocation \nindicator \nlamp  \n \n \n \nThe definitions of the machine operation panel buttons are shown as the following list:  \nButton  \nName  \nFunction  \nNote \n \nFeed hold key \nProgram, MDI command \noperation pause  \nWhen the system is \nin the pause status, \nthe \nkey \nindicator \nlamp is ON. \n \nCycle start key \nProgram, MDI command running \nstart  \nWhen the system is \nin the running status, \nthe \nkey \nindicator \nlamp is ON.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n160\nII Operation \n \nFeedrate \noverride button \nAdjusting the feedrate or the \nmanual feedrate  \nThe \nfeeding \naxis \nfeedrate \nis \nzero \nwhen the override is \nzero. The override \nrange is 0%~150%. \n \nSpindle override \nkey \nSpindle speed adjustement  \nThe key is only valid \nin MPU02A, while \nMPU02B is the blank \nkey. \nThe \noverride \nrange is 50%~150%. \n \nSpindle override \nknob  \nSpindle speed adjustement \nThe knob is only \nvalid \nin \nMPU02B, \nwhile \nMPU02A \nis \nNOT with the knob.  \nManual tool \nchange key  \nManual tool change  \n \n \nPosition record \nkey  \nRecord the current coordinate \nposition and input the tool offset \n \n \nInch switch key \nSpindle inch status ON/OFF  \n \nButton  \nName  \nFunction  \nNote \n \nLubrication \nswitch key  \nMachine lubrication ON/OFF  \n \n \nCooling ON/OFF \nkey  \nCooling ON/OFF  \n \n \nChuck control \nkey  \nChuck clamped/released  \n \n\n\nChapter 1  Overview \n \n161\nII Operation \n \nSpindle control  \nkey  \nSpindle rotation（M3） \n \nSpindle stop（M5） \nThe status of the \nindicator \nlamp \nmeans the status of \nthe spindle running \n \nRapid movement \nkey  \nIn manual mode, the feeding axis \nis operated at the rapid traverse \nrate after pressing the key  \nAfter pressing the \nkey, \nthe \nindicator \nlamp is ON, it means \nthe rapid traverse is \nvalid.  \nAxis direction \nselection keys \nEach axis direction selection \nkeys in Manual and Single step \nmodes; Each axis zero return \nselection keys in reference \nposition return mode; Each axis \nselection keys in MPG mode  \n \n \n \n \nMPG/Single \nincrement \nselection and \nrapid override \nselection key  \nMPG movement amount of each \ngrid is the product of the least \ncommand increment timing the \nselected override in the left figure\n \nThe movement of single step is \nthe product of the least \ncommand increment timing the \nselected override in the left figure\nRapid override F0, F25%,  \n50%, F100% \n \nSingle block \nswitch \nWhether the single block running \nis valid is controlled by the key \nWhen \nthe \nbutton \nindicator lamp is ON, \nthe single block is \nvalid.  \n \nSkip switch \nWhether the skip code “/” of the \nprogram is valid is controlled by \nthe key \nWhen \nthe \nbutton \nindicator lamp is ON, \nthe skip function is \nvalid.  \nButton  \nName  \nFunction  \nNote \n \nMachine locked \nswitch  \nThe movement of all axes stops \nwhen the machine stops and \nwhether the machine is locked or \nnot is switched by the key.  \nWhen the machine \nlocked is valid, the \nmachining program \nis \nexecuted, \nthe \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n162\nII Operation \nmachine \nremains \nunmoved, and only \nthe change of the \ntool \nposition \nis \ndisplayed.  \n \nMiscellaneous \nfunction locked \nswitch \nThe key is for switching the \nstatus of the miscellaneous \nfunction locked, M, S, T function \noutput is invalid when the \nmiscellaneous function is locked. \nWhen \nthe \nmiscellaneous \nfunction is locked, M, \nS, and T commands \nare locked, and it is \nsame as machine \nlocked for checking \nthe program.  \n \nDry run switch \nThe key is for switching dry run \nstatus; when the indicator lamp \nis ON, dry run is valid.  \nWhen dry run is \nvalid, the machine is \nmoved based on the \nrate \nset \nby \nthe \nparameter.   \n \nMachine locked \nswitch  \nThe movement of all axes stops \nwhen the machine stops and \nwhether the machine is locked or \nnot is switched by the key.  \nWhen the machine \nlocked is valid, the \nmachining program \nis \nexecuted, \nthe \nmachine \nremains \nunmoved, and only \nthe change of the \ntool \nposition \nis \ndisplayed.  \n \nEdit mode key \nEnter Edit mode key  \n \n \nAuto mode key \nEnter Auto mode key \n \n \nMDI mode key \nEnter MDI mode \n \n \nReference \nposition return \nmode key  \nEnter the reference  \nposition return mode  \n \n \nMPG mode key \nEnter two MPG modes  \nWhether \nthe \nincremental feeding \nis valid is set by the \nparameter  \n \nManual mode \nkey  \nEnter manual mode  \nWhether \nMPG \nfeeding is valid is set \nby the parameter  \n\n\nChapter 1  Overview \n \n163\nII Operation \nButton  \nName  \nFunction  \nNote \n \nDNC mode key \nEnter DNC mode  \n \n \nFeed/spindle \nhold knob  \nSelect ON/OFF of the spindle \nor that of the feeding axis  \nThe figure is shown \nthat the spindle and \nthe feeding axis can \nbe operated; when \nthe knob is in the \nmiddle, the spindle \ncan \nbe \noperated, \nwhile \nthe \nfeeding \naxis is forbidden to \nbe operated; when \nthe switch is in the \nleft, the spindle and \nthe feeding axis all \nare forbidden to be \noperated.  \n \nEmergency stop \nswitch \nAfter the key is pressed, the \nsystem enters the emergency \nstop status, all output are OFF. \n \nPower supply \nON/OFF switch \nSystem power ON/OFF switch \n \n \nProgram \nprotection switch \nWhether the program and the \nparameters can be edited is \ncontrolled by the knob \nThe figure is shown \nthat the program and \nthe parameter can \nbe edited; when the \nknob \nis \nleft, \nthe \nprogram \nand \nthe \nparameters \nare \nforbidden \nto \nbe \nedited.  \n \nMPG \nThe machine movement is \ncontrolled in MPG mode.  \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n164\nII Operation \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\nChapter 2  Power on/off and Safety Protection \n \n165\nII Operation \nChapter 2  Power on/off and Safety Protection  \n2.1  Power-on  \nBefore GSK988MA power on, please confirm: \n4、 CNC and the machine are normal in the appearance;  \n5、 The power supply voltage complies to the requirements of the manufacturer;  \n6、 The connection is correct and firm.  \nAfter GSK988MA is powered on, the page is shown as Fig. 2-1:  \n \nFig. 2-1 \nThen, GSK988MA should be self-checked and initialized. After self-checking and initializing, the \npage is displayed the current position (dual-channel), which is shown as Fig. 2-2:  \n \n \nFig.2-2 \n \n2.2  Power-off  \nPlease confirm before power-off:  \n1. All movable parts of the machine should be stopped;  \n2. The miscellaneous function (such as the spindle, the water pump) is off;  \n3. CNC power supply should be cut off firstly, and then the machine power supply is cut off.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n166\nII Operation \nNote: 1. Turn on the power, again after power off for 20 seconds.  \n2. About the operation of cutting the machine power supply, please refer to the user  manual from the machine \nmanufacturer.  \n \n2.3  Overtravel Protection  \nTo avoid the machine damage due to the each axis overtravel, the machine must be adopted the \novertravel protection measures.  \nThe limit switches should be respectively installed on the maximum stroke position in the positive \nand negative directions of each axis on the machine. When the overtravel occurs, the limit switch is \noperated, the system decelerates till stops, and the overtravel alarm occurs.   \n    During automatic running, when one axis is touched the limit switch, all axes along which the tools \nare being moved should be decelerated and stopped, and the overtravel alarm occurs.  \nDuring manual operation, just the axis in which the tool touching the limit switch is decelerated and \nstopped, the tool is still moved along other axis.  \nThe method of clearing “the overtravel” is: In manual mode, the worktable is moved reversely (like \nthe positive overtravel, it is moved negatively, vise versa), and moved away from the limit switch. The \nsystem resets and issues the alarm.  \nNote: The method of the releasing the machine overtravel is different with that introduced in the manual; about the \ndetailed operation, please refer to the user manual of the machine manufacturer.  \n2.4  Overtravel Protection of Stored Stroke \nGSK988MA system provides three stored stroke check areas: The areas in which the tools can’t \nenter can be specified as the stored stroke check 1, the stored stroke check 2 and the stored stroke \ncheck 3, which is shown as Fig. 2-3:  \n \nFig.2-3 \nWhen the tool exceeds a stored stroke limit, an alarm is displayed and the tool is decelerated and \nstopped. When the tool enters a forbidden area and an alarm is generated, the tool can be moved in the \nreverse direction from which the tool comes.  \n \nStored stroke check 1: Parameters (Nos. 1320, 1321 or Nos. 1326, 1327) set the boundary. Outside \nthe area of the set limits is a forbidden area. The machine builder sets this area as the maximum stroke.  \n\n\nChapter 2  Power on/off and Safety Protection \n \n167\nII Operation \nStored stroke check 2 (G22 G23): Parameters (Nos. 1322, 1323 ) or commands set the boundaries. \nIn case of programming, a G22 command forbids the tool to enter the forbidden area, and a G23 \ncommand permits the tool to enter the forbidden area. Each of G22 and G23 should be commanded \nindependently of another commands in a block. About the details, refer to G commands introduction.  \n \nStored stroke check 3: Set the boundary with parameters No.1324 and 1325. The area inside the \nboundary becomes the forbidden area.  \n \nForbidden area overlapping: Area can be set in piles (refer to the following Fig. 2-4). Unnecessary \nlimits should be set beyond the machine stroke.   \n \n \nFig. 2-4 \nEffective time for a forbidden area: Each limit becomes effective after the power is turned on and \nmanual reference position return or automatic reference position return by G28 has been performed. \nAfter the power is turned on, if the reference position is in the forbidden area of each limit, an alarm is \ngenerated immediately.  \nTime for displaying an alarm: Parameter BFA (bit 7 of No. 1300) selects whether an alarm is \ndisplayed immediately before the tool enters the forbidden area or immediately after the tool has entered \nthe forbidden area. The parameter is only valid to the stored stroke 1 rather than “the software limits 2 \nand 3”.  \nReleasing the alarms: When the tool has become unmovable in the forbidden area, the tool is \nmoved reversely (like the positive overtravel, it is moved negatively, vise versa) out of the forbidden area \nin manual mode, and the reset key is pressed to clear the alarm; if the setting is wrong, correct it and \nperform the reference position return, again.  \nNote:  \nIn setting a forbidden area, if the two points to be set are same, the area is as follows:   \n1. When the forbidden area is stored stroke check 1, all areas are forbidden areas.  \n2. When the forbidden area is stored stroke check 2 or stored stroke check 3, all areas are movable areas.  \n3. When 1300.7=1 and the alarm occurs, the machine coordinate is outside the forbidden area, the alarm can be \ndirectly cancelled by pressing the resetting key.  \n4. When 1300.7=0, and the alarm occurs, the machine coordinate is inside the forbidden area, the tool is moved \noutside of the alarm area, and then the alarm can be cancelled by pressing the resetting key. \nThe software limit function is invalid when the stored stroke check 1 is set and the coordinate set value of the \npositive boundary is less than that of the negative boundary.  \n2.5  Emergency Operation  \nDuring machining, some unexpected consequence may occur due to the user programming, \noperation and the product fault, GSK988MA operation must stop immediately. In this chapter, the \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n168\nII Operation \nmeasures are taken by GSK988MA in emergency; About the measures taken by the CNC machine tool, \nplease refer to the user manual from the machine builder.  \n2.5.1  Resetting  \nWhen GSK988MA is abnormally output and the coordinate axis is abnormally operated, press \n key to make GSK988MA in resetting status;  \n1. All axis movement is decelerated and stopped;  \n2. M and S function output is invalid;  \n3. Automatic running stops and modal function remains.  \nNote: After \n is pressed, whether automatically switch off the signals of the spindle CW/CCW \nrotation, the lubrication and the cooling, etc. is set by the parameters.  \n2.5.2  Emergency stop  \nDuring the machine running, the emergency stop button (the external emergency stop signal is valid) \nis pressed in the dangerous or in the emergency situation, CNC takes the emergency stop measures, \nand the machine movement is stopped immediately, all output (such as the spindle revolution and the \ncoolant, etc) are all switched off. The emergency stop alarm is released after releasing the emergency \nstop button, CNC enters the resetting status.  \n \nNote 1: Please confirm the trouble has been removed before the emergency stop alarm is released;  \nNote 2: The electric shock can be reduced when the emergency stop button is pressed before power-on/off.  \nNote 3: After the emergency stop alarm is released, the reference position return should be executed, again to guarantee \nthe correctness of the coordinate position.    \n2.5.3  Feed hold  \nDuring the machine running, the feeding can be hold after pressing \n key. Please pay \nattention that the function can’t stop the feeding immediately during thread cutting and the cycle \ncommand executing.  \n2.5.4  Cutting off the Power Supply  \nDuring the machine running, in danger or in the emergency situation, the machine power supply \nmust be cut off immediately to avoid the accident. Please pay attention that the reference position return \nshould be executed, again if the coordinate displayed by CNC doesn’t comply with the actual position \nafter power off.  \n \n \n \n \n \n\n\nChapter 3  Display Page \n \n169\nII Operation \nChapter 3  Display Page  \nThis chapter will introduce the switch of the subpages and the relation between the operation input \nand the software keys and the detailed operation method.  \n \nGSK988MA system MDI panel includes 8 function keys, like position, program and setting, etc and \neach function key is corresponded to one page set, and each page set also includes many subpages \nand the operation software keys. The following content explains how the operation software is changed \nafter pressing each function keys.  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \nNote: \n1. 【   】: It is represented the software key.  \n2．【   】 : It is represented the pages switched by each function key.  \n3.（    ） : It is represented the software key displayed by the blue font.  \n4. \n: It is represented the menu key for continuing (the rightmost \nsoftware key).  \n5. \n: It is represented the menu return key (the leftmost software \nkey).  \n6. Based on the different configuration, some softwares and the other pages \nare not displayed. \n【Absolute coordinate】                    (Modal/comprehensive information) \n                                (Set the relative coordinate) \n \n(Clear the number of the machined work piece) \n【Relative coordinate】                   (Modal/comprehensive information) \n                               (Set the relative coordinate) \n                               (Clear the number of the machined work piece) \n【Machine coordinate】           (Modal/comprehensive information) \n(Set the relative coordinate) \n(Clear the number of the machined work piece) \n【Comprehensive coordinate】                   (Modal/comprehensive information) \n(Set the relative coordinate) \n(Clear the number of the machined work piece) \nPOSI\nTION \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n170\nII Operation \nNote: In【Dual-channel】position page, setting the relative coordinate and clearing the number of the workpiece \nnumber can’t be operated. On the other position page, press (setting the relative coordinate) software key to \nautomatically switch into the relative coordinate page for setting the relative coordinate.  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \nNote: The content in USB flash disc can be displayed after the USB flash disc is inserted and identified.  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n【Local content】                （Look up）         【Execution】 \n【Content in USB flash disc】       （Create）        【Save】 \n                            （Execution）          【Cancel】 \n                            （Open）              【Restore】 \n                              【Position】 \n           （Rename）           【Copy the block】 \n                             （Save as）           【Paste the block】 \n                             （Delete）            【Delete the block】 \n                             （Rank name）   \n \n                             （Rank size）          【Search】 \n                             （Rank time）          【Syntax check】 \n【Calculator】\n【MDI program】                   (Delete the block) \n                               (Clear all) \n【Current one/Next】    \nPRO\nGRAM \n\n\nChapter 3  Display Page \n \n171\nII Operation \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \nNote: 1. GSKLink is only valid when it’s used as GSKLink communication function and it can be displayed when it is \nconnected with servo axis or I/O unit.  \n      2. Only after the USB flash disc is inserted, importing/exporting the servo parameters and the file management \nare valid.  \n \n \nSYS\nTEM \n    【Parameter】            (Search for the parameter name) \n                        (Search for the parameter classification) \n     【Screw pitch compensation】         (Search) \n     【System information】        （Authority downgrade） \n                          (Input the password) \n \n \n        (Rewrite the password) \n        (Reset the password of level 4) \n     【File management】        (Switch) \n                          (Output) \n     【Ladder diagram】          （Version information） \n                         （Monitor）          【Window 1】 \n                                            【Window 2】 \n                    【Window 3】 \n                                            【Window 4】 \n                                             (Select) \n                                             (Search) \n                         （PLC data）       【Set K】 \n                                            【Set D】 \n                                            【Set DT】 \n                                            【Set DC】 \n                                            （Search for the address）\n                         （PLC status）       【X, Y, F, G】 \n                                            【R,A,K】 \n                                             (Search) \n     【GSKLink】          (Communication)          \n                           (Servo)         【Servo adjustment】      \n                                           【Servo parameter】      \n                                           【Servo configuration】 \n                    【Oscilloscope】 \n                      （I/O unit）      【I/O configuration】 \n                                           【I/O parameter】 \n                                            (Search) \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n172\nII Operation \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \nNote: “Hardware interface”, “bus communication”, “servo data” and “I/O diagnosis” in the diagnosis can be \ndisplayed only after the bus communication is normally connected with the servo drive and remote I/O unit.  \n \n \n \n \n【Setting tool offset】                 (Search)               \n               (Measuring input)                \n                           (+input)                \n                            (C input)  \n             (Data zero clear) \nSET \n \n【Setting CNC】                  (Setting system)             \n                             (Setting the coordinate)       (Measuring input) \n                                                      \n                                                    （+ input） \n（System time）        【Setting time】 \n                        【Inputting the power-off sequence number】 \n(Setting the tool interference) \n           (System debugging) \n                  \n \n                             (Analog panel) \n \n \n \n \n \n \n \n (System IP) \n【Macro variable】                   (Search) \n     【Alarm information】         \n     【Previous record】         (Clearing the alarm) \nMESS\nAGE\n     【Diagnosis】           (System diagnosis) 【Edit keypad】 (Search) \n                                                               \n (Locking the screen) \n【Hardware interface】   (Search)\n                                           【Bus communication】  (Search)  \n                                              \n【Servo data】     (Search)  \n                            （I/O diagnosis） \n\n\nChapter 3  Display Page \n \n173\nII Operation \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n3.1  Position Display Page Set  \nAfter the system is powered on, the initial display page is the position one, the position page without \nloading the program in Auto mode and during resetting status is shown as Fig. 3-1: \n     【Operation help】 \n \n     【Programming help】        (Search)  \n \n     【Alarm help】        (Search) \n \n     【Parameter help】       (Search)          \nHELP\n     【Setting the graph】        (Setting the path) \n                           (Setting the simulation) \n                           (Dual-channel)  \n     【Path display】       (Scall up) \n                           (Scall down) \n                           (Auto center) \n                           (Coordinate switch) \n                           (Clear) \n                           (Restore) \n \nGRAPH \n     【Graph simulation】            (Scall up) \n                            (Scall down) \n                            (Restore) \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n174\nII Operation \n \nFig.3-1 \nNote: The content in the page may be different based on the different configurations, the figure \nand all contents introduced below are according to the standard two-axis turning machine \nconfiguration.  \n \nPress \n function key to enter the position page set; it includes the subpages of the absolute \ncoordinate, the relative coordinate and the machine coordinate, and the content displayed in each page \ncan be checked by pressing the corresponding software key.  \n \nFig.3-2 \n3.1.1  Display Absolute Coordinate  \nOn the position page set, press \n software key to switch into the absolute coordinate \ndisplay page. In Auto mode, the running status is shown as Fig. 3-3:  \n\n\nChapter 3  Display Page \n \n175\nII Operation \n \nFig.3-3 \nOn the left top corner, the current operation mode is Auto mode. During running, linear cutting…… \nis popped up.  \nThe coordinate display area is displayed that each axis coordinate value of X\\Y and Z, etc is the \nabsolute position of the current workpiece coordinate system on which the tool is.   \n \nProcessing data:  \nT: Current tool number and the tool offset number.  \nActual rate F: During actual machining, the actual machining rate after the federate override \ncalculation;  \nProgrammed rate: In the program, the rate is specified by F code;  \nThe spindle actual rate S: The spindle speed is the feedback of the spindle encoder, and the spindle \nactual speed can be displayed only after the spindle encoder is installed;   \nThe programmed spindle speed S: In the program, the spindle speed is specified by S code;  \n \nComprehensive information: \nFeedrate override: The override selected by the feedrate switches;  \nRapid override: The override selected by the rapid override switches;  \nSpindle override: The override selected by the spindle override switches;  \nManual override: The override selected by the manual override switches;  \nMPG override: The current MPG override;  \nNumber of the machined work pieces: The machined workpiece number is added one after M code \nset by M02, M30 or parameter 6710 is executed by the program and the execution is completed.  \nCutting time: The execution time of automatic running for one time doesn’t include the stop and feed \nhold time; Timing starts from 0 after automatic running starts each time, the time unit is hour, minute, \nsecond in turn;  \nRunning time: All execution time of the system in Auto mode doesn’t include the stop and feed hold \ntime and it is the accumulation of the cutting time;  \nG function code: The modal value of G code of each group;  \n \nPress modal and Comprehensive information software keys to switch between the modal and the \ncomprehensive information.   \nThe program display area: Display the currently being executed program. And the block displayed in \ngreen color is the currently being executed one. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n176\nII Operation \n3.1.2  The Relative Coordinate Display \nOn the position page set, press \n software key to switch into the relative coordinate \ndisplay page, which is shown as Fig. 3-4. Then, the relative coordinate value is displayed in the \ncoordinate display area. The displayed U and W coordinate values are the current position relative \ncoordinate ones. U and W coordinates can be cleared during stopping and resetting status.  \n \nFig.3-4 \n3.1.3  The Machine Coordinate Display  \nOn the position page set, press \n to switch into the machine coordinate display page. \nThe machine coordinate system is set by reference position return, and the page is shown as Fig. 3-5:  \n \nFig.3-5 \n3.1.4  Comprehensive Coordinate Display  \nOn the position page set, press \nsoftware key to switch into the comprehensive \ncoordinate display page. Then, the comprehensive coordinate values displayed on the interface top \ninclude the absolute coordinate, the relative coordinate, the machine coordinate and the distance to go, \nand the page is shown as Fig. 3-6:  \n\n\nChapter 3  Display Page \n \n177\nII Operation \n \nFig.3-6 \n \n3.1.5  Setting the Relative Coordinate  \n \nFig. 3-7 \nThen, the relative coordinate value of each coordinate axis can be set. The setting steps are:  \n（1）During resetting, press \n software key to input the relative coordinate axis, like the \nrelative coordinate value U in the above figure;   \n（2）Press \n or \n to select the coordinate axis to be set, and the axis can be input;  \n（3）Input the relative coordinate values and press \n key to complete setting; the cursor is \nmoved into the next axis and the relative coordinate of the next axis can be set. If there is no axis after \nthe current one, setting the relative coordinate is completed.  \n \n3.1.6  Switch between the Modal and the Comprehensive Information \nOn the position page set, press \n and \n to switch between the modal the \ncomprehensive information, the modal display page is shown as Fig. 3-8:  \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n178\nII Operation \n \nFig. 3-8 \n \n3.1.7  Clearing the Machining Workpiece Number  \nOn the position page set, press \n to clear the current number of the machined \nworkpiece, and the modal display page is shown as Fig.3-9:  \n \n \nFig. 3-9 \n \n3.1.8  Clearing the Running Time \nOn the position page set, press \n to clear the current running time, the modal display \npage is shown as Fig. 3-10:  \n \nFig. 3-10 \n \n\n\nChapter 3  Display Page \n \n179\nII Operation \n3.2  Program Page Set \nPress \n function key to enter the program page set. It mainly includes the local content, MDI \nprogram, the current/next display; if the USB flash disc is inserted, the USB flash disc content is also \ndisplayed.  \n3.2.1  Local Content and USB Flash Disc Content \n \nLocal content  \nPress \n software key to display the program content in the system. The programs in the \nlocal content can be loaded, opened, copied, pasted, created, saved as, deleted, renamed and searched, \netc. The local content in the program is shown as 3-11:  \n \nFig. 3-11 \nOn the page top status information display area, the running mode and status, on which the system \nis, are displayed on the display area; the total number of the program, the total used space and the \nremaining space of all the programs in the current system are displayed below.  \n \nIn the list, the program list of the current program and the size of each program and the latest \nrewritten date are displayed. Among them, the program with the green background is the selected one, \nlike O0003 program in the above figure. While the program of the red font and marked with the channel \n is the one which should be loaded into the position display page of the channel and can be executed, \nlike O0007programs in the above figure.  \n \nContent in the USB flash disc  \n \nWhen the system is with the USB flash disc, “the content of USB flash disc” software key is also \ndisplayed in the page meanwhile, which is shown as Fig. 3-12. Press \n software key, CNC \nprogram content in “NCPROG” file of the USB flash disc is displayed in the window. The files in the USB \nflash disc content can be input and output.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n180\nII Operation \n \nFig.3-12 \n \nNote: About other operation and other page in the program page, please refer to the content of Chapter Four in the \nuser manual.  \n3.2.2  MDI Program  \n(1) When MDI program is edited, the program page shown as Fig. 3-13 is entered firstly and press \n key to enter MDI operation mode.  \n \n \nFig.3-13 \n (2) Input the blocks (line 1-10) to run in the program edit area and the method is same as that of editing \nthe normal program. In MDI mode, the set program is valid for rewriting and deleting the words.  \n(3) After inputting the program, the cursor is moved into the program ahead, and the program is \nexecuted from the beginning (if the cursor is in some block of the program, the program is executed from \nthe block on which the cursor is.) . \n is pressed, MDI command is executed from the line on which \nthe cursor is; when the program is executed into the program end code (M02 or M30), the program \nrunning stops, and the following programs are not executed. If the end code (M02or M03) doesn’t exist, \nthe program directly runs the end. After the program running ends, the system stops.  \n(4) During running, press  \n, \n and the emergency stop button to make MDI command work \nstop running.  \n\n\nChapter 3  Display Page \n \n181\nII Operation \nNote 1: In MDI mode, press \n software key to delete the block on which the current cursor is, and \npress \n software key to clear all blocks in MDI edit area.  \nNote 2: During MDI running, press \n to stop running, And the cursor is moved into the initial line. And \n \nis pressed to run, again and the program is started from the line on which the cursor is.  \nNote 3: During MDI running, after \n is pressed, the program pauses, And \n is pressed, the previous \nprogram is continued to run.  \nNote 4: In MDI mode, the created program can’t be stored.  \nNote 5: In MDI mode, the subprogram of “local content” called by M98 can be executed, and subprograms of USB \nflash disc can be called by M198 and G65 macro calling can be executed. In MDI mode, G71-G73 and \nG66G67 macro modal calling function can’t be executed.  \n3.2.3  Current/next block \nPress \n function key to enter the program page set and press \n software key to \ndisplay the current being executed block and NC command of the next block, which is shown as Fig. \n3-14: \n \nFig.3-14 \n3.3  System Page Set  \nPress \n function key to enter the system page set, and it mainly includes the subpages of the \nparameter, the pitch error compensation, the system information, the file management and the ladder \ndiagram, etc. The content displayed on each page can be checked by pressing the corresponding \nsoftware key and its software layer structure is shown as the following Fig. 3-15:  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n182\nII Operation \nParameter\nScrew pitch \ncompensation\nSystem information\nRefer to \nRefer to \nVersion \ninformation\nMonitor\nPLC\ndata\nI/O \nstatus\nRefer to \nRefer to\nRefer to \nRefer to \nProgram \ncontent\nRefer to \nFile management\nLadder diagram\nGSK-Link\nRefer to \nRefer to \nRefer to \n \nFig.3-15 \n3.3.1  Parameter Setting and Rewriting Page  \nOn the system page set, press \n software key to enter the parameter setting interface, \nwhich is shown as Fig. 3-16:  \n \n \nFig.3-16 \nOn the system page set, press \n to enter the system parameter setting interface.  \nThe page is displayed the detailed information of the user parameters. On the page, the system \nparameters can be set and rewritten, the parameters currently set by the user can be operated the \nbackup and the parameter can be restored into the system default one or the user backup one.   \nThe parameter can be set in MDI mode and the parameter switch is ON and the operation authority \nlevel is equal to or higher than level [3]. The parameter to be rewritten can be set by \n, \n, \n and \n keys; or press \n or \n software keys to input the parameter \nsequence number to be selected, and then press \n software key, finally move the cursor to \n\n\nChapter 3  Display Page \n \n183\nII Operation \nthe parameter position. Like #0000 parameter in the above figure. Press \n key to make the \nselected parameter can be rewritten, like #0000 parameter in the following Fig. 3-17: \n \n \nFig.3-17 \nPress the numerical value key to input the digits of 8 bits in binary system, and then press \n \nkey to confirm the setting is completed; when the length of the input value isn’t 8 bits, 0 is supplied in \nhigh bit;  \nMoreover, the bit parameter can be set based on the bits:  \n（1）On the parameter setting page, the parameter to be set is selected by the keys \n, \n, \n and \n.  \n（2）The parameter bit to be rewritten can be selected by \n and  \n keys.  \n（3）\n key is repeatedly pressed, the parameter bit is switched between 0 and 1, and the \nvalue of the parameter bit is rewritten.  \n（4）Move the cursor to complete setting.  \nThe other parameters to be set are selected by \n, \n, \n and \n.  \n \nSetting method of the parameters of the numerical value is similar with that of the parameters of bit \ntype:  \n (1) The parameter to be rewritten can be set by \n, \n, \n and \n keys; or press \n or \n software keys to input the parameter sequence number or the parameter \nname to be selected, and then press \n software key, finally move the cursor to the \nparameter position.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n184\nII Operation \n(2) Press \n key to make the selected parameters modifiable.  \n(3) Press the numerical value key to set the numerical values and then press \n key to confirm \nthe setting completed.  \n(4) Select the other parameters to be set by \n, \n, \n and \n keys.  \n \nNote 1: After the system parameters are rewritten, some parameters become valid immediately, while some \nparameters become valid after the system is powered on, again. About the details, refer to GSK988MA \nparameter introduction.  \nNote 2: The parameter setting can be rewritten in MDI mode and the parameter switch is ON and the operation \nauthority level is equal to or higher than level [3]. \n3.3.2  Page of Setting and Rewriting the Pitch Error Compensation Page \nOn the system page set, press \n software key to enter the pitch error compensation \npage, which is shown as Fig. 3-18: \n \nFig. 3-18 \nOn the page, the user can check and set the pitch error compensation value corresponding to each \nscrew pitch number.  \nOn the pitch error compensation page, the compensation value of the pitch error compensation \nnumber can be selected by the page keys \n, \n and the cursor movement keys \n, \n, \n, \n; or the pitch compensation number can be searched by \n software key, and \nthe cursor can be positioned into the compensation value of the pitch compensation number to be \nrewritten.  \nWhen the operation authority is equal to or higher than level [2], \n key is input to make the \nselected pitch error compensation value modifiable. The compensation value is input by the numerical \nkeys and rewriting is completed after \n is pressed.  \n\n\nChapter 3  Display Page \n \n185\nII Operation \n3.3.3  System Information and Authority Level Operation  \nOn the system page set, press \n software key to enter the system information display \npage, and the page is shown as Fig. 3-19:  \n \nFig.3-19 \nThe system information display page is mainly displayed the product type, the software, the \nhardware and BOOT versions, the system code number, PLC type and operation authority level. The \noperation authority level password can be rewritten and the operation authority can be set on the page. \nTo realize the multi-level operation authority management, like the development maintenance, the \nmachine design and the equipment management, etc, GSK988MA CNC system sets 5 level operation \nauthority level, 1 is the highest, 5 is the lowest;  \n|  Level 1: The development level with the system software maintenance authority;  \n|  Level 2: The machine manufacturer level includes PLC program editing, the screw pitch error \ncompensation data input and power off in the set time, etc.  \n|  Level 3: (The user) equipment management level includes rewriting the parameter, editing the part \nprogram and editing the tool compensation data, etc;  \nLevel 4: The machine operation level includes editing the tool compensation data and selecting the \npart program (that is to say: the tool setting can be operated the part program for automatic running can \nbe selected), the parameters can’t be rewritten and the part program can’t be edited;  \n|  Level 5: Operation limit level, without the operation password (the operation password cancel status), \nthe parameters can’t be rewritten, the part program can’t be edit, the cutter compensation data can’t be \nedit, the part program can’t be selected (that is to say: the tool setting operation is invalid, only the \ncurrent program of the system can run). The manual, MPG, zero return, MDI running and automatic \nrunning can be operated, and some files of the system can get backup, while they can’t be downloaded.  \nNote: CNC files is uploaded into PC rather than downloaded into CNC internal.  \nTable 3-3-1 \nOperation authority \nlevel \nOperation  \nfunction \nLevel 1 \n(Developme\nnt) \nLevel 2  \n(Machine tool \nmanufacturer)\nLevel \n3 \n(Equipment  \nmanagement)\nLevel 4 \n(Machine \noperation) \nLevel 5 (Limit \noperation) \nSystem software upgrade\nYes \nNo \nNo \nNo \nNo \nSetting power off in the \nset time  \nYes \nYes \nNo \nNo \nNo \nEditing, downloading and \nuploading PLC program \nYes \nYes \nNo \nNo \nNo \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n186\nII Operation \nInputting the pitch error \ncompensation data and \ndownloading the pitch \nerror compensation files \nYes \nYes \nNo \nNo \nNo \nParameter switch ON \n(Allowable to rewrite the \nparameters)  \nYes \nYes \nYes \nNo \nNo \nProgram switch ON  \n(Allowable to edit the \nprogram) \nYes \nYes \nYes \nYes \nNo \nUploading and \ndownloading the part \nprograms  \nYes \nYes \nYes \nYes \nNo \nSetting the tool lifetime \nand downloading the tool \nlifetime file  \nYes \nYes \nYes \nYes \nNo \nInputting the  \nmacro variables \nYes \nYes \nYes \nYes \nNo \nInputting the cutter \ncompensation data (The \ntool setting allowable) \nand downloading the \ncutter compensation and \ntool offset files  \nYes \nYes \nYes \nYes \nNo \nUploading the pitch error \ncompensation files  \nYes \nYes \nYes \nYes \nYes \nUploading the tool \nlifetime file  \nYes \nYes \nYes \nYes \nYes \nUploading the cutter \ncompensation and tool \noffset files  \nYes \nYes \nYes \nYes \nYes \nIf the operation limited by the authority level should be executed, the corresponding operation \nauthority level should be obtained. Press \n key to enter the system interface, and then press \n to enter the password display interface, and press \n, \n or  \n to enter the corresponding setting, and input the password corresponding to the operation \nlevel, so the operation authority corresponding to the level is obtained. On the password setting page, \nthe operation password of the level or that lower than the level, the current password level can also be \ndegraded.  \nThe authority level doesn’t remain after power off at operation authority level 1 or 2, and the \noperation level 3 is entered after power on, again. The operation authority of 3～5 levels remain after \npower off, and the operation authority level before power off is restored after power off, again.  \nWhen the authority isn’t enough, the reminder is popped up to remind that the corresponding \noperation authority isn’t enough. In Auto mode, the operation authority executed by the program isn’t \nenough, the machine movement should be stopped and the alarm occurs.  \n \n(1) Entering the authority level  \n\n\nChapter 3  Display Page \n \n187\nII Operation \nPress \n software key to reduce the operation level and the current operation authority \nlevel is displayed in the operation authority column of the window.  \nPress \n software key to input the password of the corresponding level to enter the \ncorresponding operation level.  \nNote: The initial password relation corresponding each authority level is shown as the following list.  \nOperation \nlevel \nInitial \npassword \nLevel 1 \n*** \nLevel 2 \n*** \nLevel 3 \n333333 \nLevel 4 \n444444 \nLevel 5 \nWithout \noperation \npassword \n \n(2) Rewriting the password \nFirstly, the operation authority level for rewriting the password should be entered; press \n software key to rewrite the system current authority password. Input the new and old \npasswords in \n edit box, and the cursor can be switched \nbetween the new and old password edit boxes, and finally press \n to complete rewriting the \npassword. \n3.3.4  System File Management  \nIn the system page set, press \n software key to enter the file management display page \nand the page is shown as Fig. 3-20: \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n188\nII Operation \n \nFig.3-20 \nThe window is divided into the left and right columns. The left display column is displayed the \nsystem files and the content of the part program files; when the system is with the USB flash disc, the \nright display column is displayed the file content in the USB flash disc, which is shown as the above \nfigure. Then, the system files can be input and output, and the files in the system can be output to the \nUSB flash disc, or the files in the USB flash disc can be input into the system.   \n(1) Press \n software key to switch the cursor between the left file content column of the \nsystem and the right content column in USB flash disc.  \n(2) When the cursor is on the file folder, press \n and \n to fold and unfold the file.  \n(3) Press \n, \n keys to move the cursor to the file to be operated, and press \n key \nto select the file and the selected file is ticked off, like the part programs O0098，O0003 and O0777 in the \nsystem file content. When the cursor is on the selected file, then, \n key is pressed to select all files \nin the folder.   \n(4) Then, after the system files are selected, \n software key is pressed to output all the \nselected files into the USB flash disc; same, after the files in the USB flash disc are selected, \n software key is pressed to input all the selected files into the system file content. \n3.3.5  The Ladder Diagram  \nPress \n function key and then press \n software key to enter the current PLC \ndisplay page and real-time check PLC execution situation; the ladder diagram page mainly includes the \nsubpages of the version information, the monitor, PLC data and PLC status, etc, and the content \ndisplayed in each page can be checked by pressing the corresponding software keys. And the page is \ndisplayed as Fig. 3-21. \n \n\n\nChapter 3  Display Page \n \n189\nII Operation \n \nFig.3-21 \nThe system current running mode and status are displayed on the top of the page and the version \ninformation of the ladder diagram, the currently running ladder diagram program and its running status, \netc are displayed.  \n3.3.5.1  The Ladder Diagram Monitor Display  \nPress \n function key, and then press the ladder diagram software key to enter the ladder \ndiagram page set and press \n software key to enter the operation monitor display page of \nthe ladder diagram program, which is shown Fig. 3-22:  \n \nFig.3-22 \nThe monitor page can be checked the connect/disconnect status of the current contacts and the \ncoils, and the current value of the timer and the counter. When the contact and the coil are connected, \nthe base color is green; otherwise, the base color is same as the window one. For example, \n \nmeans the contact X0.5 is connected, \nmeans the coil R0.2 is not connected.    \n \n1. Checking the window program  \nIn the monitor page, four window programs should be monitored meanwhile, and \n, \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n190\nII Operation \n, \n and \n can be respectively pressed to check the ladder diagram \nblock corresponding each window, and then, the ladder diagram of the block corresponding to the \nselected window is displayed on the screen.  \n \n2. Selecting the window block  \n(1) The window to choose the block is selected by pressing \n, \n, \nor \nto select the window.  \n(2) Press \n software key to select the window program, and then the page is shown as \nFig. 3-23:  \n \nFig.3-23 \n(3) Press \n, \n, \n, \n to select the ladder diagram corresponding the window.  \n(4) Press \n software key to confirm the selection and to return the previous menu and \npress \n software key to cancel the selection and to return to the previous menu.  \n \n3. Searching for the parameter, the command and the internet  \n(1) Select the block window to search for the command, the parameter and the internet; that is to say, \npress \n, \n, \nor \n software key to select the window and \nthe corresponding block ladder diagram is displayed in the window and the command, the parameter \nand the internet can be searched in the window.  \n(2) Press \n software key to enter the searching page, which is shown as Fig. 3-24:  \n\n\nChapter 3  Display Page \n \n191\nII Operation \n \nFig.3-24 \n（3）Separately press \n, \n, \n software key to search for the \nparameter, the command and the internet in the block corresponding to the window and move the cursor \nto position in the corresponding location.  \n（4）Press \n, \n to move the cursor to position at the initial and the last lines \nof the block corresponding the window.  \n（5）Press \n software key and the screen is displayed returning to the previous menu.  \n4. Return.  \nIn the figure, press \n software key and the screen window is displayed returning to the previous \nmenu.  \n3.3.5.2  Check and Set PLC Data  \nIn the ladder diagram page set, press \n to enter PLC data status display page and it \nincludes setting K, D, DT and DC parameters, which is shown as Fig. 3-25:  \n \n \nFig.3-25 \n1. Setting K parameter \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n192\nII Operation \n(1) On PLC data display page, press \n software key to enter setting K parameter \ndisplay page.  \n(2) Press \n, \n, \n, \n, \n, \n key to select the parameter status bit to be \nrewritten; or press \n software key to input K variable to be selected, and then press \n software key to move the cursor to position in the parameter. The meaning of the status bit \nis displayed at the bottom of the screen.  \n(3) \n key is pressed repeatedly and the status bit can be switched between 0 and 1, and the \nstatus of the selected K parameter status bit can be rewritten.  \n(4) Press \n, \n, \n, \n to move the cursor to complete rewriting.  \nPress \n software key to input K parameter address to be searched and the cursor is \npositioned to K parameter address to be searched.  \n \n2. Setting D parameter  \n(1) In PLC data status display page, press \n software key to enter setting parameter D \ndisplay page, which is shown as Fig. 3-26:  \n \nFig. 3-26 \n(2) Press \n, \n, \n, \n key to select parameter D to be rewritten; or press \n software key to input parameter D to be selected, and then press \n software \nkey to move the cursor to position in the parameter. The meaning of the parameter is displayed at the \nbottom of the screen;  \n(3) Press \n key to make the selected parameter D modifiable.  \n\n\nChapter 3  Display Page \n \n193\nII Operation \n(4) Input the numerical value to be rewritten and then press \n to complete rewriting.  \n \n3. Setting parameter DT  \n(1) On PLC data status display page, press \n software key to enter DT parameter \nsetting display page, which is shown as Fig. 3-27:  \n \nFig. 3-27 \nThe method of setting parameter DT is same as that of setting parameter D.  \n4. Setting parameter DC  \nOn PLC data status display page, press \n software key to enter DC parameter setting \ndisplay page, which is shown as Fig. 3-28:  \n \nFig.3-28 \n     The method of setting parameter DC is same as that of setting parameter D.  \n3.3.5.3  PLC Status Check Display \nOn the ladder diagram page set, press \n software key to enter PLC status display page, and the \npage is shown as Fig. 3-29: \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n194\nII Operation \n \nFig.3-29 \nOn the page, press \n software key, the window is displayed the status information of \neach parameter X, Y, F and G. Press \n, \n keys to check among parameters X, Y, F and G. \nPress \n software key to check the status information of each parameter R, A and K. Then, \npress \n, \n keys to switch among parameters R, A, K, and press \n, \n keys to check \namong parameters P, A and K.  \nDuring checking the parameters, the note of each parameter is displayed at the bottom of the \nscreen meanwhile; press \n to switch and to check the detailed note of each data in each \nparameter.  \nPress \n software key to move the cursor to position the parameter to be searched. \nSearching is operated in the whole page, and only inputting the parameter name and parameter number \ncan be found exactly; while only inputting the parameter number can’t find the parameter.  \nPress \n software key and the screen is returned to the previous menu.  \n3.3.6  GSK-Link Function  \nAbout the details, refer to Chapter Ten GSK-Link Busbar Function . \n3.4  Setting Page Set  \nPress \n function key to enter the setting page set, and the setting page set includes the \nsubpages of setting the tool offset, setting CNC and the macro variables, and the contend displayed in \neach page by pressing the corresponding software key. The software key layer structure is shown as Fig. \n3-30:  \n \n\n\nChapter 3  Display Page \n \n195\nII Operation \n \nFig.3-30 \n3.4.1  Setting Tool Offset  \n3.4.1.1  Setting Tool Offset  \nPress \n software key to enter the tool offset setting page, which is shown as Fig. 3-31:  \n \n \nFig.3-31 \nOn the page, the tool offset value and the wearing value of each axis corresponding to each tool \noffset number should be checked and set; About the detailed setting method, refer to Chapter 6.6.  \nOn the right column of the page of setting the tool offset, the information like the current absolute \ncoordinate, the relative coordinate value and the tool number operated by the current program are \ndisplayed meanwhile.  \n \nNote 1: The axis number displayed in the page is set by the parameters #1010 and #8130.  \nNote 2: The linear axis or the rotary axis is specified by the axis property of each axis set by the parameter #1022 (It \ncan’t be 0).  \nNote 3: Each axis name is set by parameter 1020.  \nNote 4: Whether the tool offset value is specified by the diameter value or the radius value is set by the 1st bit of \nparameter #5004; Each axis movement amount is specified by the diameter or the radius is set by the 3rd bit \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n196\nII Operation \nof parameter #1006.  \nNote 5: Only when the operation authority is equal to or high than level [4], the tool offset and the wearing value can \nbe set.  \nNote 6: The system maximum supports the tool offset of four axes; if more than four axes are displayed, only the \nprevious four axes are displayed.  \n3.4.2  CNC Setting Page  \n    On setting page set, press \n software key to enter CNC system setting page and it \nmainly includes the system setting, the coordinate setting, the system time and the system IP.  \n \n3.4.2.1  System Setting Page  \nOn CNC setting page set, press \n to enter the system setting page and it includes \nsetting the program switch, the parameter switch, the automatic sequence number and the inputting unit, \netc, which is shown as Fig. 3-32: \n \nFig.3-32 \nThe page is mainly for setting ON/OFF of the program and the parameter switches, etc.  \nOn the page, the program switch, the parameter switch, the automatic sequence number and the \ninput unit can be switched by \n and \n key. In MDI status, when the operation authority level \nis equal to or higher than level [3], ON/OFF of the switch, inch/metric system can be selected by \npressing \n, \n or \n keys.  \nOn the right column of the page, the current absolute position coordinate, the relative coordinate \nposition value and the tool number used in the current program are displayed meanwhile. \n \nNote 1:Only when the program switch or the parameter switch is ON, the program or the parameter can be edited, \nrewritten or set.  \nNote 2: Only when the operation authority is equal to or higher than level [3], CNC system can be set.  \nNote 3: Only when the program protection switch on the machine panel is ON, the program and the parameter \nswitches ON/OFF can be set. \n\n\nChapter 3  Display Page \n \n197\nII Operation \n3.4.2.2  Coordinate Setting Page  \nPress \n function key to enter the setting page set; On CNC setting page, press \n \nsoftware key to enter the coordinate setting page, which is shown as Fig. 3-33:  \n \nFig.3-33 \nOn the coordinate setting page, the origin offset amount of each axis and the offset value of each \ncoordinate axis in each coordinate system are displayed, the origin offset amount corresponding to each \naxis and the offset value of each coordinate axis of each coordinate system can be set.  \nOn the coordinate setting page, the coordinate system to be set is selected by the up/down keys \n, \n, and the coordinate axis to set the offset is selected by left/right keys \n, \n, there \nare three methods of rewriting the tool offset: Direct inputting, measuring inputting and + inputting:   \nDirect inputting: Select the coordinate axis to be rewritten, press \n key, and then input the \noffset value, and then confirm.  \nMeasuring inputting: Select the coordinate system to be rewritten, press \n to input the \nmeasured value (if it is X axis, input X--; Z axis, input Z--), and then confirm.  \n+input: Rewrite the input offset value, and it is the incremental input. For example, in G54 coordinate \nsystem, X axis needs to be added up the offset value of –0.2mm, firstly, move the cursor to X axis \nposition in G54 coordinate system, and then press \n，and input –0.2, and –0.2mm is added \ninto the current offset value after confirming.  \nOn the right column of the page, the current absolute position coordinate value and the relative one, \nand the tool number used by the current program, etc are displayed meanwhile.  \nNote 1: The coordinate offset can be set or rewritten only when the parameter switch is ON and in MDI modal and the \noperation authority is equal to or higher than level [4].  \nNote 2: The axis number displayed on the page is set by the parameters #1010 and #8130.  \nNote 3: The name of each axis is set by the parameter #1020. \n3.4.2.3  Page of Setting the System Time  \nPress \n function key to enter the setting page; on CNC setting page, press \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n198\nII Operation \nsoftware key to enter the system time setting page, which is shown as Fig. 3-34:  \n \nFig.3-34 \nOn the time setting page, it can be switched among the date, month, year and time columns by \npressing \n key.  \nSetting the month: Press \n to switch the cursor into the month column, and then the month \ncolumn is changed into the green one, press the cursor movement keys \n, \n, \n, \n \nto change the month and press \n to move the cursor into the other columns to complete setting the \nmonth.  \nSetting the year: Press \n to switch the cursor into the year column, and then the year column \nis changed into the green one, press the cursor movement keys \n, \n, \n, \n to \nchange the year and press \n to move the cursor into the other columns to complete setting the \nyear.  \nSetting the date: Press \n to switch the cursor into the date column, and then the date column \nis changed into the green one, press the cursor movement keys \n, \n, \n, \n to \nchange the date, finally press \n to complete setting the date.  \nSetting the time: Press \n to switch the cursor into the time column, and then the time column \nis changed into the green one, input the time to be set in the edit keypad, and then press the cursor \nmovement keys \n, \n to set the hour, minute and seconds, finally press \n software \nkey to complete setting the date.  \n \n\n\nChapter 3  Display Page \n \n199\nII Operation \nNote: When the time setting is wrong, the input time can be deleted by pressing backspace key, and the time can be \ninput, again.  \n \n \nInputting the power-off sequence number: If the system sets the function of power-off in the set time, \n is pressed on the page to input the code to release the function of power-off in the set time. \n3.4.2.5  System IP Setting Page  \nPress \n function key to enter the setting page set; on CNC setting page, press \n \nsoftware key to enter the system IP setting page, which is shown as Fig. 3-35:  \n \n \nFig.3-35 \n(1) Press the up/down keys \n, \n to switch among IP address, subnet mask and the \ndefault gateway bar.   \n(2) Press the left/right keys \n, \n to switch in each address bar of each address and then \ninput the address to be set.  \n3.4.2.6  The Machine Software Panel  \nFor convenience, the user can operate the system without the machine operation panel, \nGSK988MA system provides the machine software panel. Press \n function key to enter the setting \npage set; On CNC setting page of the setting page set, press \n software key to enter the \nmachine software panel page of the system, which is shown as Fig. 3-36:  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n200\nII Operation \n \nFig.3-36 \n   On the page, press \n (the keys can be displayed with level two or above), the machine \nsoftware panel can be used. The marked characters on the machine software panel are corresponding \nto the characters on the system keypad, the machine can be operated based on the above character \ncorresponding relation. The page of other function keys can be switched by pressing \n and \n. \nThe spindle strobe, the spindle override and the feedrate override can be adjusted by \n and \n.     \nNote 1: When the machine software panel feedrate override is valid, the external feedrate knob adjustment is invalid.  \nNote 2: The machine software panel cycle start, the machine panel cycle start and the external cycle start are valid \nmeanwhile. \n3.4.2.7  Machine Debugging  \nFor debugging the machine conveniently, GSK988MA system is classified the common parameters \ninto one independent page, which is called as the system debugging function.  \n \nNote: The parameter classification and the content in the system debugging function may be different due to the \ndifferent system software versions, subject to the currently used version.  \nPress \n function key to enter the setting page set; On CNC setting page, press \n \nsoftware key to enter the system debugging page, which is shown as Fig. 3-37:  \n\n\nChapter 3  Display Page \n \n201\nII Operation \n \nFig.3-37 \n   The classification of the system debugging items is in the page left and the right is displayed the \nexplanation of the items.  \nThe debugging items are mainly classified into: The machine safety protection and the external \nswitch, the system axis and the channel setting, the system control precision setting, GSKLink bus \nsetting, CS contour control axis function, multi-spindle function and the electrical gear ratio setting. Press \n, \n key to select the item to be debugged and press \n to enter the debugging \nitem.  \n \n \nThe machine safety protection and the external switch  \nOn the system debugging page, move the cursor \n and press \n to enter the setting page of the function, which is shown as the right top figure. When the \nparameter switch is ON and the authority of the relative parameters is allowed, the cursor is moved to \nthe corresponding item, press \n to select the current function. Press \n to return \nthe page of the last function.  \n \nFig.3-38 \n \nSetting the system axis and the channel  \nOn the system debugging function, move the cursor to “setting the system axis and the channel”, \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n202\nII Operation \nand then press \n to enter the system axis and the channel setting page. The system axis \nand the channel setting debugging includes: Setting the control axis and the spindle.  \nDuring setting the control axis function, the total control axis number, CNC control axis number and \nthe feeding axis name and the absolute path number of the feeding axis can be set.  \nDuring setting the spindle function, CNC controlled spindle number and the spindle absolute path \nnumber can be set.  \nWhen the parameter switch is ON and the relative parameter authority is allowed, the cursor is \nmoved to the corresponding item and \n is pressed, input the corresponding configuration \nparameters, and press \n to confirm. Press \n to return the page of the previous \nfunction.  \n \nFig.3-39 \n \nSetting system control precision \nOn the system debugging page, move the cursor to “setting the system control precision” and then \npress \n to enter the system control precision setting page. The system control precision \nsetting function debugging includes: The channel selection, the system control precision, the channel \ninput unit, the channel output unit and the programming mode of the channel X axis. When the \nparameter switch is ON and the relative parameter authority is allowed, the cursor is moved to the \ncorresponding item and press \n to select the current function. Press \n to return \nthe page of the previous function.。 \n\n\nChapter 3  Display Page \n \n203\nII Operation \n \nFig.3-40 \n \nGSKLink bus setting  \nOn the system debugging page, move the cursor to “GSKLink bus setting” and then press \n to enter GSKLink bus setting page. GSKLink bus setting function includes: Setting \nGSKLink communication function, feeding servo slave station logic ID number, the spindle servo slave \nstation logic ID number, the system control IO unit number and logic ID number of IO unit. The detailed \nsetting method is same as the basic function debugging one of the last chapter.  \n \nFig.3-41 \n \nCS contour control axis function  \nOn the system debugging page, move the cursor to “CS contour control axis function” and press \n to enter CS contour control axis function page, and CS contour control axis relative \nfunction parameter can be set on the page. The detailed setting method is same as the basic function \ndebugging one of the last chapter.   \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n204\nII Operation \n \nFig.3-42 \n \nMulti-spindle function  \nOn the system debugging page, move the cursor to “multi-spindle function” and then press \n to enter the multi-spindle function page, and the multi-spindle relative parameter function \ncan be set on the page. The detailed setting method is same as the basic function debugging one of the \nlast chapter.   \n \nFig.3-43 \n \nSetting electrical gear ratio  \nDuring the system debugging function, there are the gear ratio automatic calculation and setting \nfunctions, move the cursor to \n on the system debugging item page, and press \n to enter the electrical gear ratio setting page, which is shown as the following figure:  \n \n\n\nChapter 3  Display Page \n \n205\nII Operation \n \nFig.3-44 \n(1) Select the axis to be set \nSelect the controlled axis: Move the cursor to the axis to be set, press \n to select the \ngear ratio for the axis.  \n(2) Select gear ratio output param \n \n \nThe page support 2 type of output mode: \n \na. The result is written to servo param PA29/PA30(DMR1/DMR2); \n \n \nIn this mode, the cnc detection ratio param No.1822(DMR) is used; \n \nb. The result is written to cnc flexible gear ratio param(F.G.R) No.2084/No.2085; \n \n \nIn this mode, the cnc detection ratio param No.1822(DMR) is not used; \n(3) Inputting the data  \nThe pulses per revolution of the encoder: The pulses per revolution of the motor encoder is set.  \nThe pulses per revolution of the absolute motor encoder = The resolution of the motor encoder  \nThe pulses per revolution of the incremental motor encoder = 4×the resolution of the motor encoder  \nNote: If the set GSKCAN bus connection is normal, the system will automatically read the encoder pulses, so it \ndoesn’t require to be set in Manual mode.  \n \nThe lead: The lead of the ball screw is set; for the special, the lead of the rotary axis is fixed as 360°.  \nThe gear number at the screw end: The gear number at the ball screw end is set; It is set as 1 if the \nmotor and the screw is connected straightly.  \nThe gear number at the motor end: The gear number at the motor end is set; It is set as 1 if the \nmotor and the screw is connected straightly. \n(4) Calculation result  \nServo gear ratio: After pressing \n, the system will automatically calculates the electrical \ngear ratio of the current axis.  \nF.G.R: After pressing \n, the system will automatically calculates the electrical gear ratio \nof the current axis. \nNote: \nIf servo param is to be written, the result is corresponding with servo gear ratio; \nIf cnc F.G.R param is to be written, the result is corresponding with F.G.R param, and the servo \ngear ratio will automatically set to 1:1; \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n206\nII Operation \n(5) Save gear ratio  \nAfter \n is directly pressed, the system will set and save the result into the \ncorresponding param. \nNote: The value calculated by the gear ratio calculation function has already included CNC gear ratio and other \ngear ratios of the current system set by the parameters; for the special, the gear ratio calculation formula \ndoesn’t include the diameter/radius programming set by the parameter.  \n \n3.7.8  Backup and Restoring with One Key  \nWhen the operation authority is above level two, on the system debugging page, the USB flash disc \nis inserted, two function keys of “Restoring with one key” and “Backup with one key” are shown as the \nfollowing figure:  \n \nFig.3-45 \nBackup with one key: Backup with one key can back up the system parameters, the servo drive \nparameters, PLC program and PLC parameters into the CNC memory and the USB flash disc.  \nAfter inserting the USB flash disc into CNC, \n button is pressed on the system \ndebugging page, the system will pop up the dialogue box \n, and the file used by CNC is \nexecuted backup in the system and in the USB flash disc by pressing \n, after the backup is \ndone, which is shown as the following figure, and then the other normal operation can be executed by \npressing \n. \n \n\n\nChapter 3  Display Page \n \n207\nII Operation \n \nFig.3-46 \nNote 1: The file folder with the name “GSK988M_CONF”is generated in the root directory of the USB flash disc, and \nthe backup file is saved in the folder.  \nNote 2: If the USB flash disc has already operated backup for the other system, the previous backup files are \noverwritten in case of the same USB flash disc are used for backup, again; therefore, if the machines in \ndifferent types should be executed the backup, the different USB flash discs should be used.  \n \nRestoring with one key: The backup system parameters, the servo drive parameters, PLC program \nand PLC parameters are restored into the current CNC with one key.  \nInsert the USB flash disc for the previous “backup with one key” into CNC system, and when the \nparameter switch is ON, press \n button on the system debugging page, the system will pop \nup the dialogue box \n, the origin of the \nrestored parameter will pop up by pressing \n, which is shown as the following figure.    \n \n  Local: Restore the parameters backup in CNC.  \n  USB flash disc: Restore the files in the USB flash disc into the current CNC and the files can be used.  \n  Cancel: Cancel the current operation.  \nSelect restoring from the USB flash disc, and press \n to start restoring. After restoring is \ndone, which is shown as the following figure, the parameters are restored and can be used after power \non, again.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n208\nII Operation \n \nNote 1: Restoring the parameters must be executed in the file folder in the name of “GSK988MA_CONF” in the root \ndirectory of the USB flash disc, and the files in the file folder have been  executed backup previously.  \nNote 2: It’s suggested that restoring with one key can be used when the machine configurations are same; \notherwise, restoring may fail due to some parameters are not matched.  \n3.4.3  Macro Variable Page  \nOn the setting page set, press \n software key to enter the macro variable setting page, \nwhich is shown as Fig. 3-47.  \n \nFig. 3-47 \nOn the macro variable page, the value corresponding to each macro variable can be checked and \nset.  \nOn macro variable page, press \n, \n, \n to select the type of the \nvariable, and press the page keys \n, \n, the direction keys \n, \n, \n, \n to \nselect the macro variable to be rewritten, and the base color of the selected macro variable is changed \ninto green; or press \n software key to input the macro variable sequence number to be \nselected, press \n and then the cursor is positioned into the macro variable data.  \nIn MDI mode, when the operation authority level is equal to or high than level [4], the macro variable \ndata can be rewritten with the number keys and the backspace key; or the macro data can be rewritten \nby pressing \n key, and the macro data can be rewritten by the number keys and the backspace \nkey, and the rewriting is done after pressing \n key.  \n\n\nChapter 3  Display Page \n \n209\nII Operation \nNote 1: The protection for the common variables can be set by parameters 6031 and 6032, when the value set by the \nparameter 6032 is greater than that set by 6031 and the value range is 500~999, the macro variable \nprotection is ON, and the reminder will pop up when writing is from the interface, and then the variable has \nbeen protected; If try to write in the program, #220 alarm occurs: No writing the macro variable;  \nNote 2: No writing the system macro variable in the page.  \n3.5  Information Display Page Set  \nPress \n function key to enter the information page set, and the information interface is with \nthree pages: the alarm information, the previous record, and the diagnosis, and the content displayed in \neach page can be checked by pressing the corresponding software keys. Its software layer structure is \nshown as Fig. 3-48:  \n \nFig.3-48 \n3.5.1  Alarm Information Check Page  \nOn the information page set, press \n software key to enter the alarm information \ndisplay page to display the number of CNC alarms and PLC alarms and the detailed information, and the \npage is shown as Fig. 3-49:  \n \nFig.3-49 \nOn the alarm information display interface, the alarm and the reminder of CNC and PLC information \nare listed in one window list and it is divided by the alarm number. Press up/down keys \n, \n to \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n210\nII Operation \nscroll the list line-by-line, and the page keys \n, \n to scroll the list page-by-page.  \n \nWhen PLC alarm or reminder occurs, the address A information below the information line is \ndisplayed; when CNC alarm or reminder occurs, the reason and the troubleshooting are displayed below \nthe information line.  \nClearing the alarm: Press \n to cancel the alarm. About some alarms, refer to the reason and \ntroubleshooting.  \nNote 1: When PLC alarm or reminder occurs, the address A information is displayed in black color below the \ninformation line;  \nNote 2: When CNC alarm or reminder occurs, the reason and the troubleshooting is displayed in black color below \nthe information line.  \nNote 3: The alarms of #0——#1000 are CNC ones; the alarms of #1000——#2000 are PLC ones, those after #2000 \nare reminder information.  \nNote 4: When the parameter becoming valid after power-on is rewritten, the alarm can be cleared only after power on, \nagain.  \nNote 5: Please refer to Appendix One Alarm Information List and Appendix Two PLC Alarm Explanation about the \ndetailed alarm information and PLC alarm.  \n3.5.2  Page for Checking the Previous Alarm Records \nPress \n key to enter the information interface and then press \n software key to \nenter the previous record interface. The interface records the latest previous alarm information, which \nincludes the alarm date, the alarm time, the alarm number and the alarm content. The alarm note \ninformation can be checked by pressing \n, \n, \n, \n, the page is shown as Fig. 3-50:  \n \nFig.3-50 \nClearing the previous alarm record: On the page of the previous alarm record, press \n \nsoftware key to clear the previous records of all alarms and the reminder information, and the page is \nblank after clearing.  \nNote: Whether clear the alarm record is set by parameter 3110.2.  \n \n\n\nChapter 3  Display Page \n \n211\nII Operation \n3.5.3  Diagnosis Display Page  \nPress \n key to enter the information interface and press \n software key to enter \nthe diagnosis page. And then, press System diagnosis button to select the pages of different diagnosis \nclassification data.  \nIt is shown as Fig. 3-51: \n \nFig.3-51 \n3.5.3.1  Edit Keypad Diagnosis Page  \nAfter entering CNC diagnosis page, press \n software key to enter the system diagnosis \npage. CNC system diagnosis page is displayed the content of the keypad diagnosis.  \nAll buttons on the system keypad can be diagnosed, all two status for each button can be pressed \nand popped up, whether the system keypad is damaged can be checked with the diagnosis information.  \nTo  prevent the corresponding function is operated during checking the diagnosis function by \npressing some key (like: soft keys), \n can be pressed to lock the current screen. \nSee Fig.3-51. \n3.5.3.2  Hardware Diagnosis Page  \n \nAfter entering CNC diagnosis page, press \n software key to enter the system diagnosis \npage, and then press “hardware interface” software key to check the status information of the system \nhardware.  \nOn CNC diagnosis display page, the detailed content of the diagnosis number of two lines are \ndisplayed below the page, the first line is displayed the diagnosis number; the second line is displayed \nthe meaning of some bit of the diagnosis number on which the cursor is. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n212\nII Operation \n \nFig.3-52 \n3.5.3.3  Bus Communication Page  \nAfter entering CNC diagnosis page, press \n software key to enter the system diagnosis \npage. And then press “bus communication” software key to check GSKLink bus configuration information \nand the axis control data transmitted by GSKLink.   \n \nFig.3-53 \n \n3.5.3.4  I/O Unit Diagnosis Page  \nAfter entering CNC diagnosis page, press I/O diagnosis software key to enter I/O unit diagnosis \npage. On the page, the real-time status of each contact in I/O unit can be checked.  \n\n\nChapter 3  Display Page \n \n213\nII Operation \n \nFig.3-54 \n3.6  Figure Display Page Set  \nPress \n function key to enter the graph page set, and it mainly includes the subpages of \nsetting the graph, the path display, and the graph simulation, and the content displayed in each page can \nbe checked by pressing corresponding software key. Its software layer structure is shown as Fig. 3-64: \n \nFig.3-55 \n3.6.1  Setting the Graph Parameters  \nOn the page, the graph simulation parameters can be set.  \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n214\nII Operation \n \nFig.3-56 \n3.6.1.1  Simulation Setting Page \nThe origin position of the coordinate is set, the vertical and the horizontal axes for the graph are \nselected, and the coordinate axis offset and the magnification times of graph are set; if the graph \nsimulation is required, the front tool post or the back one of the machine is selected, and the horizontal \nand vertical axes are selected, the simulated horizontal and the vertical axes are set, and the long \ndiameter of the machined workpiece, the graph simulation magnification scale and the coordinate axis \noffset are set.  \nOn the right column of the page, the current absolute position coordinate and the relative coordinate \nposition values and the tool number used by the current running program are displayed meanwhile.  \n \nPress \n, \n key to switch among each item and press \n, \n to switch among \nthe data of two channels. In MDI status, the graph parameters are rewritten with the digit key and the \nbackspace key, the numerical value to be rewritten is input, and press \n key to confirm the setting \nis completed. About the detailed operation, refer to Chapter 8.1.  \n3.6.2  The Machined Graph Path Display  \nOn the graph page set, press \n software key to enter the path display page, which is \nshown as Fig. 3-68:  \n\n\nChapter 3  Display Page \n \n215\nII Operation \n \nFig.3-57 \nThe coordinate plane displayed by the current path and the scaling of the path graph are displayed \nbelow the path display screen.  \n \nOn the right column of the page, the current absolute position coordinate and the relative coordinate \nposition values and the tool number used by the current running program are displayed meanwhile.  \n \nThen, the graph can be scaled up/down, the path can be cleared, and meanwhile, the graph can be \nmoved upward/downward/leftward/rightward by pressing \n, \n, \n, \n keys \nmeanwhile.  \nAfter \n software key is pressed, the system automatically sets the current coordinate \nposition as the graph center; and after pressing \n software key, the system automatically \nswitches the coordinate system.  \nNote: Each axis name is set by the parameter #1020 and the different letter names are set for each \naxis. \n3.7  Help Page Set  \nPress \n function key to enter the help page set, which is shown as Fig. 3-71. The help page \nset mainly includes the subpages of the operation help, the programming help, the alarm help and the \nparameter help, etc, and the content displayed by each page can be checked by pressing the \ncorresponding software keys.  \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n216\nII Operation \n \nFig.3-58 \nEach subpage can be divided into two parts: the left directory and the right corresponding content. \nThe following shortcut keys can be operated:  \n \n      Content: Page up key: Page up for one page in the content;  \n              Page down key: Page down for one page in the content;  \n      Directory: Upward key: Check the previous directory;  \n               Downward key: Check the next directory \n               Leftward key: Return to the up one level directory;  \n               Rightward key: Open the next level directory;  \n               Switch key + page up key: Page up for one page in the content;  \n               Switch key + page down key: Page down for one page in the content;  \n \nMoreover, the search function exists in the programming help, in the alarm help and in the \nparameter help, and G code, the alarm number and parameter number can be input in the corresponding \ninterface, which is shown as Fig. 3-59 below. On the programming help page, press \n and \ninput G01 in the dialogue box and press Enter. For example, G01 code can be directly found, which is \nshown as Fig. 3-60 below.  \n \n \nFig.3-59                                         Fig.3-60 \n \n \n \n \n\n\nChapter 4  Editing and Managing the Program \n \n217\nII Operation \nChapter 4  Editing and Managing the Program \nOn the program page, the program can be searched, created, selected, copied and deleted, and the \nprogram can also be imported and exported.  \nTo prevent the program is rewritten and deleted by accident, GSK988MA sets the program switch. \nAfter editing and rewriting the program, the program switch must be ON; And about the details of setting \nthe program switch, refer to chapter 3.4.2.1.  \nNote: The file with the name ‘NCPROG’ is on the USB flash disc, and the file is placed on the file, the operation on the \nUSB flash disc directory is consistent with that of the local directory on the program page, please refer to the \noperation of the local directory when the USB flash disc directory is used.  \n4.1  Searching, Creating, Executing and Opening the Program  \n4.1.1  Searching the Program  \n（1）Press \n function key and press \n software key to enter the program page set, \nwhich is shown as Fig. 4-1:  \n \n \nFig.4-1 \n（2）On the program page set, press \nsoftware key to enter the searching page.  \n（3）Input the program name to be searched in \n, such as inputting 0006, \n software key is pressed, and the cursor is directly skipped into #O0005 program. If the \ninput program CNC doesn’t exist, the reminder is popped up on the left bottom corner of the screen: \n. \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n218\nII Operation \n4.1.2  Creating the Program  \nWhen the operation authority level is equal to or higher than level [4], the program can be created \nand edited.   \n（1）Press \n function key and press \n software key to enter the program page set, \nwhich is shown as the Fig. 4-1:  \n（2）On the program page set, press \n software key to enter the creating page.  \n（3）Input the new program name in \n, such as inputting 0123, press \n software key to enter # O0123 program editing page, which is shown as Fig. 4-2:  \n \n \nFig.4-2 \n4.1.3  Executing the Program  \n（1）In Edit mode, press \n function key to enter the program page set.  \n（2）On the program page set, press \n, \n, \n,\n keys to move the cursor for \nselecting the program name, or press \n software key to search for the program name to run. \nThe background of the selected program line is green, which is shown as Fig. 4-3:  \n \n\n\nChapter 4  Editing and Managing the Program \n \n219\nII Operation \n \nFig.4-3 \n（3）In the resetting status, press \n software key, the selected program is loaded into \nthe block area in the position page set and it can be executed, and the display page is skipped into the \nposition display page, and the system switches into Auto mode, and the program can run by pressing \nstart key.  \n4.1.4  Opening the Program  \n（1） Press \n function key and press \n software key to enter the program page \nset, which is shown as the above Fig. 4-3:  \n（2）On the program page set, press \n, \n, \n,\n to move the cursor to select the \nprogram to be opened; or press \n software key to search, input the program name to be \nopened, and press \n software key to be searched, and move the cursor to position the \nprogram name; the background of the selected program name is changed into green, which is shown as \nFig. 4-3 O0011;   \n（3）Press \n software key and the program code of the selected program can be \nopened in the screen, which is shown as Fig. 4-4.  \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n220\nII Operation \n \nFig.4-4 \nThen, the current program can be edit or rewritten, while the current executed program can only be \nedited in Edit mode.  \nNote: When the parameter 3404.6 is 0, the program must be with the end codes M02, M30 and M99, etc; \notherwise, when \n software key is pressed during checking the program, the reminder will \nbe popped up; and the alarm occurs when the program is running.  \n4.2  Renaming, Saving as, Outputting, Deleting and Arranging the Program  \nOn the program page set, press \n software key to switch into the page for renaming, saving as, \ndeleting, outputting and arranging the program, which is shown as Fig. 4-5: \n \nFig.4-5 \n4.2.1  Renaming the Program  \nOn the program page set, press \n,\n to move the cursor for selecting the program and \npress \n software key to rename the selected program. Input the new program name on the \npop-up dialogue box \n and press \n software key to rename the selected \nprogram and to return. Press \n software key to cancel renaming and the system returns to \n\n\nChapter 4  Editing and Managing the Program \n \n221\nII Operation \nthe previous menu.  \nNote 1: No renaming the loaded or running file.  \nNote 2: Only when the operation authority level is equal to or higher than level [3], the program can be renamed.  \n4.2.2  Saving as  \nOn the program page set, press \n,\n keys to move the cursor for selecting the program, \npress \n software key to save the selected program as the other name. Input a new program \nname in pop-up dialogue box \n and press \n software key to save the \nprogram as the other name. For example, input 2222, press \n software key to save #00010 \nprogram as #O2222 one, and the cursor is jumped into the new program name, which is shown as Fig. \n4-6:  \n \nFig.4-6 \nNote: Only when the operation authority level is equal to or higher than level [3], the program can be saved as the \nother name.  \n4.2.3  Deleting the Program  \n（1） On the program page set, press \n, \n, \n, \n key to move the cursor for \nselecting the program to be deleted, and the background of the selected program is changed into green. \n（2）Press \n software key to delete the selected program.  \n4.2.4  Outputting the Program  \nThe system USB port is with the USB flash disc, which is shown as Fig.  \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n222\nII Operation \n       \n \nFig.4-7 \nThe programs of the USB flash disc directory can be copied into the local one by pressing \n software key, vise versa. The files in the USB flash disc are copied into the system, the \ndetailed steps are as below: \n（1）Press \n software key to enter the USB flash disc file directory;  \n（2）Press \n,\n cursor key to select the programs to be copied, and press \n and \n, the selected programs in the USB flash disc are copied into the local directory;  \n（3）Similarly, the programs of the local directory are copied into the USB flash disc, \n \nsoftware key is directly pressed to enter the system program file directory.  \n（4） The program to be copied is selected by pressing \n, \n cursor keys, and the \nsoftware key \n is pressed, the selected program in the local directory is copied into the \ndirectory of the USB flash disc;  \n（5 ）When \nthe \ncopied \nprogram \nhas \nbeen \nexisted, \nthe \npop-up \ndialogue \nbox \n will remind: The program has been existed, \nwhether cover it? \n（6）Press“Yes” software key to cover the existed program, press “No” to remind the program is \nsaved as the other name, press “cancel” to cancel the operation. \nNote 1: Only the operation authority level is equal to or higher than level [3], the program can be copied and pasted.  \nNote 2: If the output file is too big, the copying time is too long and the progress bar will be displayed; the page can be \nswitched and other operation on the pages can be executed during coping.  \n\n\nChapter 4  Editing and Managing the Program \n \n223\nII Operation \n4.2.5  Arranging the Programs  \nOn the program page set, firstly press \n software key, \n, \n and \n software keys occur, and the programs are displayed in the required sequence.  \n, \n, \n software keys are repeatedly pressed, the program \narrangement sequence will be switched between ascending and descending order of each arranging \nsequence.  \n4.3  Editing and Rewriting the Program  \n4.3.1  Editing the Program  \nBased on the steps introduced in the Chapter 4.1.2, a new program is created, which is shown as \nFig. 4-8:  \n \nFig.4-8 \nThe program can be edited based on the commanded code mentioned in GSK988MA Programming \nUser Manual.  \n \n Introduction of the software keys on edit interface   \n \n: After the program editing is completed, the program can be executed after \npressing the key, and the page is skipped into the position page set and the just loaded program is \ndisplayed in the program column of the position page set. Press \n key to switch into Auto \nmode and press \n key to execute the loaded program.  \n: Save the currently editing program.  \n: The operation of one step before editing the program can be canceled by pressing \nthe key (the operation of the maximum latest 10 steps can be cancelled.). \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n224\nII Operation \n: The just cancelled program can be restored by pressing the key.  \n: The specified program line can be exactly and rapidly positioned by pressing the \nkey.  \n: The block on which the cursor is can be copied.  \n: The just copied block can be pasted on the position on which the cursor is by \npressing the key.  \n: The block on which the cursor is can be deleted by pressing the key.  \nOn the current page, press\n, the three software keys \n,\n,\n \noccur.  \n: The character string can be rapidly found by pressing the key and the cursor is \npositioned behind the character string which has been searched. During searching, the three \nsearching modes of \n, \n and \n can be selected.  \n: After the program is edited, press \n software key to check whether the \nprogram has the syntax error; if it has, the reminder will occur below the screen, and the program \nshould be checked and rewritten based on the reminder. \n: The system is with the calculator. If calculation is required during programming, \n software key is pressed, the calculator will be popped up, which is shown as the \nfollowing Fig. 4-9:  \n \nFig.4-9 \nOperation of the calculator: The function keys on the calculator are corresponding to the \nbuttons on the edit keypad; press the corresponding buttons on the edit keypad to operate the \n\n\nChapter 4  Editing and Managing the Program \n \n225\nII Operation \ncalculator.  \n: It’s equivalent to “=”of the calculator.  \n: Clear the data of the calculator.  \n: Send the current value of the calculator into the position on which the cursor is \non the program page.  \n: Exit the calculator.  \nNote 1: Press \n for line feed, and “；”is displayed at the line end of the text, which is the line break. Press \n[EOB] character key and add “；”in the file, and the content from “；”to the end of the line is the note.    \n \nNote 2: When the parameter 3404.6 is 0, the program must be with the end code, like M02, M30 or M99, etc; \nOtherwise, the system reminds the error during checking the program after pressing \n \nsoftware key, and the alarm occurs when the program is started.  \n \nNote 3: The big file exceeding 10,000 lines can’t be edited.  \n \nNote 4: The program can not only be saved in Manual mode, but also it can be automatically saved during \nediting. During editing, the program will be automatically saved in each 30 seconds.  \n \nNote 5: During the syntax checking, whether there exists the syntax error in the currently editing program are \nchecked by the parameter of the current program. If the other channel is required the syntax error check \nby the parameter, the other channel should be switched firstly and then the syntax check is executed.  \n4.3.2  Rewriting the Program  \n（1）The program is opened based on the chapter 4.1.4;  \n（2 ）The cursor is moved toward the program line to be rewritten by pressing \n, \n,\n,\n keys; the cursor is moved toward the character to be rewritten by pressing \n,\n keys; the block or the character to be rewritten can be rapidly found by pressing \n and \n; \n（3）The program code is rewritten based on the address and the numerical keys on the edit keypad;  \n（4）One character before the position, on which the cursor is, is deleted by pressing \n key;  \n（5）One character after the position, on which the cursor is, is deleted by pressing \n key;  \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n226\nII Operation \n（6）Press \n software key to save the currently rewritten program.  \n4.3.3  Shortcut Keys  \nDuring the program editing, the system provides some shortcut keys to edit and rewrite the \nprogram.  \n \nAdjusting the cursor  \nPress \n and \n meanwhile to move the cursor to the file ahead;  \nPress \n and \n meanwhile to move the cursor to the file end;  \nPress \n and \n meanwhile to move the cursor to the line ahead;  \nPress \n and \n meanwhile to move the cursor to the line end;  \n \nSelecting the arbitrary block  \nPress \n+\n,\n,\n, \n to move the cursor to the command to be copied, and \nthen, the program in the middle is selected and displayed in the reverse color;  \n \nDeleting the block  \nAfter selecting the arbitrary program, press \n to delete;  \n \nCopying the arbitrary block  \nPress \n and \n meanwhile to select the block to be copied;  \n \nCutting the arbitrary block  \nPress \n and \n meanwhile to select the block to be cut;  \n \nPasting the arbitrary block \nPress \n and \n meanwhile to paste the copied or cut block. \n \n4.4  The Block Note  \nWhen the block should be explained, press “EOB” and add “；”after the block to be explained, the \ncontent after “；” is the note.  \nExample:  \nO0001； \nG50 X0 Z0； The coordinate zero is set;  \nG00 X100 Z100；Rapidly move to the position of X100，Z100;  \nM30； \nIn the above program, the note is added in the 2nd and the 3rd blocks. The content after the 1st \nsemicolon is the note, and the 2nd semicolon is the block end code and the 2nd semicolon is \n\n\nChapter 4  Editing and Managing the Program \n \n227\nII Operation \nautomatically added by the system after pressing \n for line feed when one block editing is \ncompleted.  \nNote: Because the system doesn’t support the input in Chinese; if the Chinese note should be input, it should be edit \non the computer.   \n \n4.5  Generating the Block Number  \nIn the program, the block number can be input or not, the program is executed based on the \ninputting sequence (except for calling).  \nOn the setting page set, CNC sets the page, when “automatic sequence number” switch is OFF, \nCNC doesn’t automatically generate the block number, while the block number can be input manually \nduring programming.  \nOn the setting page set, when “automatic sequence number” switch is ON, CNC automatically \ngenerates the block number, and the block number of the next block is automatically generated by \npressing \n key for line feed, and the incremental value of the block number is set by CNC data \nparameter #3216. \n4.6  Program Backstage Editing  \nWhen Auto or DNC mode is being operated, the key \n is pressed to enter the program page, \nand the program to be edited can be opened or created, the operation method is same as that \nintroduced previously.  \nNote 1: The currently running program can’t be edit;  \nNote 2: \n key can’t be pressed when Auto or DNC mode is being operated and the program is being edited at \nthe backstage; otherwise, the running program will stop due to resetting.  \n4.7  Macro Protection  \nWhen the parameter 3202 #0 NE8 is set as 1, the programs of #8000~8999 are protected. When \nthe parameter 3200#4 NE9 is set as 1, the programs of #9000 ~ 9000+ (the numerical value of the \nparameter N0.3212) are protected. The protected program can’t be edited, rewritten, input, output, \nsaved as and renamed.  \nWhen the parameter 3200 #6 PSR is set as 1, the protected program content is hidden and not \ndisplayed. The protected program can’t be directly executed and opened, and the program can only be \nexecuted by the subprogram or the macro calling and the loaded program doesn’t get affected.  \nNote 1: The macro protection can be set with level 3 or the above.  \nNote 2: The macro protection function can be switched ON/OFF by inputting the macro password in the setting page.  \n \n \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n228\nII Operation \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\nChapter 5  Manual Operation \n \n229\nII Operation \nChapter 5  Manual Operation \n5.1  Manual Reference Position Return \nA CNC machine tool is provided with a fixed position for setting the position of the machine \nworktable. And the fixed position is called as the reference position. Normally, tool change or setting the \ncoordinate system is performed at this position. After power on, the tool is moved into the reference \nposition. Manual reference position return is to move the tool into the reference position by the switches \nand the buttons on the operation panel. \nThe three methods of setting GSK988MA reference position: zero return with the block, zero return \nwithout the block and zero return of the absolute encoder.  \n \nSetting the reference position with the block  \nWhen the parameter DLZx (the 1st bit of #1005) is 0, setting the reference position without the block \nis invalid (Setting the reference position with the block is valid), and the machine tool can return the \nreference position only after installing the deceleration switch.   \nDetailed process: The tool is moved in the direction specified by the parameter ZMI (the 5th bit of \n#1006), the tool is moved to the deceleration point at the rapid traverse rate and returned to the \nreference position at FL speed. The reference position return finish lamp (LED) \n \nis ON, and the reference position return ends and the coordinate system is automatically set.   \n \nNote: Each axis rapid traverse rate, the rapid movement override F0 speed and FL speed of reference position return \nis respectively set by the parameters (#1420, #1421 and #1425). \n \n \nSetting the reference position without the block \nWhen the parameter DLZx (the 1st bit of #1005) is 1, setting the reference position without the \nblock is valid. The machine tool can return the reference position without installing the deceleration \nswitch. \nDetailed process: After the machine tool is powered on each time, the reference position return is \nexecuted, the tool is moved in the direction specified by the parameter ZMI (the 5th bit of #1006). After \nthe system detects the 1st PC signal of the motor, the reference position return finish lamp (LED) \n is ON, and the reference position return ends and the coordinate system is \nautomatically set.   \n \nNote: Because setting the reference position without the block is to detect the 1st PC signal of the current position \nand it is taken as the reference position, so the set reference positions after power on may be different, the \ntool offset must be reset with the method.  \n \n \nSetting the reference position of the absolute encoder  \nWhen the machine tool is configurated with the absolute position encoder and the absolute \nposition encoder reference position function is valid, the reference position return of the absolute \nposition encoder should be executed when the system hasn’t set the reference position. After the tool is \nreturned to the reference position, the reference position return finish lamp (LED) is ON, and the \ncoordinate system is automatically set.   \nSteps of reference position return:  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n230\nII Operation \n（1）Press the reference position return switch \n, and it is one of the mode selection switch;  \n（2）Press one of the rapid movement override switches \n for deceleration;   \n（3）After pressing the feeding axis corresponding the reference position return and the direction \nselection switch \n, the reference position return is started. The tool is moved to the \ndeceleration point at the rapid traverse rate (The absolute position encoder zero return doesn’t have the \ndeceleration point and it can be directly returned to the reference position), and the tool is returned to the \nreference position at FL speed set by the parameter. After the tool is returned to the reference position, \nthe reference position return finish lamp (LED) \n is ON; \n（4）The same operation is executed for other axes.  \nNote 1: The manual reference position return can only be returned to the 1st reference position, the coordinate \nsystem is automatically set after the manual reference position return ends.   \nNote 2: Once the reference position return is completed, “the reference position return finish” indicator lamp is ON, \nthe machine tool doesn’t move unit the reference position return switch is OFF.  \nNote 3: When “leaving off the reference position” is executed, the reference position return finish indicator lamp is \nOFF.  \nNote 4: The direction of each axis reference position return is set by the 5th bit of the parameter #1006.  \nNote 5: The 2nd bit of the parameter 1404: After setting the reference position, the reference position return is \nexecuted in Manual mode, the tool is moved to the reference position at the rapid feedrate or at the manual \nrapid feedrate.  \nNote 6: After setting the system reference position with the absolute encoder, the system automatically sets the \ncoordinate system after power on, again without setting the reference position. About the non-absolute \nencoder system, the system should execute the reference position return after power on, again.  \nThe above mentioned is one example, please refer to the user manual from the machine tool builder \nfor operation.   \n5.2  Manual Feeding  \n    In manual mode, press the feeding axis and the direction selection switches on the machine \noperation panel and the machine tool is moved along the selected direction of the selected axis.  \nEach axis manual continuous feedrate is set by the parameter (#1423), and each axis manual \ncontinuous feedrate is adjusted by the manual continuous feedrate override dial.  \n \nFeedrate override dial \n \nAfter the rapid movement switch \n is pressed, the machine tool is moved at the rapid traverse \nrate (#1424 parameter) no matter where the position of the manual feedrate override dial is, and the \n\n\nChapter 5  Manual Operation \n \n231\nII Operation \nfunction is called as the manual rapid movement. Many axes can be moved meanwhile in Manual mode.  \nManual feeding steps:  \n（1）Press the manual continuous switch \n, and it is one of the mode selection switches;  \n（2）Press the feeding axis and the direction selection switch \n, the machine \ntool is moved along the corresponding direction of the corresponding axis. After the switch is pressed, \nthe machine tool is moved at the feedrate set by the parameter (#1423); after the machine tool is \nreleased, the machine tool feeding stops;  \n（3）The manual continuous feedrate is adjusted by the manual continuous feedrate override dial;  \n（4）If the rapid traverse switch \n is pressed when the feeding axis and the direction selection \nswitches are pressed, the machine tool is moved at the rapid traverse rate when the rapid traverse \nswitch is pressed, and the rapid movement override \n is valid during rapid traverse;  \nThe above mentioned is one example, please refer to the user manual from the machine tool builder \nfor operation.   \n \nNote 1: Acceleration/deceleration:  \nThe manual rapid traverse rate, the time constant of acceleration/deceleration and the acceleration/ deceleration \nmode can be set by the parameters 1610 and 1624.  \n \nNote 2: Changing the mode:  \nDuring manual feeding, the manual feeding is invalid when the mode is switched into the other mode. The manual \nfeeding mode is entered firstly, and then the feeding axis and the mode selection switches are pressed, and then, \nthe manual feeding is valid.   \n \nNote 3: Rapid movement before reference position return: \nIf the reference position return isn’t executed after power on, the button of “rapid traverse” is pressed, the rapid \nmovement can’t be executed while the manual continuous movement is maintained. The function is set by the \nparameter RPD (bit 0 of #1401).   \n \nNote 4: Whether the manual override is valid in Manual mode is set by bit 2 of parameter 1402, and the override is fixed as \n100% when the manual override is invalid.\n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n232\nII Operation \n5.3  Incremental Feeding  \nWhether the incremental feeding is valid or not in Manual mode or MPG feeding mode is set by the \nparameter JHD (0 bit of #7100),and the corresponding relation is shown as the following list: \n \nJHD=0  \nJHD=1  \nManual mode\nMPG mode \nManual \nmode \nMPG mode\nManual \nfeeding  \nO \n× \nO \n× \nMPG feeding \n× \nO \nO \nO \nIncremental \nfeeding  \n× \n× \n× \nO \nO: Valid  \n×: Invalid \nIn incremental mode, press the feeding axis and the direction selection switch \n \non the machine tool operation panel and the machine tool is moved one step in the selected axial \ndirection. The minimum distance moved by the machine tool is the minimum input increment. Each step \ncan be 1 time, 10 times or 100 times of the minimum input increment.  \n \nThe incremental feeding steps:  \n（1）Press \n to select MPG mode;  \n（2 ）The movement distance of each step is selected by the override switch \n; Moreover, the single step movement distance selected by the override switch \n can be rewritten by the parameters 7113 and 7114;  \n（3）After the feeding axis and the direction selection switch \n is pressed, the \nmachine tool is moved along the selected axial direction. The switch is pressed once, the machine tool is \nmoved one step and the feedrate is the manual rapid traverse rate.  \n（4）The rapid movement switch is invalid during pressing the feeding axis and the direction \nselection switches.  \nThe raid traverse override is valid during the rapid traverse.  \nNote: The least input unit (input) and the least command increment (output) is set by the 1st bit of the parameter \n#1004.The least input increment is the minimum unit of the program movement distance, and the least \ncommand increment is the minimum unit of the tool movement on the machine tool, and two increments are \nrepresented by mm or inch.   \n \n\n\nChapter 5  Manual Operation \n \n233\nII Operation \n5.4  MPG Feeding  \nPress \n key to enter MPG mode, the MPG outline is shown as Fig. 5-1:  \n \nFig.5-1 \nIn MPG mode, the machine tool can be continuously moved by MPG on the machine tool operation \npanel. The moving axis is selected by the switches\n \n. When MPG is rotated for \none scale, the minimum distance moved by the tool equals to the least input increment. When MPG is \nrotated for one scale, the tool movement distance can be scaled up for 10 times or for two magnifications \nset by the parameters (#7113 and #7114). \nSteps of MPG feeding:  \n（1）Press \n key to enter MPG mode;  \n（2）Press MPG feeding axis selection switch\n to select the axis to \nbe moved by the machine tool;  \n（3）Press MPG feedrate override switch \n to select the override of the \nmachine tool movement. When MPG is rotated for one scale, the minimum distance moved by the \nmachine tool equals to the product of the least input increment timing the current override. The override \nselected by the override switches \n can be rewritten by the parameters 7113 and 7114;    \n（4）After MPG is rotated, the machine tool is moved along the selected axis and MPG is rotated for \n360 degrees, and the machine tool movement distance equals to that of the current pulse equivalent \n*100.  \nThe MPG feeding direction is set by MPG rotation direction. Normally, MPG CW rotation is positive \nfeeding, CCW rotation is negative feeding.  \nThe above mentioned is one example, please refer to the user manual from the machine tool builder \nfor operation. \nNote 1: In manual mode (JHD), the validity of MPG;  \nWhether MPG is valid in Manual mode is set by the parameter JHD (bit 0 of #7100), MPG feeding and incremental \nfeeding all are valid when parameter JHD (bit 0 of #7100) is set as 1.  \nThe corresponding relation is shown as the following list:  \n \nJHD=0  \nJHD=1  \nManual mode \nMPG mode  \nManual mode \nMPG mode \nManual mode \nO \n× \nO \n× \nMPG mode \n× \nO \nO \nO \nIncremental \nfeeding  \n× \n× \n× \nO \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n234\nII Operation \nO: Valid  \n×: Invalid  \nNote 2: The manual pulse generator（MPG）commanded speed exceeds the rapid traverse rate (HPT):  \nThe specification of parameter HPT (the 4th bit of #7100):   \nSetting as 0: When the feedrate is limited in the rapid traverse rate, the pulse exceeding the rapid traverse rate is \ninvalid (The machine tool movement distance may be not consistent with the scale of MPG).  \nSetting as 1: The feedrate is limited in the rapid traverse rate, and the pulse exceeding the rapid traverse rate is \nvalid and accumulated in CNC.(Although the MPG is not rotated, the machine tool can’t stop immediately. After \nMPG stops, due to the effect of the pulse in CNC, the machine tool still moves.) The allowable value of the \nmemory is set by the parameter #7117, then, the exceeding pulse is also ignored.  \nNote 3: The axis movement direction and the rotary direction of MPG:  \nWhen the tool is moved along the axis, MPG direction is switched by the parameter HNGx (0 bit of #7102) and it is \ncorresponding to the rotation direction of MPG.  \nNote 4: Quantity of MPG:  \nMaximum two manual pulse generators can be connected, which is set by the parameter #7110. Two manual \npulse generators can operate one selected axis meanwhile. \n\n\nChapter 6  Auto Operation \n \n \n235\nII Operation \nChapter 6  Auto Operation \n6.1  Auto Operation  \nThe program is preset in the memory, when one program is selected and the cycle start button \n on the machine tool operation panel is pressed, and the program is started to run and the cycle \nstart indicator is ON. During cycle start and when the feed hold button \n on the machine tool \noperation panel is pressed during the cycle start period, and the automatic running pauses and stops. \nWhen the cycle start button is pressed, again, the automatic running is restored. When \n key is \npressed on MDI panel, automatic running ends and the system enters the resetting status.  \n6.1.1  Select the Program to Run \n（1）Press \n function key to enter the program page set.  \n（2）On the program page set, press \n, \n, \n and \n keys to move the cursor to \nselect the program name. Or press \n key to search the program name to run, the base color \nof the selected program is green, which is shown as Fig. 6-1: \n \nFig.6-1 \n（1） During resetting, press \n software key, and the selected program is loaded into \nthe block area in the position page set, and it can be executed currently, and the page is \nskipped into the position display page, which is shown as Fig. 6-2: \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n236\nII Operation \n \nFig. 6-2 \nNote: The file can be loaded during the resetting status.  \n6.1.2  Program Running  \n（1）Press \n key to select Auto mode;  \n（2）Press \n to start the program and the program is automatically started and the cycle start \nindicator is ON. When automatic running ends, the cycle start indicator is OFF. When the last block is \nspecified with M99 and after running ends, the program is repeatedly executed from the program ahead.    \n（3）To stop during running or cancel the memory running, there are several methods:  \n1）Memory running stops  \nPress the feed hold button \n on the machine tool operation panel. The feed hold indicator \nlamp is ON while the cycle start indicator lamp is OFF, and the machine tool responds as below:  \na. When the machine tool is being moved, the feeding decelerates and stops.  \nb. When pause (the tool stops) is executed, running stops.  \nc. When M, S or T function is executed, running stops after M, S or T function is completed.   \nWhen feed hold indicator is ON, press the cycle start button \n on the machine tool operation \npanel, the machine running is restarted.  \n2）The memory running end \nPress \n key on MDI panel, automatic running ends and the system enters the resetting status.  \nNote: The program running is started from the line on which the cursor is, so firstly check whether the cursor is on the \nblock to run before pressing \n key.  \n6.1.3  Running from the Arbitrary Block  \n（1）Press \n key to enter Auto mode, press \n software key to enter the program \ninterface and press \n or \n key to select the program content page; press \n or \n \n\n\nChapter 6  Auto Operation \n \n \n237\nII Operation \nto move the cursor to the block to run; On the program page set, press \n or \n to select the \nprogram to run, press \n software key to enter the program edit interface and then press \n or \n key to move the cursor to the block to start and then press \n software key \nto return the position display page.  \n \n（2）If the mode（G, M, T or F command）of the block on which the cursor is, is defaulted, and the \nmode on which the block is running isn’t consistent, the corresponding mode must be executed, and \nthen the following step can be executed;  \n（3）Press \n key to enter Auto mode and press \n to start the program and the program \nis started form the selected block.  \n6.1.4  Block Skip  \nWhen the symbol “/”is added at the block ahead, press \n switch to start the block skip mode, \nand the block skip indicator is ON, and press \n to run the program, the block is skipped while it’s \nnot operated, which is shown as the 4th line of the program:  \nO0001； \nG50 X0 Z0；Set the coordinate zero;  \nG01 X100 Z100；Rapidly move to the position of X100，Z100;  \n/G0 X0 Z0； \nM30； \nPress \n to run the program and the 4th line is skipped.  \n6.1.5  G31 Skip  \n G31 code is edit before the block; during the code is being executed, if the external skip signal \n(X3.5) is input, the code execution is interrupted and the system transfers to the next block. The function \nis for dynamically measuring the workpiece dimension (like the grinding machine), the tool setting for \nmeasuring, etc, which is shown as the 2nd line of the following program:  \n   O0002； \n   G31 Z200 F100；During executing the block, if the external skip signal(X3.5) is input, the block is \ninterrupted and the next block is executed.   \nG01 X100 Y300； \n     ……； \nM30； \n \nNote: About the details of G31 skip code, please refer to GSK988MAProgramming Manual.  \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n238\nII Operation \n6.1.6  Automatic Running Stop \nThere are several methods to stop the memory running: Command stopping or press the relative \nkeys on the machine tool operation panel to stop.  \n \n \nCommand stopping (M00, M01, M02, M30) \nAfter executing the block including M00, M01 (the machine tool panel optional stop button is valid) , \nautomatic running stops, the modal function and status are all saved. The program running is continued \nafter pressing \n key.      \nAfter reading M02 or M30 (command at the main program end), the program running ends and the \nsystem enters the resetting status.  \nFor the different machine tools, the operations are different. About the details, please refer to the \nuser manual from the machine tool manufacturer.  \n \n \nPressing the relative keys to stop  \n1. During automatic running, after pressing \n key, the machine tool is displayed in the following \nstatus:  \n（1）The machine tool feeding is decelerated and stopped;  \n（2）The modal function and the status are saved.  \n（3）After pressing \n key, the program is continued to run.  \n2. Pressing the reset key \n \n（1）All axes movements are decelerated and stopped;  \n（2）M and S function output is invalid (After pressing \n key, whether automatically switch off \nthe signals like the spindle CW/CCW, lubrication, cooling, etc is set by the parameter);  \n（3）After automatic running ends, the modal function remains.  \n3. Press the emergency stop button  \nDuring the machine tool running, press the emergency stop button in danger or in the emergency \nsituation, (the external emergency stop signal is valid), CNC enters the emergency stop process, the \nmachine tool movement stops immediately, all output (such as the spindle revolution, the coolant) is \nswitched off. After the emergency stop button is released, the emergency stop alarm is released, CNC \nenters the resetting status.  \n4. Switching the operation mode  \nDuring automatic running, the system switches into the reference position return, MPG/single step \nand the manual mode, the current block “dwells” immediately; during automatic running, when the \nsystem is switched into Edit or MDI mode, the currently running block stops after running is completed. \n \nNote 1: The emergency stop alarm is released after the trouble is shot;  \nNote 2: Before power on or off, press the emergency stop button to reduce the electric shock upon the equipment;  \nNote 3: After the emergency stop alarm is released, the reference position return is executed, again to guarantee the \ncorrectness of the coordinate position. \n \n\n\nChapter 6  Auto Operation \n \n \n239\nII Operation \n6.2  Manual Data Input (MDI) Running  \n6.2.1  Editing the Program in MDI mode  \n（1）On the program display page set, press \n key to enter MDI mode, and the page is shown \nas Fig. 6-3:  \n \nFig. 6-3 \n（2）On the program edit column below the block (MDI), input the block (maximum 10 lines) to run, \nthe method of editing the program to be executed is similar with the common one. The program set in \nMDI mode is valid for rewriting and deleting the word. About editing the program, refer to the 5th chapter.   \n（3）After inputting the block, the cursor is moved to the program ahead and the program is started \nto be executed (if the cursor is on some block, the system is executed from the block). After pressing  \n key, MDI command word is started to be executed from the line on which the cursor is. After the \nprogram running ends, M02 program end code is executed and the cursor doesn’t return the program \nahead; while M30 program end code is executed, the cursor is returned to the program ahead, after the \nprogram running ends, the system enters the stopping status.  \n（4）During running, press \n key, \n key and the emergency stop button to make MDI \ncommand word stop running.  \nNote 1: Deleting the program \na. In MDI mode, press \n software key to delete the block on which the cursor is and press \n software key to delete all blocks in MDI edit column.  \nb. When parameter MCL（NO.3203#7）is set as 1, the program is automatically cleared after pressing \n key.  \nc. When parameter MER（NO.3203#6）is set as 1, MDI program running is completed and deleted in MDI mode.  \nNote 2: When MDI running stops, after edit operation ends, \n is pressed for running, again, the running is \nstarted from the position on which the current cursor is.   \nNote 3: The program created in MDI mode can’t be stored.   \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n240\nII Operation \n6.2.2  Running from Arbitrary Block  \nOn position display page, in MDI mode, \n or \n key is pressed to move the cursor to the \nblock to be started running, and then \n is pressed to start the program, the program is executed \nfrom the block on which the cursor is.  \n \n6.2.3  Stopping MDI Operation  \n \nStopping MDI running is similar with stopping automatic running, please refer to the operation \nmethod in Chapter 6.1.4.  \n6.3  DNC Running  \nGSK988MA is with DNC function, and DNC communication software can be connected with CNC to \nrealize the running at high speed and with the big capacity.  \nAfter the machine tool panel key \n is pressed to enter DNC mode, and PC port is ready, and \nthe machine tool panel cycle start key is pressed to start the program DNC machining.  \nAbout the detailed operation method, refer to DNC communication software.  \n（1） The machining program is selected and opened with the communication software \nGSKComm, which is shown as Fig. 6-4:  \n   \n \nFig. 6-4 \n（1） Connect CNC system, which is shown as Fig.6-5. \n \n\n\nChapter 6  Auto Operation \n \n \n241\nII Operation \n \nFig.6-5 \n（1） Press \n key to select DNC operation mode, which is shown as Fig. 6-6. \n \nFig.6-6 \n（1） The key \n is pressed to start the program, the program is automatically started and \nthe cycle start indicator is ON. When the automatic running ends, the cycle start indicator is \nOFF, which is shown as Fig. 6-7:  \n \nFig.6-7 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n242\nII Operation \n（5）Stopping during running  \nPress the feed hold button \n on the machine tool operation panel. The feed hold indicator \nlamp is ON while the cycle start indicator lamp is OFF. The machine tool is operated as below:  \na. When the machine tool is being moved, the feeding is decelerated and stopped.  \nb. When the pause (stopping the tool) is being executed, running stops.  \nc. When M, S or T function is being executed, running stops after M, S or T function is completed.  \nWhen the feed hold indicator lamp is ON, the cycle start button \n on the machine tool \noperation panel is pressed and the machine tool running is restarted.  \n（6）Running stop  \nThe key \n on MDI panel is pressed or M30 command is executed by DNC program, running \nends and the system enters the resetting status, which is shown as Fig. 6-8:  \n \nFig. 6-8 \nNote: In DNC program, the program calling and the program skip commands can’t be executed.  \n6.4  Automatic Running Status Control  \n6.4.1  Machine Lock and the Miscellaneous Lock  \nWhen the tool isn’t moved, while the coordinate position changing is displayed, the machine lock \nfunction is used. After using the function, all axes are locked and all axes movements are stopped. \nExcept for that, M, S and T commands are locked by the miscellaneous function. And it is same as the \nmachine tool locked to check the program.  \n6.4.1.1  The Machine Lock  \nWhen the machining program is executed, while the machine remains still, only the tool position \nchange is displayed, the machine can be locked to check the program. When the machine is locked, all \naxes movements are stopped.  \nPress the machine locked switch \n on the operation panel. The machine isn’t moved while \neach axis position on the monitor is being changed. About the machine locked, please refer to the user \nmanual from the machine tool builder.  \nNote 1: During automatic running, the position relation between the workpiece coordinate system and the machine \n\n\nChapter 6  Auto Operation \n \n \n243\nII Operation \ncoordinate system may be different before and after the machine locked. Then, the command can be set by \nthe coordinate or the workpiece coordinate system can be confirmed with the manual reference position \nreturn.  \nNote 2: When the machine is locked, G28 or G30 command is sent, although the command is received, the tool can’t \nreturn the reference position and the reference position return indicator lamp is OFF.  \n6.4.1.2  M.S.T Lock  \nM, S or T command is locked by the miscellaneous function, and it is same as the machine locked to \ncheck the program.  \nPress the M.S.T function locked switch \n on the operation panel. M, S and T codes are invalid \nin the program and can’t be executed. About the miscellaneous function locked, please refer to the user \nmanual from the machine tool builder.  \nNote: \n1）When the machine is locked, M, S and T commands are still executed;  \n2）Even M.S,T functions are locked, M00, M01, M02, M30, M98 and M99 (the subprogram calling function) \ncommands are also be executed.  \n6.4.2  Dry Run  \nPress dry run switch \n on the operation panel, the machine tool is moved at the speed set by \nthe parameter excluding the feedrate specified in the program, and the function is used to check the \nmachine tool movement when the workpiece is removed from the worktable.  \nDry run steps:  \nBefore automatic running, press dry run switch on the machine operation panel, the machine tool is \nmoved at the feedrate set by the parameter and the feedrate can be changed by the rapid movement \nswitch. About the details of the dry run, please refer to the user manual from the machine tool builder.  \nBased on the rapid movement switch and the parameters, the dry run speed is changed as below: \nRapid traverse button  \nProgram command  \nRapid movement  \nFeeding  \nON \nRapid traverse rate  \nDry run speed *JVmax \nOFF \nRapid traverse rate or the dry run \nspeed *JV（①） \nDry run speed *JV \n \nJVmax: The maximum scale value of the feedrate override \nJV: The scale value of the feedrate override  \nNote 1: When the parameter RDR（NO.1401＃6）is “1”, the running speed is the product of the dry run speed *JV; it \nis “0”, the running speed is the rapid traverse rate.   \nNote 2: The maximum cutting feedrate is set by the parameter #1422;  \nNote 3: The rapid traverse rate is set by the parameter #1420; \nNote 4: The dry run speed is set by the parameter #1410.  \nNote 5: During automatic running, the dry run can’t be switched, while it can be switched during pause.  \nNote 6: During drilling and boring by G83 and G85, it can be switched into dry run mode after the single block stops or \npauses, while the actual cutting speed remains as the original one. After cutting is completed, the speed can \nbe switched. During executing the program, the dry run function can’t be real-time switched ON or OFF, and \nthe dry run function is switched only after the single block stops or pauses, it can be switched into dry run \nfunction. During drilling and cutting, even the system switches into the dry run mode, the speed remains as \nthe original feedrate (The dry run status is executed at the dry run speed before cutting; otherwise, it is at the \ncommanded speed after cutting), only after cutting is completed, the speed can be changed.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n244\nII Operation \nNote 7: During dry run of the thread machining, the dry run speed is fixed as the value set by the parameter #1410 \nand not affected by the feedrate override. \n6.4.3  Single Block Running  \nWhen the program is executed at the initial time, the single block running can be selected to avoid \nthe unexpected situation due to the programming mistake.  \nIn automatic mode, the method of turning on the single block switch is as below:  \nThe single block switch \n is pressed to start the single block mode, and the single block \nrunning indicator lamp is ON. In the single block mode, when the cycle start button \n is pressed, \nthe machine tool stops after one block of the program execution is completed; if the next block should be \noperated, the key \n should be pressed, again, and such operation is repeatedly executed until the \nprogram execution is completed. In the single block mode, the program can be checked by executing the \nprogram in one block by one block in single block mode.  \nSteps of single block running: \n（1）Press the single block switch on the machine tool operation panel and press the cycle start \nbutton \n to execute one block of the program. The machine tool stops after the current block \nexecution is completed;  \n（2）Press the cycle start button to execute the next block and the machine tool stops until the block \nexecution is completed.  \nNote 1: The reference position return and single block running: The single block of the intermediate position is valid if \nG28, G29 or G30 command is sent.  \nNote 2: The subprogram block and single block running: The single block stops in the block with M98P_; M99; or \nG65.  \nNote 3: About the canned cycle and the multi-level cycle execution in the single block mode, refer to the relative \ncontent of the code manual.  \n6.4.4  Feedrate Override  \nThe programmed feedrate can be reduced or increased by selecting the percentage (%) of the \noverride scale. The characteristic is to check the program. For example, when the feedrate is specified \nas 100mm/min in the program, the override scale is set as 50% and the machine tool is moved at the \nspeed of 50mm/min.  \nSteps of changing the feedrate override: Before automatic running or during running, the feedrate \noverride scale on the machine operation panel is set as the expected percentage value (%).  \n \nFeedrate override knob  \nThe override is in the specified range from 0 to 150%. For the special machine tool, the range is \nremarked in the manual from the machine tool builder.  \nOverride during the thread cutting: During thread cutting, the override is invalid and the feedrate \n\n\nChapter 6  Auto Operation \n \n \n245\nII Operation \nspecified by the program is maintained.  \n6.4.5  Rapid Movement Override  \nThe rapid movement speed has override of four levels (F0，25%，50% and 100%). Each axis rapid \ntraverse rate is set by the parameter #1420; F0 is set by the parameter #1421.  \nThe steps of changing the rapid traverse override: During the rapid traverse, select one override \nwith the rapid traverse override buttons\n.  \nThe rapid movements of the following types are all valid and the rapid traverse overrides all apply to \nthem:  \n(1) G00 rapid traverse  \n(2) Rapid traverse in the canned cycle  \n(3) Manual rapid traverse  \n(4) Rapid traverse of manual reference position return  \n(5) Rapid traverse in G28 and G30 \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n246\nII Operation \n \n \n\n\nChapter 7  Tool Offset and Tool Setting \n \n \n247\nII Operation \nChapter 7  Tool Offset and Tool Setting  \n7.1  Setting the Tool Offset Value and Wearing Value  \n7.1.1  Direct inputting Method  \n（1）On the setting page set, press \n software key to enter the tool offset administration \npage, which is shown as Fig. 7-1: \n \nFig.7-1 \n（2）On the page, press the page up key \n and page down key \n to select the page, \npress the up/down direction keys \n, \n to select the tool offset number to be rewritten and \npress the left/right direction keys \n, \n to select the axis tool offset data, the wearing data to be \nrewritten or T value in the assumed tool nose direction, which is like X axis offset of #001 tool offset in \nthe above figure; About the corresponding relation of the assumed tool nose, refer to The Programming \nManual.  \n（3）The tool offset data, the wearing data can be directly rewritten with the digit key and the \nbackspace key; or the selected tool offset value can be input by pressing \n key, which is like X axis \noffset of the tool offset of #001 in Fig. 7-2, and then the tool offset data,  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n248\nII Operation \n \nFig. 7-2 \n（4）Press \n key on the edit keypad to confirm inputting or rewriting is completed.  \n（5）Move the cursor to set the other tool offset value, the wearing value or the assumed tool nose \ndirection T value.  \n \nNote: The maximum setting value of the tool wearing compensation value can be rewritten by the parameter 5013.  \n7.1.2  Measuring Input Mode  \n（1）On the setting page set, press \n software key to enter the tool offset administration \npage;  \n（2）Press the page up key \n and page down key \n to select the page, press the \nup/down direction keys \n, \n to select the tool offset number to be rewritten and press the \nleft/right direction keys \n, \n to select the axis tool offset data and the wearing data to be \nrewritten. \n（3）Press \n software key to enter the measuring input page for measuring the tool \noffset value, which is shown as Fig. 7-3:  \n \nFig.7-3 \n\n\nChapter 7  Tool Offset and Tool Setting \n \n \n249\nII Operation \n（4）In \n, input “the coordinate axis number + coordinate value” to be measured, \npress \n software key or \n key for positioning measuring;  \n（5）Calculating the tool offset value:  \nIf the cursor is on the tool offset bar, the tool offset value is cleared into 0, the tool offset value = the \nrelative coordinate value – the input coordinate value;  \n7.1.3   Clearing the Tool Offset Value or the Wearing Value  \nOn the tool offset administration page, press the page up key \n or the page down key \n \nto select the page, press the up/down direction keys \n, \n to select the tool offset number to \nbe rewritten and press the left/right direction keys \n, \n to select the tool offset data, the \nwearing data or the tool number to be cleared; press \n software key to clear the current \nselected tool offset value or the wearing value corresponding to the axis or to clear the assumed tool \nnose direction number.  \n7.2  Automatic Tool Compensation  \nIf the machine tool is installed with the automatic tool setting device, CNC can send the command \nfor automatic measuring, and then CNC can automatically measure or determine the tool compensation \namount. Firstly, the command for measuring is sent and the tool is moved into the measured position. \nCNC automatically measures the difference between the coordinate value of the measuring point and that \nof the commanded (the expected) measuring position and the difference is taken as the compensation \namount of the tool. When the tool has been compensated, the tool is moved into the measured position \nafter compensated. The difference between the coordinate value of the measured point and that of the \ncommanded coordinate value is accumulated into the current set compensation amount.  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n250\nII Operation \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\nChapter 8  Graph Setting and Display \n \n251\nII Operation \nChapter 8  Graph Setting and Display   \n8.1  Setting the Graph Parameters  \nBefore setting the execution path, the relative information, like the path display or the graph \nsimulation, is set.  \nSetting the graph information is mainly for the graph display, like the offset amount of each \ncoordinate axis, the machining length, the diameter, the graph magnification and the graph simulation \nproportion. The detailed setting steps are as below:  \n（1）Press \n function key to enter the graph page set;  \n（2）On the graph page set, press \n software key to enter the graph parameter setting page, \nwhich is shown as Fig. 8-1:  \n \nFig.8-1 \n（3）Press \n, \n to switch between two channels;  \n（4）Press \n, \n key to select the setting item, like selecting the horizontal axis shown as \nthe above figure;  \n（5）Press \n key to make the selected item to be input;  \n（6）Press \n, \n key to select the setting item, and then press \n key to confirm the \nrewriting is completed.  \n（7）Repeatedly operate to set other parameters.  \nNote: 1. The path display and the graph simulation all are executed with the machine coordinate; if the path and the \ngraph are not displayed, the coordinate axis offset should be rewritten.  \n2. The horizontal axis must be the basic Z axis or the axis parallel to Z axis.  \n8.2  Path Graph Display and Operation  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n252\nII Operation \n    The tool path can be real-time checked with the graph path display.  \n（1）Press \n function key to enter the graph page set;  \n（2）On the graph page set, press \n software key to enter \n \nFig.8-2 \nIn the figure, the current displayed coordinate plane and the path graph magnification are displayed \nbelow the path display screen. On the graph top, the current system running mode and status are \ndisplayed, on the screen right side, the current absolute coordinate value, the relative coordinate value \nand the modal command are displayed.  \nThe path graph is operated as below:  \n（1）Press \n, \n software key to scale up/down the path graph and the \nprevious path graph is cleared; \n（2）When \n is pressed, the system automatically sets the current coordinate position \nas the center of the graph, and the previous path graph is cleared; \n（3）When \n software key is pressed, the system automatically switches the coordinate \nsystem and the previous path graph is cleared;   \n（4）Press \n software key to clear the screen path;  \n（5）Press \nsoftware key to restore the path graph into the original normal position, and \nthe previous path graph is cleared.  \n（6 ）Respectively press \n, \n, \n and \n keys to move the path graph \nupward/downward/leftward/rightward. \nNote 1: The name of each axis is set by the parameter #1020, and each axis is set as the different names with the \nletters, and then, on the path display page, the name of each coordinate plane and that of the path \ncoordinate can be switched correspondingly.   \n2. The system is only with the front and back tool posts without the left and right ones, so the horizontal axis can \nonly be set as Z axis of the basic one.  \n\n\nChapter 9  The Usage of the USB Flash Disc \n \n253\nII Operation \nChapter 9  The Usage of the USB Flash Disc  \n9.1  Sending the Program  \nFirstly, a new file folder is created under the root content of the USB flash disc, and the file folder is \nrenamed as NCPROG and the program to be sent is copied into the file folder, which is shown as Fig. \n9-1: \n \nFig.9-1 \nAfter the above operation, the USB flash disc is inserted into the USB interface of the system \ncommunication area, the symbol \n occurs at the right lower corner of the system screen, which \nmeans the USB flash disc has been connected; and then, press \n, and press \n \nsoftware key to enter the USB file content, which is shown as Fig. 9-2, and the program to be copied is \nselected by pressing \n, \n cursor keys and press \n software key, and the \nselected program in the USB flash content is copied into the local content.  \n \nFor example, O0002 program in the USB flash disc is copied into the local content, O0002 program \nin the USB flash disc content is selected by the cursor, and \n software key is pressed, and then \n is pressed, O0002 program is copied into the local content.  \n \nThe program of the local content is copied into the USB flash disc, and the user operates in the local \ncontent page based on the previous steps.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n254\nII Operation \n \nFig.9-2 \n9.2  Data Backup \nGSK system can backup the system file and the parameter into the USB flash disc for restoring \nlater.  \n \n9.2.1  System File Backup  \nThe data, like the system parameters, the tool offset, the screw pitch compensation, the tool lifetime \nand the macro variable, etc can backup with the USB flash disc, so the restoring can be operated to \navoid the misoperation when the data error occurs. The operation steps are as below:  \n1. Insert the USB flash disc to confirm the system has already read the USB flash disc;  \n2. Press \n function key to enter the system page and press \n software key to \nenter the file management display page, and the page is shown as Fig. 9.2:  \n \nFig. 9.2: \n3. On the page, there are 5 sub-files under the system file, they are respectively: MACRO.MCO \nmacro variable, PARAM.PAR parameter, TLIF.TLL tool lifetime, TOFF.CMP tool offset and WOFF.WMP \nscrew pitch compensation. The user should move the cursor upward/downward on the file to backup, \nand press \n key to select the file, and the cursor is on the file, and then, press \n key to select \nall files of the folder, which is shown as Fig. 9-3.  \n\n\nChapter 9  The Usage of the USB Flash Disc \n \n255\nII Operation \n4. After selecting the file, \n software key is pressed, “please select the output path” is \npopped up, and \n software key is pressed, the file is copied. After copying the file is \ncompleted, please pull out the USB flash disc.  \n5. When the backup should be restored, the user should insert the USB flash disc, press \n software key to switch the cursor into the USB flash disc directory, move the cursor to find \nthe file to restore the data and press \n key to select and then press \n to directly cover \nthe file under the local content. After restoring the file, please power on the system, again; otherwise, \nsome data may become invalid.  \n \nNote 1: For restoring the parameters, the parameter switch must be ON, and some parameters can’t be restored \nbecause the authority level is too low.  \n2. Restoring the screw pitch compensation must be with the authority level 2.  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n256\nII Operation \n \n\n\nChapter 10  GSK-Link Bus Function \n \n257\nII Operation \nChapter 10  GSK-Link Bus Function  \nGSK-Link bus provides the following functions:  \n \nRemote check and rewrite the servo parameters;  \n \nRemote monitor the servo status;  \n \nRemote check the servo alarms;  \n \nCheck and rewrite the I/O unit configuration, parameters and mapping;   \n10.1  Starting the Bus Function  \n10.1.1  Correct Connection  \nBased on the introduction of the machine debugging, connect CNC and the slave stations \n(including the servo, I/O unit), set the system parameters on CNC side based on the method \ndescribed in Chapter 10.1.2, and then CNC and the slave station are all powered on.  \nWhen the slave station is connected with the system at the 1st time, the system may be \ndetected abnormal on the communication loop, for example: The number of slave stations set by \nthe system parameters isn’t consistent with the actual one. CNC automatically jumps into the page \nof \n, the user should rewrite correspondingly on the \npage. Then, the existed alarms may include:  \nAlarm \nNO.  \nContent \nReason/Troubleshooting  \n5006 \nThe number of slave stations set by the \nsystem parameters isn’t consistent with \nthe actual one  \nThe reasons include:  \n1) \nThe number of the slave stations set by \nthe system parameter isn’t consistent \nwith the actual connected one.  \nThen, \ncheck \nthe \nsystem \nparameters \nNos.1950, 1970, 1990, 1995 or 1996, and the \nsetting of each equipment logic ID, rewrite \nand confirm, and please power on, again.  \n5007 \nNo logic address  \ncorresponding to the loop  \nThe reasons include:  \n1) \nThe slave station ID set by the system \nparameter hasn’t been detected.  \n2) \nThe logic ID of some slave station on the \ncommunication loop hasn’t been set by \nthe system parameter.  \nThen, \ncheck \nthe \nsystem \nparameters \nNos.1950, 1970, 1990, 1995 or 1996 and the \nsetting of each equipment logic ID, rewrite \nand confirm, and please power on, again. \n5198 \nThe Ethernet communication is setting, \nplease wait…… \nAfter troubleshooting, power on, again, and \nthe alarm won’t occur.  \n \nThen, CNC interface is displayed as below:  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n258\nII Operation \n \nFig.10-1 \nIn the above situation, please confirm the number of the system slave stations to be connected:  \n（1） The yellow icon \n means the logic ID number of some axis has been set on the system \nside, while two equipments with the same logic ID have been detected actually, which can’t \nbe differed.  \n（2） The red icon \n means the logic ID number of some axis has been set on the system side, \nwhile the equipment hasn’t been connected actually.  \n（3） The blue icon \n means the equipment has been detected, while the equipment hasn’t \nbeen set on the system side, so the equipment is unnecessary.  \nAbout the above three situations, the parameters on the system side should be rewritten \nmanually to set the logic ID of the axis correctly, or logic ID number in the servo should be rewritten, \nor some equipment should be removed actually. In a word, the parameter setting on CNC side \nshould be consistent with the number of the actual connected equipments and the logic ID number.   \nThe shortcut mode of rewriting the parameters on the system side is as below: \na) Move the cursor to the left window to select the parameter to be rewritten  \n \nb Input the required logic ID \n \nc) After confirming, rewriting the parameter is done.  \n \n \nThe steps of rewriting the servo internal logic ID number:  \na) Move the cursor to the row of【slave station number】and select the slave station to be \nrewritten:  \n \nb Input the required logic ID \nExample: the logic ID number for Z axis is rewritten to 3 \n \nc) After confirming, rewriting the parameter is done. \n \n \nAfter rewriting, the system is powered on, again; the servo should be powered on, again \nafter rewriting the internal logic ID of the servo.  \n\n\nChapter 10  GSK-Link Bus Function \n \n259\nII Operation \n10.1.2  Setting the System Parameters about the Communication \nBased on the system parameter rewriting method described previously, the system enters the page \nof \n, and the user operates based on the following steps:  \n（1） Set the switch of GSKLink communication function  \nPlease rewrite the system parameters:  \nParameter \nMeaning  \nParameter \ntype  \nAuthority \nValid \nmode   \nValue range \n1940BIT0\n（GCK） \nWhether check GSKLink \nconnection  \nBit type  \nThe \nmachine \ntool  \nPower on \n \n \n0 means not  \nto check  \n1 means to \ncheck  \n \n（2）Set logic ID number of GSKLink communication slave station  \nBased on the actual configuration of GSKLink (the servo, the spindle and I/O unit quantities, and \nthe logic ID number of each equipment), and the system parameters are respectively set in the \nfollowing list:  \nParameter \nMeaning  \nType \nAutho\nrity \nValid \nmode \nValue range \n1950 \n（GSID） \nFeeding servo logic \nID number \nWord \naxis \ntype \nThe \nmachi\nne \ntool  \nPower \non \n0 \nmeans \nthe \nservo \nisn’t \nconnected, 1~99 mean the \nlogic ID number used by the \nconnected servo  \n1970 \n（GSPID） \nSpindle servo logic \nID number  \nWord \nspindle \ntype \nThe \nmachi\nne \ntool \nPower \non \n0 \nmeans \nthe \nservo \nisn’t \nconnected, 1~99 mean the \nlogic ID number used by the \nconnected servo, \n-1~-4 \nis \nrespectively \nrepresented \nAO1~AO4 \nmapped into I/O unit 1, -5~-8 is \nrespectively \nrepresented \nAO1~AO4 mapped into I/O unit \n2, -9~-12 and -13~-16, and so \non.  \n1990 \n（IOMAX） \nNumber of IO slave \nstations for each \npath  \nWord \npath \ntype  \nThe \nmachi\nne \ntool \nPower \non \n0 \nmeans \nthe \npath \nisn’t \nconnected \nwith \nIO \nslave \nstation, 1~4 mean the path is \nconnected with 1~4 IO slave \nstations.   \n1995 \n（IOID1） \nLogic ID number of \nIO slave station 1  \nWord \ntype  \nThe \nmachi\nne \ntool \nPower \non \n0 \nmeans \nIO \nunit \nisn’t \nconnected, \n100~110 mean the logic ID \nnumber connected with IO unit. \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n260\nII Operation \nParameter \nMeaning  \nType \nAutho\nrity \nValid \nmode \nValue range \n1996 \n（IOID2） \nLogic ID number of \nIO slave station 2 \nWord \ntype \nThe \nmachi\nne \ntool \nPower \non \n0 \nmeans \nIO \nunit \nisn’t \nconnected, \n100~110 mean the logic ID \nnumber connected with IO unit. \n1997 \n（IOID3） \nLogic ID number of \nIO slave station 3 \nWord \ntype \nThe \nmachi\nne \ntool \nPower \non \n0 \nmeans \nIO \nunit \nisn’t \nconnected, \n100~110 mean the logic ID \nnumber connected with IO unit. \n1998 \n（IOID4） \nLogic ID number of \nIO slave station 4 \nWord \ntype \nThe \nmachi\nne \ntool \nPower \non \n0 \nmeans \nIO \nunit \nisn’t \nconnected, \n100~110 mean the logic ID \nnumber connected with IO unit. \n \nWhen the communication is malfunction, the parameters listed in the above table can be rewritten \nin the left display window on \n page.  \nAs long as the user sets the above parameters correctly, and each equipment connection is normal, \nGSKLink function can be used after CNC is powered on, again, and then the system enters the relative \npage normally.  \nNote:  \na) \nThe bus communication function won’t be started if the parameter 1940BIT0 is set as 0, or 1950, 1970 and \n1990-1998 are all set as 0.  \nb) \nIn parameter 1950, the logic ID number of each servo can’t be set same;  \nSimilarly, in parameter 1970, the logic ID number of each spindle can’t be set same; \nThe logic ID numbers of IO unit parameters 1995, 1996, 1997, 1998 must be set different; otherwise, the \ncorresponding alarm will occur after power on, again.  \nc) \nTo normally use the bus equipment, please correctly set the path number corresponding to each servo, spindle and \nIO slave station; about the details, please refer to the parameters 981, 982, 984, 985, 986 and 987.  \n10.2  Servo  \n10.2.1  Servo Parameters  \n \nOn \n page set,\n、\n 、 \n software keys are pressed in order to \nenter the servo parameter page.   \n \n\n\nChapter 10  GSK-Link Bus Function \n \n261\nII Operation \n \nFig.10-2 \nPlease confirm before executing the servo parameters:  \n1) \nThe parameter switch is ON;  \n2) \nThe operation authority is higher than or equal to the equipment management level (the user \nof level 3).   \n3) \nWhen the servo parameter configuration is done, and the alarm of servo parameter check not \nconsistent doesn’t occur (If the alarm occurs, please select the valid servo parameters, the \noperation can be normally executed.)  \n4) \n “*” code is displayed after the parameter sequence number, and the parameter must be \nrewritten in the drive in Manual mode.  \n5) \nAfter rewriting some servo parameters, the drive can become valid after power on, again. The \nsystem will issue #451 alarm after the parameters are rewritten. Please power on, again after \nsaving the servo parameters corresponding to the axes.   \n \n \nSelecting the valid servo parameters  \nThe function reminds the user that the servo parameters connected with the axis have already \nrewritten, after the system is powered on, again, and the user should confirm it, which is shown as \nthe following figure:  \n \n \nFig.10-3 \nThere are two methods for the user confirming: Select the parameters on the servo end to \nbecome valid, or select the servo parameters saved by the system to become valid;  \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n262\nII Operation \n \nMethod one: Select the parameters on the servo end to become valid. \nOn the page, press \n and \n software keys in order, and the dialogue box is \npopped up:  \n \nAfter pressing the software key\n, the parameters on the servo end become valid. \nAnd then, the system pops up the dialogue box:  \n \n \nAfter the software key \n is pressed, the valid parameters are written into the external \nmemory of the system local meanwhile, and after the key \n is pressed, the valid \nparameters are only valid at power on of this time.      \n \nMethod two: select the servo parameters saved by the system to become valid \nSimilar with the method one, firstly \n software key is pressed on the page, and then \n software key is pressed, the system pops up the dialogue box:  \n \n \nAfter \n software key is pressed, the parameters saved by the system become \nvalid immediately. And then, the system pops up the dialogue box:  \n \n\n\nChapter 10  GSK-Link Bus Function \n \n263\nII Operation \n \n \nAfter the software key \n is pressed, the valid parameters are written into the \nexternal memory of the servo meanwhile, and after the software key \n is pressed, the \nvalid parameters are only valid at power on of this time.   \nThe system alarms when the parameters are not consistent, and the interface is shown as \nbelow:  \n \nFig.10-4 \n \nSearch for the servo parameter  \nPress \n software key to open the dialogue box:  \n \n \nAfter the parameter number is input and \n is pressed, the focus point of the page \nis automatically skipped into the parameter line; searching operation is discontinued if \n is pressed.  \n \nRewrite single servo parameter  \nThe user presses \n key to open the input box and inputs the new parameter value, and \nthen presses \n key, the new value is written into the servo immediately.   \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n264\nII Operation \n \n \n \n \nSave the servo parameters  \nAfter rewriting the servo parameters, press \n software key on the page, the \nsystem pops up the reminder box:  \n \nAfter the software key \n is pressed, the current parameters are saved into the \nexternal memory of the system and that of the servo meanwhile, and saving is discontinued after \nthe software key \n is pressed.  \n \n \nRestoring and saving the parameters  \nAfter the software key \n is pressed, the system reads the parameters saved last \ntime from the external memory of the servo, and the parameters are initialized into the power-on \nones when the operation is executed at the first time.  \n \nBackup parameters  \nAfter the software key \n is pressed, the system saves the displayed servo \nparameters into the independent backup area in the external memory of the servo, so the user can \nrestore anytime.  \n \nRestoring the backup parameters  \nAfter the software key \n is pressed, the system loads the servo parameters of the \nbackup area, so the user can debug the previous backup parameters, again.  \n \nExport the servo parameters into the USB flash disc  \n    After pressing the software key\n, input the saved file name after exporting:  \n \nAfter confirming, the system exports the saved servo parameters of the current axis into \nSERVOPARAM content of the USB flash disc.  \n \nImport the servo parameter files in the USB flash disc into CNC and make them valid  \n\n\nChapter 10  GSK-Link Bus Function \n \n265\nII Operation \nAfter inserting the USB flash disc, if the servo parameter file is found in SERVOPARAM content of \nthe USB flash disc, and \n software key is displayed in the page software key area (It can \nbe found by pressing the page key \n in the software key area).    \nAfter the software key \n is pressed, all parameter files of SERVOPARAM content in \nthe USB flash disc is displayed in the page:  \n \nSelect the file name to be imported, after confirming, as long as the parameter file is correct and it’s \nalso suitable for the current servo (the servo type number and the parameter version number, etc), and \nthen the parameter file is imported into the system; otherwise, the corresponding remind will occur.  \n \nNote: The imported parameter file hasn’t been written into the servo immediately, therefore, one \nmore step should be executed, and the imported servo parameters become valid immediately. After the \nservo parameters are imported, the page software area displays \n software key immediately \n(It can be found by pressing the page key \n in the software key area.). After the software key is \npressed, the page is popped up as below:  \n \n \nConfirm to use \n, the current parameters are refreshed into the drive immediately, and \nthe user can select “Save” the parameter in the pop-up box of “saving the servo parameters” and confirm \nthe saving operation.  \n \n10.2.2  Servo Running Status/Adjustment  \nOn \n page set, press the software keys\n, \n and \n in order \nto enter the servo adjusting page.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n266\nII Operation \n \nFig.10-5 \nThe page is displayed the content of three parts:  \n（1）The servo property and status \nAxis name, such as\n;  \nThe \nlogic \nID \nnumber \nof \nthe \nservo \nconnected \nwith \nthe \naxis: \nsuch \nas: \n;    \nThe current running status of the servo, including fail to charge and enabled, etc, such \nas:\n;   \nThe operation modes include: the torque mode, the speed mode, the speed mode and other \nself-defined mode, such as:\n. \n（2）The servo real-time running data  \nThe following table is listed the display content in the servo real-time running data area in various \noperation modes:  \nMode \nContent  \nUnit  \nPosition  \nCommanded position  \n (pulse) \nfeedback position  \nPulse \nEncoder value  \nPulse \nPosition offset  \nPulse \nServo current  \nAmpere (A) \nServo temperature  \nCelsius degree (℃) \nThe motor temperature  \nNote: If the motor temperature sampling isn’t \nsupported, “--”is displayed.  \nCelsius degree (℃) \nDC bus voltage  \nVolt (V) \nSpeed  \nCommanded speed  \nRevolution/per minute \n(rpm) \nMotor speed  \nRevolution/per minute \n(rpm)  \nEncoder value  \nPulse \nServo current  \nAmpere (A) \nServo temperature  \nCelsius degree (℃) \n\n\nChapter 10  GSK-Link Bus Function \n \n267\nII Operation \nMode \nContent  \nUnit  \nMotor temperature  \nNote: If the motor temperature sampling isn’t \nsupported, “--”is displayed. \nCelsius degree (℃) \nDC bus voltage  \nVolt (V) \nTorque \nCommanded torque  \nNm \nFeedback torque  \nNm \nEncoder value  \nPulse \nServo current  \nAmpere (A) \nServo temperature  \nCelsius degree (℃) \nMotor temperature  \nNote: If the motor temperature sampling isn’t \nsupported, “--”is displayed. \nCelsius degree (℃) \nDC bus voltage \nVolt (V) \n \n（3）Parameters about debugging  \nThe user can directly rewrite the common debugging parameters, and the rewriting method is \nsame as that described in the chapter of the servo parameters.  \nThe parameters include:  \nPosition loop proportion gain, position loop feed forward gain, position loop feed forward filter \ncoefficient, speed loop proportion gain, speed loop integral gain, speed feedback filter wave coefficient \nand analog command filter coefficient.  \nAfter rewriting, please press the software key 【save parameters】to confirm on the servo \nparameter page.  \n10.2.3  Servo I/O Diagnosis  \nOn \n page set, press the software keys\n, \n, \n in order to \nenter the servo I/O page.  \n \nFig.10-6 \nThe page displays the real-time status of the servo hardware I/O and bus I/O.  \nThe servo hardware I/O displays the values of the input (IN) and output (OUT) signals at the \nservo and the motor ends, which is shown as the above figure.  \nThe bus I/O displays the values of the input (IN) and output (OUT) signals at the servo and \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n268\nII Operation \nCNC ends, which is shown as the following figure:  \n \nFig.10-7 \n10.2.4  Servo Alarm/Remind \nOn \n page set, press the software key \n to enter the alarm information page.  \n \n \nFig.10-8 \nAmong them, the alarm numbers involved GSKLink function are classified into:  \nClassification  \nAlarm number  \nBus or slave station \ninitial alarm  \n5000-5199 \nServo error  \n5200-5399 \nI/O unit error  \n5400-5499 \nServo internal alarm  \n10000-23999 \nPlease refer to The Alarm List or Help about the detailed alarm content.   \n \n10.2.5  Servo Type and Configuration  \n \n \nOn \n page set, press the software keys \n, \n in order to enter the \nservo configuration page. \n\n\nChapter 10  GSK-Link Bus Function \n \n269\nII Operation \n \nFig.10-9 \nThe page is listed the information, like the servo type, the sequence number, the software version, \nthe parameter version and the motor type, etc relative with each servo. The user can rewrite the motor \ntype and restore the default parameters of the selected motor.  \n \n \nRestoring the motor default parameters  \nPress \n software key to open the motor type selectable list:  \n \nFig.10-10 \nThe user presses\n, \n to select the new motor modal, and the dialogue box is \npopped up, and the user should input the dedicated password for changing the motor type:  \n. After the users inputs the password and presses \n \nsoftware key, the motor type parameters current selected by the servo are replaced and \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n270\nII Operation \nautomatically restored into all default parameters of the motor.  \n \nThe user can confirm and save the current servo parameters after replacing is done.  \n \nNote:  \nIf the alarm of the servo parameter check inconsistent occurs, the user should firstly select the valid parameters on \nthe servo parameter page, and then rewrite the motor type.  \ni. About the servo of GS series, the dedicated password of changing the motor type is 385.  \n \n10.3  I/O Unit \n10.3.1  Setting the Parameters of I/O Unit and the Mapping List  \n \nOn \n page set, press the software keys\n、\n、\n in order to \nenter I/O unit parameter page.  \n \n \nFig.10-11 \n \nOn the page, the user can configurate each address of I/O unit (including DI, DO and AO \naddresses at present) into PLC addresses (X and Y addresses) and the mapping output by the spindle \nanalog.  \nPlease confirm before operating I/O unit configuration:  \n1. \nThe parameter switch is ON;  \n2. \nThe system operation authority is the user of level two.   \n \nSelecting I/O contact to be configured  \nThe user can continuously press\n, \n, \n, \n to move the cursor into the contact \nof I/O unit to be set or direct position with the searching function, the method is:  \nLike searching for DI30, press the software key \n to enter the software key of the next \n\n\nChapter 10  GSK-Link Bus Function \n \n271\nII Operation \nlevel, and then press \n to pop up the input box:  \n \n \n \nThe user inputs DI address to be searched, the position is 30. And then the software key \n is pressed, the system automatically moves the cursor to the line of DI30. The \noperation of DO, AI and AO is similar with it  \n \nSetting DI contact  \n（1）Mapping of DI contact  \nDI is the switch input, and it is mapped into X address of PLC, the setting method is:  \nMove the cursor to the line to be rewritten, on which DI contacts are, and press \n, \n to \nmove toward the row of \n below the right side of\n. \nPress \n or the software key \n to pop up the setting box \nand input the correct PLC X address, and then press the software key \n to complete setting. And pres\n software key to cancel the setting operation. \n \nFig.10-12 \nNote:  \n \nAfter the user sets any contact, the continuous 8 contacts respectively in order, on which the cursor is, are \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n272\nII Operation \nautomatically mapped into BIT0-BIT7 of input X address.   \n（2）Cancel DI contact mapping  \nPress the software key\n, X addresses mapped by the previous contacts are cancelled.  \n \nFig.10-13 \n \nSetting DO contacts  \n（1）Mapping of DO contacts  \nDO is the switch output, and it is mapped into Y address of PLC, the setting method is:  \nMove the cursor to the line to be rewritten, on which DO contacts are, and press \n or \n to \nmove toward the row of \n below the right side of\n.  \nPress \n or the software key \n to pop up the setting box  \n \n \nAfter inputting the correct PCL Y address, press the software key \n to complete setting. \nPress \n software key to cancel the setting operation.  \n\n\nChapter 10  GSK-Link Bus Function \n \n273\nII Operation \n \nFig.10-14 \nNote:  \n \nAfter the user sets any contact, the continuous 8 contacts respectively in order, on which the cursor is, are \nautomatically mapped into BIT0-BIT7 of input Y address.   \n \n（2）Cancel DO contact mapping  \nPress the software key\n, Y addresses mapped by the previous contacts are cancelled. \n \nFig.10-15 \n（3）The broken ring default status of DO contacts \nThe line, on which DO contact is, to be rewritten is selected by the cursor, press \n or \n \nto move toward he row of \n below the right side of\n..  \n or the software key\n is pressed, the default status is switched among \n, \n and \n respectively:  \n means to maintain the previous output when the broken ring occurs.  \nAbout the relation between\n, \n and high resistance, low level, please check the \nspecification of the corresponding IO unit.  \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n274\nII Operation \n \nSetting AO contacts \n（1）Mapping of AO contacts  \nAO is the analog output and it is mapped into S address of the system, the setting method is:  \nMove the cursor to the line to be rewritten, on which AO contacts are, and press \n or \n to \nmove toward the row of \n below the right side of\n.  \nPress \n or the software key \n to pop up the option box  \n \n                          \n \nPress  \nor \n to select correct S address, press the software key \n to \ncomplete mapping. Press \n software key to stop the operation.  \n       \n \nFig.10-16 \nNote: Rewriting the mapping relation of AO contacts is equivalent to rewriting the value of the parameter \nNo.1970 on the system parameter page. About the meaning and the setting of the parameters, please \nrefer to the parameter manual.  \n \n10.3.2  I/O Unit Running Status Diagnosis  \nOn \n page set, press the software keys \n in order to enter the real-time status \nmonitor page of I/O unit contact.  \n \n\n\nChapter 10  GSK-Link Bus Function \n \n275\nII Operation \n \nFig.10-17 \nOn the page, if DI and DO contacts are mapped into PLC address and become valid, the title bar of \nthe line is marked with PLC addresses which are mapped currently by the continuous 8 DI/DO contacts, \nsuch as:   \n \nIf AO contact is mapped into the spindle analog output, same, the title bar of AO contact is marked \nwith the current valid spindle number (the format: the spindle number-the channel number): \n \nWhen the above switch or the analog is output, the corresponding data area is refreshed \nmeanwhile for diagnosis. \n10.3.3  I/O Unit Alarm/Remind \n \nFig.10-18 \nAmong them, the alarm numbers about GSKLink function can be classified into several groups:  \nClassification  \nAlarm number  \nBus or slave station \ninitial alarm  \n5000-5199 \nServo error  \n5200-5399 \nIO unit error  \n5400-5499 \nServo internal alarm  \n10000-23999 \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n276\nII Operation \nAbout the detailed alarm content, please refer to Alarm List or Help.  \n10.3.4  I/O Unit Type and Configuration  \n \nOn \n system page set, press the software keys\n、\n、\n in order \nto enter the servo configuration page. The page is listed the information, like the hardware ID, the \nversion, the number of DI/DO/AI/AO, DAC precision and ADC precision, etc of each I/O unit. \n \nFig.10-19 \n10.4  The Oscilloscope  \nThe oscilloscope is displayed the waveform of two channels （CH1 and CH2 ）based on \ntime-amplitude.  \n \nFig.10-20 \nBefore sampling, setting should be operated on the page【the oscilloscope setting】. On the page, \nthe axes, the monitor data, the unit and the sampling trigger mode corresponding to two channels（CH1 \nand CH2）are set.  \nThe page of【the oscilloscope setting】is previewed as below: \n \n\n\nChapter 10  GSK-Link Bus Function \n \n277\nII Operation \n \nFig.10-21 \n: Select the axis in the option box;  \n: Select the data in the option box; \nThe following data of the arbitrary axis (connected with GSKLink) can be set by the data \ncorresponding to each waveform:  \nThe commanded bit value, the feedback bit value;  \nThe commanded speed, the feedback motor speed;   \nThe commanded torque, the feedback torque;  \n: Set the unit of the data with the edit keypad;  \n: Not allowed to be set;  \n \nThe following table is listed the main function and the differences of the three types:  \n \nStarting conditions  \nEnd conditions  \nNote  \nTrigger type \nPress the software [Start] \nSetting value of the \nsampling time up,   \nPress the software key \n[Stop] \n \nTrigger type II\nPLC signal arrival set by \nthe \ntrigger \nconditions, \npress the software [Start] \nSetting value  of the \nsampling \ntime \nup, \nPress the software key \n[Stop] \n \nMemory type\nPress the software key \n[Start] \nPLC signal arrival set \nby \nthe \ntrigger \nconditions, #604 servo \nalarm, \n \npress \nthe \nsoftware key [Stop]. \nAfter sampling ends, the latest \nsampling data are written into the \nfile, and the maximum history three \nfiles  are recorded, the data are \nchecked by pressing the software \nkey [Checking the history data].  \n \n: Set the oscilloscope trigger mode; please refer to the above list;  \n: Set the sampling time item of 【Trigger type】or【Trigger type II】 \n: Set PLC signal item of 【Trigger type II】or【memory type】.  \nThe waveform of time-amplitude is displayed on【Waveform monitor】page.  \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n278\nII Operation \nWhen the monitor stops, move the nonius to check the detailed data of the history time:  \n \nFig.10-22 \nThe horizontal axis:  \nThe horizontal axis is represented the time axis t:  \nFrom the screen left->right, it is respectively represented the previous time->the latest time;   \nThe unit is displayed in the item\n, the unit is the data/grid and the so-called “grid” is one grid \n of the background grids;  \nThe horizontal axis is scaled by the software keys \n, and the unit of \n \nbar is correspondingly refreshed, for example, when the horizontal axis is scaled down for one time, and \nthe unit is refreshed as: \n.  \n \nThe vertical axis:  \nThe vertical axis is represented the amplitude of the data;  \nAt the initial stage, above the vertical center of the screen, it means the positive value (+); below the \nvertical center of the screen, it means the negative value (-);  \n \nFig.10-23 \nCH1 (the 1st channel), the unit of the monitor data is displayed in \n item and the unit is the \ndata/grid;  \n\n\nChapter 10  GSK-Link Bus Function \n \n279\nII Operation \nCH2 (the 2nd channel), the unit of the monitor data is displayed in \n item and the unit is the \ndata/grid;  \n The item \n means the latest value of the 1st channel sampling data (during \nrunning), or the history value of the history moment (during stopping) is selected.  \nSimilarly, the item \n means the latest value of the 2nd channel sampling \ndata (during running), or the history value of the history moment (during stopping) is selected. \n \nIn the special situation, after sampling stops, MDI key [Left] or [Right] is pressed to move the nonius \nto check the history data;  \n \nPress the software [Fine tuning/grid by grid] to switch the step of the nonius moved by the user, and \nthey are respectively corresponding to one pixel or one grid on the screen.  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n GSK988MA/MB Series Milling Center CNC System Programming & Operation User Manual \n \n \n280\nII Operation \n \n\n\nChapter 11  Parameter Introduction \n \n281\nII Operation \nChapter 11  Parameter Introduction  \nThis chapter mainly introduces the status parameters and the data parameters of CNC, and the \ndifferent function requirements can be realized by setting the different parameters. The data types of the \nparameters are mainly classified into 15 types:  \n Data type \n Range  \nBit type \n8 bits, in the binary system 0 or 1  \nBit axis type  \nBit spindle type  \nBit path type  \nMechanical group  \nBit mechanical \ngroup type  \nWord type  \n-99 999 999～+99 999 999 \nWord axis type  \n  Word spindle type \nWord path type  \nWord mechanical \ngroup type   \nReal number type \n（-99 999 999～99 999 999）/  Amplification coefficient \nReal number axis \ntype  \nReal number \nspindle type  \n Real number path \ntype  \nMechanical group  \nReal number \nmechanical type  \n \nFor the above parameters of the word type or the word axis type, the word spindle type, the word \npath type, the word mechanical group type, and the real number type or the real number axis type, the \nreal number spindle type, the real number path type and the real number mechanical group parameters, \nand the actual allowable data range is specified by CNC system.  \n \nThe parameters of the real-number type are saved in 32-bit integral type, and the actual parameter \nvalue should be obtained by dividing the amplification coefficient.  \n(1) Bit type",
    "file_path": "D:\\QAGenPipelinesX_lightrag\\working\\processed\\2015-12-18 English GSK988MA-GSK988MB系列加工中心数控系统 编程操作使用手册.txt",
    "create_time": 1767180688,
    "update_time": 1767180688,
    "_id": "2015-12-18 English GSK988MA-GSK988MB系列加工中心数控系统 编程操作使用手册"
  },
  "218T说明书2006.3.1": {
    "content": "GSK218T 车床数控系统 使用手册  \n \n目    录 \n \n1   概  述..................................................................................................................................................................1 \n1.1   简 介.............................................................................................................................................................1 \n1.2   型号意义.......................................................................................................................................................1 \n1.3   型 谱.............................................................................................................................................................1 \n2  编 程......................................................................................................................................................................2 \n2.1  编程基本知识.................................................................................................................................................2 \n2.1.1  坐标轴定义............................................................................................................................................2 \n2.1.2  工件坐标系和参考位置点（程序零点）............................................................................................3 \n2.1.3  机床坐标系和机床零点（机械零点）................................................................................................4 \n2.1.4  绝对坐标编程和相对坐标编程............................................................................................................4 \n2.1.5  直径方式和半径方式编程....................................................................................................................5 \n2.2  程序的构成.....................................................................................................................................................6 \n2.2.1  程序的一般结构....................................................................................................................................6 \n2.2.2  指令数值与小数点的关系....................................................................................................................8 \n2.2.3   模态、非模态及初态..........................................................................................................................9 \n2.3  控制轴...........................................................................................................................................................10 \n2.3.1  控制轴数..............................................................................................................................................10 \n2.3.2  设定单位..............................................................................................................................................10 \n2.3.3  最大行程..............................................................................................................................................10 \n2.4  主轴功能(S 功能)........................................................................................................................................10 \n2.4.1  主轴开关量控制..................................................................................................................................10 \n2.4.2  主轴模拟量控制.................................................................................................................................. 11 \n2.5  刀具功能（T 功能）.................................................................................................................................... 11 \n2.5.1  换刀过程..............................................................................................................................................12 \n2.5.2  换刀相关参数......................................................................................................................................12 \n2.6  刀具偏置.......................................................................................................................................................13 \n2.6.1 基本的刀具偏置....................................................................................................................................14 \n2.6.2 用于刀具偏置的T 代码........................................................................................................................14 \n2.6.3   偏置....................................................................................................................................................15 \n2.6.4   编程举例............................................................................................................................................16 \n2.6.5  单独的T 代码......................................................................................................................................16 \n2.6.6   定点对刀............................................................................................................................................17 \n2.6.7   试切对刀............................................................................................................................................17 \n2.6.8   回机床零点（机械零点）对刀........................................................................................................18 \n2.7   辅助功能(M 功能)......................................................................................................................................19 \n2.7.1  辅助功能（M 功能）...........................................................................................................................19 \n2.7.2  M 代码调用子程序.............................................................................................................................21 \n2.7.3   S 代码调用子程序.............................................................................................................................21 \n2.7.4   T 代码调用子程序.............................................................................................................................21 \n2.7.5  辅助功能参数......................................................................................................................................21 \n2.7.6   与辅助功能有关的报警....................................................................................................................21 \n2.7.7  子程序控制..........................................................................................................................................22 \n2.7.7.1  主程序和子程序..........................................................................................................................22 \n2.7.7.2  子程序调用M98...........................................................................................................................23 \n2.7.7.3   从子程序返回M99.....................................................................................................................23 \n2.8  准备功能（G 功能）....................................................................................................................................24 \n2.8.1  快速定位G00.......................................................................................................................................26 \n\n\n                                                        GSK218T 车床数控系统 使用手册  \n \n2.8.2  直线插补G01.......................................................................................................................................27 \n2.8.3  圆弧插补G02/G03...............................................................................................................................29 \n2.8.4  暂停指令G04.......................................................................................................................................31 \n2.8.5  返回机床零点（机械零点）G28........................................................................................................31 \n2.8.6  等螺距螺纹切削指令G32...................................................................................................................32 \n2.8.7  Z 轴攻丝循环G33................................................................................................................................35 \n2.8.8  变螺距螺纹切削指令G34...................................................................................................................36 \n2.8.9  工件坐标系设定G50...........................................................................................................................36 \n2.8.10  每分进给 (G98)................................................................................................................................37 \n2.8.11  每转进给 (G99)................................................................................................................................38 \n2.8.12  恒线速控制(G96， G97)..................................................................................................................38 \n2.8.13  单一型固定循环指令........................................................................................................................41 \n2.8.13.1  外（内）圆切削循环G90.........................................................................................................41 \n2.8.13.2  螺纹切削循环G92.....................................................................................................................43 \n2.8.13.3  端面切削循环G94.....................................................................................................................46 \n2.8.13.4  单一型固定循环指令的注意事项............................................................................................47 \n2.8.14   复合型固定循环指令......................................................................................................................48 \n2.8.14.1  外（内）圆粗车循环G71.........................................................................................................48 \n2.8.14.2  端面粗车循环G72.....................................................................................................................51 \n2.8.14.3  封闭切削循环G73.....................................................................................................................54 \n2.8.14.4  精加工循环G70.........................................................................................................................56 \n2.8.14.5  端面深孔加工循环G74.............................................................................................................56 \n2.8.14.6  外圆切槽循环G75.....................................................................................................................58 \n2.8.14.7  复合型螺纹切削循环G76.........................................................................................................60 \n2.8.14.8  复合型固定循环指令注意事项................................................................................................63 \n2.9   用户宏程序.................................................................................................................................................63 \n2.9.1  用户宏指令..........................................................................................................................................64 \n2.9.2  用户宏程序本体..................................................................................................................................64 \n2.9.3  运算命令和转移命令（G65）............................................................................................................66 \n2.9.4  关于用户宏程序本体的注意事项......................................................................................................70 \n2.9.5  用户宏程序实例..................................................................................................................................70 \n3   操  作................................................................................................................................................................72 \n3.1  操作面板说明...............................................................................................................................................72 \n3.1.1  LCD/MDI 面板.......................................................................................................................................72 \n3.1.2  显示页面键..........................................................................................................................................72 \n3.1.3  键盘的说明..........................................................................................................................................73 \n3.1.4  机床操作面板......................................................................................................................................74 \n3.2   手动操作.....................................................................................................................................................76 \n3.2.1  手动返回参考位置点..........................................................................................................................76 \n3.2.2  手动返回程序零点..............................................................................................................................77 \n3.2.3  手动连续进给......................................................................................................................................78 \n3.2.3  单步进给..............................................................................................................................................79 \n3.2.4  手轮进给（选择功能）......................................................................................................................79 \n3.2.5  手动辅助功能操作..............................................................................................................................80 \n3.3   自动运行.....................................................................................................................................................82 \n3.3.1  运转方式..............................................................................................................................................82 \n3.3.2  自动运转的启动..................................................................................................................................84 \n3.3.3  自动运转的执行..................................................................................................................................84 \n3.3.4  自动运转的停止..................................................................................................................................84 \n3.3.5  自动运转中冷却液控制......................................................................................................................85 \n3.3.6  主轴点动控制......................................................................................................................................85 \n\n\n                                                        GSK218T 车床数控系统 使用手册  \n \n3.4  试运转...........................................................................................................................................................85 \n3.4.1 全轴机床锁住........................................................................................................................................85 \n3.4.2  辅助功能锁住......................................................................................................................................86 \n3.4.3  进给速度倍率......................................................................................................................................86 \n3.4.4  快速进给倍率......................................................................................................................................86 \n3.4.5  空运转..................................................................................................................................................87 \n3.4.6  进给保持后或者停止后的再启动......................................................................................................87 \n3.4.7  单程序段..............................................................................................................................................87 \n3.5   安全操作.....................................................................................................................................................89 \n3.5.1  急停(EMERGENCY STOP)......................................................................................................................89 \n3.5.2  超程......................................................................................................................................................89 \n3.6  报警处理.......................................................................................................................................................89 \n3.7  程序存储、编辑...........................................................................................................................................89 \n3.7.1  程序存储、编辑操作前的准备..........................................................................................................89 \n3.7.2  程序的新建，复制，重命名..............................................................................................................90 \n3.7.3  把程序存入存储器中..........................................................................................................................90 \n3.7.4  程序号检索..........................................................................................................................................90 \n3.7.5  程序的删除..........................................................................................................................................91 \n3.7.6  删除全部程序......................................................................................................................................91 \n3.7.7  字的检索、插入、修改、删除..........................................................................................................92 \n3.7.8  存储程序的个数..................................................................................................................................95 \n3.7.9  存储容量..............................................................................................................................................95 \n3.8  数据的显示、设定.......................................................................................................................................96 \n3.8.1  补偿量..................................................................................................................................................96 \n3.8.2  用户口令输入和修改..........................................................................................................................97 \n3.8.3  用户宏变量的显示及设定..................................................................................................................99 \n3.8.4  参数......................................................................................................................................................99 \n3.8.5  诊断....................................................................................................................................................103 \n3.9   显示...........................................................................................................................................................104 \n3.9.1  状态显示............................................................................................................................................104 \n3.9.2  键入数据显示....................................................................................................................................104 \n3.9.3  程序号、顺序号的显示....................................................................................................................105 \n3.9.4  程序存储器使用量的显示................................................................................................................105 \n3.9.5  指令值的显示(程序键)....................................................................................................................106 \n3.9.6  现在位置的显示(位置键)................................................................................................................106 \n3.9.7  加工时间、零件数显示....................................................................................................................108 \n3.9.8  报警显示(报警键)............................................................................................................................108 \n3.9.9  液晶画面亮度调整............................................................................................................................108 \n3.10  图形功能...................................................................................................................................................109 \n4   连 接................................................................................................................................................................ 110 \n4.1  系统连接框图............................................................................................................................................. 110 \n4.1.1  接口位置布局.................................................................................................................................... 110 \n4.1.2  接口说明............................................................................................................................................ 110 \n4.1.3  连接框图............................................................................................................................................ 111 \n4.2  各部件的连接............................................................................................................................................. 111 \n4.2.1  电脑到驱动器的连接........................................................................................................................ 111 \n4.2.2  信号说明............................................................................................................................................ 112 \n4.3  系统到驱动器的连接................................................................................................................................. 113 \n4.4  主轴编码器的连接..................................................................................................................................... 114 \n4.5  RS232-C 标准串行接口（选件）............................................................................................................. 114 \n4.6  模拟主轴接口（选件）............................................................................................................................. 114 \n\n\n                                                        GSK218T 车床数控系统 使用手册  \n \n4.7  手轮接口..................................................................................................................................................... 115 \n4.8  电源接口的连接......................................................................................................................................... 115 \n4.9  机床输入/输出接口................................................................................................................................... 116 \n4.9.1  机床输入/输出接口连接表.............................................................................................................. 116 \n4.9.2  输入信号............................................................................................................................................ 117 \n4.9.3  信号说明............................................................................................................................................ 118 \n4.9.4  输出信号............................................................................................................................................122 \n4.9.5  主轴自动换档控制............................................................................................................................124 \n4.9.6  卡盘控制............................................................................................................................................124 \n4.9.7  尾座控制............................................................................................................................................125 \n4.9.8  输入输出信号诊断表........................................................................................................................126 \n4.9.9  功能描述............................................................................................................................................127 \n5   机 床 调 试....................................................................................................................................................128 \n5.1  接通电源前准备.........................................................................................................................................128 \n5.2  机床调试.....................................................................................................................................................128 \n5.2.1  急停开关............................................................................................................................................128 \n5.2.2  驱动轴调试........................................................................................................................................128 \n5.2.3  电动刀架调试....................................................................................................................................129 \n5.2.4  机床主轴调试....................................................................................................................................130 \n5.2.5  单步\\手轮调整..................................................................................................................................130 \n5.2.6  其它调整............................................................................................................................................130 \n附录1  参数一览表............................................................................................................................................131 \nⅠ  按顺序排列..............................................................................................................................................131 \nⅡ  按功能排序..............................................................................................................................................144 \n附录2   诊断表..................................................................................................................................................157 \n附录3   报警一览表..........................................................................................................................................161 \n附录4   规格一览表..........................................................................................................................................165 \n附录5   GSK218T 与GSK980TA 的主要区别.....................................................................................................167 \n附录6   记忆型螺距误差补偿功能..................................................................................................................172 \n附录7   串口通讯软件使用说明......................................................................................................................175 \n附录8   刀补C 机能操作说明（选配功能）..................................................................................................181 \n \n \n \n \n \n \n \n \n\n\nGSK218T 使用手册 \n \n \n1   概  述 \n1.1   简 介 \nGSK218T 车床数控系统（以下可简称为“系统”），是广州数控设备有限公司研制的经济与普及型数\n控系统。 \n作为经济与普及型数控系统的升级换代产品，GSK218T 系统具有以下性能特点： \n9 \n采用32 位CPU、CPLD 硬件插补技术，实现高速μm 级控制； \n9 \n采用四层线路板，集成度高，系统工艺结构合理，可靠性高； \n9 \n液晶（LCD）中文显示，界面友好、操作方便； \n9 \n加减速可调，可配套步进驱动器或伺服驱动器； \n9 \n可变电子齿轮比，应用方便。 \n \n \n1.2   型号意义 \nGSK 980T  E    \n \n \n \n \n类别代号 \n \n980T 系列车床数控系统 \n \n广州数控产品标志 \n \n1.3   型 谱 \n \n订 货 型 号 \n说      明 \nGSK218T \n420×260mm 铝合金立体操作面板 \n \n \n \n \n \n \n \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n2 \n2  编 程 \n2.1  编程基本知识 \n2.1.1  坐标轴定义 \n对数控机床的坐标轴命名和对运动方向进行规定，是非常重要的，数控机床的设计者、操作者和维\n修人员，都必须对其有一个正确统一的的理解。否则，将可能导致编程混乱、数据通讯出错、操作出事\n故、维修不能正常进行等等。 \n图2-1 为车床的轴线示意图。 \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n                                 图2-1 \n \n本系统采用X 轴，Z 轴组成的直角坐标系进行定位和插补运动。X 轴为水平面的前后方向，Z 轴为\n水平面的左右方向。向工件靠近的方向为负方向，离开工件的方向为正方向。 \n本系统支持前、后刀座功能，且规定（从车床正面看）刀架在工件的前面称为前刀座，刀架在工件\n的后面称为后刀座。图2-2 为前刀座的坐标系，图2-3 为后刀座的坐标系。从图2-2、图2-3 我们可以\n看出，前后刀座坐标系的X 方向正好相反，而Z 方向是相同的。在以后的图示和示例中，用前刀座来说\n明编程的应用，而后刀座车床数控系统可以类推。 \n \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n3\n \nZ\nX\n            \nZ\nX\n \n \n图2-2 前刀座的坐标系                   图2-3 后刀座的坐标系 \n2.1.2  工件坐标系和参考位置点（程序零点） \n工件坐标系（又称浮动坐标系）是编程人员在编程时使用的，编程人员选择工件上的某一已知点为\n参考位置点（也称程序零点）建立一个新的坐标系，称为工件坐标系。工件坐标系一旦建立便一直有效，\n直到被新的工件坐标系所取代。本系统使用的是G50指令代码定义的工件坐标系，如程序中无G50，则\n以当前绝对坐标值为参考点建立工件坐标系。工件坐标系的原点的选择要尽量满足编程简单、尺寸换算\n少、引起的加工误差小等条件。一般情况下，原点应选在尺寸标注的基准或定位基准上。对车床编程而\n言，工件坐标系原点一般选在工件轴线与卡盘的端面（图2-4）或工件的端面（图2-5）的交点上。 \n \n \nZ\nX\n \n \n \n \n图2-4 原点在卡盘的端面 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n4 \nZ\nX\n \n图2-5 原点在工件的端面 \n2.1.3  机床坐标系和机床零点（机械零点） \n机床坐标系是机床固有的坐标系，机床坐标系的原点称为机床零点（机械零点），通常安装在X轴\n和Z轴的正方向的最大行程处。在机床经过设计、制造和调整后，这个原点便被确定下来，它是固定的\n点。数控装置上电时并不知道机床零点，通常要进行自动或手动回机床零点，以建立机床坐标系。机床\n回到了机床零点，找到所有坐标轴的原点，CNC就建立起了机床坐标系。 \n注：若你的车床上没有安装机械原点，请不要使用本系统提供的有关机械原点的功能（如G28）。 \n \n2.1.4  绝对坐标编程和相对坐标编程 \n作为指令轴移动量的表示方法，有绝对值指令和相对值指令两种方法。绝对值指令是用轴移动的终\n点位置的坐标值进行编程的方法，称为绝对坐标编程。相对值指令是用轴移动量直接编程的方法，称为\n相对坐标编程。本系统中，绝对坐标编程采用地址X、Z，相对坐标编程采用地址U、W。 \n表 2-1 \n绝对值指令 相对值指令\n备     注 \nX \nU \nX 轴移动指令 \nZ \nW \nZ 轴移动指令 \n \n例：分别用绝对坐标、相对坐标、混合坐标编写图2-6 中A→B 程序。 \n \n \n \n \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n5\n \n图2-6  \n \n表2-2 \n编程方式 \n绝对坐标编程 \n相对坐标编程 \n混合坐标编程 \n程序 \nG1 X200 Z50 \nG1 U100 W-50 \nG1 X200 W-50 \n备注 \n假定当前坐标点在A 点，采用直线插补进行移动 \n \n注：当一个程序段中既出现X，又出现U 或既出现Z，又出现W 时，会产生＃132 报警：坐标值X 与U 或Z 与\nW 同时出现。 \n例如：G50 X10 Z20； \nG1 X20 W30 U20 Z30； \n2.1.5  直径方式和半径方式编程 \n数控车床的所加工工件的外形通常是旋转体，其中X 轴尺寸可以用两种方式加以指定：直径方式和\n半径方式。可由参数№.001 的Bit2 位设置。 \n当参数№.001 的Bit2 位为1 时，用半径指定编程。 \n当参数№.001的Bit2位为0时，用直径指定编程。 \n \n表2-3 直径、半径指定说明 \n项  目 \n直径指定时 \n半径指定时 \nZ 轴指令 \n与直径、半径指定无关 \nX 轴指令 \n直径值指定 \n半径值指定 \n地址U 的增量指令 \n直径值指定 \n半径值指定 \n坐标系设定（G50） \n直径值设定 \n半径值指定 \n刀具偏置量的X 轴的值 \n通过参数（№.002，ORC）指定直径值指定还是半径值指定\n圆弧插补的半径指令（R，I，K） \n半径值指定 \n半径值指定 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n6 \n项  目 \n直径指定时 \n半径指定时 \nX 轴方向的进给速度 \n半径变化(mm/min、mm/rev) \nX 轴的位置显示 \n显示直径值 \n显示半径值 \n注1：在本手册后面的说明中，如没有特别指定，均以直径指定予以描述。 \n注2：关于刀具偏置使用直径/半径的意义是指当刀具偏置量改变时，工件外径用直径值/半径值变化。 \n例如：直径指定时，若补偿量改变10mm，则切削工件外径的直径值改变10mm；用半径指定时，若补偿量改变\n10mm，则切削工件外径的直径值改变20mm。 \n \n2.2  程序的构成 \n程序是控制数控机床完成零件加工的指令系列的集合。通过程序使刀具沿着直线、圆弧运动，同时\n控制主轴启动与停止、冷却液开关等动作。 \n2.2.1  程序的一般结构 \n程序的一般结构如图2-7 所示。 \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n图2-7 程序的一般结构 \n \n指令字 \n指令字是构成程序段的要素。指令字是由地址和其后面的数字构成的（有时在数字前带有负号）。\n地址是英文字母（A～Z）中的一个字母。它规定了其后数值的意义。在本系统中，可以使用的地址和意\n义如表1-4所示。根据不同的指令，有时一个地址也有不同的意义。 \nO0001； \nN0010 G50 X1000 Z100； \nN0020 G0 X40 Z5； \nN0030 G01 X10 Z-30 F200； \nN0040 G01 U50 W20 F100； \n……； \n……； \n……； \nN0200 M30； \n% \n \n程\n序\n号\n \n程\n序\n段\n顺\n序\n号\n \n程\n \n序\n \n段\n \n结\n \n束\n \n符\n程\n序\n程\n序\n结\n束\n符\n指令字\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n7\n X \n1000 \n地址  数字 \n指令字 \n                  \n Z\n- 5 0 0\n地址  数字 \n指令字\n \n \n表2-4 指令字一览表 \n地 址 \n取 值 范 围 \n功 能 意 义 \nO \n0～9999 \n程序名 \nN \n0～9999 \n顺序号 \nG \n00～99 \n准备功能 \n-9999.999～9999.999（mm） \nX 向坐标地址 \nX \n0～9999.999（s） \n暂停时间指定 \nZ \n-9999.999～9999.999（mm） \nZ 向坐标地址 \n-9999.999～9999.999（mm） \nX 向增量 \n-9999.999～9999.999（mm） \nG71、G72、G73 指令中X 向精加工余量 \n0.001～9999.999（mm） \nG71 中切削深度 \nU \n-9999.999～9999.999（mm） \nG73 中X 向退刀距离 \n-9999.999～9999.999（mm） \nZ 向增量 \n0.001～9999.999（mm） \nG72 中切削深度 \n-9999.999～9999.999（mm） \nG71、G72、G73 指令中Z 向精加工余量 \nW \n-9999.999～9999.999（mm） \nG73 中Z 向退刀距离 \n-9999.999～9999.999（mm） \n圆弧半径 \n0.001～9999.999（mm） \nG71、G72 循环退刀量 \n1～9999999（次） \nG73 中粗车次数 \n0～9999.999（mm） \nG74、G75 中切削后的退刀量 \n0～9999.999（mm） \nG74、G75 中切削到终点时候的退刀量 \n0～9999.999（mm） \nG76 中精加工余量 \nR \n-9999.999～9999.999（mm） \nG90、G92、G94 中锥度 \n-9999.999～9999.999（mm） \n圆弧中心相对起点在X 轴矢量 \nI \n0.06～25400（牙/inch） \n英制螺纹牙数 \nK \n-9999.999～9999.999（mm） \n圆弧中心相对起点在Z 轴矢量 \n0～8000（mm/min） \n分进给速度 \n0.001～500(mm/rev) \n转进给速度 \nF \n0.001～500（mm） \n公制螺纹导程 \nS \n0～9999（r/min） \n主轴转速指定 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n8 \n地 址 \n取 值 范 围 \n功 能 意 义 \n00～04 \n多档主轴输出 \n10～99 \n子程序调用 \nT \n0100～0800 \n刀具功能、子程序调用 \nM \n00～99 \n辅助功能输出、程序执行流程、子程序调用\n0～9999999（0.001s） \n暂停时间 \n0～9999 \n调用子程序号 \n0～999 \n子程序调用次数 \n0.001～9999.999（mm） \nG74、G75 中X 向循环移动量 \n \nG76 中螺纹切削参数 \nP \n1～9999 \n程序段顺序号 \n1～9999 \n程序段顺序号 \n0～9999.999（mm） \nG74、G75 中Z 向循环移动量 \nQ \n1～9999.999（mm） \nG76 中第一次切入量 \nH \n01～99 \nG65 中运算符 \nL \n01～99 \nG92 中的螺纹头数 \n \n顺序号和程序段 \n程序是由多个指令构成的，把它的一个指令单位称为程序段。程序段之间字符“；”分开。 \n在程序段的开头可以用地址N和后面四位数构成的顺序号 \nN □□□□ \n顺序号（0000～9999，前面零可省略） \n地址N \n顺序号的顺序是由小到大的，其间隔可不等。程序段中可不带顺序号，也可以仅在重要的程序段带\n有，当然也可以全部程序段都带有。 \n程序名 \n本系统中，系统的存储器里可以存储250个用户程序。为了把这些程序相互区别开，在程序的开头，\n用地址O及后面四位数构成程序名。 \n○ □□□□ \n程序号（0000～9999，前导零可省略） \n地址O \n程序结束 \n程序从程序名开始，以“％”结束。 \n2.2.2  指令数值与小数点的关系 \n在本系统中，有些指令不能输入小数点，通过参数可设置编程时是否能加入小数点，表2-5 列出了\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n9\n指令数值与小数点的关系如下： \n \n表 2-5 \n地址 \n是否带小数点 \n№.011的Bit0=1 \n№.011的Bit0=0 \n备注 \n指令：G1 X20 \n定位点：20 \n指令：G1 X20 \n定位点：0.02 \n \nX \n是 \n指令：G4 X20 \n延时：20秒 \n指令：G4 X20 \n延时：0.02秒 \n \nZ \n是 \n指令：G1 Z20 \n定位点：20 \n指令：G1 Z20 \n定位点：0.02 \n \nU \n是 \n指令：G1 U20 \n增量值：20mm \n指令：G1 U20 \n增量值：0.02mm \n \nW \n是 \n指令：G1 W20 \n增量值：20mm \n指令：G1 W20 \n增量值：0.02mm \n \nR \n是 \n \n \nI \n是 \n \n \nK \n是 \n \n \n与地址X 相\n同 \nP \n否 \n指令：G4 P2 \n延时：0.002秒 \nS \n否 \n \n与小数点无\n关 \n \n2.2.3  模态、非模态及初态 \n模态是指相应字的功能和状态一经执行，以后一直有效直至其功能和状态被重新执行，也就是说，\n在以后的程序段中若使用相同的功能和状态，可以不必再输入该字段。 \n \n例如下列程序： \nG0 X100 Z100；（快速定位至X100 Z100处） \nX120 Z30；（快速定位至X120 Z30处，G0为模态指定，可省略不输） \nG1 X50 Z50 F300；（直线插补至X50 Z50处，进给速度300mm/min G0→G1，） \nX100；（直线插补至X100 Z50处，进给速度300mm/min，G1、Z50、F300均为模态指定，可\n省略不输） \nG0 X0 Z0；（快速定位至X0 Z0处） \n \n非模态是指相应字段的功能和状态一经执行仅一次有效，以后需使用相同的功能和状态必须再次执\n行，也就是说，在以后的程序段中若使用相同的功能和状态，必须再次输入该字段。 \n初态是指系统上电后默认的功能和状态，也就是说，上电后如未指定相应的功能状态系统即按初态\n的功能和状态执行。本系统的初态为G00、G40、G97、G98、M05、M09、M33。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n10 \n例如下列程序： \nO0001； \nX100 Z100；（快速定位至X100 Z100处，G0为系统初态） \nG1 X0 Z0 F100；（直线插补至X0 Z0处，每分进给，进给速度为100mm/min，G98为系统上电\n初态） \n \n2.3  控制轴 \n2.3.1  控制轴数 \n \n控制轴数 \n2轴（X，Z） \n同时控制轴数 \n2轴（X，Z） \n \n2.3.2  设定单位 \n \n输入/输出制 \n最小设定单位 \n最小移动单位 \nX：0.001  mm （直径指定） \nZ：0.001  mm \nX：0.0005  mm \nZ：0.001   mm \n公制输入公制输出 \nX：0.001  mm （半径指定） \nZ：0.001  mm \nX：0.001   mm  \nZ：0.001   mm \n半径指定时，选择参数为X轴半径编程。 \n设定单位请参照机床制造厂家的说明书。 \n2.3.3  最大行程 \n最大行程 = 最小设定单位×9999999 \n2.4  主轴功能(S 功能) \n通过地址S和其后面的数值，把代码信号送给机床，用于机床的主轴控制。在一个程序段中可以指\n令一个S代码。 \n关于可以指令S代码的位数以及如何使用S代码等，请参照机床制造厂家的说明书。 \n当移动指令和S代码在同一程序段时，移动指令和S功能指令同时开始执行。 \n2.4.1  主轴开关量控制 \n当参数号001BIT4=0时，用地址S和其后面两位数控制主轴转速。 \n指令格式： S__ \n系统可提供4 级主轴机械换挡。（当没有选择模拟主轴机能时），S代码与主轴的转速的对应关系\n及机床提供几级主轴变速，请参照机床制造厂家的说明书。 \n档位信号：S1～S4 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n11\nS 代码的执行时间可由参数号№087设定。 \n设定值：0～9999999  \n设定时间 = 设定值×4 毫秒。 \n \n \n \n \n \n \n注1：当在程序中指定了上述以外的S 代码时，系统将产生以下报警并停止执行。 \n182：S 代码错，程序中编入了非法的S 代码。 \n注2：在S 两位数时，若指令S4 位数，系统同样会产生182 号报警。 \n \n2.4.2  主轴模拟量控制 \n当参数号001BIT4=1 时，用地址S 和其后面的4 位数值，直接指令主轴的转数(转/分)，根据不同\n的机床厂家转数的单位也往往不同。 \n指令格式： S__ \n当选择主轴模拟量控制时，系统可实现主轴无级调速。 \n \n2.5  刀具功能（T 功能） \n用地址T 及其后面2 位数来选择机床上的刀具。在一个程序段中，可以指令一个T 代码。移动指令\n和T 代码在同一程序段中指令时，移动指令和T 代码同时开始。 \n关于T 代码如何使用的问题，请参照机床制造厂家发行的说明书。 \n用T 代码后面的数值指令，进行刀具选择。其数值的后两位用于指定刀具补偿的补偿号。 \n \nT□□ □□ \n              \n \n \n \n系统可提供的刀具数由参数号№081设定，最大设定为8。 \n \n \n刀具选择号 \n刀补号 \n开始执行下个程序段 \nS  代码开始执行 \n设定时间\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n12 \n2.5.1  换刀过程 \n   \n刀架正转输出(TL+  005。6) \n刀架锁紧输入(TCP  00.7) \n刀架到位输入(T4～T1  00.3~00.0) \n刀架反转输出(TL-  005。7) \nT1=#082\nT2=#088 \nTb<#085\nTa<#083*刀位数 \n \n \n图中P083等是对应参数号设置的时间参数。 \n当Ta≥（P083）×此次换刀位数时。产生报警 185：换刀时间过长.从刀架开始正转经过Ta时间后指定的刀位\n到达信号仍然没有接收到时，产生报警。 \n当Tb≥P085时。产生报警  186：在刀架反转锁紧时间内未接到刀架反转锁紧信号。 \n \nT 代码开始执行时，首先输出刀架正转信号(TL+)，使刀架旋转，当接收到T代码指定的刀具的到位\n信号后，关闭刀架正转信号，延迟 T1 时间后，刀架开始反转而进行锁紧(TL-)，并开始检查锁紧信号\n*TCP，当接收到该信号后，延迟参数号P088设置的时间，关闭刀架反转信号(TL-)，如执行的刀号与现\n在的刀号（自动记录在诊断№049）一致时，则换刀指令立刻结束，并转入下一程序段执行；否则产生\n187号报警。 \n当系统输出刀架反转信号后，在参数号P085设定的时间内，如果系统没有接收到*TCP信号，系统\n将产生报警.并关闭刀架反转信号。 \n  \n \n2.5.2  换刀相关参数 \n1） 系统参数 \n刀架到位信号（*T8～*T1） 由参数P009的Bit1 TSGN 设定高或低电平有效。 \n \nTSGN \n0 :  刀架到位信号高电平有效.（常闭） \n \n \n    1 :  刀架到位信号低电平有效.（常开） \n刀架锁紧信号（*TCP） 由参数P009的Bit0 TCPS 设定高或低电平有效。 \n \nTCPS \n0 :  刀架锁紧信号低电平有效；（常开） \n \n \n    1 :  刀架锁紧信号高电平有效。（常闭） \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n13\n注：当无刀架锁紧信号时，可以不接该信号，设置参数TCPS为低电平有效，通过设置时间P085来设置反转锁紧时间。\n218T没引出*TCP信号 ，TCPS常设“1”。 \n \n2） 诊断参数 \nT1    ：刀架正转停止到刀架反转锁紧开始的延迟时间。 \n       参数号 №082，设定值 0～9999999   单位：4ms    \nT刀数 ：刀架的刀数选择。 \n       参数号 №081，设定值 1～8 单位：个。    \nT2    ：接收到刀架反转锁紧信号后的延迟时间。 \n       参数号 №085，设定值 0～9999999   单位：4ms    \nT一刀位：换一刀位所需的最长时间。 \n       参数号 №083，设定值 0～9999999   单位：4ms。    \nT全刀位：从第一把刀换到最后一刀位所需的最长时间。 \n       参数号 №084（高字节），设定值 0～9999999 \n      （0～1048s）单位：16ms。     \nT现刀号：当前刀具号。 \n   诊断号 №049。此值由系统自动设定，当第一次使用时或清除存储器后需手动换刀一次即\n自动设定。 \nTa ： 执行T 代码时，系统自动计算的从当前刀位换到指定的刀位所需要的最长时间 \n      Ta = T一刀位×换刀的刀位数。 \n \n例：假定总刀位数为6 \na）现刀位是1，指定刀位5，则换刀的刀位数为4。 \nb）现刀位是5，指定刀位2，则换刀的刀位数为3。 \nTb ： 接收到刀架反转锁紧信号的最长时间信号。 \n2.6  刀具偏置 \n在实际加工中，编程使用的基准刀与实际加工刀具很少一致，这时标准位置与实际刀尖的距离就作\n为偏置量。 \n本系统中，刀具偏置仅由T 代码来控制，不受G 代码的控制。 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n14 \n2.6.1  基本的刀具偏置 \n \nX 轴偏置量\nZ 轴偏置量\n标准刀具\n实际刀具\n \n偏置的结果是使标准刀具的刀尖在编程的轨迹上移动，刀具的安装要与程序中标准刀具的起始点相\n符合，然而实际加工使用的刀具很少能与标准刀具相符。这种情况下，标准位置与实际刀尖位置间的距\n离就作为偏置量。 \n \n2.6.2  用于刀具偏置的T 代码 \nT 代码具有下述意义: \n T □□  □□ \n刀具偏置号 \n \n刀具选择号 \na) 刀具选择 \n刀具选择是通过指定与刀具号相对应的T 代码来实现的。 \n关于刀具选择号与刀具的关系请参照机床制造商发行的手册。 \nb) 刀具偏置号 \n用于选择与偏置号相对应的偏置值。偏置值必须通过键盘单元输入。相应的偏置号有两个偏置 \n量，一个用于X 轴，另一个用于Z 轴。 \n \n \n \n偏 置量 \n偏置号 \nX轴的偏置量 \nZ轴的偏置量 \n01 \n02 \n03 \n.. \n.. \n.. \n0.040 \n0.060 \n0 \n. \n. \n. \n0.020 \n0.030 \n0 \n. \n. \n. \n \n当指定了T 代码且它的偏置号不是00 时刀具偏置有效。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n15\n如果偏置号是00，则刀具偏置功能被取消。 \n偏置值可设定的范围如下： \n毫米输入：0～999.999mm \n通过设定参数(№002： ORC)可对X 轴的刀具偏置量进行直径/半径规格的指定。 \n2.6.3  偏置 \n偏置X、Z 是对编程轨迹而言。T 代码指定偏置号的偏置值，在每个程序段的终点位置被加上或减 \n去。 \n \n \n \n \n \n \n \n \n \n \na）偏置矢量 \n在上图中，具有偏置X、Z 的矢量叫做偏置矢量。补偿就起偏置矢量的作用。 \nb）偏置取消 \n当T 代码的偏置号选择了00 时偏置被取消。在取消的程序段的末尾，偏置矢量为零。 \nN1 G01 U50.0 W100.0 T0202； \nN2 W100.0： \nN3 U0.0 W50.0 T0200； \n偏置轨迹 \n \n \n \n \n \n \n \n \n \n \n偏置X，Z 进行的补偿（偏置矢量） \n编程轨迹 \n该程序段有T 代码偏置指令 \n偏置后的轨迹 \nN2 \nN1 \n（假定02 号偏置号中已经定了偏置值） \n（假定02 号偏置号中已经定了偏置值） \n偏置后的轨迹 \n编程轨迹 \nN3 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n16 \n2.6.4  编程举例 \n刀尖偏置（Z，X）                       刀具号 \n刀具#1……B（0.120，0.200）              01 \n刀具#2……C(-0.180，-0.050)                02 \n \n \n \n \n \n \n \n \n \n \n \n \n \n图2－8 \n \n(编程例1) \nG50 X280.0 Z240.0； \nG00 X120.0 Z200.0 T0101； \nG01 Z140.0 F30； \nX160.0 Z80.0； \nG03 X227.7 Z30.0 R53.81； \nG00 X280.0 T0100； \n#1 刀具的刀尖与这个程序的编程轨迹相同。 \n（编程例2） \n通过对例1 进行下列改动，可使#2 刀具的刀尖轨迹与编程轨迹相同。 \nT0101→T0202 与T0100→T0200 \n \n \n2.6.5  单独的T 代码 \nT 指令代码与执行移动功能的指令在同一程序段时，执行刀具长度补偿的移动速度，由移动指令决\n定是切削进给还是快速移动速度。 \n系统参数NO.002 的Bit0=0，执行单独的T 指令时，执行刀具长度补偿的速度由当前模态决定：当\n前模态为切削进给时，以当前切削进给的速度执行刀具长度补偿；当前模态为G00 时，以当前快速移\n刀具号 \n轴 \n01 \n02 \nX \n-0.200 \n+0.050 \nZ \n-0.120 \n+0.180 \n(280,30) \n(227.7,30) \n(160，80)\nP(280,240) \n(120,200) \n(120,140)\nZ \nx \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n17\n动速度执行刀具长度补偿。 \n系统参数NO.002 的Bit0=1 时，执行单独的T 指令时，刀具长度补偿与后续的第一个移动指令同\n时执行，执行刀具长度补偿的速度由该移动指令决定。 \n \n2.6.6  定点对刀 \n当设定偏置量时，如仅键入地址键(X、Z、U、W)后直接按IN 键（无数字键）时，则现在的相对坐\n标值作为与该地址对应的偏置量而被设置。用下列步骤，使用很方便。    \n1）将基准刀具的刀尖定位到标准点； \n2）复位相对坐标(U，W)，使其坐标值为零； \n3）选择基准刀对应的偏置号（按刀偏键）； \n4）按X0，按IN ，按Z0，按IN，使基准刀对应的偏置量为零； \n5）移动实际加工用的刀具并定位到标准点； \n6）在选择偏置号后，按X 或U，和Z 或W，IN，则相对坐标值被置到相应的偏置号中。 \n     相应地，标准刀具和实际刀具的差被指示出来； \n7）重复步骤（6），可找出其它刀偏。 \n注:偏置量的计数器输入方式是否有效，取决于参数NO.009的位NOFC的设置。 \n \n2.6.7  试切对刀 \n在设定偏置量时可用下列简便的方法，当根据标准刀具设定了坐标系后，移动实际刀具至工件表面，\n输入工件表面的实际测量值，系统自动计算出其差值作为该把刀具的偏置值。 \n \nZ\nX \nβ\nα\n表面A\n表面B\n \n1)  用基准刀试切工件设定基准坐标系。 \na)  用手动方式，沿A 表面切削； \nb)  在Z 轴不动的情况下沿X 轴释放刀具，并且停止主轴旋转； \n    c)  测量A 表面与工件坐标系零点之间的距离“β”，进入录入方式，按[程序]，输入G50 Z“β” \n        把当前的Z 向绝对作标设为“β”，然而设偏置号（基准刀偏置号+100）Z=“β”； \nd)  用手动方式沿B 表面切削； \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n18 \ne)  在X 轴不动的情况下，沿Z 轴释放刀具，并且停止主轴旋转； \nf） 测量直径“α”，进入录入方式，按[程序]，输入G50 X“α”把当前的X 向绝对坐标设为“α”。 \n \n2） 非基准刀偏置设置 \na)  用手动方式，沿A 表面切削； \nb)  在Z 轴不动的情况下沿X 轴释放刀具，并且停止主轴旋转； \nc) 测量A 表面与工件坐标系零点之间的距离“βˊ”并且将所测得的值设到一偏置号Z 中， \n该偏置号=要设偏置量的偏置号+100； \nd)  用手动方式沿B 表面切削； \ne)  在X 轴不动的情况下，沿Z 释放刀具，并且停止主轴旋转； \nf) 测量距离“αˊ”，并且将所测得的值设到一偏置号X 中。 \n该偏置号=要设偏置量的偏置号 +100。 \n例如：为了将偏置量设到偏置号03 的偏置单元中，就须向偏置号为103 的偏置单元中设定“ \nαˊ”和“βˊ”。 \n如果在B 表面上刀具的坐标值为105.0，测得的距离是104.0，对应于偏置号为103 设定的 \n值则为104.0， 对应于偏置号03 的偏置量则自动地设定为1.0。 \n3） 重执行步骤（2）将其他非基准刀设置。 \n注1：用于刀具偏置的直接测量值输入是否有效，要依参数(009号参数的DOFSI位)而定。 \n注2：距离“α”按直径值设定。 \n2.6.8  回机床零点（机械零点）对刀 \n用此对刀方法不需要基准刀，在刀具磨损或调整任何一把刀时，只要对此刀进行重新对刀即可。对\n刀前及断电后重新上电，只要回一次机械零点即可继续加工，操作简单方便。但对刀时不能带刀偏。使\n用这对刀方法时，请设置2号参数BIT0 PTSR为1，即刀偏执行方式为坐标偏移方式。 \n \nZ\nX \nβ\nα\n表面A \n表面B\n \n \n操作步骤如下： \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n19\n1） 按机械回零键进入机械回零操作方式，使两轴回一次机械零点； \n2） 选择任意一把刀，不带刀补； \n3） 在手动方式下沿A表面切削； \n4） Z轴不动，刀具沿X轴退出工件外，停止主轴旋转； \n5） 按刀补键进入刀偏数据界面，按↑或↓键移动光标至100号后面的偏置号，选择某一刀偏号作\n为当前刀具的偏置号； \n6） 测量A表面与工件坐标系零点之间的距离“β”，输入“Z”、“β”，按输入键，此时系统自\n动计算Z方向的刀偏值并设定； \n7） 起动主轴，在手动方式下，X轴不动，沿B表面往Z负方向加工一段距离，再X轴不动，往Z正方\n向退出工件； \n8） 测量直径“α”，输入“X”、“α”，按输入键，此时系统自动计算Z方向的刀偏值并设定； \n9） 移动刀具到安全位置，换另一把刀，同样不带刀补； \n10） 重复3～9步骤，完成其它刀的对刀。 \n注1：用本方法对刀时，不能带刀补，如T0100等； \n注2：必须确认机床有机床零点，否则不能使用此方法； \n注3：使用此方法对刀后，在程序中不得使用G50设定坐标系； \n注4：以下参数必须设置 \nP002 BIT6 TOC必须设定为1（偏移矢量复位时不变）； \nP003 BIT7 ABOT必须设定为0（绝对坐标断电记忆）； \nP006 BIT6 APRS必须设定为1（回参考点自动设定坐标系）。 \n2.7   辅助功能(M 功能) \n移动指令和 M同在一个程序段中时，移动指令和M指令同时开始执行。 \n(例) N1 G01 X50.0 Z-50.0 M05 ；(主轴停止) \n \n移动指令和主轴停\n止指令同时开始 \nZ\nX \n \n2.7.1  辅助功能（M 功能） \n在地址M后面指令2位数值，系统把对应的控制信号送给机床，用来控制机床相应功能的开或关。M \n代码在一个程序段中只允许一个有效，M代码信号为电平输出，保持信号。 \nM 代码： \nM03 ：主轴正转。 \nM04 ：主轴反转。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n20 \nM05 ：主轴停止。 \nM08 ：冷却液开。 \nM09 ：冷却液关（不输出信号）。 \nM10 ：尾座进。 \nM11 ：尾座退。 \nM12 ：卡盘夹紧。 \nM13 ：卡盘松开。 \nM32 ：润滑开。 \nM33 ：润滑关（不输出信号）。 \nM00 ：程序暂停，按‘循环起动’程序继续执行。 \nM30 ：程序结束，程序返回开始。 \nM41~M44 ：主轴自动换挡机能（详参见120页） \n除M00，M30 外，其它 M 代码的执行时间（不是脉冲宽度）可由参数号№86设定。 \n设定值：0～9999999  \n设定时间 = 设定值×4 ms。 \n \n \n \n注1：当在程序中指定了上述以外的M代码时，系统将产生以下报警并停止执行。 \n181：M代码错，程序中编入了非法的M代码。 \n注2：M，S，T起动后，即使方式改变，也仍然保持，可按‘复位’键关闭（由参数012BIT0设置是否有效）。 \n下面的M代码规定了特殊的使用意义 \n1)  M30(程序结束) \n 1) 表示主程序结束。 \n 2) 停止自动运转，处于复位状态。 \n 3) 返回到主程序开头。 \n 4) 加工件数加1。 \n2)  M00：程序暂停 \n当执行了M00的程序段后，停止自动运转。与单程序段停同样，把其前面的模态信息全部保存\n起来。CNC开始运转后，再开始自动运转。 \n3) M98/M99(调用子程序/子程序返回) \n格式：M98 P□□□□□□□ \n                               调用子程序号（范围：0000～9999） \n                               调用次数（范围：1～999） \n用于调用子程序。或程序结尾为M99时，程序可重复执行。子程序的嵌套可到四重。详细见2.7.7 子\n程序控制。 \n注1：M00，M30 的下一个程序段即使存在，也存在不进缓冲存储器中去。 \n设定时间\nM 代码开始执行 \n开始执行下程序段 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n21\n注2：执行M98 和M99 时，代码信号不输出。 \n \n2.7.2  M 代码调用子程序 \nM代码，当系统执行标准以外的M代码时，调用的子程序为： \nM□□：调用子程序90□□。 \n \n2.7.3  S 代码调用子程序 \n参数号P004 BIT2（CM98）设置为1时，当执行标准M，S，T以外的代码时，系统不产生报警，而\n去调用相应的一个子程序。结合宏输入输出接口变量，用户可以根据需要扩展辅助功能代码。 \nS代码，当系统执行S10~S99，调用的子程序为： \nS□□：调用子程序91□□。 \n注1：当选择主轴模拟电压输出时，S代码不调用子程序。 \n注2：当执行非标准的M，S，必须编入对应的子程序。否则会产生078报警。 \n注3：非标准的M，S，T代码不能在录入方式下运行，否则会产生M/S或T码错的报警或＃130报警。 \n注4：在对应的子程序中即可以编入轴运动指令，也可以对输出点进行控制（关和开），也可以根据DI的信号进行\n转跳或进行循环，或某一DI信号作为M/S/T的结束信号。关于DI/DO见宏程序一章。 \n \n2.7.4  T 代码调用子程序 \nT代码，当系统执行标准以外的T代码时，调用的子程序为： \nT□□：调用子程序92□□。 \n如T28 ，调用子程序9228 \n \n2.7.5  辅助功能参数 \n参数号№081～094 为用户参数，用户可根据实际情况进行设定。 \n设定：打开程序保护开关，在录入方式下，选择参数画面，移动光标至要设定的序号前，键入数据，\n按“IN”后键入的数据输入。 \n移动光标的方法： \n1） 用翻页及光标键 \n2） 用检索的方法：P→要检索的参数号→IN。 \n \n2.7.6  与辅助功能有关的报警 \n与辅助机能有关的报警通过外部信息画面显示，当产生报警时，系统自动切换到外部信息画面，在\nLCD的上部显示出报警出报警的详细内容，在LCD的下端闪烁显示“报警”。 \n181：M代码错。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n22 \n程序中编入了非法的M代码。 \n182：S代码错。 \n程序中编入了非法的S代码。 \n183：T代码错。 \n程序中编入了非法的T代码。 \n185：换刀时间过长。从刀架开始正转经过Ta时间后指定的刀位到达信号仍然没有接收到时，产生报警。 \n186：在刀架反转缩紧时间内未接到刀架反转缩紧信号。 \n044：卡盘未夹紧启动主轴. \n045：主轴运转时松开卡盘. \n250：尾座进退中自动运行或开启主轴或主轴旋转时执行了尾座进退指令。 \n \n \n2.7.7  子程序控制 \n2.7.7.1  主程序和子程序 \n为简化编程，当相同或相似的加工轨迹、控制过程需要多次使用时，就可以把该部分的程序指令编\n辑为独立的程序进行调用。调用其它程序的程序称为主程序，被调用的程序（以M99结束）称为子程序。\n子程序和主程序一样占用系统的程序容量和存储空间，子程序也必须有自己独立的程序名，子程序可以\n被其它任意主程序调用，也可以独立运行。子程序结束后就返回到主程序中继续执行，见下图所示。 \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \nＯ0001; \nG50 X100 Z100; \nM3 S1 T0101; \nG0 X0 Z0; \nG1 U200 Z200 F200; \nM98 P21006; \nG0 X100 Z100; \nM5 S0 T0100; \nM30; \n% \nＯ1006; \nG1 X50 Z50; \nU100 W200; \nU30 W-15 R15 F250; \nM99; \n% \n调用\n返回\n主程序\n子程序 \n图2-9 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n23\n2.7.7.2  子程序调用M98 \n指令格式： \nM98  P○○○□□□□ \n \n \n \n \n \n指令功能：当前程序段的其它指令执行完成后，系统不执行下一程序段，而是去执行P 指定的子程\n序，子程序最多可执行999 次。 \n注意：在MDI 方式下不能调用子程序！ \n \n2.7.7.3  从子程序返回M99  \n指令格式： M99  P○○○○ \n \n \n \n \n指令功能： （子程序中）当前程序段的其它指令执行完成后，返回主程序中由P指定的程序段继续 \n执行，当未输入P时，在返回主程序中调用当前子程序的M98指令的后一程序段继续执行。如果M99\n用于主程序结束（即当前程序不是由其它程序调用执行），当前程序反复执行。 \n示例：图2-10表示了调用子程序（M99中有P指令字）的执行路径。图2-11表示M99中无P指令字调\n用及返回执行路径。 \n \n主程序                           子程序 \n  \n \n \n \n \n \n \n \n \n \n \n \n \n调用次数（1-999），调用1 次时，可不输入\n被调用的子程序号（0000～9999）。当调用次数\n未输入时，子程序号的前导0 可省略；当输入调\n用次数时，子程序号必须为4 位数； \n返回主程序执行的程序段号（0000～9999），\n前导0 可以省略。 \nO1009； \nN0010 ………; \nN0020……….; \nN0030……….; \nN0040 M98 P1010; \nN0050……….; \nN0060……….; \nN0070……….; \n…….. \nO1010； \nN1020………; \nN1030………; \n……… \n……… \nN1100 M99 P0070; \n% \n图2-10\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n24 \n \n \n \n \n \n \n \n \n \n \n \n \n \n                                      \n   \n \n本系统最多可以调用四重子程序，即可以在子程序中调用其它子程序（图2-12为二重）。 \n \nO0001； \n... \n... \n... \nM98P1000; \n... \n... \n... \n... \nM30; \n主程序 \nO1000；\n...\n...\n...\nM98P2000;\n...\n...\n...\n...\nM99;\n一重子程序\nO2000；\n...\n...\n...\nM98P3000; \n...\n...\n...\n...\nM99;\n二重子程序\n一重嵌套 \n二重嵌套  \n图2-12 二重子程序嵌套 \n \n2.8  准备功能（G 功能） \n准备功能——G指令代码由G及其后二位数值组成，它用来指定刀具相对工件的运动轨迹、进行坐\n标设定等多种操作，G指令一览表见表2-6。 \nG □□ \n数字（00～99，首位0可以不输入） \n地址G \nG指令被分为00、01、02、03、06、07组。其中00组属于非模态指令。其余组的为模态G指令。 \n模态G指令一经执行，其功能和状态一直有效，当同组的其他G指令被执行后，原G指令功能和状\n态被注销。 \n初态G指令是指系统上电后初始的模态，G指令的初态有G00、G97、G98、G40、G21。 \nＯ0001； \nG50 X100 Z100； \nM3 S1 T0101； \nG0 X0 Z0； \nG1 U200 Z200 F200; \nM98 P21006; \nG0 X100 Z100; \nM5 S0 T0100; \nＯ1006; \nG1 X50 Z50; \nU100 W200; \nU30 W-15 R15 F250; \nM99; \n% \n调用\n返回\n主程序 \n子程序\n图2-11\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n25\n非模态G指令一经执行，其功能和状态仅一次有效，以后需使用相同的功能和状态必须再次执行。 \n在同一个程序段中可以指令几个不同组的G指令，如果在同一个程序段中指令了两个以上的同组G\n指令时，产生131号报警。没有共同指令字的不同组G代码可以放在同一程序段中，功能同时有效并且\n与先后顺序无关。如果使用了表2-6以外的G指令或指令了不具有的选择功能的G指令，则出现报警。 \n表2-6 G 指令一览表 \n代 码 \n组别 \n格      式 \n说      明 \n*G00 \nG00 X(U)__Z(W) __ \n定位，快速移动，各轴速率参数\n设定 \nG01 \nG01 X(U)__Z(W) __ __F \n直线插补 \nG02 \nG02 X(U)_Z(W)_R_(I_K_)  F_ \n顺时针圆弧插补，CW \nG03 \n01 \nG03 X(U)_Z(W)_R_(I_K_)  F_ \n逆时针圆弧插补，CCW， \nG04 \n00 \nG04 P_；或G04 X_； \n暂停  \nG20 \nG20 \n英制单位选择 \n*G21 \n06 \nG21 \n公制单位选择 \nG28 \n00 \nG28 X(U)__Z(W) __ \n返回参考点，X、Z 指定中间点 \n*G40 \nG40 \n刀具半径补偿取消 \nG41 \nG41 \n左侧刀具半径补偿 \nG42 \n07 \nG42 \n右侧刀具半径补偿 \nG32 \n01 \nG32 X(U)__Z(W) __F(I) \n等螺距螺纹切削 \nG33 \n01 \nG33 Z(W) __F(I) \n攻丝循环 \nG34 \n01 \nG34 X(U)__Z(W) __F(I)  K__ \n变螺距螺纹切削 \nG50 \n00 \nG50 X(U)__Z(W)__ \n坐标系设定 \nG65 \n00 \nG65 Hm P#I  Q#J  R#K \n宏指令（具体见后） \nG70 \nG70 P(ns) Q(nf) \n精加工循环 \nG71 \nG71 U(ΔD) R(E)  \nG71 P(NS) Q(NF) U（ΔU）W(ΔW) F(F) S(S) \nT(T) \n外圆粗车循环 \nG72 \nG72 W (ΔD) R (E)  \nG72 P(NS) Q(NF) U(ΔU) W(ΔW) F(F) S(S) \nT(T) \n端面粗车循环 \nG73 \nG73 U (ΔI) W (ΔK) R (D)  \nG73 P(NS) Q(NF) U(ΔU) W(ΔW) F(F) S(S) \nT(T) \n封闭切削循环 \nG74 \n00 \nG74 R(e)  \nG74 X(U) Z(W) P(Δi) Q(Δk) R(Δd) F(f) \n端面深孔加工循环 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n26 \nG75 \nG75 R(e)  \nG75 X(U) Z(W) P(Δi) Q(Δk) R(Δd) F(f) \n外圆内圆切槽循环 \nG76 \nG76 P(m) (r) (a) Q(△dmin) R(d) \nG76 X(U) Z(W) R(i) P(k) Q(△d) F(L) \n复合型螺纹切削循环 \nG90 \nG90 X(U)__ Z(W)__ R__ F__ \n外圆，内圆车削循环 \nG92 \nG92 X(U)__ Z(W)__ R__ F(I)__J__K__ \n螺纹切削循环 \nG94 \n01 \nG94 X(U)__ Z(W)__ R__ F__  \n端面车削循环 \nG96 \nG96 S \n恒线速控制 \n*G97 \n02 \nG97 S \n取消恒线速控制 \n*G98 \nG98 \n每分进给 \nG99 \n03 \nG99 \n每转进给 \n注1：带有*记号的G 代码，当电源接通时，系统处于这个G 代码的状态。 \n注2：00 组的G 代码是一次性G 代码。 \n \n2.8.1  快速定位G00 \n指令格式：G00 X（U）  Z（W）  ； \n指令功能：两轴同时以各自的快速移动速度移动到X（U）、Z（W）指定的位置。 \n两轴是以各自独立的速度移动的，其合成轨迹并非直线，因此不能保证各轴同时到达终点，编程时\n应特别注意。X、Z轴各自的快速移动速度分别由参数№.021、№.022设定，也可通过操作面板的快速移\n动速度倍率开关进行修调。 \nX（U）：X 向定位终点的绝对（相对）坐标；  \nZ（W）：Z 向定位终点的绝对（相对）坐标； \nX(U)、Z (W)取值范围：（－9999.999～＋9999.999）mm \n \n \n \n \n \n \n \n \n \n \n \n                                  图2－13 \n \n \nA\nB\nZ\nW\nU/2\nX轴\nZ轴\nX\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n27\n例：如图2-14，刀具从A 点快速定位到B 点，相关尺寸如图所示。 \n \n \n \n \n \n \n \n \n \n图2-10 \n   \n                             图2－14 \n编程如下： \nG0 X20 Z25；（绝对编程，直径编程） \nG0 U-22 W-18；（相对编程，直径编程） \n2.8.2  直线插补G01 \n指令格式：G01  X（U）_  Z（W）_  F_； \n功能意义：刀具从当前位置以F 指定的合成进给速度移动到X（U）、Z（W）指定的位置，轨迹为\n从当前点到指定点的连线。可通过操作面板的进给倍率按钮进行进给速度的16 级修调。插补轨迹如图\n2-11 所示。 \nX（U）：X 向插补终点的绝对（相对）坐标；  \nZ（W）：Z 向插补终点的绝对（相对）坐标； \nX、U、Z 、W 取值范围：（－9999.999～＋9999.999）mm \nF：X、Z 轴的合成进给速度，模态指令字。其取值范围与是G98 还是G99 状态有关，具体如下： \n表2-7 \n \nG98（mm/min） \nG99（mm/r） \n取值范围 \n1~7600 \n0.001~500 \n \n指令轨迹： \nX轴\nZ轴\nB\nA\n20\n25\n18\n11\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n28 \n当前点\n终点\nX\nL\nZ\nU/2\nW\nX轴\nZ轴\n \n图2-15 \n \n对于两轴同时移动的插补方式，F指定为两轴的合成进给速度。 \n从图2-15可知： \nX轴方向上的进给速度FBX\nB=U\nL\n×F： \nZ轴方向上的进给速度FBZ\nB=W\nL\n×F。（其中L＝\n2\n2\n/ 4\nU\nW\n+\n，U为直径值） \n例：如图2-16所示，请编写从当前点到终点的直线插补程序。 \n程序如下（直径编程）： \nG01 X60.0 Z7.0；（绝对值编程） \nG01 U20.0 W-25.0；（相对值编程） \n \n图2-16 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n29\n2.8.3  圆弧插补G02/G03 \n指令格式： \nG02                       R_ \nX（U）_Z（W）_             F_； \nG03                      I_K_ \n指令功能：两轴同时从起点位置（当前程序段运行前的位置）以R指定的值为半径或以I、K值确定\n的圆心顺时针（G02）/逆时针（G03）圆弧插补至X（U）、Z（W）指定的终点位置。 \nX（U）：X 向圆弧插补终点的绝对（相对）坐标；  \nZ（W）：Z 向圆弧插补终点的绝对（相对）坐标； \nR：圆弧半径； \nI：圆心相对圆弧起点在X 轴上的坐标值；（半径指令） \nK：圆心相对圆弧起点在Z 轴上的坐标值； \nX、U、Z 、W、R、I、K 取值范围：（－9999.999～＋9999.999）mm \nF：圆弧切削速度。 \nX\n圆\n弧\n起\n点\nX轴\nI\nZ轴\nZ\nW\n圆\n弧\n终\n点\nK\nU/2\nR\n             \nX\nU/2\nX轴\nK\nI\nZ轴\nZ\nW\nR\n圆\n弧\n起\n点\n圆\n弧\n终\n点\n \n图2-17 G03 轨迹图                           图2-18 G02 轨迹图 \n \n顺时针或逆时针与采用前刀座坐标系还是后刀座坐标系有关，具体见图2-19。 \n \nG02 \nG03\nX \nZ\nG02\nG03 \nX\nZ \n \n图2-19 \n \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n30 \n例：用G02指令编写图2-20程序。 \nφ63.06\nX\nZ\n起点\n终点\n圆心\n18.929\n3.554\n \n图2-20  \n程序如下（刀具当前点在起点）： \nG02 X63.06 Z30.0 R19.26 F300 ；          或 \nG02 U17.81 W-20.0 R19.26 F300 ；         或 \nG02 X63.06 Z30.0 I18.929 K-3.554 F300 ；   或 \nG02 U17.81 W-20.0 I18.929 K-3.554 F300 ； \n \n注意 \n● \n圆弧中心用地址I、K指定时，其分别对应于X，Z轴（见图2-17、图2-18 ）。I、K表示从圆 \n弧起点到圆心的矢量分量，根据方向带有符号； \n● \n指令格式中地址I、K或R至少必须指定一个，否则系统产生报警； \n● \n地址X（U）、Z（W）可省略一个或全部，当省略一个时，表示省略的该轴的起点和终点一\n致；同时省略表示终点和始点是同一位置； \n● \n当X（U）、Z（W）同时省略时，若用I、指令圆心时，表示全圆；I、K和R不能同时指令，\n否则产生报警； \n● \n当I=0、K=0可以省略； \n● \nR指定时，当R>0时，指定的为小于180度的圆弧；对于大于180度的圆弧，只可以用I、K\n指定。 \n \n \n \n \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n31\n2.8.4  暂停指令G04 \n指令格式：G04 P__ ；或 \nG04 X__ ；  \n指令功能：此指令可以推迟下个程序段的执行，推迟时间为指令的时间。指令范围从0.001～\n9999.999秒。当不指定P、X时，表示程序段间准确停。 \n当系统参数№.11的BIT0位=1时，单位如表2-8所示： \n表2-8 \n地址 \nP \nX \n单位 \n0.001s \n1s \n当系统参数№.11的BIT0位=0时，单位如表2-9所示： \n表2-9 \n地址 \nP \nX \n单位 \n0.001s \n0.001s \n注：G04 后同时有P 与X、P 与U 指令时，X、U 指令有效，P 指令无效。 \n \n2.8.5  返回机床零点（机械零点）G28 \n指令格式：G28 X（U）   Z（W）    ； \n指令功能：此指令使指令的轴经过X（U）、Z（W）指定的中间点返回到机械零点。指令中可指令\n一个轴，也可指定两个轴。 \n \n表2-10 \n指  令 \n功  能 \nG28 X（U）    \nX轴回机械零点，Z轴保持在原位 \nG28 Z（W）     \nZ轴回机械零点，X轴保持在原位 \nG28  \n保持在原位 \nG28 X（U）   Z（W）     \nX、Z轴同时回机械零点 \n \n指令动作过程（动作过程见图2-21）： \n（1）快速从当前位置同时以各自独立的速度定位到指令轴的中间点位置（A点→B点）。 \n（2）快速从中间点以各自独立的速度定位到机械零点（B点→R点）。 \n（3）若非机床锁住状态，返回机械零点完毕时，回零结束指示灯亮。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n32 \n \n当前点A \nZ\nX \n中间点B\n（X，Z）\n参考点R \n \n图2-21 \n \n注1：在电源接通后，如果一次也没进行手动返回机械零点，指令G28时，从中间点到机械零点的运动和手动返回机械零\n点时相同。 \n注2：从A点→B点及B点→R点过程中，两轴是以各自独立的速度定位的，因此，其轨迹并非一定是直线； \n注3：如机床未安装机械零点，不得使用此功能。 \n \n2.8.6  等螺距螺纹切削指令G32 \n指令格式：G32 X（U）__Z（W）__ F（I）__； \n指令功能：两轴同时从起点位置（G32指令运行前的位置）到X（U）、Z（W）指定的终点位置的\n螺纹切削加工（轨迹如图2-22所示）。此指令可以切削等导程的直螺纹、锥螺纹和端面\n螺纹。G32螺纹切削时，需退刀槽。 \nX（U）：X 向螺纹切削终点的绝对（相对）坐标；  \nZ（W）：Z向螺纹切削终点的绝对（相对）坐标； \nX(U)、Z(W)取值范围：（－9999.999～＋9999.999）mm \nF：公制螺纹导程，即主轴每转一转刀具相对工件的移动量，取值范围：（0.001～500）mm，模态\n参数； \nI：英制螺纹每英寸牙数，取值范围为（0.06～25400）牙/英寸，模态参数。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n33\nX轴\n终点\n当前点\nZ轴\nW\nU/2\nX\nZ\nFx\nFz\na\n \n   图2-22  \n本系统不分长短轴，程序设定的螺纹导程为锥面上的导程。当需要换算到长短轴的长度时，算法如\n下，具体见图2-23。 \nZ\nX\n锥度螺纹\nα\n \n图2-23 \n螺纹切削注意事项 \n● \n在螺纹切削开始及结束部分，一般由于升降速的原因，会出现导程不正确部分，考虑此因\n素影响，指令螺纹长度比需要的螺纹长度要长，如图2-24。 \n● \n在切削螺纹过程中，进给速度倍率无效，恒定在100%。 \n● \n在螺纹切削时主轴必须开动，否则产生报警；在螺纹切削过程中，主轴不能停止。 \n● \n在螺纹切削过程中主轴倍率无效，因为如果改变主轴倍率，会因为升降速影响等因素导致\n不能切出正确的螺纹。 \n● \n进给保持在螺纹切削中无效，在执行螺纹切削状态之后的第一个非螺纹切削程序段后面，\n可用单程序段停来停止。 \n● \n若前一个程序段为螺纹切削程序段，当前程序段也为螺纹切削，在切削开始时不检测主轴\n位置编码器的一转信号。 \n● \n主轴转速必须是恒定的，当主轴转速变化时，螺纹会或多或少产生偏差。 \n● \nF、I同时出现在一个程序段时，系统会产生报警。 \n导程LZ＝F×COSα \n导程LX＝F×SINα\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n34 \n实例1：用G32指令编写图2-24程序，螺纹导程：4mm。 \nδ2\nX\nZ\nδ1\n50\n70\n \n    图2-24  \n程序如下：取δ1 = 3mm，δ2 = 1.5mm，总切深1mm（单边），分两次切入。 \nG00 X49 Z3；（第一次切入1mm） \nG32 W-74.5 F4.0；  \nG00 X55； \nW74.5； \nX48；（第二次再切入1mm） \nG32 W-74.5 F4.0； \nG00 X55 \nW74.5； \nM30 \n \n实例2：用G32 指令编写图2-25 程序。长轴为Z 轴，螺纹导程：3mm \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n图2-25 \nX轴\n当前点\nZ轴\n40\n50\nδ2\nδ1\n终点\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n35\n程序如下：取δ1 = 2mm，δ2 = 1mm，总切深1mm（单边），分两次切入。 \nG00 X19 Z2；（第一次切入1mm） \nG32 X49 Z-43 F3； \nG00 X55；  \nZ2； \nG0 X18；（第二次再切入1mm） \nG32 X48 Z-43 F3； \nG0 X55； \nZ2； \nM30 \n2.8.7  Z 轴攻丝循环G33 \n指令格式：G33 Z（W）__ F（I）__； \n指令功能：Z轴从起点位置（G33指令运行前的位置）到Z（W）指定的终点位置的刚性攻丝（轨迹\n如图2-23所示），主轴反转返回循环起点，再恢复主轴的正向旋转。 \nZ（W）：Z向螺纹切削终点的绝对（相对）坐标； \nZ(W)取值范围：（－9999.999～＋9999.999）mm \nF：公制螺纹导程，即主轴每转一转刀具相对工件的移动量，取值范围:（0.001～500）mm，模态\n参数； \nI：英制螺纹每英寸牙数，取值范围为（0.06～25400）牙/英寸，模态参数。 \n \nＧ33 Z 轴攻牙循环的执行过程： \n1） 轴进刀攻丝； \n2） 关主轴； \n3） 等待主轴完全停止； \n4） 主轴反转；（与原来旋转方向相反） \n5） Z 轴退刀至加工起点； \n6） 主轴停止； \n7） 主轴恢复循环前的主轴旋转方向。 \n \n \n \n \n \n \n \n \n图  2-26  G33 攻丝循环 \n30 \n10\nX \nZ\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n36 \n例：螺纹导程2mm 的单头螺纹 \nＮ００１０ Ｍ３ \n；启动主轴 \nＮ００２０ Ｇ３３ Ｚ－４０ F２  ；攻丝循环 \nＮ００３０ Ｇ０ Ｚ１００ Ｘ３０ \n；继续加工 \n \n注1：由于本指令为刚性攻丝。在主轴停止信号有效后主轴还将有一定的减速时间。此时Z 轴将仍然跟随主轴的转 \n动，直到主轴完全停止，因此实际加工时螺纹的底孔应比实际的需要稍深一些，具体的长度应根据攻丝时主轴 \n转速高低和是否有主轴刹车装置而定。 \n注2：其他注意事项G32 螺纹切削相同。 \n注3：本指令为模态指令。 \n注4：在本指令中输入X 值时会产生报警：＃009 输入了非法字地址符。 \n \n2.8.8  变螺距螺纹切削指令G34 \n指令格式：G34 X（U）__Z（W）__ F（I）__K__； \n指令功能：两轴同时从起点位置（G34指令运行前的位置）到X（U）、Z（W）指定的终点位置的 \n螺纹切削加工。此指令可以切削变导程的直螺纹、锥螺纹和端面螺纹。G34螺纹切削时， \n需退刀槽。 \nX（U）：X 向螺纹切削终点的绝对（相对）坐标；  \nZ（W）：Z向螺纹切削终点的绝对（相对）坐标； \nX(U)、Z(W)取值范围：（－9999.999～＋9999.999）mm \nF：公制螺纹导程，螺纹起点的螺距，取值范围：（0.001～500）mm，模态参数； \nI ：英制螺纹每英寸牙数，螺纹起点的螺距，取值范围：（0.06～25400）牙/英寸，模态参数； \nK：主轴每转螺距的增量或减量。 \n    K的取值范围：（±0.001～500）mm、（±0.06～25400）牙/英寸 \n当K值的增加或减少使螺距超过允许值或螺距减少到0或负值时，系统会产生报警；同时如果螺\n距变化较大时，可能会出现螺纹加工中加减速较慢而导致螺距不准的现象。 \n \n \n2.8.9  工件坐标系设定G50 \n1）工件坐标系设定 \n指令格式：G50 X  Z ； \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n37\n指令功能：此指令用来建立一个以（x ，z）为参考点的工件坐标系，并将（x ，z）点设置为参考 \n位置点（程序零点）。坐标系一旦建立，后面指令中绝对值指令的位置都表示在该坐标系中 \n的位置直至再次使用G50 指令设置新的坐标系。 \n当参数设置为直径编程时X 向为直径指定，参数设置为半径编程时X 向为半径指定。 \n \n \n \n \n \n \n \n \n \n \n \n图2-27 \n  \n如图2-27 所示，当执行指令G50 X100 Z150 后，建立了如图所示的工件坐标系，并将（X100 Z150）\n点设置为程序零点。 \n注1：一般情况下，G50 应在程序开头设定工件坐标系，用在中间位置可能会导致程序运行的轨迹与理想的轨迹有出入。 \n注2：一般情况下，用G50 设定坐标系时应在刀补取消状态；若在补偿状态用G50 设定坐标系，那么设定后显示的值是\n刀偏值以后的值。如下表： \n表2-11 \n刀补状态 \n执行G50 X20 Z20 后坐标显示值 \n01 号刀补值 \nT0100 \nX：20       Z：20 \nT0101 \nX：32   Z：43(以坐标偏移方式执行刀补) \nX：-12 \nZ：-23 \n注3： G50 设定坐标系时，程序段不能跟M、S、T 指令，否则报警。 \n \n2） 坐标系平移 \n指令格式：G50 U  W ； \n指令功能：根据上述指令，现在坐标系中刀具上的某一点（x，z）例如刀尖，在所建的坐标系中的\n位置为：X+U，Z+W。 \n当参数设置为直径编程时X 向为直径指定，参数设置为半径编程时X 向为半径指定。 \n注1： G50 坐标系设定程序段中不能与M、S、T 指令共段，否则产生报警。 \n \n2.8.10  每分进给 (G98) \nG98 是每分进给状态。刀具每分钟走的距离， \n用F 后面的数值直接指令。 \nG98 是模态的，一旦指令了G98 状态，在G99(每转进给)指令之前，一直有效。 \n程序零点 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n38 \n2.8.11  每转进给 (G99) \nG99 是每转进给状态。主轴每转刀具的进给量用F 后面的数值直接指令。 \nG99 是模态的，一旦指令了G99 状态，在G98(每分进给)指令之前，一直有效。 \n 表2.3.9 每分进给和每转进给 \n \n每  分  进   给 \n每  转  进  给 \n指 定 地 址 \nF \nF \n指 定 代 码 \nG98 \nG99 \n指 定 范 围 \n1～8000mm/min \n(F1～F8000) \n0.001～500.00mm/rev \n(F0.001～F500) \n限  制  值 \n每分进给、每转进给都限制在某一固定的速度上。此限制值由机床厂家设定。(限制\n值是倍率后的数值) \n倍      率 \n每分进给、每转进给都可用0～150％的倍率(10％一挡) \n \n注1:当位置编码器的转速在1 转/分以下时，速度会出现不均匀。如果不要求速度均匀地加工，可用1 转/分以下的转速\n这种不均匀会达到会么程度，不能一概而论，不过在1 转/分以下，转速越慢，越不均匀。 \n注2：G98，G99 是模态的，一旦指令了，在另一个代码出现前，一直有效。 \n注3：F 代码最多允许输入7 位。但是，即使输入进给速度值超过限制值，移动时也限制在限制值上。 \n注4：使用每转进给时，主轴上必须装有位置编码器。 \n2.8.12  恒线速控制(G96， G97)  \n所谓的恒线速控制是指S 后面的线速度是恒定的，随着刀具的位置变化，根据线速度计算出主轴转\n速，并把与其对应的电压值输出给主轴控制部分，使得刀具瞬间的位置与工件表面保持恒定的关系。 \n线速度的单位如下： \n \n输入单位 \n线速度单位 \n公   制 \nm/min(米/分) \n \n线速度单位根据机械厂家不同有时会不同。 \n恒线速控制指令如下： \nG96 S__ ； \nS 后数值指定的是刀尖的切线方向的线速度  \n恒线速控制指令取消如下： \nG97 S__； \nS 后数值指定的是主轴转速       \n恒线速控制时，旋转轴必须设定在零件坐标的Z 轴(X=0)上来。 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n39\n \nZ \nX \n            \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n1） 主轴速度倍率 \n对于指定的线速度或转速，根据主轴倍率选择，可以使用50%，60%，70%，80%，90%，100%，\n110%，120％的倍率。 \n2） 主轴最高转速限制 \n \n用G50 S 后面的数值，可以指令恒线速控制的主轴最高转速(转/分)。 \nG50 S__  ； \n在恒线速控制时，当主轴转速高于上述程序中指定的值时，则被限制在主轴最高转速上。 \n3） 快速进给(G00) 时的恒线速控制 \n对于用G00 指令的快速进给程序段，当恒线速控制时，不进行时刻变化的刀具位置的线速度控\n制，而是计算程序段终点位置的线速度。这是因为快速不进行切削的缘故。 \n注1：当电源接通时，对于没设定主轴最高转速的状态，即为不限制状态。对于限制，只适用于G96 状态，G97 状态\n时不限制。 \n注2：G50 S0；意味着限制到0rev/min。 \n20 40 60 80 100 120140160180200220240260280300\n200 \n600 \n400 \n800 \n1200 \n1000 \n1400 \n1600 \n1800 \n2000 \n2200 \n2400 \n2600 \n2800 \n3000 \n0 \n0\n0 \n5 \n1 0 0 \n2 0 0 \n3 0 0 \n4 00\nS为600\nm min\n由图中可知，在约160mm（半径）\n处，主轴转速（r/min）的数值和线速\n（m/min）的数值是一致的。 \n单位（mm）\n（n） \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n40 \n注3：在G96 状态中，被指令的S 值，即使在G97 状态中也保持着。当返回到G96 状态时，其值恢复。 \nG96 S50；（50m/min） \nG97 S1000；（1000r/min） \nG96 X3000；（50m/min） \n注4：机床锁住时，机床不动，对应程序中X 坐标值的变化，进行恒线速控制。 \n注5：切螺纹时，恒线速控制也是有效的，因此切螺纹时，用G97 方式使恒线速控制无效，以使主轴以同一转速转动。 \n注6：每转进给（G99），在恒线速控制方式下（G96），虽然无使用意义，但仍有效。 \n注7：从G96 状态变为G97 状态时，G97 程序段如果没有指令S 码（转/分），那么G96 状态的最后转速作为G97 状态\n的S 码使用。 \nN100 G97 S800；（800r/min） \n… \nN200 G96 S100；（100m/min） \n… \nN300 G97；  （Xr/min） \nX 是N300 前一个程序段的转速，即从G96 状态变为G97 状态时，主轴速度不变。G97→G96 时，G96 状态的S\n值有效。如果S 值没有指令，则S=0 m/min。 \n注9：恒线速控制中指定的线速度是相对于编程轨迹的，而不是刀补后的位置的线速度。 \n程序实例: \n \n        300   400   500   600   700   800   900   1000  1100  1200  1300  1400 1500 \n100 \n200 \n300 \n400 \n400 \n600 \n700 \n500 \n编程轨迹\n补偿后的轨迹\n2\n1 \n4 \n3\n半径值 \n675 \n375 \nΦ400 \nΦ600 \nN11\nN14\nN15 \nN16 \n1050\nX \nZ \n \n \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n41\n (直径指定) \nN8 G00 X1000.Z1400.； \nN9 T0303； \nN11 X400.Z1050.； \nN12 G50 S3000；        (指定最高转速) \nN13 G96 S200；         (线速度200m/min) \nN14 G01 Z700. F1000； \nN15 X600. Z400.； \nN16 Z....； \n \nCNC 是用程序中的X 坐标值进行线速度计算，改变主轴转速使其达到指定的线速度。当有补偿时，\n不是用补偿后的X 坐标值进行计算的。上例的N15 的终点，不是转塔中心位置，而是刀尖位置，也就是\n说，刀尖在Φ600 处，线速度为200 米/分，X 坐标值为负时，取绝对值进行计算。 \n2.8.13  单一型固定循环指令 \n在有些特殊的粗车加工中，由于切削量大，同一加工路线要反复切削多次，此时可利用固定循环功\n能，用一个程序段可实现通常由多个程序段指令才能完成的加工路线。并且在重复切削时，只需改变相\n应的数值，对简化程序非常有效。单一型固定循环指令有外（内）圆切削循环G90、螺纹切削循环G92\n和端面切削循环G94。 \n在下面的说明图中，是用直径指定的。当半径指定时，用U/2替代U、X/2替代X。 \n \n2.8.13.1  外（内）圆切削循环G90 \n指令格式：G90 X（U）__ Z（W）__ R__ F__； \n指令功能：执行该指令时，可实现圆柱面、圆锥面的单一循环加工，循环完毕刀具回起点位置。图2-28、 \n图2-29 中虚线（R）表示快速移动，实线（F）表示切削进给。在增量编程中地址U 后面的数 \n值的符号取决于轨迹1 的X 方向，地址W 后面的数值的符号取决于轨迹2 的Z 方向。 \n其中：X、Z：循环终点绝对坐标值，单位：mm； \nU、W：循环终点相对循环起点的坐标，单位：mm； \nR：循环起点与循环终点的半径之差，单位：mm； \nX(U)、Z (W)、R 取值范围：（－9999.999～＋9999.999）mm \nF：循环中X、Z 轴的合成进给速度，模态指令。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n42 \nX轴\nZ\nW\n4(R)\n2(F)\n1(R)\nU/2\nX/2\nZ轴\n3(F)\n \n图2-28 \nX轴\nZ\nW\n4(R)\n2(F)\nR\n1(R)\nU/2\nX/2\nZ轴\n3(F)\n \n图2-29 \n根据起刀点位置的不同，G90 指令有四种轨迹，如图2-30 所示。 \n1）U＜0，W＜0，R＜0 \n2）U＜0，W＜0，R＞0 \n        \nz \n但 |R|≤|U/2|  \nz \n \n \n \n \n  \n \n \n \nx                                         x \n \n \nU \nR \nW \nD \nA \nB \nC \nU \nR\nW \nA\nB \nC \nD \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n43\n3）U＞0，W＜0，R＜0 \n4）U＞0，W＜0，R＞0 \n但 |R|≤|U/2|                      z \nz \n \n \n \n \n \nx \nx \n \n图2-30 G90 指令运行轨迹 \n \n例：用G90 指令编写图2-31 零件程序，零件尺寸如图2-31 标示。 \nΦ120\nΦ60\n轴\n轴\n \n图2-31  \n程序如下： \nO0001； \nM3 S300； \nG0 X130 Z5； \nG90 X120 Z-110 F200；（C→D） \nX60 Z-30；（A→B） \nG0 X130 Z-30； \nG90 X120 Z-80 R-30 F150；（B→C） \nM5 S0； \nM30； \n \n2.8.13.2  螺纹切削循环G92 \n \n指令格式： G92X(U)__ Z(W)__J__K__ F__ L__； （公制螺纹） \n                 \n \n \n                              \n       指定螺纹导程(L) \nG92X(U)__ Z(W)__ J__K__ I __ L__；（英制螺纹） \n           \nU \nR \nW \nA\nB \nC \nD \nU\nR\nW \nA\nB \nC \nD \n指定螺纹导程(牙数/英寸) \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n44 \n  \n其中：X(U)、 Z(W) 终点坐标，J、K分别为X、Z向的退尾长度，L为螺纹头数 \n英制螺纹导程‘I’为模态指令，可以省略。 \n \n指令功能：执行该指令，可进行等导程的直螺纹、锥螺纹单一循环螺纹加工，循环完毕刀具回起点\n位置。螺纹切削时不需退刀槽。当用户不用J、K设定螺纹的退尾长度时，可由参数号068的\nTHDCH设置螺纹的退尾长度，螺纹倒角宽度=THDCH X 0.1 X 螺距；在增量编程中地址U后\n面的数值的符号取决于轨迹1的X方向，地址W后面的数值的符号取决于轨迹2的Z方向。图\n2-32、图2-33中虚线（R）表示快速移动，实线（F）表示切削进给。当J、K设定值时，按J、\nK设定值执行X、Z轴退尾；当只设定J或K值时，按45度退尾执行；当不需要退尾时，可设J0\n或K0即可。 \n其中：X、Z：循环终点坐标值，单位：mm； \nU、W：循环终点相对循环起点的坐标，单位：mm； \nJ、K：退尾长度，为无符号数。单位：mm；J 为半径指定； \nR：螺纹起点与螺纹终点的半径之差，单位：mm； \nX(U)、Z(W)、R 取值范围：（－9999.999～＋9999.999）mm； \nF：公制螺纹导程，取值范围为（0.001～500），单位：mm，模态指定； \nI：英制螺纹每英寸牙数，取值范围为（0.06～25400），单位：牙/英寸，模态指定； \nL：螺纹头数，取值范围为（1～99），单位：头，模态指定；不指定时默认为1； \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n图2-32 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n45\n)\nF)\nX/2\nR)\n)\nZ\n刀具\nX\n \n图2-33 \n说明 \n● \n关于螺纹切削的注意事项，与G32螺纹切削相同，详情请参阅本手册2.8.6。 \n● \n螺纹切削循环中若有进给保持信号（暂停）输入，循环继续直到3的动作结束后停止； \n● \n螺纹导程范围，主轴速度限制等，与G32的螺纹切削相同； \n● \n当用G92加工直螺纹时，如G92的起刀点与螺纹终点在X方向相同时，将产生报警，因为无\n法识别螺纹为内螺纹或外螺纹。 \n例：先用G90 指令编写图2-34 零件程序，再用G92 指令加工螺纹。零件尺寸如图2-34 标示。 \nΦ\n轴\n轴\n \n图2-34  \n程序如下： \nO0001； \nM3 S300； \nG0 X150 Z50； \nT0101；（外圆车刀） \nG0 X130 Z5； \nG90 X120 Z-110 F200；（C→D） \nX60 Z-30；（A→B） \nG0 X130 Z-30； \nG90 X120 Z-80 R-30 F150；（B→C） \nG0 X150 Z150； \nT0202；（螺纹刀） \nG0 X65 Z5； \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n46 \nG92 X58.5 Z-25 F3；（加工螺纹，分4刀切削） \nX57.5 Z-25； \nX56.5 Z-25； \nX56 Z-25； \nM5 S0； \nM30； \n \n2.8.13.3  端面切削循环G94 \n指令格式：G94 X（U）__ Z（W）__ R__ F__； \n指令功能：执行该指令时，可进行端面的单一循环加工，循环完毕刀具回起点位置。图2-35、图 \n2-36 中R 表示快速移动， F 表示切削进给。在增量编程中地址U 后面的数值的符号取决于轨 \n迹2 的X 方向，地址W 后面的数值的符号取决于轨迹1 的Z 方向。 \n其中：X、Z：循环终点绝对坐标值，单位：mm； \nU、W：循环终点相对循环起点的坐标，单位：mm； \nR：循环起点与循环终点的Z 轴坐标之差，单位：mm； \nX(U)、Z(W)、R 取值范围：（－9999.999～＋9999.999）mm \nF：循环中X、Z 轴的合成进给速度，模态指令。 \n             \n \n图2-35                                      图2-36  \n \n根据起刀点位置的不同，G94 指令有四种轨迹，如图2-37 所示： \n \n1) U<0，W<0，R<0                                 2) U<0，W<0，R>0(│R│≤│W\n│) \n \nZ  \nZ \n \n \n \n \n \nX \n   X \n \nU/2 \nR \nW \nA \nB \nC \nD \nR\nU/2 \nW \nA \nB \nC\nD \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n47\n    \n 3) U>0，W<0，R>0 (│R│≤│W│)             4) U>0，W<0，R<0 \n \n \nZ                                          Z \n \n \n \n \n \n  X \nX \n图2-37 G94 指令运行轨迹 \n例：用G94 指令编写图2-31 零件程序。 \n程序如下： \nO0002； \nM3 S1； \nG0 X130 Z5； \nG94 X120 Z-110 F100；（D→C） \nG0 X120 Z0； \nG94 X60 Z-30 R-50；（C→B→A） \nM5 S0； \nM30； \n \n2.8.13.4  单一型固定循环指令的注意事项 \n1） 在单一型固定循环中，数据X（U），Z（W），R 都是模态值，当没有指定新的X（U），Z（W），\nR 时，前面指令的数据均有效； \n2） 在单一型固定循环中，对于X（U），Z（W），R 的数据，当指令了G04 以外的非模态G 指令\n或G90、G92 或G94 以外的01 组的指令时，被清除。 \n3） 在G90、G92 或G94 程序段后只有无移动指令的程序段时，则不会重复此固定循环。  \n（例）  N003 M3； \n… \n… \nN010 G90 X20.0 Z10.0 F2000； \nN011 M8；（不会重复执行G90） \n… \n… \n4） 在固定循环状态中，如果指令了M，S，T，那么，固定循环可以和M，S，T 功能同时进行。\n如果不巧，象下述例子那样指令M，S，T 后取消了固定循环（由于指令G00，G01）时，请再\n次指令固定循环。 \nU/2 \nR \nW \nD \nC \nB \nA \nU/2 \nR\nW\nD \nC \nB\nA \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n48 \n（例）N003 T0101； \n… \nN010 G90 X20.0 Z10.0 F2000； \nN011 G00 T0202； \nN012 G90 X20.5 Z10.0； \n \n \n \n2.8.14  复合型固定循环指令 \n为更简化编程，本系统提供了六个复合型固定循环指令，分别为：外（内）圆粗车循环G71；端\n面粗车循环G72；封闭切削循环G73；精加工循环G70；端面深孔加工循环G74；外圆切槽循环G75及\n复合型螺纹切削循环G76运用这组复合循环指令，只需指定精加工路线和粗加工的吃刀量等数据，系统\n会自动计算粗加工路线和走刀次数。 \n \n \n \n2.8.14.1  外（内）圆粗车循环G71 \n指令格式：G71 U\nU（Δd）\nU R\nU（e）\nU； \nG71 P（NS） Q（NF） U（Δu） W（Δw）F   S   T  ； \nN（NS） ．．．．．； \n      ．．．．．．．．； \n．．．．F； \n．．．．S； \n．．．．T；          精加工路线程序段 \n·                 \n \n    \nN（NF）．．．．．；  \n                                 \n指令功能：系统根据NS～NF程序段给出工件精加工路线，吃刀量、进刀与退刀量等自动计算粗加 \n工路线，如图2-38所示。用与Z轴平行的动作进行切削。对于非成型棒料可一次成型。 \n其中：Δd：切深，无符号。切入方向由AA'方向决定（半径指定），取值范围为（0.001～9999.999），\n单位：mm。模态指定，一直到下个指定以前均有效。另外，用参数（№.071）也可以\n指定，根据程序指令，参数值也改变。 \ne：退刀量（半径指定），单位：mm。模态指定，在下次指定前均有效。用参数（№.072）\n也可设定，用程序指令时，参数值也改变。 \nNS：精加工路线程序段群的第一个程序段的顺序号。 \nNF：精加工路线程序段群的最后一个程序段的顺序号。 \nΔu：X轴方向精加工余量的距离及方向，取值范围为（±9999.999），单位：mm。 \nΔw：Z轴方向精加工余量的距离及方向，取值范围为（±9999.999），单位：mm。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n49\nF：切削进给速度，其取值范围为（1～9999.999），单位：mm/min； \nS：主轴的转速； \nT：刀具、刀偏号； \n \n \n \n \n \n \n \n \n \n \n \n \n图2-38 G71 指令运行轨迹 \n说明 \n● \n△d，△u都用同一地址U指定，其区分是根据该程序段有无指定P，Q区别。 \n● \n循环动作由P，Q指定的G71指令进行。 \n● \n在G71循环中，顺序号NS～NF之间程序段中的F、S、T功能都无效，全部忽略。G71程序\n段或以前指令的F，S，T有效。顺序号NS～NF间程序段中F、S、T只对G70指令循环有效。 \n● \n在带有恒线速控制选择功能时，顺序号NS～NF之间程序段中的G96或G97无效，在G71\n或以前程序段指令的有效。 \n● \n根据切入方向的不同，G71指令轨迹有下述四种情况（图2-39），但无论哪种都是根据刀具\n平行Z轴移动进行切削的，Δu、Δw的符号如下： \n \nA\nA'\nB \nU(-)..W(+) \nA\nA'\nB \nU(-)..W(-) \nA\nA'\nB \nU(+)..W(+) \nA\nA'\nB \nU(+)..W(-) \nZ \nX \n直线，圆弧插补\n都可以 \n \n图2-39  \n● \n在A至A'间顺序号NS的程序段中可含有G00或G01指令，但不能含有Z轴指令。 \n● \n在A'至B间，X轴、Z轴必须都是单调增大或减小。 \n程序指定的轨迹\n△D\n△W\n△U/2\n快速进给\n切削进给\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n50 \n● \n在顺序号NS到NF的程序段中，不能调用子程序。 \n例：用复合型固定循环G71的编写图2-40的零件程序。 \n起点\n(200,10)\n0.5\n2\na\nb\nc\nd\ne\n \n图2-40  \n \n程序如下： \nO0001； \nN010 G50 X220.0 Z50；（设定座标系） \nN020 M3 S300；（主轴正转，转速；300转/分钟） \nN030 M8；（开冷却） \nN040 T0101；（调入粗车刀） \nN050 G00 X200.0 Z10.0；（快速定位，接近工件） \nN060 G71 U4.0 R1.0；（每次切深4mm[半径]，退刀1mm[半径]） \nN070 G71 P080 Q120 U1 W2.0 F100 S200；（对a---d粗车加工，余量X方向1mm，Z方向2mm） \nN080 G00 X40.0；（定位到X40）                                    \nN090 G01 Z-30.0 F100 S200；（a→b） \nN100 X60.0 W-30.0；（b→c）                   精加工路线a→b→c→d→e程序段  \nN110 W-20.0；（c→d）                                    \nN120 X100.0 W-10.0；（d→e）                             \nN130 G00 X220.0 Z50.0； （快速退刀到安全位置） \nN140 T0202；（调入2号精加工刀，执行2号刀偏） \nN160 G70 P80 Q120；（对a---d精车加工） \nN170 M05 S0； （关主轴，停转速） \nN180 M09；（关闭冷却） \nN190 G00 X220.0 Z50.0 T0100；（快速回安全位置，换回基准刀，清刀偏） \nN200 M30；（程序结束） \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n51\n2.8.14.2  端面粗车循环G72 \n指令格式：G72 W\nU（Δd）\nU R \nU（e）\nU； \nG72 P\nU（NS）\nU Q\nU（NF）\nU U\nU（Δu）\nU W\nU（Δw）\nUF   S   T  ； \nN（NS） ．．．．．； \n ．．．．．．．； \n．．．． F； \n．．．．S； \n．．．．T；          精加工路线程序段 \n·                  \n    \n                            \n·                \nN（NF）．．．．．； \n指令功能：系统根据NS～NF程序段给出工件精加工路线，吃刀量、进刀退刀量等自动计算粗加工 \n路线，用与X轴平行的动作进行切削。对于非成型棒料可一次成型。 \n其中： \nΔd：切深，无符号。切入方向由AA'方向决定，取值范围为（0.001～9999.999），单位：mm。模\n态指定，一直到下个指定以前均有效。另外，用参数（№.071）也可以指定，根据程序指令，\n参数值也改变。 \ne：退刀量，单位：mm。模态指定，在下次指定前均有效。用参数（№.072）也可设定，用程序\n指令时，参数值也改变。 \nNS：精加工路线程序段群的第一个程序段的顺序号。 \nNF：精加工路线程序段群的最后一个程序段的顺序号。 \nΔu：X轴方向精加工余量的距离及方向，取值范围为（±9999.999），单位：mm。 \nΔw：Z轴方向精加工余量的距离及方向，取值范围为（±9999.999），单位：mm。 \nF：切削进给速度，其取值范围为（1～9999.999），单位：mm/min； \nS：主轴的转速； \nT：刀具、刀偏号； \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n52 \n程序指定的轨迹\n切削进给\n快速进给\n△U/2\n△W\n△D\n       \n图2-41  \n说明 \n● \n△d，△u都用同一地址U指定，其区分是根据该程序段有无指定P，Q区别。 \n● \n循环动作由P，Q指定的G72指令进行。 \n● \n在G72循环中，顺序号NS～NF之间程序段中的F、S、T功能都无效，全部忽略。G72程序\n段或以前指令的F，S，T有效。顺序号NS～NF间程序段中F、S、T只对G70指令循环有效。 \n● \n在带有恒线速控制选择功能时，顺序号NS～NF之间程序段中的G96或G97无效，在G71\n或以前程序段指令的有效。 \n● \n根据切入方向的不同，G72指令轨迹有下述四种情况（图2-42），但无论哪种都是根据刀具\n平行X轴移动进行切削的，Δu、Δw的符号如下： \n● \n在A至A'间顺序号NS的程序段中可含有G00或G01指令，但不能含有X轴指令。 \n● \n在A'至B间，X轴、Z轴必须都是单调增大或减小。 \n● \n在顺序号NS到NF的程序段中，不能调用子程序。 \n \n \n \n \n \n \n \n \n \n \n \n图2-42 G72 指令轨迹的四种形状 \nU(-)..W(+).. \nU(+)..W(+).. \nU(-)..W(-).. \n直线和圆弧插补都可以\nB \nB \nU(+)..W(-).. \nX \nB\nB \nZ\nA’ \nA \nA’ \nA’ \nA \nA’ \nA \nA\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n53\n例：用复合型固定循环G72的编写下图2-43的零件程序。 \nφ\nφ\nφ\n起点\n（176，10）\n \n图2-43  \n \n \n程序如下： \nO0002； \nN010 G50 X220.0 Z50.0；（设定工件坐标系） \nN015 T0202；（换2号刀，执行2号刀偏） \nN017 M03 S200；（主轴正转，转速200） \nN020 G00 X176.0 Z10.0；（快速定位，接近工件） \nN030 G72 W7.0 R1.0；（进刀量7mm，退刀量1mm） \nN040 G72 P050 Q090 U4.0 W2.0 F100 S200；（对a--d粗车，X留4mm，Z留2mm余量） \nN050 G00 Z-55.0  S200 ；（快速定位） \nN060 G01 X160.0 F120；（进刀至a点） \nN070 X80.0 W20.0；（加工a—b）                   精加工路线程序段 \nN080 W15.0；（加工b—c） \nN090 X40.0 W20.0 ；（加工c—d） \nN100 G0 X220.0 Z50.0；（快速退刀至安全位置） \nN105 T0303；（换3号刀，执行3号刀偏） \nN110 G70 P050 Q090；（精加工a—d） \nN120 M5 S0 T0200；（停主轴，换2号刀，取消刀补）； \nN130 G0 X220.0 Z50.0；（快速返回起点） \nN140 M30；（程序结束） \n \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n54 \n2.8.14.3  封闭切削循环G73 \n指令格式：G73 UU（Δi）U W U（Δk）U R U（d）U；  \nG73 PU（NS）U QU（NF）U UU（Δu）U WU（Δw）UF   S   T  ； \n指令功能：利用该循环指令，可以按NS～NF 程序段给出的轨迹重复切削，每次切削刀具向前移动\n一次。对于锻造，铸造等粗加工已初步形成的毛坯，可以高效率地加工。 \n其中：Δi：X轴方向退刀的距离及方向（半径值），单位：mm；模态指定，一直到下次指定前均有\n效。另外，用参数（№.073）也可设定，根据程序指令，参数值也改变。 \nΔk：Z轴方向退刀距离及方向，单位：mm；模态指定，一直到下次指定前均有效。另外，\n用参数（№.074）也可设定，根据程序指令，参数值也改变。 \nD：封闭切削的次数，单位：次；模态指定，一直到下次指定前均有效。另外，用参数（№.075）\n设定，根据程序指令，参数值也改变。 \nNS：构成精加工形状的程序段群的第一个程序段的顺序号； \nNF：构成精加工形状的程序段群的最后一个程序段的顺序号； \nΔu：X轴方向的精加工余量，取值范围为（0.001～9999.999），单位：mm ，根据参数№.1\n第3位的设置，给定值为半径值或直径值； \nΔw：Z轴方向的精加工余量，取值范围为（0.001～9999.999），单位：mm； \nF：切削进给速度，其取值范围为（1～9999.999），单位：mm/min； \nS：主轴的转速； \nT：刀具、刀偏号； \n△K+△W\n△W\n′\n△U/2\n△i+△U/2\n到D段分为（d-1）份\n \n图2-44 G73 指令运行轨迹 \n说明 \n● \n在NS～NF间任何一个程序段上的F、S、T功能均无效。仅在G73中指定的F、S、T功能有\n效。 \n● \nΔi，ΔK，ΔU，ΔW都用地址U，W指定，其区别根据有无指定P，Q来判断。 \n● \nG73中NS到NF间的程序段不能调用子程序。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n55\n● \n根据NS～NF程序段来实现循环加工，编程时请注意Δu、Δw、Δi、Δk的符号。循环结\n束后，刀具返回A点。 \n● \n当程序中Δi，ΔK任一个为0时，需在程序中编入U0或W0；或将参数＃73及＃74设置为0。\n否则可能会受到上一次G73程序的设定值影响。 \n例：用封闭切削循环指令G73编写图2-45所示零件的加工程序 \n轴\n起点\n(200,10)\n轴\n16\n \n图2-45 G73 指令举例图 \n程序如下：（直径指定，公制输入） \nN010 G50 X260.0 Z50.0 ；（设置工件坐标系） \nN011 G99 G00 X200.0 Z10.0 M03；（指定转进给，快速定位至起点，启动主轴） \nN012 G73 U14.0 W14.0 R3 ；（X向退刀28mm，Z向退刀14mm） \nN013 G73 P014 Q019 U4.0 W2.0 F0.3 S0180 ；（粗车，X留4mm，Z留2mm精车余量） \nN014 G00 X80.0 W-10.0 ； \nN015 G01 W-20.0 F0.15 S0600 ； \nN016 X120.0 W-10.0 ； \nN017 W-20.0 S0400 ；                 精加工形状程序段 \nN018 G02 X160.0 W-20.0 R20.0 ； \nN019 G01 X180.0 W-10.0 S0280 ； \nN020 M05 S0 ；（停主轴） \nN021 G0 X260.0 Z50.0 ；（快速定位） \nN022 M30 ；（程序结束） \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n56 \n2.8.14.4  精加工循环G70 \n指令格式：G70 P\nU（NS）\nU Q\nU（NF）\nU； \n指令功能：执行该指令时刀具从起始位置沿着NS～NF程序段给出的工件精加工轨迹进行精加工。 \n在用G71，G72，G73进行粗加工后时，可以用G70指令进行精车。 \n其中：NS：构成精加工形状的程序段群的第一个程序段的顺序号； \nNF：构成精加工形状的程序段群的最后一个程序段的顺序号。 \nG70 指令轨迹由NS～NF 之间程序段的编程轨迹决定。NS、NF 在G70～G73 程序段中的相对位\n置关系如下： \n．．．．．．．． \n．．．．．．．． \nG71/G72/G73 P（NS） Q（NF） U（Δu） W（Δw） F   S   T  ； \nN（NS） ．．．．．． \n ．．．．．．．． \n· F              \n· S   \n· T   \n·  \n \n·                \nN（NF）．．．．．．                              \n· \nG70 P（NS） Q（NF）； \n· \n说明 \n● \n在G71 G72 G73 程序段中规定的F、S和T功能无效，但在执行G70时顺序号“NS”和“NF”\n之间指定的F、S和T有效。 \n● \n当G70循环加工结束时刀具返回到起点并读下一个程序段。 \n● \nG70指令可含有M、S、T、F指令。 \n● \nG70中NS到NF间的程序段不能调用子程序。 \n例：见G71、G72指令实例。 \n \n2.8.14.5  端面深孔加工循环G74 \n指令格式：G74 R\nU（e）\nU； \nG74 X（U） Z（W）  P（Δi）Q（Δk）U RU（Δd）U F； \n指令功能：执行该指令时，系统根据程序段所确定的切削终点（程序段中X 轴和Z 轴坐标值所确定 \n的点）以及e、Δi、Δk 和Δd 的值来决定刀具的运行轨迹。在此循环中，可以处理外形切削 \n的断屑，另外，如果省略X（U），P， 只是Z 轴动作，则为深孔钻循环。轨迹如图2-46 所示。 \n其中：e：每次沿Z 方向切削Δk 后的退刀量，设定范围为（0～9999.999），单位：mm；模态指\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n57\n定，一直到下次指定前均有效。另外，用参数（№.076）也可设定，根据程序指令，参数\n值也改变。 \nX：B点X方向的绝对坐标值，单位：mm； \nU：A到B的增量，单位：mm； \nZ：C点Z方向的绝对坐标值，单位：mm； \nW：A到C的增量，单位：mm； \nΔi：X方向的每次循环移动量（无符号、半径值），单位：mm； \nΔk：Z方向的每次切削移动量（无符号），单位：mm； \nΔd：切削到终点时X方向的退刀量（半径值），单位：mm，通常不指定，省略X（U）\n和ΔI时，则视为0；   \nF：切削进给速度。 \n           Δk’ \n \n \n \n \n \n \n \n       C \n \n \n图2-46  \n \n说明 \n● \ne和Δd都用地址R指定，它们的区别根据有无指定X（U），也就是说，如果X（U）被指令\n了，则为Δd，如无指令X（U），则为e； \n● \n循环动作用含X（U）指定的G74指令进行。 \n例：用G74 指令编写图2-47 零件程序，零件尺寸如图2-47。 \ne \n△k\n△k\n△k \n△k \n F      F      F      F       F \n R       R    R         R\n W \nZ \nU/2\nA\n△i\n△i’\nB \nX \n△d \n0＜△k’≤△k \n0＜△i’≤△i \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n58 \n80\n \n图2-47  \n \n程序如下： \nO0001；（程序名） \nG50 X100 Z50；（快速定位） \nM3 S500；（启动主轴，置转速500） \nG0 X40 Z5；（定位到加工起始点） \nG74 R1 ；（加工循环） \nG74 X20 Z60 P2 Q2 F50； \nG0 Z50；（Z向退刀） \nX100；（X向退刀） \nM5 S0；（停主轴） \nM30；（程序结束） \n \n \n \n2.8.14.6  外圆切槽循环G75 \n指令格式：G75 R\nU（e）\nU；  \nG75 X（U）   Z（W）   PU（Δi）U QU（Δk）U RU（Δd）U F  ； \n指令功能：执行该指令时，系统根据程序段所确定的切削终点（程序段中X 轴和Z 轴坐标值所确定 \n的点）以及e、Δi、Δk 和Δd 的值来决定刀具的运行轨迹。相当于在G74 中，把X 和Z \n调换，在此循环中，可以进行端面切削的断屑处理，并且可以对外径进行沟槽加工和切断加 \n工（省略Z、W、Q）。轨迹如图2-48 所示。 \n其中：e：每次沿X 方向切削Δi 后的退刀量，设定范围为（0～9999.999），单位： mm；模态指\n定，一直到下次指定前均有效，另外，用参数（№.076）也可设定，根据程序指令，参\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n59\n数值也改变，半径指令； \nX：C 点Z 方向的绝对坐标值，单位：mm； \nU：A 到C 的增量，单位：mm； \nZ：B 点的Z 方向绝对坐标值，单位：mm； \nW：A 到B 的增量，单位：mm； \nΔi：X 方向的每次循环移动量（无符号，半径值），单位：mm； \nΔk：Z 方向的每次切削移动量（无符号），单位：mm； \nΔd：切削到终点时Z 方向的退刀量，通常不指定，省略X（U）和ΔI 时，则视为0； \nF：切削进给速度。 \n \nG74、G75 都可用于切断、切槽或孔加工。可以使刀具进行自动退刀。 \n \n \n \n \n \n \n \n                                      A \n \n \n \n \n \n \n \n                                           C                                                 \nB \n \n \n \n图2-48 \n说明： \n● \ne和Δd都用地址R指定，它们的区别根据有无指定X（U），也就是说，如果X（U）被指令\n了，则为Δd，如无指令X（U），则为e； \n● \n循环动作用含X（U）指定的G75指令进行。 \n例：用G75 指令编写图2-49 零件程序，零件尺寸如图2-49。 \nF   \nF \n \nF   \nF \n    \nF \nR \n \nR   \nR \n   \nR \nX \nZ \n△i\ne \nU/2\n△d\n W\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n60 \n \n图2-49  G75 指令切削实例图 \n \n程序如下： \nO0001；（程序名） \nG50 X150 Z50；（快速定位） \nM3 S500；（启动主轴，置转速500） \nG0 X125 Z-20；（定位到加工起始点） \nG75 R1 ；（加工循环） \nG75 X40 Z-50 P2 Q2 F50； \nG0 X150；（X向退刀） \nZ50；（Z向退刀） \nM5 S0；（停主轴） \nM30；（程序结束） \n \n \n \n2.8.14.7  复合型螺纹切削循环G76 \n指令格式：G76 P\nU（m）（r）（a）\nU Q\nU（△dmin）\nU R\nU（d）\nU； \nG76 X（U）   Z（W）   RU（i）U PU（k）U QU（△d）U F（I）  ； \n指令功能：系统根据指令地址所给的数据自动计算并进行多次螺纹切削循环螺纹加工完成，指令轨\n迹如图2-50 所示。 \n其中： \nX、Z：螺纹终点（螺纹底部）坐标值，单位：mm； \nU、W：螺纹终点相对加工起点的坐标值，单位：mm； \nm：最后精加工的重复次数1～99，此指定值是模态的，在下次指定前均有效。另外用参数（№.077）\n也可以设定，根据程序指令，参数值也改变。最后精加工的重复次数，其范围是1～99； \nr：螺纹倒角量。如果把L 作为导程，在0.01～9.9L 的范围内，以0.1L 为一挡，可以用00~99 两\n位数值指定。该指定是模态的，在下次指定前一直有效。另外，用参数（№.068）也可以设定，\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n61\n根据程序指令也可改变参数值。在G76 程序中设定螺纹倒角量后，在G92 螺纹切削循环中也起\n作用。 \na：刀尖的角度（螺纹牙的角度可以选择80°，60°，55°，30°，29°，0°6 种角度。把此角\n度值原数用两位数指定。此指定是模态的，在下次被指定前均有效。另外，用参数（№.078）也\n可以设定，根据程序指令也可改变参数值。刀尖的角度。可以选择80°、60°、55°、30°、\n29°、0°六种角度； \n△dmin：最小切入量，单位：mm。当一次切入量（△D×\nN -△D×\n1\nN −）比△dmin 还小时，\n则用△dmin 作为一次切入量。该指定是模态的，在下次被指定前均有效。另外，用参数（№.079）\n也可以设定，用程序指令也改变参数值。最小切入量，可用参数（№.079）设定，设定范围为（0～\n9999999），单位：0.001mm； \nd：精加工余量，单位：mm。此指定是模态的，在下次被指定前均有效。并且用参数（№.080）也\n可以设定，用程序指令，也改变参数值。精加工余量，可用参数（№.080）设定，设定范围为（0～\n9999999），单位：0.001mm； \ni：螺纹部分的半径差，单位：mm，i=0 为切削直螺纹； \nk：螺纹牙高（X 轴方向的距离用半径值指令），单位： mm； \n△d：第一次切削深度，半径值，单位： mm。 \nF：螺纹导程，单位：mm； \nI：每英寸牙数。 \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n图2-50 \n切入方法的详细情况见图2-51： \nW\nU/2\nX轴\nZ\nD\nX/2\nC\nA\nE\nZ轴\nB\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n62 \n \n图2-51  \n说明： \n● \n用P、Q、R指定的数据，根据有无地址X（U），Z（W）来区别。 \n● \n循环动作由地址X（U），Z（W）指定的G76指令进行。 \n● \n循环加工中，刀具为单侧刃加工，刀尖的负载可以减轻. \n● \n第一次切入量为△d，第N次为△D×\nN ，每次切削量是一定的 \n● \n考虑各地址的符号，有四种加工图形，也可以加工内螺纹。在图2-50所示的螺纹切削中，\n只有B，C间用F指令的进给速度，其他为快速进给。 \n循环中，增量的符号按下列方法决定： \nU：由轨迹A 到C 方向决定； \nW：由轨迹C 到D 的方向决定； \nR（I）：由轨迹A 到C 的方向决定； \nP（K）：为正； \nQ（△D）：为正。 \n● \n关于切螺纹的注意事项，与G32切螺纹相同。 \n● \n螺纹倒角量的指定，对G92螺纹切削循环也有效。 \n● \nm，r，a同用地址p一次指定。 \n例：用螺纹切削复合循环G76指令编图2-52程序，加工螺纹为M68×6。 \n6\n60.64\n68\n62\n \n图2-52  \n程序如下： \nG50 X100 Z50；（设置浮动坐标系） \nM3 S300；（启动主轴，指定转速） \n切削点放大图\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n63\nG00 X80 Z10；（快速定位到加工起点） \nG76 P011060 Q0.1 R0.2；（进行螺纹切削） \nG76 X60.64 Z-62 P3.68 Q1.8 F6.0； \nG00 X100 Z50；（返回程序起点） \nM5 S0；（停主轴） \nM30；（程序结束） \n \n2.8.14.8  复合型固定循环指令注意事项 \n1）在指定复合型固定循环的程序段中P，Q，X，Z，U，W，R等必要的参数，在每个程序段中必\n须正确指令。 \n2）在G71，G72，G73指令的程序段中，如果有P指令了顺序号，那么对应此顺序号的程序段必须\n指令01组G指令的G00或G01，否则P/S报警（№.65）。 \n3）在MDI方式中，不能执行G70，G71，G72，G73，G74，G75，G76指令。即使指令了，也不\n执行。 \n4）在G70，G71，G72，G73程序段中，用P和Q指令顺序号的程序段范围内，不能有下面指令。 \n★ G00，G01，G02，G03以外的01组指令； \n★ M98/M99； \n★ G04在粗加工最后成形一刀及精加工中有效。 \n5）在执行复合固定循环（G70～G76）中，可以使动作停止插入手动运动，但要再次开始执行复合\n型固定循环时，必须返回到插入手动运动前的位置。如果不返回就再开始，手动的移动量不加\n在绝对值上，后面的动作将错位，其值等于手动的移动量。 \n6）执行G70，G71，G72，G73时，用P，Q指定的顺序号，在这个程序内不能重合。 \n7）对于G76指定切螺纹的注意事项，与G32切螺纹和用G92螺纹切削循环相同，对螺纹倒角量的指\n定，对G92螺纹切削循环也有效。 \n2.9   用户宏程序 \n把由一组指令实现的某种功能象子程序一样事先存入存储器中，用一个命令代表这些功能。程序中\n只要写出该代表命令，就能实现这些功能。把这一组命令称为用户宏程序本体，把代表命令称为“用户\n宏命令”。用户宏程序本体有时也简称宏程序。用户宏指令也称为宏程序调用命令。 \n \n \n \n \n \n \n \n \n \n用户宏命令 \n主程序 \n \n \n完成某功能的一组指\n令 \n用户宏程序本体 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n64 \n编程人员不必记忆用户宏程序本体，只要记住作为代表命令的用户宏指令就行了。 \n用户宏程序最大特点是在用户宏程序本体中，能使用变量。变量间可以运算，并且用宏指令命令可\n以给变量赋值。 \n2.9.1  用户宏指令 \n用户宏指令是调用用户宏程序本体的命令。 \n指令格式如下： \nM98P□□□□； \n \n利用上述指令，可调用用P 指定的宏程序本体。 \n2.9.2  用户宏程序本体 \n在用户宏程序本体中，可以使用一般的CNC 指令，也可使用变量，运算及转移指令。 \n用户宏程序的本体，以O 后续的程序号开始，用M99 结束。 \n \n \n \n \n \n \n \n \n1） 变量的使用方法 \n用变量可以指令用户宏程序本体中的地址值。变量值可以由主程序赋值或通过键盘设定，或者在执 \n行用户宏程序本体时，赋给计算出的值。 \n可使用多个变量，这些变量用变量号来区别。 \na）变量的表示 \n用#后变量号来表示度量，格式如下： \n#（i=200，202，203，204……） \n（例）#205，#209，#1005 \nb）变量的引用 \n用变量可以置换地址后的数值。 \n如果程序中有”﹤地址﹥# i”或者”﹤地址﹥－# i”，则表示把变量的值或者把变量的值的负值作为地\n址值。 \n（例）F#203…当#203=15 时，与F15 指令是同样的。 \nZ-#210…当#210=250 时，与Z-250 是同样的。 \nG#230…当#230=3 时，和G3 是同样的。 \n用变量置换变量号时，不用##200 描述，而写为#9200，也就是#后面的“9”表示置换变量号。 \n用户宏程序本体的构成\n被调用的宏程序本体的程序号 \n08000； \nG65 H01... ...； \nG00 X#101... .. \n… \n… \nG65 H82...； \nM99 \n程序号 \n运算指令 \n使用变量的CNC 指令 \n转移指令 \n用户宏程序本体结束 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n65\n下面的三行是置换变量号的实例。 \n（例）#200 = 205 时，#205 = 500 时 \nX#9200 和X500 指令是同样的 \nX-#9200 和X-500 指令是同样的 \n注1：地址O和N不能引用变量。不能用O#200，N#220编程。 \n注2：如果超过了地址所规定的最大指令值，不能使用。#230 = 120时，M#230超过了最大指令值。 \n注3：变量值的显示和设定：变量值可以显示在LCD画面上，也可以用按键给变量设定值。 \n \n2）变量的种类 \n根据变量号的不同，变量分为公用变量和系统变量，它们的用途和性质都不同。 \na） 公用变量#200～#231 \n公用变量在主程序以及由主程序调用的各用户宏程序中是公用的。即某一用户宏程序中使用的变量# i\n和其它宏程序使用的# i 是相同的。因此，某一宏程序中运算结果的公用变量 # i 可以用于其他宏程序中。 \n公用变量的用途，系统中不规定，用户可以自由使用。 \n公用变量#200～#231，切断电源清除，电源接通时全部为“0”。 \nb） 公用变量#500～#515 \n此变量用法跟＃200～＃231 一样，但切断电源后，变量的数据保留，在下次通电后仍可继续使用上次\n的数据。 \nc）系统变量 \n此变量的用途在系统中是固定的。 \n接口输入信号#1000～#1015（选择机能—需配相应的选择件） \n系统读取到作为接口信号的系统变量#1000～1015 的值后，便可知道接口输入信号的状态。 \n \n位号：7 \n6 \n5 \n4 \n3 \n2 \n1 \n0 \n*TCP \nDIQP \n*DECX \nDITW \n*SP \n*ST \n*DECZ \n*ESP \n#1007 \nXS6：49 \n#1006 \nXS6：47 \n#1005 \nXS40：1\n#1004 \nXS40：2 \n#1015 \nXS40：7 \n#1014 \nXS40：8 \n#1013 \nXS40：9 \n#1012 \nXS40：10\n \nT08 \nT07 \nT06 \nT05 \nT04 \nT03 \nT02 \nT01 \n#1011 \nXS40：19\n#1010 \nXS40：20 \n#1009 \nXS40：21\n#1008 \nXS40：22\n#1003 \nXS40：\n3 \n#1002 \nXS40：4 \n#1001 \nXS40：5 \n#1000 \nXS40：\n6 \n \n这16 位DI 信号的值在系统内部自动赋给宏变量（#1000—#1015）。与其它判断跳转宏指令一起使\n用可作各种处理。#1005—#1015 是对应各点的值（0/1）。 \n接口输出信号#1100～#1107（选择机能—需配相应的选择件）。 \n002 \n编程变量号 \n插座脚号 \n001 \n宏程序 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n66 \n可以给系统变量#1100～1107 赋值，以改变输出信号的状态。 \n \n位号：7 \n6 \n5 \n4 \n3 \n2 \n1 \n0 \nTL- \nTL+ \nDOQPS \nDOTWS\nS04/M44\nS03/M43 \nS02/M43 \nS01/M41\n#1107 \nXS40：12 \n#1106 \nXS40：13 \n#1105 \nXS39：10\n#1104 \nXS39：9\n#1103 \nXS39：8\n#1102 \nXS39：14 \n#1101 \nXS39：1 \n#1100 \nXS39：5\n \n这8 位DO 信号可以通过宏变量（#1100—#1107）的赋值而输出1 或0。 \n \n2.9.3  运算命令和转移命令（G65） \n一般形式： \nG65 Hm P# i  Q# j  r# k； \nm：01～99 表示运算命令或转移命令功能。 \n# i：存入运算结果的变量名。 \n# j：进行运算的变量名1，也可以是常数。 \n# k：进行运算的变量名2，也可以是常数。 \n \n意义：# i = #j O # k \n \n \n（例）P#200 Q#201 R#202…..#200 = #201 O #202； \nP#200 Q#201 R15….#200 = #201 O 15； \nP#200 Q-100 R#202…..#200 = -100 O #202； \n注1：变量值不含小数点。各变量值所表示的意义同用各地址不带小数点所表示的意义是同样的。 \n（例）#200 = 10 \nX#200=X 10mm(毫米输入时)  \n注2：常数直接表示，不带# \n注3：用G65 指定的H 代码，对偏置量的选择没有任何影响。 \n \nG 代码 \nH 码 \n功  能 \n格  式 \n定  义 \nG65 \nH01 \n赋值 \nG65 H01 P#I  Q#J \n#i=#j \nG65 \nH02 \n加法 \nG65 H02 P#I  Q#J \nR#K \n#i=#j+#k \nG65 \nH03 \n减法 \nG65 H03 P#I  Q#J \nR#K \n#i=#j-#k \n006 \n宏程序 \n编程变量号 \n插座脚号 \n诊断号 \n运算符号，由Hm 指定\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n67\nG65 \nH04 \n乘法 \nG65 H04 P#I  Q#J \nR#K \n#i=#j×#k \nG65 \nH05 \n除法 \nG65 H05 P#I  Q#J \nR#K \n#i=#j÷#k \nG65 \nH11 \n逻辑加（或）G65 H11 P#I  Q#J \nR#K \n#i=#j OR #k \nG65 \nH12 \n逻辑乘（与）G65 H12 P#I  Q#J \nR#K \n#i=#j AND #k \nG65 \nH13 \n异或 \nG65 H13 P#I  Q#J \nR#K \n#i=#j XOR #k \nG65 \nH22 \n绝对值 \nG65  H22 P#I  Q#J \n#i=  #j \nG65 \nH23 \n取余数 \nG65 H23 P#I  Q#J \nR#K \n#i=#j-trunc(#j÷#k)×#k 见\n注 \nG65 \nH24 \n十进制变为\n二进制 \nG65  H24 P#I  Q#J \n#i=BIN(#j) \nG65 \nH25 \n二进制变为\n十进制 \nG65  H25 P#I  Q#J \n#i=BCD(#j) \nG65  \nH80 \n无条件转移 \nG65  H80 PN \n转向N \nG65 \nH81 \n条件转移1 \nG65 H81 PN  Q#J \nR#K \nIF #j=#k，GOTO N \nG65 \nH82 \n条件转移2 \nG65 H82 PN  Q#J \nR#K \nIF #j≠#k，GOTO N \nG65 \nH83 \n条件转移3 \nG65 H83 PN  Q#J \nR#K \nIF #j＞#k，GOTO N \nG65 \nH84 \n条件转移4 \nG65 H84 PN  Q#J \nR#K \nIF #j＜#k，GOTO N \nG65 \nH85 \n条件转移5 \nG65 H85 PN  Q#J \nR#K \nIF #j≥#k，GOTO N \nG65 \nH86 \n条件转移6 \nG65 H86 PN  Q#J \nR#K \nIF #j≤#k，GOTO N \nG65 \nH99 \n产生P/S 报\n警 \nG65  H99  PN \n产生400+N 号的P/S 报警 \n \n1）运算命令 \na）变量的赋值，# I = # J \nG65 H01 P# I Q# J； \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n68 \n（例）G65 H01 P# 201 Q1005；   （#201 = 1005） \nG65 H01 P#201 Q#210；   （#201 = #210） \nG65 H01 P#201 Q-#202；   （#201 = -#202） \nb）加算 # I = # J + # k \nG65 H02 P# I Q# J R#K； \n（例）G65 H02 P# 201 Q202 R15；   （#201 = #202+15） \nc）减算# I = # J－# k \nG65 H03 P# I Q# J R# k； \n（例）G65 H03 P# 201 Q#202 R#203；   （#201 = #202－#203） \nd）乘算# I = # J×# k \nG65 H04 P# I Q# J R# k； \n（例）G65 H04 P# 201 Q#202 R#203；   （#201 = #202×#203） \ne）除算# I = # J/# k \nG65 H05 P# I Q# J R# k； \n（例）G65 H05 P# 201 Q#202 R#203；   （#201 = #202 / #203） \nf）逻辑加（或） \nG65 H11 P# I Q# J R# k； \n（例）G65 H11 P# 201 Q#202 R#203；   （#201 = #202 or #203） \ng）逻辑乘（与） \nG65 H12 P# I Q# J R# k； \n（例）G65 H12 P# 201 Q#202 R#203；   （#201 = #202 and #203） \nh）异或 \nG65 H13 P# I Q# J R# k； \n（例）G65 H13 P# 201 Q#202 R#203；   （#201 = #202 xor #203） \ni）取绝对值 \nG65 H22 P# I Q# J ； \n（例）G65 H22 P# 201 Q#202；   （#201 = |#202|） \nj）取余数 \nG65 H23 P# I Q# J R# k； \n（例）G65 H23 P# 201 Q#202 R#203；   （#201=#202-trunc(#202÷#203)×#203） \nk）十进制转换为二进制 \nG65 H24 P# I Q# J； \n（例）G65 H24 P# 201 Q#202；   （#201 = BIN(#202)） \nl）异或 \nG65 H25 P# I Q# J； \n（例）G65 H25 P# 201 Q#202；   （#201 = BCD(#202)） \n注1：用度指定（P）～（S）的单位，单位是1%度。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n69\n注2：在各运算中，当必要的Q，R 没指定时，其值作为零参加运算。 \n \n2）转移命令 \na）无条件转移 \nG65 H80 Pn；  n：顺序号 \n（例）G65 H80 P120；（转到N120 程序段） \n注：无条件跳转指令使用时，如果在宏程序单段无效的情况下，应避免以下情况发生： \n N120 G65 H80 P120； \n 会造成系统一定时间内反应较为迟钝； \nN120 G65 H80 P130； \nN130 G65 H80 P120； \n  会造成系统不能正常运行. \nb）条件转移1 #J.EQ.# K ( = ) \nG65 H81 Pn Q#J R# K；  n：顺序号 \n(例) G65 H81 P1000 Q#201 R#202； \n当# 201 = #202 时，转到N1000 程序段，当#201 ≠ #202 时，顺序执行。 \nc）条件转移2 #J.NE.# K ( ≠ ) \nG65 H82 Pn Q#J R# K；  n：顺序号 \n(例) G65 H82 P1000 Q#201 R#202； \n当# 201 ≠ #202 时，转到N1000 程序段，当#201 = #202 时，程序顺序执行。 \nd）条件转移3 #J.GT.# K ( ＞ ) \nG65 H83 Pn Q#J R# K；  n：顺序号 \n(例) G65 H83 P1000 Q#201 R#202； \n当# 201 ＞ #202 时，转到N1000 程序段，当#201 ≤ #202 时，程序顺序执行。 \ne）条件转移4 #J.LT.# K ( ＜ ) \nG65 H84 Pn Q#J R# K；  n：顺序号 \n(例) G65 H84 P1000 Q#201 R#202； \n当# 201 ＜ #202 时，转到N1000 程序段，当#201 ≥ #202 时，程序顺序执行。 \nf）条件转移5 #J.GE.# K ( ≥ ) \nG65 H85 Pn Q#J R# K；  n：顺序号 \n(例) G65 H85 P1000 Q#201 R#202； \n当# 201 ≥ #202 时，转到N1000 程序段，当#201 ＜ #202 时，顺序执行。 \ng）条件转移6 #J.LE.# K ( ≤ ) \nG65 H86 Pn Q#J R# K；  n：顺序号 \n(例) G65 H86 P1000 Q#201 R#202； \n当# 201 ≤ #202 时，转到N1000 程序段，当#201 ＞ #202 时，顺序执行。 \nh）发生P/S 报警 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n70 \nG65 H99 Pi      i：报警号+400 \n(例) G65 H99 P15 \n发生P/S 报警415. \n \n注1:当转移地址的顺序号指定为正值时，开始是顺序方向然后是逆方向检索，指定负值时，开始是逆方向，然后是\n正方向。 \n注2：也可以用变量指定顺序号。 \nG65 H81 P#200 Q#201 R#202； \n当条件满足时，程序移到#200指定的顺序号的程序段。 \n \n2.9.4  关于用户宏程序本体的注意事项 \n1） 用键输入的方法 \n在地址G、X、Z、U、W、R、I、K、F、H、M、S、T、P、Q 的后面按#键，#便被输入进去。 \n2） 在MDI 状态，也可指令运算，转移命令。 \n除G65 以外，其它地址数据能用键输入，而不能显示。 \n3） 运算、转移命令的H、P、Q、R 必须写在G65 之后，写在G65 以前的地址只有O、N。 \nH02 G65 P#200 Q#201 R#202；    …错误 \nN100 G65 H01 P#200 Q10；   …正确 \n4)  单程序段 \n通常在运算、转移命令的程序段执行时，即使单程序段开关ON 时也不停止。但是根据参数（№.013 \nSBKM），可以使之单程序段停止。这种情况一般用于宏程序调试。 \n5） 变量值在-2P\n32\nP～+2P\n32\nP-1 的范围内，但只能正确显示-9999.999～9999.999。超过上述范围时，显示\n*******。 \n6） 子程序的嵌套可到四重。 \n7） 变量值只取整数，所以运算结果出现小数点时舍掉。请特别注意运算顺序。 \n8） 运算、转移命令的执行时间，因条件不同而异，一般平均值可考虑为10 毫秒。 \n2.9.5  用户宏程序实例 \n1） 自定义用户指令M61（自动送料） \n主程序 \n○0001； \nN10 G50 X100 Z100； （定义坐标系） \nN20 G00 U50 F100； （快速定位） \nN30 G01 U0.8 (送料) \nN40 M61；（调用09061 子程序） \nN50 G0 X100 Z100； （送料结束，坐标回零） \nN60 M99； （往复执行） \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n71\n \n子程序（自定义M61） \n○9061； \nN10 G65 H01 P#1104 Q1；（U04=1 输出送料信号指示） \nG65 H82 P20 Q#1004 R1； （判断X14=1 时，执行下条程序，X14=0 时执行N20 号程序） \nG65 H01 P#1100 Q0； （取消送料信号指示U04=0） \nM99 P50；（转到主程序N50） \nN20 M99 P30；（转到主程序N30）             \n                        \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n72 \n \n \n3   操  作 \n3.1  操作面板说明 \n3.1.1  LCD/MDI 面板 \nGSK218T的LCD/MDI面板见下图。 \n \n \n3.1.2  显示页面键 \n显示页面键是用于选择各种显示画面的。GSK218T共有七种显示画面：位置，程序，刀补，报 \n警，设置，参数，诊断。 \n页面解释 \n[位置]：按下其键，LCD显示现在位置，共有四页，[相对]，[绝对]，[总和]，[位置/程序]，通过翻\n页键转换。     \n[程序]：程序的显示、编辑等，共有三页，[MDI/模]，[程序]， [目录/存储量]。 \n[刀补]：设定补偿量和宏变量，共有两项，[偏置]， [宏变量]，反复按此键时在两种显示页面间切\n换。 \n[报警]：显示报警信息。 \n[设置]：设置显示及加工轨迹图形显示，反复按此键时在两种显示页面间切换。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n73\n[参数]：系统参数及螺补参数显示，共有两项，[参数]， [螺距补偿参数]，反复按此键时在两种显\n示页面间切换。 \n[诊断]：诊断信息及软键盘机床面板显示，反复按此键时在两种显示页面间切换。 \n3.1.3  键盘的说明 \n序号 \n名   称 \n用         途 \n1 \n复位(//)键 \n解除报警，CNC复位 \n2 \n输出(OUT)键 \n从RS232接口输出文件启动 \n3 \n地址/数字键 \n输入字母、数字等字符 \n4 \n输入键(IN) \n用于输入参数，补偿量等数据。从RS232接口输入文件的启动。\nMDI方式下程序段指令的输入。 \n \n5 \n \n取消(CAN)键 \n消除输入到键输入缓冲寄存器中的字符或符号。键缓冲寄存器的内\n容由LCD显示。 \n例：键输入缓冲寄存器的显示为： \nN0001 时，按(CAN)键，则N0001被取消。 \n \n \n6 \n \n \n光标移动键 \n有四种光标移动。 \n↓: 使光标向下移动一个区分单位。 \n↑: 使光标向上移动一个区分单位。 \n→: 使光标向右移动一个区分单位。 \n←: 使光标向左移动一个区分单位。 \n持续地按光标上下左右键时，可使光标连续移动。 \nW、L: 用于设定参数开关的开与关及位参数，位诊断详细显示的位\n选择。 \n \n7 \n \n翻页键 \n有两种换页方式。 \n：使LCD画面的页顺方向更换（下页）。 \n：使LCD画面的页逆方向更换（上页）。 \n8 \nINS、DEL、ALT键 \n用于程序的插入、删除、修改的编辑操纵。 \n9 \n转换键 \n位参数内容提示方式切换：逐位提示或字节提示。 \n \n \n \n \n \n \n \n \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n74 \n \n \n3.1.4  机床操作面板 \n机床操作面板上的各开关键如下表所示。 \n \n表 各按钮的说明 \n图 形 符 号 \n名  称 \n用         途 \n \n循环启动按钮 \n自动运行的启动。 \n \n进给保持按钮 \n自动运行中刀具减速停止。 \n录入\n \n录入方式选择键 \n选择录入操作方式。 \n自动\n \n自动方式选择键 \n选择自动操作方式 \n编辑\n  \n编辑方式选择键 \n选择编辑操作方式。 \n机械零点\n \n机械回零方式选择键\n选择机械回零方式操作方式。 \n手动\n \n手动方式选择键 \n选择手动操作方式。 \n手轮\n \n手轮/单步方式选择键\n选择手轮/单步操作方式。 \n \n快速进给开关 \n手动快速进给。 \n程序零点\n \n返回程序起点 \n返回程序起点开关为ON时，为回程序零点方式。 \n \n快速进给倍率 \n选择快速进给倍率。 \n \n主轴倍率 \n主轴倍率选择。（含主轴模拟输出时） \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n75\n \n单步/手轮移动量\n选择单步一次的移动量（单步方式）。 \n \n急停 \n机床紧急停止（用户外接）。 \n单段\n \n单段 \n程序单段。 \n跳段\n \n跳段 \n程序跳段。 \n机床锁\n \n机床锁住 \n机床锁住。 \n辅助锁\n \n辅助锁住 \n辅助锁住。 \n空运行\n \n空运行 \n空运行。 \n进给速度倍率 \n在自动运行中，对进给速率进行倍率。 \n \n手动连续进给速度选择手动连续进给的速度。 \n \n手摇轴选择 \n选择与手摇脉冲发生器相对应的移动轴。 \n冷却\n \n冷却液起动 \n冷却液起动（详见机床厂提供的使用说明书）。 \n润滑\n \n润滑液起动 \n润滑液起动（详见机床厂提供的使用说明书）。 \n换刀\n \n手动换刀 \n手动换刀（详见机床厂提供的使用说明书）。 \n正转\n \n主轴正转起动 \n手动主轴正转起动 \n反转\n \n主轴反转起动 \n手动主轴反转起动 \n停止\n \n主轴停止 \n手动停止主轴转动 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n76 \n3.2   手动操作 \n3.2.1  手动返回参考位置点 \n每台机床都把机床上某一固定点作为机床的参考位置点，每次回机床参考位置点后再回到加工起点\n可消除累积误差。在加工之前先回机床参考位置点，再确定加工起点，记下加工起点的坐标，在每次断\n电后重新启动应先回机床参考点，再回到记下的加工起点后启动程序。可避免断电后人为移动机床使机\n床实际位置与系统坐标不相符合而开机后不重新确定加工起点就启动程序而发生事故。 \n1)  选择模式，有机床零点（机械零点）与无机械零点两种方式，在（参数006号）的Bit0、1位设\n置，0表示无机械零点模式，1表示有机械零点模式。 \n2)  按参考位置点方式键，选择回参考点操作方式，这时液晶屏幕右下角显示[机械回零] \n \n   \n3)  选择移动轴 \n       \n \n机床沿着选择轴方向移动。 \na) 当参数P006号的Bit0=0，Bit1=0时，为回零方式A，回参考点过程如下： \n回零坐标轴以G0速度向机床坐标系零点移动（即X0或Z0），到达零点后，回零轴坐标清零。回\n零完成。 \nb) 当参数P006号的Bit0=1，Bit1=1，Bit4=0， Bit5=0时，为回零方式B，回参考点过程如下： \n① 零坐标轴以快速速度向正方向移动，回零撞块压下回零减速开关后，坐标轴开始减速到系统设\n定的最低速度(参数P043定义的速度)并以此速度移动，直到回零撞块脱离回零减速开关； \n② 回零坐标轴继续以最低速度（系统内部设定）运行，当检测到电机编码器的一转信号（或接近\n开关零点的信号）时，到达坐标轴零点，停止运动，回零轴机床坐标清零，回零完成。 \n     回零方式B只需要一个撞块作为减速信号，零点信号由驱动器提供。 \nc) 当参数P006号的Bit0=1，Bit1=1，Bit4=1， Bit5=1时，为回零方式C，回参考点过程如下： \n① 回零坐标轴以快速速度向正方向移动，回零撞块压下回零减速开关后，坐标轴开始减速到系统\n设定的最低速度(参数P043定义的速度)，并以此速度移动； \n② 当回零撞块脱离回零减速开关后，检测零点信号，当系统压下零点撞块后，系统以最低速度（系\n统内部设定）运行，当脱离零点档块时，即作为零点，系统停止运动，并回零轴机床坐标清零，回\n零完成。 \n    回零方式C需要两个撞块，分别作为减速及零点信号。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n77\nG0速度\n号参数设定速度\n系统最低速度\n到达零点后速度为0\nV型撞块\n \n4)  返回参考点后，返回参考点指示灯亮。 \n X     Z\n \n返回参考点结束指示灯 \n注1：返回参考点结束时，返回参考点结束指示灯亮。 \n注2：返回参考点结束指示灯亮时，在下列情况下灭灯。 \n1）从参考点移出时。 \n2）按下急停开关。 \n注3：参考点方向，请参照机床厂家说明书，然后根据参数P005 的Bit0 和Bit1 位确定。回参考点之前，应使刀架停留\n在机床参考点的负方向。 \n注4：在机床上没有安装机床参考点开关时，切记将P006 参数的Bit0 和Bit1 置成零，回机械零点选择A 方式，此时不\n要执行回零，否则会因无减速开关，刀架一直高速移动而造成事故。 \n3.2.2  手动返回程序零点 \n1）按下返回程序零点键，选择返回程序零点方式，这时液晶屏幕右下角显示[程序回零]。 \n \n2）选择移动轴 \n \n机床沿着程序零点方向移动。回到程序零点时，坐标轴停止移动。返回程序起点指示灯亮。 \n X     Z\n \n \n返回程序起点指示灯 \n注1：返回参考点结束时，返回参考点结束指示灯亮。 \n注2：系统通电后必须执行过G50，否则会产生＃021 报警。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n78 \n3.2.3  手动连续进给 \n1) 按下手动方式键，选择手动操作方式，这时液晶屏幕右下角显示[手动方式]。 \n \n2) 按下手动轴向运动开关，一直到达参考点后，方可松开。机床向选择的轴向运动。 \n \n注：手动期间只能一个轴运动，如果同时选择两轴的开关，也只能是先选择的那个轴运动。 \n3) 选择JOG进给速度 \n \n进给倍率(%) 进   给  速   度(mm/min) \n0 \n0 \n10 \n2.0 \n20 \n3.2 \n30 \n5.0 \n40 \n7.9 \n50 \n12.6 \n60 \n20 \n70 \n32 \n80 \n50 \n90 \n79 \n100 \n126 \n110 \n200 \n120 \n320 \n130 \n500 \n140 \n790 \n150 \n1260 \n \n4)  快速进给 \n按下快速进给键时，可进行‘开→关→开...’切换，当为‘开’时，位于面板上部指示灯亮，关时\n指示灯灭。选择为开时， 手动以快速速度进给。 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n79\n                                                                      \n                  手动快速键          动快速指示灯 \n                                                                         \n       按此开关为ON时，刀具可在已选择的轴方向上快速进给。 \n注1:快速进给时的速度，时间常数，加减速方式与用程序指令的快速进给(G00 定位)时相同。 \n注2:在接通电源或解除急停后，如没有返回参考点，当快速进给开关为 ON（开）时，手动进给速度为JOG 进给速度或\n快速进给。 \n注3：在编辑/手轮方式下，按键无效。指示灯灭。其它方式下可选择快速进给，转换方式时取消快速进给。 \n3.2.3  单步进给 \n1) 按下单步方式键，选择单步操作方式，这时液晶屏幕右下角显示[单步方式]。（没有选择手轮机能时）； \n2) 选择移动量：按下增量选择键，选择移动增量，相应的选择在液晶屏幕左下角显示。 \n \n                                         步进进给量 \n输入单位制 \n0.001 \n0.01 \n0.1 \n公制输入(mm） \n0.001 \n0.01 \n0.1 \n3) 选择移动轴 \n        \n                                         轴选择键 \n按一次轴选择键，则在此轴方向上移动一个移动量开关选择的进给量，OFF后再次ON时，再移动一次。 \n注1：移动速度与JOG 进给速度相同。 \n注2：按快速进给按钮后便进行快速进给，此时快速进给倍率也有效。 \n3.2.4  手轮进给（选择功能） \n转动手摇脉冲发生器（手轮），可以使机床微量进给。 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n80 \n1) 按下手轮方式键，选择手轮操作方式，这时液晶屏幕右下角显示[手轮方式]。 \n2) 选择手轮运动轴：在手轮方式下，按下相应的键，则选择其轴，所选手轮轴的地址[U]或[W]闪烁。 \n                                  轴选择键 \n注：在手轮方式下，按键有效。所选手轮轴的地址[U]或[W]闪烁。 \n3) 转动手轮 \n \n \n手摇脉冲发生器（手轮） \n顺时针转：+方向 \n逆时针转：-方向 \n4) 选择移动量：按下增量选择键，选择移动增量，相应在屏幕左下角显示移动增量。 \n                                 \n \n \n移动量选择开关 \n \n每 一刻 度 的 移 动 量 \n输入单位制 \n0.001 \n0.01 \n0.1 \n公制输入(mm） \n0.001 \n0.01 \n0.1 \n \n注1：上表中数值根据机械传动不同而不同。 \n注2：手摇脉冲发生器的速度要低于5r/min。如果超过此速度，即使手摇脉冲发生器回转结束了，发出脉冲就会出现刻度\n和移动量不符。 \n注3：在手轮/单步方式下，按键有效。 \n \n3.2.5  手动辅助功能操作 \n1） 手动换刀 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n81\n  手动/手轮/单步方式下，按下此键，刀架旋转换下一把刀。（参照机床厂家的使用说明书） \n \n2） 冷却液开关 \n  手动/手轮/单步方式下，按下此键，同带自锁的按钮，进行‘开→关→开...’切换。 \n \n3） 润滑开关 \n  手动/手轮/单步方式下，按下此键，同带自锁的按钮，进行‘开→关→开...’切换。 \n \n4） 主轴正转 \n \n  手动/手轮/单步方式下，按下此键，主轴正向转动起动。 \n \n5） 主轴反转 \n \n  手动/手轮/单步方式下，按下此键，主轴反向转动起动。 \n \n6） 主轴停止 \n \n  手动/手轮/单步方式下，按下此键，主轴停止转动。 \n键指示灯：无论是在何种方式下，只要主轴停止，键指示灯则亮，否则指示灯灭。 \n \n7） 主轴倍率增加，减少（选择主轴模拟机能时） \n      \n注：相应倍率变化在屏幕左下角显示，在选择主轴模拟机能时，按切换键可切换快速倍率及主轴倍率的显示。 \n \n8） 面板指示灯 \n                     \n回零完成灯：返回参考点后，已返回参考点轴的指示灯亮，移出零点后灯灭。 \n \n X     Z \n%\n增加：按一次增加键，主轴倍率从当前倍率以下面的顺序增加一挡 \n       50％→60％→70％→80％→90％→100％→110％→120％→120％·· \n      \n减少：按一次减少键，主轴倍率从当前倍率以下面的顺序递减一挡 \n       120％→110％→100％→90％→80％→70％→60％→50％→50％··· \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n82 \nMST\n \n快速灯  单段  跳段  机床锁  辅助锁 空运行 \n \n注：1主轴正，反向 \n2冷却键 \n3润滑键 \n4换刀键 \n仅在手动方式下起作用。 \n当没有冷却液或润滑液输出时，按下冷却键或润滑，输出相应的点。当有冷却液或润滑液输出时，按下冷却键或润\n滑键，关闭相应的点。在换刀过程中，换刀键无效，按复位键（RESET）或急停可关闭刀架正/反转输出，并停止换刀过\n程。在手动方式起动后，改变操作方式时，输出保持不变。但可通过自动方式下执行相应的M代码关闭对应的输出。 \n同样，在自动方式执行相应的M代码输出后，也可在手动方式下按相应的键关闭相应的输出。 \n复位时，对M08，M32，M03，M04输出点是否有影响影决于参数（参数012号的Bit0位RSJG）。 \n急停时，关闭主轴，冷却，润滑，换刀输出。 \n \n3.3   自动运行 \n3.3.1  运转方式 \n1） 存储器运转 \na) 首先把程序存入存储器中 \nb) 选择要运行的程序。 \nc) 把方式选择于自动方式的位置。 \nd) 按循环启动按钮。 \n                                自动方式选择键    自动循环起动 \n   按循环启动按钮后，开始执行程序。 \n2） MDI运转 \n从LCD/MDI面板上输入一个程序段的指令，并可以执行该程序段。 \n        例： X10.5 Z200.5 ； \n \n \na)  把方式选择于MDI的位置(录入方式)。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n83\n          \nb)  按[程序]键 \nc)  按[翻页]按钮后，选择如下图的画面。 \n \n  \n程序                        O2000 N0100 \n \n地址 \n                       录入方式     \n（程序段值）         （模态值） \n    X\n    Z\n    U  \n    W\n    R\n    F\n    M\n    S\n    T\n    P\n    Q\n     F   200\nG01 M\nG97 S\nG98 T  \n \nG21\nG40\n    SACT  0000\n     S 0000 T0200 \n \n \nd)  键入X10.5。 \ne)  按IN键。X10.5输入后被显示出来。按IN键以前，发现输入错误，可按CAN键， \n然后再次输入X和正确的数值。如果按IN键后发现错误，再次输入正确的数值。 \nf)  输入Z200.5。 \ng)  按IN，Z200.5被输入并显示出来。 \n \n \n程序                        O2000 N0100 \n \n地址 \n                       录入方式     \n（程序段值）         （模态值） \n    X   10.500 \n    Z  200.500 \n    U  \n    W\n    R\n    F\n    M\n    S\n    T\n    P\n    Q\n     F   200\nG01 M\nG97 S\nG98 T\n \nG21\nG40\n    SACT  0000\n    S000 T0200 \n \nh) 按循环起动键 \n   按循环起动键前，取消部分操作内容。为了要取消Z200.5，其方法如下: \n① 依次按W、0、IN键。 \n② 按循环启动按钮。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n84 \n3.3.2  自动运转的启动 \n存储器运转 \n 1) 选择自动方式 \n 2) 选择程序 \n 3) 按操作面板上的循环启动按钮 \n \n3.3.3  自动运转的执行 \n启动自动运转后，程序执行如下： \n1)  从指定的程序中，读取一个程序段指令。 \n2)  译码已读取的程序段指令，并变成可执行的数据。 \n3)  开始执行此程序段。  \n4)  读取下个程序段指令。 \n5)  译码下个程序段的指令，变成可执行的数据，该过程也称缓冲。 \n6)  前一个程序段执行结束后，由于有缓冲寄存器可以立即开始下个程序段的执行。光标移至即 \n将执行的程序段。 \n7)  以后便重复(4)、(5)、(6)，执行自动运转，直至程序结束。 \n \n3.3.4  自动运转的停止 \n使自动运转停止的方法有两种，一是用程序事先在要停止的地方输入停止命令，二是按操作面板上\n按进给保持按钮使它停止。 \n1） 程序停(M00) \n含有M00的程序段执行后，停止自动运转，与单程序段停止相同，模态信息全部被保存起来。按循\n环起动键，能再次开始自动运转。 \n2） 程序结束(M30) \na) 表示主程序结束。 \nb) 停止自动运转，变成复位状态。 \nc) 返回到程序的起点。 \n3） 进给保持 \n \n进给保持键      循环起动键 \n在自动运转中，按操作面板上的进给保持键可以使自动运转暂时停止。 \n 按进给保持按钮后，机床呈下列状态。 \n a) 机床在移动时，进给减速停止。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n85\n b) 在执行暂停中，休止暂停。 \n c) 执行M、S、T的动作后，停止。 \n按自动循环起动键后，程序继续执行。 \n \n \n4） 复位 \n用LCD/MDI上的复位键，使自动运转结束，变成复位状态。在运动中如果进行复位，则机械减速后\n停止。 \n                       复位键 \n \n3.3.5  自动运转中冷却液控制 \n在自动方式下，面板冷却按键\n功能有效，此按键每按一次M08输出状态翻转一次。 \n \n3.3.6  主轴点动控制 \n在自动方式下，10号参数Bit3必须为1，94号参数为非零数值，且系统处于运行结束状态时，主轴\n点动控制功能才有效。 \n按主轴正转按键后，主轴旋转延时94 号参数设定的时间后自动停止旋转。 \n注1：当主轴为模拟量控制时，需先执行S指令后才能有效。 \n \n3.4  试运转 \n3.4.1 全轴机床锁住 \n机床锁住开关为ON时，机床不移动，但位置坐标的显示和机床运动时一样，并且 M、S、T都能执\n行。 \n此功能用于程序校验。 \n按一次此键，同带自锁的按钮，进行‘开→关→开...’切换，当为‘开’时，指示灯亮，关时指示\n灯灭。 \n \n机床锁住灯 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n86 \n3.4.2  辅助功能锁住 \n如果机床操作面板上的辅助功能锁住开关置于ON位置，M、S、T代码指令不执行，机床被锁住。 \n此功能用于程序校验。 \n注：M00，M30，M98，M99按常规执行。在手动方式下按常规执行。 \n3.4.3  进给速度倍率 \n用进给速度倍率开关，可以对由程序指定的进给速度倍率。 \n进给速度倍率按键 \n        \n具有0%～150%的倍率共16档。 \n注：进给速度倍率开关与手动连续进给速度开关通用。 \n \n \n3.4.4  快速进给倍率 \n \n快速进给倍率选择键 \n快速倍率有 FO，25％，50％，100％四挡。 \n可对下面的快速进给速度进行100%、50%、25%的倍率或者为FO的值上。 \n1)   G00快速进给； \n2)   固定循环中的快速进给； \n3)   G28 时的快速进给； \n4)   手动快速进给； \n5)   手动返回参考点的快速进给； \n当快速进给速度为6m/min时，如果倍率为50%，则速度为3m/min。 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n87\n3.4.5  空运转 \n                                                                   \n当空运转开关为ON时，不管程序中如何指定进给速度，而以下面表中的速度运动。 \n            \n程     序    指    令 \n \n快速进给 \n切削进给 \n手动快速进给按钮ON（开） \n快速进给 \nJOG进给最高速度 \n手动快速进给按钮OFF（关） JOG进给速度或快速进给  \n见注 \nJOG进给速度 \n \n注: 用参数设定(参数002号的第2位RDRN)，也可以快速进给。 \n3.4.6  进给保持后或者停止后的再启动 \n在进给保持开关为ON 状态时，(自动方式或者录入方式)， 按循环启动按钮，自动循环开始继续运\n转。 \n \n3.4.7  单程序段 \n      \n当单程序段开关置于ON时，单程序段灯亮，执行程序的一个程序段后，停止。 \n如果再按循环启动按钮，则执行完下个程序段后，停止。 \n \n注1：在G28中，即使是中间点，不能进行单程序段停止。 \n注2：在单程序段ON时，执行固定循环G90，G92 G94，G70~G75时，见下页表 \n注3：M98＿； M99；及G65的程序段不能单程序段停止。但M98、M99程序段中，除N，O，P以外还其它地址时，能单程\n序段停止。  \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n88 \nG 代码 \n刀具轨迹 \n说    明 \nG90 \n \n \n \n \n \n \n1～4 作为一个循环。动作4 结束\n停止 \nG92 \n \n \n \n \n \n \n1～4 作为一个循环。动作4 结束\n后停止。 \nG94 \n \n \n \n \n \n \n1～4 作为一个循环。动作4 结束\n后停止。 \nG70 \n \n \n \n \n \n \n \n1～7 作为一个循环。动作7 结束\n后停止。 \nG71，G72 \n \n \n \n \n \n \n \n \n \n注：此图是G71 的情况，G72 相同 \n1～4，5～8，9～12，13～16，\n17～20 作为一个循环。循环结束\n后停止。 \nG73 \n \n \n \n \n \n \n \n \n1～6 作为一个循环。循环结束后\n停止。 \nG74，G75 \n \n \n \n \n \n \n \n1～10 作为一个循环。循环结束\n后停止。 \nG76 \n1~12 作为一个循环。循环结束后\n停止。 \n2\n1\n4\n3\n2\n1\n4\n3\n2\n1\n4\n3\n2\n1\n4\n3\n3 \n1 \n4\n2 \n4\n2\n1\n3\n2\n4\n7\n1\n3\n5\n6\n4\n19\n18\n17\n13\n14\n16\n15 \n9\n10\n12\n11 \n5\n6\n8\n7 \n3 \n2\n1\n4\n3\n2\n5\n6\n1\n9 \n1\n2\n10\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n89\n3.5   安全操作 \n3.5.1  急停(EMERGENCY STOP) \n 按下急停按纽，使机床移动立即停止，并且所有的输出如主轴的转动，冷却液等也全部关闭。旋\n转按纽后解除，但所有的输出都需重新起动。      \n红色 \n \n      \n紧急停 \n(EMERGENCY STOP) \n一按按钮，机床就能锁住，解除的方法是旋转后解除。 \n \n3.5.2  超程 \n如果刀具进入了由参数规定的禁止区域(存储行程极限)，则显示超程报警，刀具减速后停止。此时\n用手动，把刀具向安全方向移动，按复位按钮，解除报警。具体的范围，请参照机床厂家随行的使用说\n明书。 \n \n3.6  报警处理 \n当出现异常运转时，请确认下列各项的内容： \n1) 当液晶屏幕显示报警时。 \n请参照附录“报警代码一览表”确定故障原因。如果显示PS□□□，是关于程序或者设定数据方\n面的错误。请修改程序或者修改设定的数据。 \n2) 在液晶屏幕上没显示报警代码时。 \n可根据液晶屏幕的显示知道系统运行到何处和处理的内容，请参照“CNC的状态显示”。 \n \n3.7  程序存储、编辑 \n \n            编辑键 \n \n3.7.1  程序存储、编辑操作前的准备 \n在下节以后，要介绍程序的存储、编辑操作，为此有必要介绍一下操作前的准备。 \n（1） 把程序保护开关置于“开”上（见注）。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n90 \n(2)  按编辑键将操作方式设定为编辑方式 \n(3)  按程序键，显示程序界面即可编辑程序。 \n \n注: 为了保护零件程序，在【设置】页面上设有程序保护开关(参阅3.8.2)，只有该开关ON 时，才可编辑程序。   \n \n3.7.2  程序的新建，复制，重命名 \n1) 新建程序 \na) 选择方式(编辑方式)； \nb) 按程序键，显示程序画面； \nc) 按地址 \nTOT ； \nd) 键入程序名（数字键输入）； \ne) 按EOB 键； \n2) 复制程序 \na) 选择方式(编辑方式)； \nb) 按程序键，显示程序画面； \nc) 按地址 \nTOT ； \nd) 键入程序名（数字键输入）； \ne) 按 转换键。 \n 3) 重命名程序 \na) 选择方式(编辑方式)； \nb) 按程序键，显示程序画面； \nc) 按地址 \nTOT ； \nd) 键入程序名（数字键输入）； \ne) 按 修改键。 \n注1：程序新建时，当输入的程序名的程序存在则为打开该程序。 \n注2：复制程序与程序重命名时目标程序的程序名不能与存储器上任一已有的程序名相同。否则报警。 \n \n3.7.3  把程序存入存储器中 \n程序在新建，复制，重命名，检索时均会自动存入存储器中；程序被编辑时，切换工作方式或切换\n显示界面也将存储编辑信息。 \n注：程序编辑过程中断电，上次保存后的编辑信息不会保存，故编辑较长的程序时，应不时的切换工作方式或显示\n界面以保存程序编辑信息。 \n \n3.7.4  程序号检索 \n当存储器存入多个程序时，按程序键时，总是显示指针指向的一个程序，即使断电，该程序指针也\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n91\n不会丢失。可以通过检索的方法调出需要的程序(改变指针)，而对其进行编辑或执行，此操作称为程序\n检索。 \n1) 检索指定程序号 \na) 选择方式(编辑或自动方式)； \nb) 按程序键，显示程序画面； \nc) 按地址 \nTOT ； \nd) 键入要检索的程序号（数字键输入）； \ne) 按↓键； \nf) 检索结束时，在LCD 画面显示检索出的程序并在画面的右上部显示已检索的程序号。如果没有\n该程序，则出现P/S 031 号报警。 \n2) 扫描法 \na) 选择方式(编辑或自动方式)； \nb) 按程序键； \nc) 按地址 \nTOT ； \nd) 按↓或↑键。 \n编辑方式时，反复按 \nTO T，↓或↑键，可逐个显示存入的程序。 \n↓键检索时，依已有的程序号递增的顺序检索，如果检索到最大的程序号如9999 仍未找到时，将\n从程序号0 开始重新检索。↑键检索相反。 \n \n3.7.5  程序的删除 \n删除存储器中的程序 \n1) 选择编辑方式； \n2) 按程序键，显示程序画面； \n3) 按地址 O ； \n4) 用键输入程序号； \n5) 按删除键，则对应键入程序号的存储器中程序被删除。 \n注：删除不存在的程序时系统将报警（P/S报警：014  删除文件不存在）。 \n \n3.7.6  删除全部程序 \n删除存储器中的全部程序。 \n1)  选择编辑方式； \n2)  按程序键，显示程序画面； \n3)  按地址键 O ； \n4)  输入 –9999 并按删除键，则全部程序被删除。 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n92 \n3.7.7  字的检索、插入、修改、删除 \n存入存储器中程序的内容，可以改变。 \na)  把方式选择为编辑方式； \nb)  按程序键，显示程序画面； \nc)  选择要编辑的程序； \nd)  检索要编辑的字。有以下两种方法(见注2)； \n① 用扫描(SACN)的方法 \n②用检索字的方法 \ne)  进行字的修改、插入、删除等编辑操作。 \n注1：字的概念和编辑单位：所谓字是由地址和跟在它后面的数据组成。对于用户宏程序，字的概念完全没有了，通称为\n“编辑单位”。在一次扫描中，光标显示在“编辑单位”的开头。插入时，插入的内容在“编辑单位”之后。编辑 单\n位的定义： \n1）从当前地址到下个地址之前的内容。如：G65 H01 P#103 Q105；中有4 个编辑单位。 \n2）所谓地址是指字母；（EOB）为单独一个字。 \n根据这个定义，字也是一个编辑单位。在下面关于编辑的说明中，所谓字，正确地应该说“编辑单位”。 \n注2：光标总是在某一编辑单位的下端，而编辑的操作也是在光标所指的编辑单位上进行的，在自动方式下程序的执行也\n是从光标所指的编辑单位开始执行程序的。将光标移动至要编辑的位置或要执行的位置称之为检索。 \n \n1） 字的检索 \na) 用扫描的方法 \n一个字一个字地扫描。 \n① 按→键时 \n N100 X100.0 Z120.0 ; M03; N110 M30 ; \n \n此时，在画面上，光标一个字一个字地顺方向移动。也就是说，在被选择字的地址下面，显示出光\n标。如此时光标在程序行末尾位置，按→键后光标移动到下一行开头位置。 \n② 按←键时 \n N100 X100.0 Z120.0 ; M03 ; N110 M30 ; \n \n \n此时，在画面上，光标一个字一个字地反方向移动。也就是说，在被选择字的地址下面，显示出光\n标。如此时光标在程序行开始位置，按←键后光标移动到上一行末尾位置。 \n  ③ 按下翻页键，画面翻页，光标移至下页开头的字。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n93\n④按上翻页键，画面翻到前一页，光标移至开头的字。 \n⑤按↑键时，光标移至程序上一行开头的字。 \n⑥按↓键时，光标移至程序下一行开头的字。 \nb)  检索字的方法 \n从光标现在位置开始，顺方向或反方向检索指定的字。 \n \n检索S02\n光标现在位置\n检索方向\nN100 X100.0 Z120.0 ; S02 ; N110 M30 ;\n \n \n① 用键输入地址S \n② 用键输入'0'、'2' \n③ 按光标↓键，开始检索。 \n如果检索完成了，光标显示在S02 的下面。如果不是按光标↓键，而是按光标↑键，则向反方向\n检索。 \nc) 用地址检索的方法 \n 从现在位置开始，顺方向检索指定的地址。 \n \n  \n光标现在位置\n检索地址M\n检索方向\nN100 X100.0 Z120.0 ; S02 ; N110 M30 ;\n \n① 按地址键 \nTM T； \n② 按光标↓键； \n检索完成后，光标显示在T MT的下面。如果不是按光标↓键，而是按光标↑键，则反方向检索。 \n \nd) 返回到程序开头(不包括程序名行)的方法 \n \n \n \n检索方向\n程序开头\n光标现在位置 \nO0200 ；N100 X100.0 Z120.0 ; S02 ; N110 M30 ; \n \n \n① 方法1 \n按复位//键(编辑方式，选择了程序画面)，当返回到开头后，在LCD 画面上，从头开始显示程序的\n内容。 \n② 方法2 \n检索程序号。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n94 \n2）  字的插入 \na) 检索或扫描到要插入的前一个字； \nb) 用键输入要插入的地址。本例中要插入T； \nc) 用键输入15； \nd) 按插入键。 \n \n程序                               O0050 \nN1234 \nO0050 ; \nN1234 X100.0 Z120.0 ; \nS02 ; \nN5678 M03 ; \nM30 ; \n% \n \n \n \n地址 \n \n \n \n \n   行2     S0000  \nT0200 \n \n图3.7.9(2) 插入T15前的画面 \n \n程序                               O0050 \nN1234 \nO0050 ; \nN1234 X100.0 Z120.0 T15; \nS02 ; \nN5678 M03 ; \nM30 ; \n% \n \n \n \n地址 \n \n \n \n \n   行2     S0000  \nT0200 \n \n图3.7.9 (2) 插入T15后的画面 \n3） 字的修改 \n光标现在位置\n要变更为M03 时\nN100 X100.0 Z120.0 T15 ; S02 ; N110 M30 ;\n \n \na)  检索或扫描到要变更的字； \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n95\nb)  输入要变更的地址，本例中输入M； \nc)  用键输入数据； \nd)  按修改键，则新键入的字代替了当前光标所指的字。 \n如输入M03，按修改键时 \n \n光标现在位置\n变更后的内容\nN100 X100.0 Z120.0 M03 ; S02 ; N110 M30 ;\n \n4） 字的删除 \n光标现在位置\n要删除Z120.0\nN100 X100.0 Z120.0 M03 ; S02 ; N110 M30 ;\n \na)  检索或扫描到要删除的字； \nb)  按删除键，则当前光标所指的字被删除。 \n \n光标现在位置\n删除后\nN100 X100.0 M03 ; S02 ; N110 M30 ;\n \n \n3.7.8  存储程序的个数 \n系统标准配置可存储程序250 个。 \n \n3.7.9  存储容量  \n存储程序总容量：8160KB。 \n3.7.10  程序传输 \n3.7.10.1  从PC 机到CNC \n先用通讯电缆连接好PC机与CNC，打开CNC的程序开关，在PC机中打开GSKCOMM218T用户版\n通讯软件。以下在通讯软件进行操作。 \n根据PC的接口选择COM1~COM4，根据系统95号参数选择串口通讯波特率，如9600等，点击“打\n开串口” 按钮；在“传输方式”选择“接收文件”方式，点击“获取CNC目录” 按钮，在文件列表栏\n会列出CNC中的文件目录，表示PC机与CNC间连接成功。 \n在“传输方式”选择“发送文件”方式，点击“添加文件”按钮，此时出现打开文件的对话框，选\n择要传输的程序，点击“打开”按钮，此时文件列表栏会列出要传输的程序文件名。点击“开始发送”\n按钮，会出现传输状态界面，当该界面消失时，表示传输完成。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n96 \n3.7.10.2  从CNC 到PC \n先用通讯电缆连接好PC机与CNC，打开CNC的程序开关，在PC机中打开GSKCOMM218T用户版\n通讯软件。以下在通讯软件进行操作。 \n根据PC的接口选择COM1~COM4，根据系统95号参数选择串口通讯波特率，如9600等，点击“打\n开串口” 按钮；在“传输方式”选择“接收文件”方式，点击“获取CNC目录” 按钮，在文件列表栏\n会列出CNC中的文件目录，表示PC机与CNC间连接成功。 \n在文件目录前的复选框中，将不需要传输的程序号前的“勾”去掉，点击“开始接收”按钮，此时\n会出现浏览文件夹对话框，选择程序存放的文件夹后，按“确定”按钮，会接收状态界面，当该界面消\n失时，表示接收完成。 \n3.7.10.3  从CNC 到CNC \n用户可以在CNC 间传输单个程序，其输出的具体操作步骤如下： \n1、先打开GSK218T 系统的程序开关，选择编辑操作方式并进入程序页面显示；  \n2、GSK218T 系统键盘上键入地址键\n，键入欲传输的程序名；当需要输出全部程序时，先键\n入地址键\n，再输入“－9999”； \n3、按GSK218T 系统键盘上的\n键，传送开始，GSK218T 系统的LCD 右下角显示“通讯中”\n字样并闪烁，PC 机屏幕显示输入的程序；当该字符消失时，表示通讯结束。若显示“串口未连接”，\n表示系统间的连接有问题；若出现“通讯出错”表示可能串口间的波特率设置有问题，或降低波特\n率。 \n3.8  数据的显示、设定 \n3.8.1  补偿量 \n1） 刀具补偿量的设定和显示(刀补键) \n刀具补偿量的设定方法可分为绝对值输入和增量值输入两种。 \na) 绝对值输入时 \n① 按刀补键 \n② 因为显示分为多页，按翻页按钮，可以选择需要的页。 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n97\n \n偏置                           O0001 N0001 \n序号    X         Z        R     T \n000   0.000 \n001  10.000 \n002  -1.000 \n003   0.000  \n004   0.000 \n005   0.000 \n006   0.000 \n007   0.000 \n008   0.000 \n现在位置（相对坐标） \n    U    0.000          W    0.000 \n地址                  \nS0000 T0200  \n                        录入方式 \n 0.000\n10.000\n 1.000\n 0.000 \n 0.000\n 0.000\n 0.000\n 0.000\n 0.000\n 0.000\n10.000\n 1.000\n 0.000 \n 0.000\n 0.000\n 0.000\n 0.000\n 0.000\n 0 \n 1 \n 1 \n 3  \n 5 \n 0 \n 2 \n 6 \n 0 \n \n \n③ 把光标移到要输入数据的序号的位置。 \n扫描法：按上、下光标键顺次移动光标 \n检索法：用下述按键顺序直接移动光标至键入的位置 \n按P/Q 键，转入搜索状态，此时输入数字，再按输入/IN 键，光标会移动到指定的序号。 \n按取消键取消搜索状态。 \n④ 按地址 X 或 Z 后，用数据键，输入补偿量(可以输入小数点) \n⑤ 按输入/IN键后，把补偿量输入，并在LCD 上显示出来。 \n \nb) 增量值输入 \n① 把光标移到要变更的补偿号的位置。 \n(与(a)-3)的操作相同) \n② 如要改变X 轴的值，键入 U ，对于Z 轴，键入 W 。 \n③ 用数据键键入增量值。 \n④ 按输入/IN键，把现在的补偿量与键入的增量值相加，其结果作为新的补偿量显示出来。 \n(例)已设定的补偿量 5.678 \n键盘输入的增量 1.5 \n新设定的补偿量 7.178(为5.678+1.5) \n注:在自动运转中，不能变更补偿量。 \n \n3.8.2  用户口令输入和修改 \n1） 用户口令输入和修改([设置]键) \n a) 选择录入方式（MDI）； \n b) 按设置键，显示用户口令。    \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n98 \n \n修改用户口令: \n用户口令                       O2000 N0100 \n \n \n                        \n录入方式 \n输入用户口令: \n确认新口令  : \n             \n \n   S0000  T0200 \n \n \nc) 移动光标可以进行输入，修改用户口令等操作。 \n \n用户口令由1-6位数字组成，输入口令后按输入/IN键，口令正确后可修改用户口令，可在设置页面\n打开参数开关。修改用户口令时，需两次输入相同的口令才能成功。 \n只有输入正确的密码后，才能打开参数开关及程序开关，否则产生P/S 170号报警。 \n注：系统初始密码：111111 \n2）  参数开关及程序开关状态设置 \n ① 按设置键 \n② 按翻页键，显示参数开关及程序开关状态画面 \n \n \n设置                          O2000 N0100 \n                          S0000 T0200 \n                       录入方式     \n \n \n参数开关：  /关    开 \n程序开关：   关  /开 \n \n按W ，D/L键可使参数及程序开关处于关、开的状态，参数处于开状态时，CNC显示P/S100号报\n警，此时方可输入参数，输入完毕后，按W使参数开关处于关的状态，复位键（RESET， // ）按后可\n清除100号报警。 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n99\n3.8.3  用户宏变量的显示及设定 \n公用变量（#200～#231）的值可以显示在LCD上。 \n \n \n \n偏置                         O0001N0001 \n 序号     数据        序号       数据 \n200     10.000 \n201     -1.000 \n202      0.000  \n203      0.000 \n204      0.000 \n205      0.000 \n206      0.000 \n207      0.000 \n现在位置（相对坐标） \n    U    0.000          W    0.000 \n地址 \n                        录入方式 \n208     10.000 \n209     -1.000 \n210      0.000  \n211      0.000 \n212      0.000 \n213      0.000 \n214      0.000 \n215      0.000 \n \n \n如果宏变量的值超过9999999.999或小于-9999999.999，则显示为‘********’。 \n1)  显示 \n按两下刀补键 \n2)  设定 \n① 选择显示要设定的变量号所在的页； \n② 把光标移到要设定的变量号的位置； \n③ 用数据输入键，输入数值； \n④ 按输入/IN键，输入变量值。 \n \n3.8.4  参数 \nCNC和机床连接时，通过参数设定，使驱动器特性、机床规格、功能等最大限度地发挥出来。其内\n容随机床不同而不同，所以请参照机床厂家编制在机床使用说明书中的参数表。参数的意义详见附录。 \n \n3.8.4.1  参数的显示 \na） 按参数键 \nb） 按翻页按钮，选择页。 \n在参数显示画面，在LCD的下部有一参数详细内容显示行，显示当前光标所在的参数的详细内容。 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n100 \n \n   \n   位参数                                 O0010 N0010 \n     序 号    数  据  \n \n   序号  \n数据 \n      001     00000100         009     00001111 \n      002     10101010         010     10000001 \n      003     00000000         011     00000010 \n      004     01110000         012     00000000 \n      005     01000000         013     00000000 \n      006     00000011         014     10000111 \n      007     00000000         015     00000000 \n      008     00000011         016     00000000 \nAUN TOC ORC  *** CCMO  SCRP  RDRN  PTSR \nBit7: AUN:0/1:自动序号无/有效 \n   序号 002                         \nS0000 T0200 \n                                 \n录入方式 \n参数详细内容显示行 \n \n①  位参数 \n参数№001～016 是位参数，最左侧是最高位(BIT7)，依次为BIT6，BIT5，BIT4及BIT3，BIT2，\nBIT1，BIT0。对于位参数而言，参数详细内容显示行有两种显示，一种是该参数所有位的英文缩写，另\n外一种是每一位的详细中文显示。 \n可以按W键(递增位)，D/L键(递减位)依次显示各位的详细信息。 \n←和→键同样可显示各位详细信息且有光标显示当前位的位置。 \n \n②  数据参数 \n参数详细内容显示此时只有一行，即该参数的实际意义，如: \n017   X 轴指令倍乘比 \n3.8.4.2  参数的设定 \n参数可以从键盘面板上设定或PC机上输入。 \na) 从面板上设定 \n① 设定参数开关为开(必须先输入用户口令，口令正确后才能设定)； \n② 选择录入方式； \n③ 按参数，使之显示出参数的画面； \n④ 按翻页按钮，显示出要设定参数所在的页； \n⑤ 把光标移到要变更的参数号所在位置； \n方法1：按光标↓或↑键移动到要设定的参数号。 \n方法2：按以下方法按P/Q键，输入参数号，按输入/IN键（第4步可省略） \n⑥ 用数字键输入参数值； \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n101\n \n输入位参数时，如果按位修改参数中的某一位，只能输入1或0(←或→键可进入按位修改状态)；\n不按位修改时，输入数据不足8位的补0。如输入100，则位参数数据为00000100。 \n⑦ 按输入/IN键，参数值被输入并显示出来； \n⑧ 所有的参数设定及确认结束后，选择设置画面，把参数开关设定到关的状态； \n⑨为了解除报警状态，按复位（ // ）按钮。但是发生000 号报警时，需将电源进行OFF/ON操     \n作。 \nb) 从备份中读入参数值（界面见下页图） \n \n系统设计有参数值和螺距补偿值的备份功能。下面以参数值为例进行说明，螺距补偿值的备份\n功能与参数值相似，不再详细说明。在参数值I/O界面，通过上下移动操作键选择参数值输入功能和参\n数值输出功能，当选择参数值输出时，系统可以将当前正在使用的参数值（包括位参数和数据参数）进\n行备份，根据当前所选择的A、B、C或D（通过左右箭头操作键选取）可将备份文件保存为4个备份盘，\nA盘作为系统出厂时设定的参数，存盘时不能对A盘进行操作。当选择参数值读盘功能时，首先通过左\n右操作键选定A、B、C或D，也即选定参数文件电子盘号，按输入键即完成读盘后，系统正在使用的参\n数即更新为新输入的参数。详细操作过程如下： \n① 设定参数开关为开(必须先输入用户口令，口令正确后才能设定)； \n② 选择录入方式； \n③ 按参数，使之显示出参数的画面； \n④ 按转换键，进入参数值I/O页面； \n⑤ 上下移动光标至“参数值读盘”位置； \n⑥ 按输入/IN键，系统将从用户的存储器打开相应的电子盘并读入数据，成功后，LCD左下显示“读\n盘完成”。 \n如果用户分区上没有该文件，系统自动停止输入。左右键选择A，B，C，D无效，系统均从存储器\n用户分区上打开文件。 \nc) 将参数值存盘（界面见下页图） \n①～④同上。 \n⑤上下移动光标至“参数值存盘”位置。 \n⑥ 按输出/OUT键，系统将参数值写入存储器用户选定的电子盘号内，成功后，LCD左下显示“输\n出完成”。 \n如果用户分区上已存在参数，新的参数会将原参数覆盖。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n102 \n参数值I/O\nO0000 N0000\n参数值读盘：  /A   B   C   D\n参数值存盘：  /B     C     D\n<输入>键读盘，<输出>键存盘\nS0000 T0100\n录入方式\n \n                   参数电子盘操作界面 \n \n注1：PC 机输入参数值文件时，文件内容需按如下格式：序号+(TAB 或空格)+参数值 \n如: 001 00011000 \n  017  \n2 \n序号必须为三位，不足的需补0，序号不能省略；参数值省略该序号的参数值为0；文件中不能出现空行，否则\n空行后其他序号的参数值均为0；文件结束必须有两行以上的空行（所有通过PC 机输入的文件均必须有此特征）。 \n注2:在部分参数设定后，必须断电时才有效(发生000 号报警时) \n注3:与RS232C 接口有关的参数，在输入之前，需要由面板MDI 设定。 \n \n3.8.4.3  参数的传输 \na）从PC到CNC \n先用通讯电缆连接好PC机与CNC，打开CNC的程序开关，在PC机中打开GSKCOMM218T用户版\n通讯软件。以下在通讯软件进行操作。 \n根据PC的接口选择COM1~COM4，根据系统95号参数选择串口通讯波特率，如9600等，点击“打\n开串口” 按钮；在“传输方式”选择“接收文件”方式，点击“获取CNC目录” 按钮，在文件列表栏\n会列出CNC中的文件目录，表示PC机与CNC间连接成功。 \n在“传输方式”选择“发送文件”方式，点击“添加文件”按钮，此时出现打开文件的对话框，选\n择要传输的参数表，点击“打开”按钮，此时文件列表栏会列出要传输的参数表文件名。点击“开始发\n送”按钮，会出现传输状态界面，当该界面消失时，表示传输完成。 \nb）从CNC到PC \n先用通讯电缆连接好PC机与CNC，打开CNC的程序开关，在PC机中打开GSKCOMM218T用户版\n通讯软件。以下在通讯软件进行操作。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n103\n根据PC的接口选择COM1~COM4，根据系统95号参数选择串口通讯波特率，如9600等，点击“打\n开串口” 按钮；在“传输方式”选择“接收文件”方式，点击“获取CNC目录” 按钮，在文件列表栏\n会列出CNC中的文件目录，表示PC机与CNC间连接成功。 \n在文件目录前的复选框中，将不需要传输的程序号及参数文件名前的“勾”去掉，点击“开始接收”\n按钮，此时会出现浏览文件夹对话框，选择程序存放的文件夹后，按“确定”按钮，会接收状态界面，\n当该界面消失时，表示接收完成。 \nc）从CNC到CNC \n先用通讯电缆连接好CNC与CNC，打开CNC的参数开关。以下在要输出参数的CNC进行操作。 \n选择编辑方式，进入参数界面，；按面板上的\n键，此时在屏幕的下方出现“通讯中”的字符；\n如果CNC间连接不正常时，界面下方会出现“串口未连接”的报警；当该字符消失时，表示通讯完毕；\n当出现“通讯出错”的报警时，请检查两个CNC的波特率是否一致或降低串口的传输波特率。通讯结束\n后，接收参数的CNC其当前参数已全部更新，请重新上电即可。 \n系统参数及螺距误差补偿参数的传输方式一致。 \n3.8.5  诊断 \nCNC和机床间的DI/DO信号的状态，CNC和PC间传送的信号状态，PC 内部数据及CNC内部状态\n等都可以通过诊断显示出来。同时，也可通过相应的设定，直接向机床侧输出，也可以对辅助机能的各\n参数进行设定。每个诊断号对应的意义及设定方法请参照维修说明书。 \n \n1） 诊断的显示 \na) 按诊断键，选择诊断显示页面，（[诊断]与[机床面板]显示页面为同一键，反复按时，在两页面\n之间进行切换）。 \nb) 按翻页按钮，选择需要的页。 \n在诊断显示画面，在LCD 的下部有三个诊断详细内容显示行，显示当前光标所在的诊断号的详细 \n内容。 \n \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n104 \n \n   \n  诊断                           \n \nO0010 N0010 \n      序 号      数  据         序 号     数  据 \n  _001     00101101        009     00110011  \n   002     00110000        010     00000000 \n   003     00000000        011     00000000 \n   004     00000000        012     00000000 \n   005     00100000        013     00000000 \n   006     00000000        014     00000000 \n   007     00000000        015     00000000 \n   008     00000000        016     00000000 \n  诊断信息 \n  机床侧的输入信号（I/O 板） \n  Bit1: *TCP  DIQP  DECX  BDT  *SP  ST  DECZ  *ESP  \n  序号 000                             S 0000  T0200 \n                              \n \n录入方式 \n诊断详细内容显示行 \n \n2）软键盘机床面板 \n \n在诊断显示页面，按诊断键切换诊断/机床面板显示页面，在机床面板显示页面时，用”1、2、\n3、4、5”键分别切换机床锁住、辅助功能锁住、单程序段、空运行、程序选跳开关。 \n3） 厂家使用的口令 \n \n在机床面板显示页面按转换/CHG键，进入厂家使用的口令输入页面，如果忘记用户口令，可\n以先输入正确的厂家口令，再到用户口令页面修改用户口令(不需输入原用户口令即可修改)。 \n \n3.9   显示 \n3.9.1  状态显示 \n画面最下行软体键显示行的上一行为状态显示行，内容如下： \n报警:有报警发生，按报警，可知道报警的详细内容，闪烁显示。 \n操作方式:显示当前的操作方式：自动方式、编辑方式、手动方式、单步/手轮方式、录入方 \n 式、机械回零方式、程序回零方式 \n \n3.9.2  键入数据显示 \n状态显示行的上一行显示提示符及正在输入的键值。 \n提示符:在可进行键入的画面才有提示符。不可键入的,画面中没有提示符。 \n1） 需输入地址字符时 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n105\n地址 —— 只能输入地址键 \n数字 —— 只能输入数字键 \n2） 直接输入数据时  \n序号005  ...   可设定值(键入参数值) \n序号=       …      可输入序号值(搜索状态) \n提示符后面，显示已键入的键值，当按下输入/IN键时，键入值消失。 \n \n3.9.3  程序号、顺序号的显示 \n程序号、顺序号如下图所示，显示在右上部。 \n \n \n \n \n \n \n程序                        O2000 N0100 \nO2000； \nN100 G50 X0 Z70.; \nN110 G00 X70.; \nN120 Z-70.; \nN130 G01 X17.5 F2000; \nN140 Z7.5 \nN150 G03 X-17.5 Z17.5 R17.5; \nN160 G01 X-25.; \nN170 G02 X27.5 W 27.5 R27.5; \nN180 G01 X-15.; \nN190 G00 X0 Z0 ; \n \n状态行 \n键入数据行 \n 地址                    行:2   S0000 T0200\n                       自动方式     \n程序号及顺序号 \n \n \n在编辑方式下，编辑程序时显示在编辑中的程序号和光标位置的是前一个顺序号。 \n在非编程方式时，显示出最后执行的程序号和顺序号。在程序号检索和顺序号检索之后，显示出 \n被检索的程序号和顺序号。 \n \n3.9.4  程序存储器使用量的显示 \n用下列操作，可以显示程序存储器的使用情况。 \n1） 选择非编辑方式 \n2） 按程序键 \n3） 按翻页键直到出现目录 \n4） 目录内容 \na) 已存程序数：已存入的程序数(包括子程序)。 \n    剩余：尚可存入的程序数。 \nb) 已用存储量：存入的程序占用的存储容量(用字符数显示)。 \n    剩余：还可以使用的程序存储容量。 \nc) 程序目录表：依次显示存入程序的程序号，当程序较多时，可以用[转换/CHG]键查 \n \n \n看。 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n106 \n \n3.9.5  指令值的显示(程序键) \n1) 按程序键 \n2) 按翻页按钮可分别显示下面2种画面 \na) 显示正在执行程序段的指令值和当前的模态值 \n \n 程序                           O2000 N0100\n地址 \n程序段值          模态值 \n    X      10.000\nG00   Z       2.000\n    U \n    W \n    R \n    F \n    M \n    S \n    T \n    P \n    Q \nG01 M\nG97 S \n  0000\nG98 T \n  0200\nG21\nG40\n        \n \n  SRPM  0000 \n \n  SSPM  0000 \n \n  SMAX  0500 \n \n  SACT  0000 \n \n  S0000 T0200 \n录入方式\nF \n \n \n注：此页在编辑方式时不能显示。 \nb) 显示存储器内正在执行的程序段所在页的一页程序 \n \n \n程序                           O2000 N0100 \nO2000；\nN100 G50 X70.Z0 ; \nN110 G00 X20. ; \nN120 W-30.;\nN130 G01 X-25.; \nN140 G02 X27.5 Z27.5 R27.5; \nN150 G01 X-15.; \nN160 G00 X0 Z0; \n \n 地址                   \n行:2   S0000 \n                       自动方式     \n \n \n3.9.6  现在位置的显示(位置键) \n1)  按位置键 \n2)  按翻页按钮，显示以下三个画面 \na) 显示零件坐标系的绝对位置 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n107\n \n现在位置（绝对坐标）           \n                            \n                            录入方式 \n编程速率： 500        G 功能码：G01，G98 \n实际速率： 500        加工件数：  \n10\n进给倍率：100%        切削时间：05:28:08 \n快速倍率：100%                  S0000 T0200 \nO0008    N0000\nX        16.000 \nZ        56.000 \n \n注1：显示主轴的实际转速时，必须在主轴上装有1024或1200线的位置编码器。 \n注2：实际速率 = 编程的F速率×倍率。当G00，空运行或取参数   P27号的值作为上限时的速率不能显示。 \n注3：在螺纹切削时，实际速率 = 编程速率，倍率无效。 \n注4：每分进给时当编程速率超出15000mm/min出现P/S011报警。 \n注5：每转进给的编程速率显示仅在含有每转进给有运动轴的程序段正在执行时显示，如果其后的指令不是含有每\n转进给的程序段且没有指定新的F时，当执行到下程序段时编程速率及实际速率项按每分进给速率显示。  \nb) 显示相对坐标系的[相对]位置 \n \n \n现在位置（相对坐标）           \n                            \n                            录入方式 \n编程速率： 500        G 功能码：G01，G98 \n实际速率： 500        加工件数：  \n10 \n进给倍率：100%        切削时间：05:28:08 \n快速倍率：100%                  S0000 T0200 \nO0008    N0000\nU        16.000 \nW        56.000 \n \n \n       开机后，只要机床运动，其运动位置即可由相对位置显示出来，并可随时清零。 \n相对位置清零：按 U 或 W 键，此时所按键的地址闪烁，然后按取消/CAN，此时在闪烁的地址\n的相对位置被复位成0.000。 \nc) 显示综合位置 \n \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n108 \n \n现在位置                        O0001 N0000 \n录入方式   \n （相对坐标）           （绝对坐标） \nU     18.000           X     0.000    \nW     38.000           Z     0.000 \n （机床坐标）           （余移动量） \nX      0.000           X     0.000    \nZ      0.000           Z     0.000 \n                            S0000 T0200 \n \n同时显示下面坐标系中的现在位置。 \n① 相对坐标系中的位置(相对坐标)。 \n② 零件坐标系中的位置(绝对坐标)。 \n③ 机械坐标系中的位置(机床坐标)。 \n④ 剩余移动量（自动及录入方式有效）。 \nd) 编程速度，倍率及实际速度显示 \n在显示现在位置的画面上，可以显示实际的机械进给速度。 \n3.9.7  加工时间、零件数显示 \n在位置显示的画面上，显示出加工时间和加工的零件数，意义如下： \n编程速率：程序中由F代码指定的速率 \n实际速率：实际加工中，经倍率后的实际加工速率 \n进给倍率：由进给倍率开关选择的倍率 \nG功能代码：当前正在执行程序段中的G 代码01组和03组的值 \n加工件数：当程序执行到M30时，+1；开机后，可选择清零或保持，由3号参数Bit6设定。 \n切削时间：当自动运转启动后，开始计时，单位依次为小时、分、秒。开机后，可选择断电清\n零或保持，由3号参数Bit6设定。且在位置界面下，按T键后加工时间及零件件数闪\n铄，按取消件可对其进行清零，再按T件后取消该操作。 \n3.9.8  报警显示(报警键) \n发生报警时，在LCD的最下面一行闪烁显示“报警”。按报警键，可显示出报警号和报警内容。关\n于报警号的意义请参照附录。 \n在报警显示画面，在LCD 的中间有一报警详细内容显示行，显示当前P/S 报警号及报警的详细内\n容。 \n3.9.9  液晶画面亮度调整 \n在位置页面的第一页（相对坐标），按 U 或 W  使U 或W 闪烁，此时按， \n↑键：变暗。（第一次按键会变亮，之后，每按一次，逐渐变暗） \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n109\n↓键：每按一次，逐渐变亮。 \n再次按 U 或 W 可取消亮度调整，屏幕上U或W恢复正常显示。 \n3.10  图形功能 \n刀具路径可以直接在LCD 上画出，因此可以在LCD 上检查程序加工的轨迹，刀具路径也可以进行\n移动。 \n图形参数设定 \n图形参数在程序运行前须事先进行设定，这些参数只能在录入方式下才能设定。 \n① [图形]与[设置]键为同一键，反复按时，在[图形]与[设置]画面间进行切换。 \n② 在[图形]菜单中，按          键，可在图形参数与图形显示之间切换。 \n③ 在图形参数显示状态，通过光标键        ，  移动光标至要设定的参数下： \n④ 在录入方式下，输入数据，按输入/IN 键。输入图形参数值。 \n⑤ 重复步骤③和④设定需要设定的参数。 \n \n图形参数的含义说明 \n① 座标选择：设定绘图平面（XZ=0，ZX=1） \n当设为0 时，为XZ 坐标；当设为1 时，为ZX 坐标，如下图 \n \n \n \n \n② 缩放比例：设定绘图的比例。 \n③ 图形中心：设定工件坐标系下LCD 中心对应的工件坐标值。 \n④ 最大最小值：当对轴最大、最小值作了设定之后，CNC 系统会自动对缩放比例，图形中心值自\n动设定。 \nX 最大值：加工程序中X 向最大值 \nX 最小值：加工程序中X 向最小值 \nz 最大值：加工程序中Z 向最大值 \nZ 最小值：加工程序中Z 向最小值 \n刀具路径的描述（图形显示） \n在图形显示页面，可以监测所运行程序的加工形状。 \n① 按 S 键，由进行作图状态，‘*’号移至S 前；正在作图。 \n② 在自动/录入/手动方式运行，绝对坐标值改变，对应的运动轨迹则会描述出来。 \n③ 按 T 键，则进行停止作图状态，‘*’号移至T 前；停止作图。 \n④ 按 R 键，则清除已绘出的图形。 \n⑤ 可以通过↑，↓，←，→键随时调整绘图原点在屏幕上的位置以更好的显示图形。 \nX \nZ \n（0） \nZ \nX \n（1）\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n110 \n4   连 接 \n4.1  系统连接框图 \n4.1.1  接口位置布局 \nXS2\nJTAG\nXS36\nXS37\nXS38\n电源\n软升\n通讯\n变频器\n手轮\nXS32\nXS30\nXS31\nXS33\nXS42\nXS39\nXS40\nXS41\n编码器\nX轴\nZ轴\nY轴\n输出2\n输出1\n输入1\n输入2\nGSK218T后视图 \n \n4.1.2  接口说明 \n1）电源接口（+5V、+24V、0V） \n9 个接线端子，用于系统及接口电源。 \n2）XS30，XS31，X33 分别为X，Z，Y 轴驱动接口 \n15 芯D 型插座（孔）。 \n3）XS32 主轴编码器接口（增量式脉冲编码器1024 线或1200 线） \n15 芯D 型插座（孔） \n4）XS36 通用PC 机接口（RS232 口）  \n9 芯D 型插座（孔） \n5）XS37 变频器摸拟接口（0―10V）  \n9 芯D 型插座（针） \n6）XS38 手轮接口  \n9 芯D 型插座（针） \n7）XS39 ，XS40 输入输出接口  \nXS39 为25 芯D 型插座（孔），XS40 为25 芯D 型插座（针） \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n111\n8）XS41 ，XS42 扩展输入输出接口 \nXS41 为25 芯D 型插座（针），XS42 为25 芯D 型插座（孔）。 \n4.1.3  连接框图 \n \n4.2  各部件的连接 \n4.2.1  电脑到驱动器的连接 \n1） 电脑侧接口图 \n \n \n \n \n \n \n \n \n \n2） 接口信号连接表 \nX 轴驱动器 Z 轴驱动器  主轴编码器   PC 机     变频器      手轮    机床输入\\输出接口      电源盒\nGSK218T \nXS30 \nXS31\nXS32 \nXS36\nXS37\nXS38\nXS39\nXS40 \nXS2 \nAM26LS31 \n+5V          \n      \n12V\nCP- \nCP+\nDIR- \nDIR\n*SE\nEN1\nEN2\nPC\nDAL\n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n112 \n \n1 \n2 \n3 \n4 \n5 \n6 \n7 \n8 \n9 \n10 \n11 \n12 \n13 \n14 \n15 \n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\nXS30: DB15F (X 轴)\nXS31: DB15F (Z 轴)\n XCP+ \nXDIR+ \nXPC \n+24 \nXDALM \n*XSET \n  XEN \n  0V \nXCP-\nXDIR-\n0V\n+5V\n+5V\n 0V \n 0V \nZCP+\nZDIR+\nZPC\n+24 \nZDALM\n*ZSET\n  ZEN \n  0V \nZCP- \nZDIR- \n0V \n+5V \n+5V \n0V \n0V \n \n \n \n4.2.2  信号说明 \n1） 单脉冲运动指令信号 \n       XCP+，XCP-，ZCP+，ZCP-为指令脉冲信号，XDIR+，XDIR-，ZDIR+，ZDIR-为运动方向信号，这\n两组信号均为差分输出。 \n       连接线路图如下： \n                       \n \n2） 驱动器报警信号ALM（输入） \n该信号在系统侧的接收方式如下。可由参数(008)设定为低电平“0”驱动器故障，还是高电平“1”\n驱动器故障。 \nCP+ \nCP- \n6N137\nCNC侧 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n113\n+5V\n+12V\n输入到系统的信号\nR＝2K\nXDALM\n \n图4.2.2a \n输入到系统的信号有效电平可由用户通过参数设定为低电平还是高电平有效。该类型的输入电路要\n求驱动器用下列方式提供信号： \n \n \n \n \n \n \n \n \n \n \n \n \n \n图4.2.2b \n \n \n3） CNC 系统准备好信号EN（触点输出） \n该触点闭合时表示CNC系统已经准备好。当CNC系统检测到报警时，将会断开这个触点信号。 \n4） 设定信号*SET（输出） \n该信号在系统无运动指令输出时为高电平，有运动指令输出时为低电平。 \n5） 返回参考点用信号PC \n     该信号在系统侧的接收电路如下图所示： \n0V \nDALM \nDALM \n方式一 \n方式二 \n\n\n                                                        GSK218T 车床数控系统 使用手册 \n \n114 \n \nPC \n输入到系统的信号\nR＝4.7K \n \n \n    图4.2.2c \n注：如果驱动器输出PC 信号为5V 电平，跳线使SR3028，SR3030，SR3032（510Ω）导通，如果驱动器输出PC 信号\n为24V 电平，跳线使SR3027，SR3029，SR3031（4.7KΩ）导通。 \n用户应提供的PC 信号的波形如下图所示： \n   参考点返回方向 \n参考点 \n用接近开关信号) \n     (PC) \n用编码器PC 信号时 \n(一转信号) \n忽略 \n减速信号 \n \n图4.2.2d \n\n\n                                                                GSK218T 车床数控系统 使用手册 \n \n113\n6） 用一接近开关作为减速开关同时用作回零开关的连接方法。 \n \n+24V\n接PC 信号 \n2K\n+24V \n接近开关 \n接*D EC 信号\n \n图4.2.2e \n注意： \n使用这种回零方式时，006 号参数的ZCX、ZCZ 必须设定为“1”。 \n \n4.3  系统到驱动器的连接 \n1\nCP+\n9\nCP-\n2\nDir+\n10\nDir-\n12\n+5V\n7\nEN\n11\n0V\n5\nDalm\n金属外壳\n1\nCP+\n9\nCP-\n2\nDir+\n10\nDir-\n3\nDv+\n11\nDv-\n14\nCOM\n6\nAlm\n金属外壳\nGSK980TE与DY3驱动器连接\nGSK980TE(X、Z轴)\nX30、X31\nDY3驱动器\n信号接口：\n脉冲+\n脉冲-\n方向+\n方向-\n使能\n报警\n \n  \n \n \n \n图4.3.1 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n114 \n4.4  主轴编码器的连接 \n   GSK218T 系统可使用1024 线或1200 线增量式位置编码器。下图中的*PCS，PCS，*PBS，PBS， \n   *PAS，PAS 分别对应/Z，Z，/B，B，/A，A。 \n \n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\nXS32: DB15F (主轴位置编码器)\n*PCS\nPCS\n*PBS\nPBS\n*PAS\nPAS\n0V\n+5V\n+5V\n0V\n0V\n \n                            \n                            \n4.5  RS232-C 标准串行接口（选件） \nGSK218T 数控系统可通过RS232-C 串行接口与通用PC 机进行通讯（必须配备218T 通讯软件）。连\n接图如下。 \n电缆的连接图如下： \n \n                 XS36                               COM1/COM2（9 孔D 型插头） \n \n控 \n制 \n单 \n元 \nDCD \nRXD \nTXD \nDTR \nGND \nDSR \nRTS \nCTS \n \n1 \n2 \n3 \n4 \n5 \n6 \n7 \n8 \nDCD\nRXD\nTXD\nDTR \nGND \nDSR \nRTS\nCTS\n1\n2\n3\n4\n5\n6\n7\n8\n通 \n用 \nPC \n机 \n \n               \n                                         图4.5b \n注：屏蔽层焊接在插头金属体上。 \n \n4.6  模拟主轴接口（选件） \n模拟主轴接口SVC端可输出0 – 10V电压，接口信号排列如下： \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n115\n \n1\n2\n3\n4\n5\n6\n7\n8\n9\n0V\n0V\nSVC\nXS37:(DB9M)\n控制单元\nXS37\n电压输入接口\n变频器\n \n      \n图4.6 \n注：屏蔽层焊接在插头金属体上。 \n \n4.7  手轮接口 \n \n         \n \n1 \n2 \n3 \n4 \n5 \n6 \n7 \n8 \n9 \n+5V \n0V \n+5V \n HB \n0V \nXS38:(DB9M) \n控制单元\nXS38\n手轮 \nHA\n金属外壳 \n屏蔽层 \nHB\n \n \n4.8  电源接口的连接 \n本系统使用GSKPC电源，共有两组输入电压：+5V， +24V，＋24V使用公共端COM，＋5V使用\n0V。其中+5V供给系统内部用（5A电流），+24V供给外部接口用（2A电流）。 \n \n \n \n \n \n \n \n \n电源盒端子 \n220V\nL \nN \nGND \n+24 \nCOM \n \n0V \n+5 \nXS2\n6、7 \n9 \n \n3、4\n1、2\n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n116 \n4.9  机床输入/输出接口 \n4.9.1  机床输入/输出接口连接表 \n22\n23\n24\n25\n13\n14\n15\n16\n17\n18\n19\n20\n21\n9\n10\n11\n12\n1\n2\n3\n4\n5\n6\n7\n8\n22\n23\n24\n25\n13\n14\n15\n16\n17\n18\n19\n20\n21\n9\n10\n11\n12\n1\n2\n3\n4\n5\n6\n7\n8\n脚号\n功能\n功能\nS2/M42\nS3/M43\nDOTWJ\nM08\nM05\nDOQPJ\nM04\nSPZD\nS1/M41\nAGND\nM32\nAGND\nM03\nAGND\nS4/M44\nAGND\nDOTWS\nAGND\nDOQPS\nAGND\nDIQP\nAGND\n*TCP\nVCC24\nVCC24\n脚号\n功能\n功能\n*DECX\nAGND\nDITW\nAGND\nT04\nAGND\nT03\nAGND\nT02\nAGND\nT01\nT08\n*SP\nT07\nST\nT06\n*DECZ\nT05\n*ESP\nVCC24\nVCC24\nAGND\nTL+/UO6\nAGND\nTL-/UO7\nXS39     输出\nXS40     输入\n \n22\n23\n24\n25\n13\n14\n15\n16\n17\n18\n19\n20\n21\n9\n10\n11\n12\n1\n2\n3\n4\n5\n6\n7\n8\n22\n23\n24\n25\n13\n14\n15\n16\n17\n18\n19\n20\n21\n9\n10\n11\n12\n1\n2\n3\n4\n5\n6\n7\n8\nSTM\nM30\nWARN\nSTAR\nTRIAN\nAGND\nAGND\nVCC24\nVCC24\nVCC24\nVCC24\nVCC24\nVCC24\nVCC24\nGR1\nGR2\nDOOR\nPCH\nSPEN\nLIMITX\nLIMITZ\nOW1\nOW2\nPROLOCK\nAGND\nAGND\nAGND\nAGND\nAGND\nVCC24\nVCC24\nVCC24\nVCC24\n脚号\n功能\n功能\n脚号\n功能\n功能\nTLOCK\nXS 42    扩展输出\nXS 41    扩展输入\n \n \n注1：部分输入、输出可定义多种功能，在上表中用“/”表示； \n注2：输出功能有效时，该输出信号与0V 导通。输出功能无效时，该输出信号与0V 截止； \n注3：输入信号与+24V 导通时输入功能有效，反之输入功能无效。带“*”记的输入信号与+24V 导通时输入\n功能无效，反之输入功能有效； \n注4：+24V、0V 与CNC 配套电源盒的同名端子等效。 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n117\n4.9.2  输入信号 \n1) 直流输入信号A \n直流输入信号A 是从机床到CNC 的信号，它们来自机床侧的按键，极限开关，继电器的触\n点（包括DECX，DECZ，ESP，TCP，ST，SP，DITW，X16等）。 \na）.机床侧的触点应满足下列条件： \n触点容量：DC30V、16mA以上 \n开路时触点间的泄漏电流：1mA以下（电压26.4V） \n闭路时触点间的电压降：2V以下（电流8.5mA，包括电缆的电压降） \nb)  此类信号的信号回路如图4.9.2a所示 \n＋24V\n＋5V\n机床侧\nCNC 侧\n0V\n输入信号\n1K\n4.7K\n0.1\n0V\n \n \n图4.9.2a \n2） 直流输入信号B \n直流输入信号B 是从机床到CNC 的信号，并且是在高速下使用的信号（T1~T8）。 \na) 机床侧的触点应满足下列条件： \n触点容量：DC30V、16mA 以上 \n开路时触点间的泄漏电流：1mA 以下（电压为26.4V 时） \n闭路时触点间的电压降：24V 以下（电流8.5mA，包括电缆的电压降） \nb) 此类信号的信号回路如图4.9.2b所示 \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n118 \n \n＋24V\n＋5V \n机床侧 \nCNC 侧\n0V \n输入信号\n1K \n4.7K\n0.1\n0V\n4.7K \n \n \n图4.9.2b \n \n4.9.3  信号说明 \n1） 输入信号 \na） T01～T08 刀位信号 \n有效电平为低。当其中的一个信号为低电平时，表示此时的刀架处于该刀号位置。连接图如下所示，\n图中8 只上拉电阻外接。 \n刀架到位电平信号可通过参数号009 的BIT1 位设置（0 为高电平有效，1 为低电平有效） \n \n \n+24V \nT01 \nT02 \nT03 \nT04 \nT05 \nT06 \n控制单元 \n2K*8\n 0V \nT07\nT08\n \n图4.9.3a \nb） TCP：刀架锁紧信号 \n在换刀过程中，刀架到位后系统输出刀架反转信号(TL-)，并开始检查锁紧信号TCP，当接收到该\n信号后，延迟参数号№085 设置的时间，关闭刀架反转信号(TL-)，T 代码指令结束，程序继续执行下一\n程序段。当系统输出刀架反转信号后，在参数号№088 设定的时间内，如果系统没有接收到TCP 信号，\n系统将产生报警并关闭刀架反转信号。若刀架控制器无刀架锁紧信号输出时，可把参数№009 的Bit0 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n119\nTCPS 设定为1，此时电脑不检查刀架锁紧信号。 \n当前的刀号存在诊断№049 中。当换刀正常结束时，系统自动修改此值。在显示屏的右下角的T 显\n示当前指令的T 代码及刀补号。开机时，T 代码置№049 作为初值。在正常换刀时，这两个值是相同的\n当指令T 码后，由于某种原因刀架没有到位时，这两个值不相同，T 显示指令的刀号，而№049 保持换\n刀前的刀号不变。当指令的刀号与№049 一致时，系统不进行换刀。所以当前刀号与№049 不同时，需\n再执行换刀，直到№049 为当前的刀号。 \n手动换刀时，在换刀结束后，T 代码及№049 才修改为新的值。 \n换刀时序图： \n   \n刀架正转输出(TL+  005。6) \n刀架锁紧输入(TCP  00.7) \n刀架到位输入(T4～T1  00.4~00.0) \n刀架反转输出(TL-  005。7) \nT1=#082 \nT2=#088\nTb<#085\nTa<#083*刀位数\n \n图  4.9.3b \n图中#83 等是对应参数号设置的时间参数. \n当Ta≥（#083）×此次换刀位数时。产生报警 185：换刀时间过长.从刀架开始正转经过Ta 时间\n后指定的刀位到达信号仍然没有接收到时，产生报警。 \n当Tb≥#088 时。产生报警  186：在刀架反转缩紧时间内未接到刀架反转锁紧信号。 \n刀架到位信号（T8～T1） 由参数№009 的Bit1 TSGN 设定高或低电平有效。 \nTSGN \n0 :  刀架到位信号高电平有效。（常开） \n \n    1 :  刀架到位信号低电平有效。（常闭） \n刀架锁紧信号（*TCP） 由参数№009 的Bit0 TCPS 设定高或低电平有效。 \nTCPS \n0 :  刀架锁紧信号低电平有效。（常开） \n \n    1 :  刀架锁紧信号高电平有效。（常闭） \n \nc） DECX、DECZ  减速开关信号 \n该信号在返回机械参考点时使用，为常闭触点。返回参考点的过程如下： \n选择机械原点方式，之后按相应轴的手动进给键，则机床将以快速移动速度向参考点方向运动。\n当返回参考点减速信号（DECX、DECZ ）触点断开时（压上减速开关），进给速度立即下降，之后\n机床以固定的低速（参数№043设定）继续运行。当减速开关释放后，减速信号触点重新闭合，之后\n系统检测编码器的一转信号或者磁开关信号（PC信号）。如该信号为高电平，则运动停止。同时点\n亮操作面板上相应轴的回零指示灯。返回参考点操作结束。在回零键释放之前，手动进给将一直无效。 \n每一个轴的返回参考点方向可以由参数进行设定。连接图如下所示： \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n120 \n+24V\n控制单元\nDECX\nDECZ\n \n图4.9.3c \n   d） ST和SP信号 \n自动循环启动信号ST和进给保持信号SP的作用与系统面板中的自动循环启动键和进给保持键的\n作用相同。参数014位MST（BIT0）=0，M@SP（BIT1）=0时，ST、SP信号有效，否则该点信号为\n空，当M@SP（BIT1）=0时，必须外接进给保持开关，否则进给保持信号一直有效。 \n     \n+24V\nXS40 插座\n SP\n ST\n无锁常闭点\n \n \ne） ESP 紧急停止信号 \n该信号为常闭触点信号。当触点断开时，控制系统复位，并使机床紧急停止。产生急停后，系统\n准备好信号EN将断开。同时封锁运动指令输出。 \n本系统具有软件限位功能以进行超程检查，可以不安装超程检查限位开关。但是，当驱动器产生\n故障，使机床的运动超出软件限位的范围时，为使机床能停止运动，必须安装行程限位开关。其连接\n图如下所示： \n \n+X\n-X\n+Z\n-Z\n限位暂时解除开关\n+24V\nESP（XS40）\n急停开关\n \n \n图4.9.3 a \n \n使用上图的连接时，参数014位MESP（BIT3）=0，若为1，上图功能不起作用。这里说明的急停\n信号（*ESP）的连接为标准连接。用户在进行该信号的连接时，应尽可能的按此方法进行连接。 \n \nf） LIMITZ、LIMITX硬限位信号 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n121\n该信号为常闭触点信号。当触点断开时，控制系统复位，并使机床紧急停止。产生急停后，系统产\n生硬限位报警，同时封锁运动指令输出。 \n该功能有效时，可将各轴的硬件限位与ESP独立出来，各轴限位时能准确反映出来。 \n使用该功能时，参数008位LMTZ、LMTX需设置为1，若为0，该功能不起作用。同时可通过LTVZ、\nLTVX来设定该信号为高/低电平有效。当高电平有效时，该信号与＋24V接通时报警；当低电平有效时，\n该信号与0V接通时报警。产生报警后需按报警解除键（参照下图4.9.3 b）待报警解除后，才能移动两轴。 \n＋24V\n－Z\n＋Z\nZ轴限位解除\n＋\n－X\n轴限位解除\nL\nI\nM\nI\nT\nX\nLIMITZ\n \n                            图  4.9.3 b \n \ng）  OW1、OW2外部报警信号 \n该信号为常开触点信号。当触点闭合时，控制系统复位，并使机床紧急停止。产生急停后，系统\n产生外部报警，同时封锁运动指令输出。 \n该信号为提供给用户选择使用信号，用户可根据需要使用。 \n使用该功能时，参数012位WAR2、WAR1需设置为1，若为0，该功能不起作用。同时可通过设\n置WA2、WA1来设定该信号为高/低电平有效。高电平有效时，该信号与＋24V接通时报警；当低电\n平有效时，该信号与0V接通时报警。产生报警后，需复位取消报警，才能进行加工。 \n \nh） SPEN主轴旋转允许输入信号 \n该信号为常开触点信号。当触点闭合时，可起动主轴。当触点断开时，控制系统复位，并使机床\n紧急停止，并产生＃171报警，主轴停止旋转。 \n当参数015位1SPEN设置为1时有效。若为0，该功能不起作用。 \n \ni） DOOR防护门检测信号 \n该信号为常闭触点信号。当触点断开时，控制系统复位，并使机床紧急停止。产生急停后，系统\n产生防护门未关闭的报警，同时封锁运动指令输出。 \n当参数016位5SFDR为1时该功能有效，系统在防护门打开时不能运行，加工时必须关闭防护门。\n当该参数为0时，系统不检测防护门是否关闭。可通过参数016位6SFDV设定该信号为高/低电平有效。\n当高电平有效时，该信号与＋24V接通表示防护门关闭，断开或与0V接通时报警；当低电平有效时，\n该信号与0V接通表示防护门关闭，与＋24V接通时报警。 \n该功能在自动方式下有效，其他方式不检测防护门。 \n \nj） PCH压力检测信号 \n该信号为常闭触点信号。当触点断开时，控制系统复位，并使机床紧急停止。产生急停后，系统\n产生压力未到达的报警，同时封锁运动指令输出。 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n122 \n当参数016位4PSCK为1时该功能有效，此时当压力偏低时，不能正常起动系统。可通过参数016\n位3PSCV来设定该信号为高/低电平有效。当高电平有效时，该信号与＋24V接通表示压力到达设定值，\n断开或与0V接通时报警；当低电平有效时，该信号与0V接通表示压力到达设定值，与＋24V接通时报警。 \n当该功能有效时，系统一旦检测到压力低的报警信号有效，且信号保持时间超出参数092设定的值\n时，系统产生报警，此时轴进给暂停、主轴停转、自动循环不能启动、关闭冷却及润滑。按复位键或断\n电可取消报警。 \n \nk） GR1、GR2换档到位信号 \n该信号为常开触点信号。功能参考4.9.5。 \n \n4.9.4  输出信号 \n1） 输出信号 \n直流输出信号用于驱动机床侧的继电器和指示灯。驱动电路使用晶体管（包括S1～S4、M3、M4、\nM5、M8、M10、M11、M32、TL-、TL+、UO0—UO5、DOQPJ（M12）、DOQPS（M13）、SPZD）、\nM51~M70。 \na） 输出用晶体管的规格： \n① 输出ON 时的最大负载电流，包括瞬间电流200mA 以下。 \n② 输出ON 时的饱和电压，200mA 时最大为1.6V，典型值为1V。 \n③ 输出OFF 时的耐电压，包括瞬间电压24+20%以下。 \n④ 输出OFF 时的泄漏电流，100μA 以下。 \nb） 输出回路： \n \n      \n CNC 侧\n0V\n继电器\n+24V\n \n \n      图4.9.4a     \n本系统的输出信号全部由达林顿管提供，输出有效时相应的达林顿管导通。除TL-、TL+、SPZD为\n脉冲信号（非保持输出）外，其它输出均为电平信号（输出保持），信号的公共端为＋24V。 \n2） 输出信号说明 \na） S1～S4 主轴速度信号 \n与UO0~UO5及M41~M44共用输出口选择主轴档位控制时S1、S2（二档）或S1~S4（四档）功能\n有效，S1~S4只能一个信号有效。 \nb） TL＋、TL－ 换刀信号 \nTL＋为正向换刀信号，TL－为反向换刀信号。 \nc） M03，M04，M05 主轴控制M 代码 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n123\nM03为主轴正转，M04为主轴反转，M05为主轴停止。 \nd） M08，M09（内部信号无输出）冷却液控制 \nM08为冷却液开，M09为冷却液关。 \ne） DOTWJ、DOTWS 尾座控制开关，DOTWJ 为尾座进，DOTWS 为尾座退。 \nf） DOQPJ、DOQPS 卡盘控制，DOQPJ 为卡盘夹紧，DOQPS 为卡盘松开。 \nDOQPJ与Y16、DOQPS与UO5共用输出口，DOQPJ卡盘夹紧，DOQPS卡盘松开，选择自动卡盘控\n制时功能有效。在外卡方式时，功能刚好相反，详细见4.9.6。 \ng） M32，M33（内部信号无输出）润滑控制 \nM32为润滑油开，M33为润滑油关。 \nh） 主轴制动信号SPZD \n动作关系如下： \n \n主轴制动 \n主轴停止 \n主轴正/反转\nT 3\nT 2\n \nT2：从发出主轴停止信号到发出主轴制动信号的延迟时间。设定在参数号089中。 \nT3：主轴制动时间，设定在参数号090中。 \n \ni） 星三角起动信号STAR/TRIAN \n当参数015位7STAR设置为1时有效。当主轴起动时，STAR信号输出有效，延时参数093设定的\n时间后，关闭STAR信号，输出TRIAN信号。 \n主轴正/反转\n信号\n星型起动信\n号\n三角型起动\n信号\n号参数设定时间\n \nj） 输出报警信号WARN \n当参数015位6OWAR设置为1时有效。当系统产生报警时，该信号输出有效；在取消报警时，同\n时使该信号无效。该信号用于提醒用户系统处于报警状态。 \nk） 加工完毕信号M30 \n当参数015位5OM30设置为1时有效。当系统刚上电或执行M30后，处于工作完毕状态时，该信\n号输出有效，当系统处于自动加工或运转过程中，该信号无效。该信号用于提醒用户系统处于加工完\n毕状态。 \nl） 自动运行信号STM \n当参数015位4OMST设置为1时有效。当系统正在自动执行时，该信号输出有效，执行M30或复\n后该信号无效。 \nWARN、M30与STM三个信号互锁，表示系统的报警、待机及加工三种状态。 \nm)  刀架锁紧信号TLOCK \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n124 \n当使用广州数控设备有限公司生产的SWD 卧式刀架时，该锁紧信号有效。详细参考该刀架的连\n接说明。 \nn)  扩展M 代码 \n本系统增加了10 个用户自定义的输出口，分别用M51～M70 进行控制，其中奇数指令使该信号\n有效，偶数指令使该信号无效，执行时输出长信号。如： \nＭ5１指令使１号用户输出点输出有效（输出低电平） \nＭ5２指令使１号用户输出点输出无效（输出高电平） \n \n4.9.5  主轴自动换档控制 \n选择主轴变频控制（0~10V模拟电压输出）时，可支持4档主轴机械档位自动换档控制功能，通过\n按档位设置P055~P058参数，在不同的档位使S指令转速与实际转速一致。 \n相关参数：参数P001 BIT4、参数P010，P001 BIT4=1主轴变频控制功能有效。 \n \nPAR010 \n \n0 \n1 \n0 \n \nAGER\nAGIN\n \nAGIM\n \n \n \n \nAGER：设为1 时，自动换档功能有效。 \nAGIN=0/1 时：换档至1、2 档时不检查/检查换档到位信号M41I（T07）、M42I（T08）。 \nAGIM：M41I、M42I 设为0/1 时选择高/低有效电平。 \n输入/输出信号： \nGR1：1 档到位信号 \nGR2：2 档到位信号 \n注：3、4 档无到位信号 \nM41~M44：1~4 档换档输出（与S1~S4 共用接口） \n① 检查参数010 的 AGER 是否为1 并且选择的模拟主轴机能，否则产生报警180：主轴为档位控\n制或主轴自动换档无效时，M41~M44 不可使用。 \n② 是否与当前档位一致（检查输出状态），如果一致，M 代码结束，不进行换档。如果不一致，进\n行换档过程③。 \n③ 使主轴转速为参数066 设置的转速，如果有运动时暂停运动。 \n④ 延迟 参数063〖换档时间1〗后，关闭原档位输出信号同时输出新的换档信号。 \n⑤ 当换档为1 或2 档时，且参数010 AGIN 为1，则转⑥，否则转⑦ \n⑥ 检查1 或2 档到位输入信号（其电平可由参数010 AGIM 选择0 或1 电平有效），如果到位转⑦。 \n⑦ 延迟参数064〖换档时间2〗，根据当前档位按P055~P058（对应1~4档）设置值输出主轴模拟电\n压，换档M指令结束。 \n注：开机时，换档信号M41~M44 无输出。默认档位1。 \n \n4.9.6  卡盘控制 \n \n相关参数 \nPAR016 \n \n0 \n1 \n6 \n \nNWKP\n \n \n \n \n \nSLSP\nSLQP\n \nNWKP=0/1：卡盘为内/外卡方式 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n125\n当NWKP=0 时，执行M12 时DOQPJ 输出有效，DOQPS 无效；执行M13 时DOQPS 有效，DOQPJ\n无效。 \n当NWKP=1 时，执行M12 时DOQPS 输出有效，DOQPJ 无效；执行M13 时DOQPJ 有效，DOQPS\n无效。 \n \nSLQP=0/1：卡盘功能无效/有效 \nSLSP=0/1：不/检查卡盘是否卡紧 \nSLQP=1 与SLSP=1 时，如果卡盘未夹紧，则无法启动。（报警044，卡盘未夹紧启动主轴）。 \n输入/输出信号： \nDIQP：卡盘夹紧/松开输入（XS39 的11 脚），一般为脚踏开关控制； \nM12/M13 分别作为卡盘夹紧/松开的控制信号指令； \nPAR016 中的SLQP=1 时，M12/M13 在MDI/自动方式下有效： \n以下为内卡方式，外卡方式与下相反： \n执行M12 后，DOQPS（XS39 的10 脚）输出0V，DOQPJ（XS39 的4 脚）输出24V，卡盘夹紧。 \n执行M13 后，DOQPJ（XS39 的4 脚）输出0V，DOQPS（XS39 的10 脚）输出24V，卡盘松开。 \nSLQP=1，SLSP=1，M3 或M4 有效时，执行M13 产生报警“045：主轴运转时松开卡盘”，输出\n状态不变。 \nSLQP=1 时，DOQPS、DOQPJ 在系统复位、急停时输出状态不变。 \n动作时序： \n \n 输入信号：DIQP \n \n输出信号：DOQPJ \n \n输出信号：DOQPS \n \n \n \n注1：开机时，DOQPJ 及DOQPS 都输出0，第一次有卡盘输入信号时，DOQPJ 输出1。 \n注2：在主轴旋转时或自动循环加工过程中，DIQP输入无效。 \n \n4.9.7  尾座控制 \nPAR016 \n \n0 \n1 \n6 \n \n \n \n \n \n \nSLTW \n \n \n \nSLTW=0/1：尾座控制功能无效/有效 \n    输入/输出信号： \nDITW：尾座夹紧/松开输入（XS40 的2 脚） \nM10/M11 分别作为尾座夹紧/松开的控制信号指令 \nPAR016 中的SLTW=1 时，M10/M11 在MDI/自动方式下有效： \n执行M10 后，DOTWS（XS39 的9 脚）输出0V，DOTWJ（XS39 的2 脚）输出24V，尾座进。 \n执行M11 后，DOTWJ（XS39 的2 脚）输出0V，DOTWS（XS39 的9 脚）输出24V，尾座退。 \n动作时序： \n \n  输入信号：DITW \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n126 \n输出信号：DOTWJ \n \n输出信号：DOTWS \n \n \n注1：开机时，DOTWJ 及DOTWS 都输出0，第一次有尾座输入信号时，DOTWJ 输出1。 \n注2：在主轴旋转时或自动循环加工过程中，DITW输入无效。 \n \n4.9.8  输入输出信号诊断表 \n \n系统所有输入\\输出信号都可以通过诊断表显示出来。 \n1） 机床到CNC 的信号表 \n \nT6 \nX15 \n*DECX\nX13 \n*SP \nX12 \nST \nX11 \nDECZ \nX10 \n*ESP\nT7 \n T5 \n位号: 7 \n6 \n5\n4\n3\n2\n1 \n0\n001 \n002 \n003 \n插座脚号 \nT8 \nX17 \nTCP\nSAR \nLTZ \nLTX \nSPEN \n#1007 \nXS39：12 \n#1005 \nXS40：1\n#1015 \nXS40：7\n#1011 \nXS40：19 \n#1010 \nXS40：20\n \n \n \n \n#1009 \nXS40：21\n#1008 \nXS40：22\n#1014 \nXS40：8 \n#1013 \nXS40：9 \n#1012 \nXS40：10\n#1004 \nXS40：2\n#1006 \nXS39：11\nX16 \nDIQP \nX14 \nDITW\n  宏程序 \n编程变量号 \n T4 \n T3 \n T2 \n T1 \n PSCK\n GR1 \n GR2 \n DOOR \n#1000 \nXS40：6\n#1001 \nXS40：5 \n#1002 \nXS40：4 \n#1003 \nXS40：3\n \n \n         004 \n \n \n2） CNC 到机床的信号表 \n \n \n \n \n \n \nLCK \nOWA2 \nOWA1\n \n \n \n \n \n \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n127\n \n诊断号 \n位号: 7 \n6 \n5\n4\n3\n2\n1 \n0\n005 \n006 \n插座脚号 \nM03\nM04 \nM10 \nM08\nM32\nXS39：7 \nXS39：3 \nXS39：2\nXS39：15\nXS39：6 \nXS39：17 XS39:4 XS39：16\nM05\nM12 \nSPZD \nM13 \nM11 \nTL- \nTL+ \nS04/M44 S03/M43 S02/M42 S01/M41\n#1107 \nXS40：13 \n#1106 \nXS40：12 \n#1105 \nXS39：10\n#1104 \nXS39：9 \n#1103 \nXS39：8\n#1102 \nXS39：14\n#1101 \nXS39：1 \n#1100 \nXS39：5\n插座脚号 \n  宏程序 \n编程变量号 \nY10 \nY11 \nY12 \nY13 \nY14 \nY15\nY16 \nY17 \nX20\nX21 \nX22\nX23\nX24\nX25\nX26 \nX27 \n \n \n \n4.9.9  功能描述 \n在诊断显示页面，按“诊断”键切换诊断/机床面板显示页面，在机床面板显示页面时，用“1”“2”\n“3”“4”“5”键分别切换。 \n \n机床面板                       O0000 N0000 \n \n                       录入方式     \n机床锁住（键1）：◆ 关  开 \nU   0.000        W  0.000   \nS 0000  T 0100\n辅助锁住（键2）：◆ 关  开 \n单程序段（键3）：◆ 关  开 \n空运行  （键4）：◆ 关  开 \n程序选跳（键5）：◆ 关  开 \n现在位置（相对座标） \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n按键 \n作用 \n键1：机床锁住开关。(数字键1) \n键2：辅助锁住开关。(数字键2) \n键3：单程序段开关。(数字键3) \n键4：空运行开关。  (数字键4) \n键5：程序选跳开关。(数字键5) \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n128 \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n5   机 床 调 试 \n5.1  接通电源前准备 \n系统通电前必须保证，系统电源无短路，急停开关，限位开关已正确连接。 \n5.2  机床调试 \n5.2.1  急停开关 \n急停信号可通过参数号14BIT3位屏蔽。 \nMESP=1时，急停无效，调试用。 \nMSEP=0时，急停有效，正常使用。 \n诊断号001BIT0位可检查急停信号有否输入。为1表示急停开关已连接（开关信号为常闭信号）。 \n \n5.2.2  驱动轴调试 \n1）驱动报警 \n通电时若显示X轴或Z轴驱动器报警，应先检查驱动器报警灯是否亮（步进驱动器）或显示报警（伺\n服驱动器），亮则为驱动器有问题，需对驱动器进行处理，再检查驱动报警线是否断开，若无上述现象，\n则为报警参数所设电平与驱动器不匹配，这时可改动参数号008BIT0、1位（ALMZ、ALMX分别对应Z、\nX轴）。改动完毕按下复位键（\\\\）可消除驱动器报警。 \n2）驱动电机方向调整 \n若出现驱动电机运转方向与电脑坐标方向不一致时，可改变参数号007BIT0、1位（DIRZ，DIRX\n分别对应Z、X轴，按W或D键可切换该位参数解释）或该变压器驱动器方向选择开关。 \n3）电子齿轮调整 \na）计算公式 \nCMR：指令倍乘系统（参数№017～018） \nCMD：指令分频系数（参数№019～020） \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n129\na：步距角（度） \nL：步进电机一转对应机床的移动量（mm） \n例：Z向步进电机直联，步距角0.6度，丝杆螺距6mm，X向减速比3/5，步距角0.75度，丝杆螺距4mm，\n选用驱动器设为10细分挡，因此Z向步距角为0.06度，X向步距角为0.075度。 \n① X向计算方法 \nσ=0.075  L=3/5*8 \n系统最小输出单位是CMRX/CMDX=1/1(单位：0.001mm。) \n参数号017CMRX=1，参数号019CMDX=1 \n② Z向计算方法 \na=0.06 L=6 \n系统最小输出单位是CMRZ/CMDZ=1/1(单位：0.001mm。) \n参数号018CMRZ=1，参数号020CMDZ=1 \n注：无论是配置何种距角的电机，系统的最小编程单位都为0.001mm，而最小输出单位则取决于a及L，a，L愈小，分\n辩率愈高，但会使速度降低，反之，a，L愈大，速度愈高，但会使分辨率降低。 \n4） 快速移动速度及线性加减速调整 \n参数号021及022分别为X、Z轴快速移动速度设值设范围（0—7600mm/min），其中X轴减半。 \n参数号023及024分别为X、Z轴快速移动时线性加减速时间常数设值设置范围（40—1000）。 \n参数号025及026分别为X、Z轴快速移动时S型加减速时间常数设值设置范围（40—1000）。 \n参数号028为切削进给时加减速的低速下限值，取值范围（40～100mm/min）。 \n参数号029及030分别为切削进给时的S加速、减速时间常数，取值范围（40～1000）。 \n参数号031为切削进给时的直线加减速时间常数，取值范围（40～1000）。 \n注：配步进驱动器时，建议加减速时间数值大于或等于300；配伺服驱动器时，数值可设为100。 \n5） 切削进给上限速度 \n参数号027为切削进给上限速度设置，必须设为8000。 \n6） 螺纹加工调整 \na）退尾长度调整 \n参数号068THDCH为退尾长度设置，螺纹倒角宽度=THDCH*1/10*螺距。 \nb) 螺纹加工指数加减速 \n参数号069为螺纹加工两轴的直线加减速常数，通常设为100。 \n7） 机床零点（机械零点）调整 \n必须确定回零减速开关正确连接，诊断号001BIT5（DECX）及诊断号001BIT1（DECZ）可检查。 \n必须确定零点信号正确连接，诊断号009BIT0（PCX）及诊断号009BIT1（PCZ）可检查，如正确，电\n机转动一周后此位变为“1”。 \n参数号006BIT5、4（ZCZ，ZCX分别对应Z、X轴）通常这两位设“0”。 \n参数号005BIT0、1（ZMZ，ZMX分别对应Z、X轴）通常这两位设“1”，为正向回零。 \n8） 丝杆间隙补偿 \n参数号036、037分别为X、Z轴丝杆间隙补偿量。 \n \n5.2.3  电动刀架调试 \n必须确认刀位输入信号线正确连接，可通过诊断号002BIT0-7（T01-08）检查，正确时到位信号显\n示“0”，其它位显示“1”（或到位信号显示“1”，其它位显示“0”）。 \n换刀时刀架电机正/反转信号正确输出，可通过诊断号006BIT6、7（TL-、TL+）检查。 \n要使刀架正常动转以下参数必须正确设定： \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n130 \n参数号009=00001101（BIT0=1刀架锁紧信号为高电平有效，BIT0=0刀架锁紧信号为低电平有效。\nBIT1=1表示刀架到位信号为低电平有效，BIT1=0表示刀架到位信号为高电平有\n效） \n参数号081=4（总刀位数选择，最大为8） \n参数号082=100（换刀T1时间） \n参数号083=1000（移动一刀位所需的时间上限） \n参数号084=15000（从第一把刀换到最后一把刀的时间上限） \n参数号085=100（刀架反转锁紧时间，刀架锁不紧时可适当调长一点） \n参数号088=500（未接到*TCP的报警时间） \n \n5.2.4  机床主轴调试 \n主轴为变频器控制时，参数号001BIT4=1，若非变频器控制时参数号001BIT4=0。 \n系统可配备1024或1200线编码器（输出A、A＼、B、B＼、Z、Z＼信号），通过参数052来设定。\n当主轴与编码器间的传动比不是1：1时，可通过设置053、054号参数设定主轴与编码器的齿轮齿数\n来调整。 \n诊断号009BIT2（PCS）可检查主轴编码器螺头信号。 \n主轴为变频器控制时，调整参数号055值，可使输入转速指令（S代码），与实际转速一致。 \n参数号089为主轴指令停止到主轴制动输出时间，090为主轴制动时间。当089=50、090=60时， \nM05发出产200ms后，进行240ms主轴制动。 \n \n5.2.5  单步\\手轮调整 \n参数号001BIT3=1，外接电子手轮有效，单步点动无效；001BIT3=0，外接电子手轮无效，单步点\n动有效。 \n \n5.2.6  其它调整 \n参数号                                                                     诊断位 \n0 \n1 \n0 \n \nAGER \nAGIN\n \nAGIM\nSPT \n \n \n \n \n0 \n1 \n4 \n \nKEY1 \nSKEY\n \n \nMESP\nMOT \nM@SP \nMST \n \n0 \n1 \n5 \n \n \n \n \n \n \n \nSPEN \n \n \n0 \n1 \n6 \n \n \n \n \n \n \nSLTW \nSLSP \nSLQP\n \nAGER=1/0：主轴自动换档功能有效/无效。 \nAGIN：为1 时，换第一档或第二档，需检查换档到位信号；为0 时，不检查换档到位信号。 \nAGIM=0/1：M411/*SPEN、M412/*STEN信号有效电平选择（0/1电平有效）。（功能在扩展口） \nSPT=0/1：主轴点动功能无效/有效。（可在参数094设置主轴点动延时时间） \nSLTW=0/1：尾座控制功能无效/有效 \nSLQP：为1 时卡盘控制有效；为0 时卡盘控制无效。 \nSLSP：为1 时当选择卡盘时，如果卡盘未卡紧，则主轴无法启动（报警0015，运动停止）；为0 时不\n检查卡盘是否卡紧。 \nMST=1：屏蔽外接循环启动（ST）信号，此时它不是循环启动开关。 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n131\nM@SP=1：屏蔽外接暂停（SP）信号，此时它不是暂停开关。  \nM@SP=0: 外接暂停（SP）信号有效，此时必须外接暂停开关，否则电脑显“暂停”报警。 \nMOT=1：不检查软限位。 \nMESP=1：屏蔽急停（ESP）信号，急停输入无效。 \nSKEY=1：屏蔽程序开关，禁止编辑程序。 \nKEY1=1：开机时程序开关为开。 \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n附录1  参数一览表 \n \n1  按顺序排列 \n0 \n0 \n1 \n \n \nSCW\n \nMDSP\nWHLA\nRAD \n \n \n \nSCW：“1”系统为英制系统，“0”系统为公制系统。 \n摸拟主轴(MDSP)：主轴为变频器控制或受摸拟量控制时设为“1”。 \n手轮(WHLA)：“1”为手轮方式 “0”为单步方式 \n半径编程(RAD)：X轴半径编程设为“1”。 \n 标准设定：0 0 0 0 0 0 0 0 \n \n0 \n0 \n2 \n \nAUN \nTOC \nORC\n \nCCMP\nSCRP \nRDRN PRSR\n \nAUN      1：编辑时自动加序号 \n0：编辑时不自动加序号 \nTOC      1：偏移矢量复位时不变 \n           0：偏移矢量复位时清零 \nORC      1：偏置值以半径表示 \n           0：偏置值以直径表示 \nCCMP     1：有刀补C功能 \n           0：无刀补C功能 \nSCRP     1：有螺补功能 \n           0：无螺补功能 \nRDRN     1：空运行快速运动指令有效 \n           0：空运行快速运动指令无效 \nPRSR     1：以座标偏移方式执行刀补 \n           0：以刀具移动方式执行刀补 \n标准设定：0 0 0 0 0 0 1 0 \n \n0 \n0 \n3 \n \nABOT \nMNT\nDECZ\nDECX\nDRDY\nPCMD \n \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n132 \nABOT   1： 绝对坐标断电不记忆。 \n0：绝对坐标断电记忆。 \nMNT \n  1： 加工时间及加工件数断电不记忆。 \n0：加工时间及加工件数断电记忆。 \n    DECZ    1：Z轴返回参考点时减速信号为“1”表示减速 \n0：Z轴返回参考点时减速信号为“0”表示减速 \nDECX    1：X轴返回参考点时减速信号为“1”表示减速 \n0：X轴返回参考点时减速信号为“0”表示减速 \nDRDY    1：驱动器/伺服准备号信号为1时表示准备好 \n0：驱动器/伺服准备号信号为0时表示准备好 \nPCMD    1：输出波形是脉冲 \n0：输出波形是方波 \n标准设定：0 1 0 0 0 1 0 0  \n \n0 \n0 \n4 \n \n \nSMA\nM30\nPPD \n \nCM98 \n \n \n \nSMA \n  1：S代码时主轴手动换档 \n0：S代码时主轴自动换档 \nM30 \n  1：M30执行时，光标立即返回开头 \n0：M30执行后，再次循环起动时光标返回开头 \nPPD \n  1：用绝对零点编程（G50）也设置相对坐标值 \n0：用绝对零点编程（G50）不设置相对坐标值 \nCM98   0：编入系统标准以外的M，S，T代码时，系统将会产生相应的报警。 \n1：编入系统标准以外的M，S，T代码时，系统不产生报警，而会自动去调用一个对应的 \n子程序。 \n1.1：M代码，当系统执行标准以外的M代码时，调用的子程序为： \nM○○：调用子程序90○○。 \n1.2：S代码，当系统执行S10～S99时，调用的子程序为： \nS□□：调用子程序91□□ \n注：当选择主轴模拟电压输出时，S代码不调用子程序。 \n1.3：T代码，当系统执行T10～T99时，调用的子程序为： \nT△△：调用子程序92△△。 \n注1：当执行非标准的M，S，T时，必须编入对应的子程序。否则会产生078号报警。 \n注2：非标准的M，S，T代码不能在MDI方式下运行，否则会产生M/S或T代码的报警。 \n注3：在对应的子程序中即可以编入轴运动指令，也可以对输出点进行控制（关和开），也可以根据DI的信号进\n行转跳或进行循环，或某一DI信号作为M/S/T的结束信号。关于DI/DO见下面的诊断说明。 \n        标准设定：0 0 1 0 0 0 0 0 \n0 \n0 \n5 \n \nWHFT \nISOT\n \n \n \n \nZMZ \nZMX\nWHFT \n1：工件坐标系平移有效 \n0：工件坐标系平移无效 \nISOT \n1：在通电或急停后，没有返回参考点，手动快速有效 \n0：在通电或急停后，没有返回参考点，手动快速无效 \nZMZ \n1：当接通电源时，Z轴的参考点返回方向及原始的反向间隙方向为正 \n0：当接通电源时，Z轴的参考点返回方向及原始的反向间隙方向为负 \nZMX \n 1：当接通电源时，X轴的参考点返回方向及原始的反向间隙方向为正 \n0：当接通电源时，X轴的参考点返回方向及原始的反向间隙方向为负 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n133\n标准设定：01000000 \n \n0 \n0 \n6 \n \n \nAPRS\nZCZ \nZCX \n \n \nRTMZ RTMX\n \nAPRS \n1：返回参考点后作自动坐标系设定 \n0：不作自动坐标系设定 \nZCZ \n1：Z轴为磁开关回零方式C。（在有机械零点时有效） \n0：返回机械零点需要减速开关及零位信号 \nZCX \n1：X轴为磁开关回零方式C。（在有机械零点时有效） \n0：返回机械零点需要减速开关及零位信号 \n \n如果机床零点在轴‘正’端（从负向向正向回零）时，需设置参数P006 ZMZ～ZMX为负向回零方\n向。 \n如果机床零点在轴‘负’端（从正向负向回零）时，需设置参数P006 ZMZ～ZMX为正向回零方向。 \n联接时，除需将接近开关连接到系统的减速信号端以外，还需将其连接到系统的零点信号。 \nRMTZ  1：Z轴有机械零点 \n0：Z轴无机械零点 \nRMTX \n1：X轴有机械零点 \n0：X轴无机械零点 \n \n标准设定：00000000 \n0 \n0 \n7 \n \nHAND \n \n \nBDEC\n \n \nDIRZ \nDIRX\n \nHAND \n1：手轮顺时针旋转方向为负 \n0：手轮顺时针旋转方向为正 \nBDEC \n1：间补以升降速方式补偿 \n0：间补以固定频率方式补偿 \nDIRZ \n1：Z轴电机旋转方向为正 \n0：Z轴电机旋转方向为负 \nDIRX \n1：X轴电机旋转方向为正 \n0：X轴电机旋转方向为负 \n标准设定：00000000 \n \n0 \n0 \n8 \n \n \n \nLTVZ \nLTVX\nLMTZ\nLMTX \nALMZ ALMX\n \nLTVZ \n1：Z轴硬限位高电平有效 \n0：Z轴硬限位低电平有效 \nLTVX  1：X轴硬限位高电平有效 \n0：X轴硬限位低电平有效 \nLMTZ \n1：检测Z轴硬限位 \n0：不检测Z轴硬限位 \nLMTX \n1：检测X轴硬限位 \n0：不检测X轴硬限位 \nALMZ  1：Z轴驱动器报警电平为低电平 \n0：Z轴驱动器报警电平为高电平 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n134 \nALMX  1：X轴驱动器报警电平为低电平 \n0：X轴驱动器报警电平为高电平 \n标准设定：00000011 \n \n0 \n0 \n9 \n \nACC4 \nACC3\nACC2\nACC1\nNOFC\nDOFSI TSGN TCPS\n \nACC4、ACC3、ACC2、ACC1：共同控制加减速。其中： \n \n0000：(前)直线型加减速 \n \n0001：(前)S型加减速 \n \n0100：(后)直线型加减速 \n \n其他：待增加 \nNOFC \n0：计数方式输入偏置量无效 \n1：计数方式输入偏置量有效 \nDOFSI 0：刀偏直接测量方式输入偏置量无效 \n1：刀偏直接测量方式输入偏置量有效 \nTSGN   1：刀架到位低电平有效 \n0：刀架到位高电平有效 \nTCPS \n1：刀架锁紧信号高电平有效 \n0：刀架锁紧信号低电平有效 \n \n标准设定：000001110 \n \n0 \n1 \n0 \n \nAGER \nAGIN\n \nAGIM\nSPT \n \n \nSWD\nAGER \n0：主轴自动换档无效 \n1：主轴自动换档有效 \nAGIN \n0：换一档二档不检查到位信号 \n1：换一档二档检查到位信号 \nAGIM \n1：换档到位信号高电平有效 \n0：换档到位信号低电平有效 \nSPT    1：自动方式主轴点动有效 \n0：自动方式主轴点动无效 \nSWD   1：系统选配SWD卧式刀架（广州数控设备有限公司生产，六工位或八工位） \n0：通用刀架 \n标准设定：0000000 \n \n0 \n1 \n1 \n \n \n \n \n \n \n \nEAL \nPOD\n. \nEAL \n 0：报警时不可编程. \n1：报警时可编程 \nPOD \n 0：不可以用小数点编程 \n1：可以用小数点编程 \n       标准设定：0 0 0 0 0 0 0 1 \n \n0 \n1 \n2 \n \nWAR2 WAR1\n \n \nWA2\nWA1 \n \nRSJG\n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n135\nWAR2 \n1：外部报警2有效 \n0：外部报警2无效 \nWAR1 \n1：外部报警1有效 \n0：外部报警1无效 \nWA2 \n1：外部报警2高电平有效 \n0：外部报警2低电平有效 \nWA1 \n1：外部报警1高电平有效 \n0：外部报警1低电平有效 \nRSJG \n1：按复位键时，对输出M03，M04，润滑，冷却没有影响 \n0：按复位键时，系统自动关闭M03，M04，润滑，冷却输出 \n       标准设定：0 0 0 0 0 0 0 0 \n \n0 \n1 \n3 \n \n \n \n \n \n \n \nRTMC SBKM\n        \nRTMC \n  1：宏程序公用变量复位时清空 \n0：宏程序公用变量复位时不变 \nSBKM \n  1：在执行宏指令时单程序段有效。 \n0：在执行宏指令时单程序段无效。 \n        标准设定：0 0 0 0 0 0 0 1 \n \n0 \n1 \n4 \n \nKEY1 \nSKEY\n \n \nMESP\nMOT M@SP \nMST \nKEY1     1：开机时程序开关为开 \n0：开机时程序开关为关 \nSKEY     1：屏蔽程序开关 \n0：不屏蔽程序开关 \nMESP     1：屏蔽急停（ESP）信号 \n0：不屏蔽急停（ESP）信号 \nMOT      1：不检查软限位 \n0：检查软限位 \nM@SP    1：屏蔽外接（SP）信号 \n0：不屏蔽外接（SP）信号 \nMST      1：屏蔽外接（ST）信号 \n0：不屏蔽外接（ST）信号 \n标准设定：1 0 0 0 1 1 1 1 \n \n0 \n1 \n5 \n \nSTAR OWAR\nOM30\nOMST\n \n \nSPEN \n \nSTAR     1：主轴星三角型起动有效 \n0：主轴星三角型起动无效 \nOWAR    1：输出报警信号有效（可接信号灯表示系统处于报警状态） \n0：输出报警信号无效 \nOM30     1：输出M30信号有效  \n0：输出M30信号无效 \nOMST     1：输出STM信号有效 \n0：输出STM信号无效 \nSPEN     1：主轴旋转允许输入有效 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n136 \n0：主轴旋转允许输入无效 \n标准设定：0 0 0 0 0 0 0 0 \n \n0 \n1 \n6 \n \nNWKP SFDV\nSFDR\nPSCK\nPSCV\nSLTW SLSP \nSLQP\nNWKP    1：卡盘为外卡方式 \n0：卡盘为内卡方式 \nSFDV    1：防护门信号高电平有效 \n0：防护门信号低电平有效 \nSFDR    1：循环启动时检测防护门信号，防护门打开时不允许起动 \n0：循环启动时不检测防护门信号 \nPSCK     1：循环启动时检测压力信号，压力未到达时不允许起动  \n0：循环启动时不检测压力信号 \nPSCV     1：压力检测信号高电平有效 \n0：压力检测信号低电平有效 \nSLTW     1：尾座功能有效  \n0：尾座功能无效 \nSLSP     1：主轴起动时检查卡盘是否夹紧 \n0：主轴起动时不检查卡盘状态 \nSLQP     1：卡盘功能有效 \n0：卡盘功能无效 \n标准设定：0 0 0 0 0 0 0 0 \n \n0 \n1\n7 \n \nX轴坐标指令倍乘比CMRX \n       标准设定： 1（此数与齿轮比，丝杆螺距，脉冲当量有关） \n \n0 \n1\n8 \n \nZ轴坐标指令倍乘比CMRZ \n \nCMRX，CMRZ：各个坐标的指令倍乘比 \n设定范围：  1～65535  \n    标准设定： 1（此数与齿轮比，丝杆螺距，脉冲当量有关） \n \n0 \n1\n9 \n \nX轴指令分频系数CMDX \n         \n \n0 \n2\n0 \n \nZ轴指令分频系数CMDZ \n \nCMDX，CMDZ：各个坐标的指令分频系数。 \n设定范围：  1～65535  \n标准设定： 1（此数与齿轮比，丝杆螺距，脉冲当量有关） \n \n0 \n2\n1 \n \nX轴快速速率（mm/min） \n \n设定范围：  30～30000（直径编程时最大不能超过15000） \n标准设定： 3800（直径编程时设定值为实际速度的一半） \n \n0 \n2\n2 \n \nZ轴快速速率（mm/min） \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n137\n设定范围：  30～30000 \n标准设定： 7600 \n \n0 \n2\n3 \n \nX轴线性加减速时间常数（用于快速移动） \n \n设定范围：  8～4000 \n标准设置： 100  步进驱动器时应设在300以上） \n \n0 \n2\n4 \n \nZ轴线性加减速时间常数（用于快速移动） \n \n设定范围：  8～4000 \n标准设置： 100 （步进驱动器时应设在300以上） \n \n0 \n2\n5 \n \nX轴S加减速时间常数（用于快速移动） \n \n设定范围：  8～4000 \n标准设置： 100 （步进驱动器时应设在300以上） \n \n0 \n2\n6 \n \nZ轴S加减速时间常数（用于快速移动） \n \n设定范围：  8～4000 \n标准设置： 100 （步进驱动器时应设在300以上） \n \n0 \n2\n7 \n \n切削进给上限速度（mm/min） \n \n切削进给上限速度(适用于所有坐标)。 \n设定量：  0～8000  单位：mm/min \n标准设定： 8000 \n0 \n2\n8 \n \n切削进给时的加减速的低速下限值（mm/min） \n \n设定量： 0～500   单位：mm/min \n标准设定： 40  \n \n0 \n2\n9 \n \n切削进给时的S加速时间常数 \n \n设定量： 8～4000 \n标准设定： 100（步进驱动器时应设在300以上） \n \n0 \n3\n0 \n \n切削进给时的S减速时间常数 \n \n设定量：8～4000 \n标准设定： 100（步进驱动器时应设在300以上） \n \n0 \n3\n1 \n \n切削进给时的直线加减速时间常数 \n \n设定量：8～4000 \n标准设定： 100（步进驱动器时应设在300以上） \n \n0 \n3\n2 \n \n快速移动倍率最低速度Fo（mm/min） \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n138 \n设定量：  0～8000 \n    标准设定： 100   单位：mm/min \n \n0 \n3\n3 \n \n反向间隙补偿的脉冲频率 \n \n设定量： 1～16384  单位：Hz \n标准设定： 5 \n \n0 \n3\n4 \n \n补偿反向间隙的速度值（mm/min） \n \n设定量： 1～1000  单位：mm/min   \n标准设定： 40 \n  \n0 \n3\n5 \n \n补偿反向间隙的直线加减速时间 \n \n设定量： 1～1000   \n标准设定： 40 \n \n0 \n3\n6 \n \nX轴间隙补偿量（μm） \n         \n设定量： 0～65535 \n标准设定： 0 \n \n0 \n3\n7 \n \nZ轴间隙补偿量（μm） \n设定量： 0～65535 \n标准设定： 0 \n0 \n3\n8 \n \n螺距误差补偿倍率（各轴通用） \n \n设定量： 1～8  \n    标准设定： 1 \n \n0 \n3\n9 \n \nX轴螺距误差补偿原点 \n \n0 \n4\n0 \n \nZ轴螺距误差补偿原点 \n \n设定量： 0～255     \n标准设定：0 \n \n0 \n4\n1 \n \nX轴螺距误差补偿间隔（μm） \n \n0 \n4\n2 \n \nZ轴螺距误差补偿间隔（μm） \n \n设定量： 1000～9999999  单位：μm \n标准设定： 1000 \n \n0 \n4\n3 \n \n返回参考点时的低速，（FL）速度（mm/min） \n \n设定量： 6～600 单位：mm/min \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n139\n标准设定： 200 \n \n0 \n4\n4 \n \n回零后自动坐标系设定X值（μm） \n  \n0 \n4\n5 \n \n回零后自动坐标系设定Z值（μm） \n \n回零后自动坐标系设定的绝对坐标值 \n设定量：  ±9999999  单位：μm  \n标准设定： 0 \n \n0 \n4\n6 \n \nX轴正向行程极限（μm） \n \n    设定量：  ±9999999  单位：μm \n标准设定： 9999999 \n \n0 \n4\n7 \n \nX轴负向行程极限（μm） \n       \n    设定量：  ±9999999  单位：μm \n标准设定： -9999999 \n \n0 \n4\n8 \n \nZ轴正向行程极限（μm） \n     \n    设定量：  ±9999999  单位：μm \n标准设定： 9999999 \n \n0 \n4\n9 \n \nZ轴负向行程极限（μm） \n       \n设定量：  ±9999999  单位：μm \n标准设定：-9999999 \n \n0 \n5\n0 \n \n编程时自动插入程序顺序号的增量 \n     \n设定量： 0～9999 \n标准设定： 10 \n \n0 \n5\n1 \n \n主轴模拟调正数据 \n        \n设定量： -999～999 \n标准设定： 999 \n \n0 \n5\n2 \n \n主轴编码器线数 \n \n设定量： 1024、1200 \n标准设定： 1024 \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n140 \n0 \n5\n3 \n \n主轴和编码器齿轮比：主轴齿数 \n \n设定量：  1～65535 \n标准设定： 1 \n \n0 \n5\n4 \n \n主轴和编码器齿轮比：编码器齿数 \n \n设定量： 1～65535 \n标准设定：1 \n \n0 \n5\n5 \n \n主轴指令为10V时，齿轮1档主轴转速 \n0 \n5\n6 \n \n主轴指令为10V时，齿轮2档主轴转速 \n0 \n5\n7 \n \n主轴指令为10V时，齿轮3档主轴转速 \n0 \n5\n8 \n \n主轴指令为10V时，齿轮4档主轴转速 \n设定量： 1～9999 \n标准设定： 9999 \n \n0 \n5\n9 \n \n未用 \n \n0 \n6\n0 \n \n未用 \n \n0 \n6\n1 \n \n未用 \n \n0 \n6\n2 \n \n未用 \n \n \n0 \n6\n3 \n \n换档时间1 \n \n0 \n6\n4 \n \n换档时间2 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：50 \n    \n0 \n6\n5 \n \n每转进给最大切削进给速度（mm/rev） \n \n设定量：  0～500  单位：mm/rev \n标准设定：500 \n \n0 \n6\n6 \n \n主轴换档时的转速（r/min） \n \n设定量：  0～9999  单位：r/min \n标准设定：0 \n \n0 \n6\n7 \n \n恒线速控制下的主轴转速下限值（r/min） \n \n设定量：  0～9999  单位：r/min \n标准设定：100 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n141\n \n0 \n6\n8 \n \n螺纹切削的倒角宽度（THDCH） \n \n设定量：  0～99   \n螺纹倒角宽度＝THDCH×1/10×螺距 \n标准设定：5 \n \n0 \n6\n9 \n \n在螺纹切削中（G92）X轴的直线加减速常数 \n \n设定量：  6～4000   \n标准设定：40 \n \n0 \n7\n0 \n \n在螺纹切削中（G92）各轴的S加减速下限值 \n \n设定量：  6～4000  单位：mm/min \n标准设定：40 \n \n0 \n7\n1 \n \n多重固定循环（G71，G72）的切削深度 \n \n设定量：  0～9999999  单位：0.001mm \n标准设定：0 \n \n0 \n7\n2 \n \n多重固定循环（G71，G72）的退刀量 \n \n设定量   0～9999999  单位：0.001mm \n标准设定：0 \n \n0 \n7\n3 \n \n多重固定循环（G73）在X轴向的总切削量 \n \n设定量：  ±9999999  单位：0.001mm \n标准设定：0 \n \n0 \n7\n4 \n \n多重固定循环（G73）在Z轴向的总切削量 \n \n设定量：  ±9999999  单位：0.001mm \n标准设定：0 \n \n0 \n7\n5 \n \n多重固定循环（G73）的循环切削次数 \n \n设定量：  0～9999999  单位：次 \n标准设定：0 \n \n0 \n7\n6 \n \n多重固定循环（G74，G75）的退刀量 \n \n设定量：  0～9999999  单位：0.001mm \n标准设定：0 \n \n0 \n7\n7 \n \n多重固定循环（G76）精加工的重复次数 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n142 \n \n设定量：  0～9999999  单位：次 \n标准设定：0 \n \n0 \n7\n8 \n \n多重固定循环（G76）的刀尖角度 \n \n设定量：  0，29，30，55，60，80 \n标准设定：0 \n \n0 \n7\n9 \n \n多重固定循环（G76）的最小切削深度 \n \n设定量：  0～9999999  单位：0.001mm \n标准设定：0 \n \n0 \n8\n0 \n \n多重固定循环（G76）的精加工余量 \n \n设定量：  0～9999999  单位：0.001mm \n标准设定：0 \n \n0 \n8\n1 \n \n总刀位数选择 \n \n设定量：  0～8   \n标准设定：4 \n \n0 \n8\n2 \n \n换刀T1时间 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：100 \n \n0 \n8\n3 \n \n移动一刀位所需的时间上限 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：1000 \n \n0 \n8\n4 \n \n从第一把刀换到最后一把的时间上限 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：15000 \n \n0 \n8\n5 \n \n刀架反转锁紧时间 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：100 \n \n0 \n8\n6 \n \nM代码执行持续时间 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：100 \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n143\n0 \n8\n7 \n \nS代码执行持续时间 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：100 \n \n0 \n8\n8 \n \n未接到*TCP的报警时间 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：500 \n \n0 \n8\n9 \n \n主轴指令停止到主轴制动输出时间 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：100 \n \n0 \n9\n0 \n \n主轴制动输出时间 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：100 \n \n0 \n9\n1 \n \n卡盘夹紧到位时间 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：100 \n \n0 \n9\n2 \n \n压力检测时间设置 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：100 \n \n0 \n9\n3 \n \n星三角起动时间常数 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：100 \n \n0 \n9\n4 \n \n主轴点动延时时间 \n \n设定量：  0～9999999  单位：×4ms \n标准设定：100 \n \n0 \n9\n5 \n \n串口通讯波特率 \n \n设定量：  4800、9600、19200、38400、57600、115200 \n标准设定：9600 \n \n0 \n9\n6 \n \n系统启动时间 \n \n设定量：  0～99999999  单位：×4ms \n标准设定：0 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n144 \n \n0 \n9\n7 \n \n信号去抖动宽度时间 \n \n设定量：  2～15（无特殊情况，不要改变标准设置） \n标准设定：2 \n \n0 \n9\n8 \n \n待用 \n \n0 \n9\n9 \n \n待用 \n \n1 \n0\n0 \n \n待用 \n \n1 \n0\n1 \n \n待用 \n \n1 \n0\n2 \n \n待用 \n \n1 \n0\n3 \n \n待用 \n \n1 \n0\n4 \n \n待用 \n \n1 \n0\n5 \n \n待用 \n \n1 \n0\n6 \n \n待用 \n \n2  按功能排序 \n2.1  X、Z 轴控制逻辑 \n系统参数号 \n0 0 3 \n \n \n \n \n \n \nPCMD\n \n \nPCMD =0: 系统输出波形是方波。 \n=1: 系统输出波形是脉冲。 \n本系统暂时都按脉冲输出。 \n \n系统参数号 \n0 0 7 \n \n \n \n \n \n \n \nDIRZ \nDIRX\nDIRX、DIRZ：X、Z轴电机旋转方向选择。 \n机床移动方向与指令要求方向不符时，可调整此参数进行修正。 \n \n系统参数号 \n0 0 8 \n \n \n \n \n \n \n \nALMZ \nALMX\nALMX、ALMZ：驱动器报警电平选择。 \n=0: XDALM、ZDALM信号与0V接通时报警。 \n=1: XDALM、ZDALM信号与0V断开时报警。 \n根据驱动器报警信号输出是高电平还是低电平进行调整此参数。 \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n145\n2.2  加减速控制 \n系统参数号 \n0 \n0 \n9 \n \nACC4 \nACC3 \nACC2\nACC1\n \n \n \n \nACC4、ACC3、ACC2、ACC1：共同控制加减速。其中： \n \n=0000： (前)直线型加减速 \n \n=0001： (前)S型加减速 \n \n=0100： (后)直线型加减速 \n \n系统参数号 \n0 \n2 \n1 \nX轴快速速率 \n0 \n2 \n2 \n \nZ轴快速速率 \nX、Z轴快速移动速率（半径值） \n设定范围：X=30～3800（单位：毫米/分）     Z=30～7600（单位：毫米/分） \n标准设置：X：3800         Z：7600 \nX配伺服电机时设为3800，配步进电机时设为3000。 \nZ配伺服电机时设为7600，配步进电机时设为6000。 \n \n \n系统参数号 \n0 \n2 \n3 \nX轴线性加减速时间常数（用于快速移动） \n0 \n2 \n4 \n \nZ轴线性加减速时间常数（用于快速移动） \nX、Z轴快速移动时，线性加减速时间常数值，数值越大，加减速过程越慢。 \n设定范围：8～4000 \n配伺服电机时设为100，配步进电机时设为300以上。 \n \n系统参数号 \n0 \n2 \n5 \nX轴S加减速时间常数（用于快速移动） \n0 \n2 \n6 \n \nZ轴S加减速时间常数（用于快速移动） \nX、Z轴快速移动时，线性加减速时间常数值，数值越大，加减速过程越慢。 \n设定范围：8～4000 \n配伺服电机时设为100，配步进电机时设为300以上。 \n \n系统参数号 \n0 \n2 \n7 \n \n切削进给上限速度 \nX、Z轴切削进给上限速度。 \n设定范围：1～8000（单位：毫米/分） \n标准设置：8000 \n \n系统参数号 \n0 \n2 \n8 \n \n切削进给时的加减速的低速下限值 \n切削和手动进给时的指数加速的起始速度，减速的终止速度。设置的速度越大，加减速过程越快，\n启动或停止时冲击越大。 \n设定范围：0～8000（单位：毫米/分） \n标准设置：40 \n \n系统参数号 \n0 \n2 \n9 \n \n切削进给时的S加速时间常数 \n切削进给和手动进给时S加减速时间常数。 \n设定范围：0～4000 \n配伺服电机时设为100，配步进电机时设为300以上。 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n146 \n \n系统参数号 \n0 \n3 \n0 \n \n切削进给时的S减速时间常数 \n切削进给和手动进给时S减速时间常数。 \n设定范围：0～4000 \n配伺服电机时设为100，配步进电机时设为300以上。 \n \n系统参数号 \n0 \n3 \n1 \n \n切削进给时的直线加减速时间常数 \n切削进给和手动进给时直线加减速时间常数。 \n设定范围：0～4000 \n配伺服电机时设为100，配步进电机时设为300以上。 \n \n系统参数号 \n0 \n3 \n2 \n \n快速移动倍率最低速度Fo \nX、Z轴快速移动时，F0（最低的快速速率）的速率。  \n设定范围：6～8000（单位：毫米/分） \n标准设置：100 \n \n \n2.3  机床安全防护 \n系统参数号 \n0 0 8 \n \n \n \nLTVZ\nLTVX\nLMTZ\nLMTX\n \n \nLTVZ  =0：Z 轴硬限位低电平有效。 \n=1：Z 轴硬限位高电平有效。 \nLTVX  =0：X 轴硬限位低电平有效。 \n=1：X 轴硬限位高电平有效。 \nLMTZ  =0：Z 轴硬限位检测功能无效。 \n=1：Z 轴硬限位检测功能有效。 \nLMTX  =0：X 轴硬限位检测功能无效。 \n=1：X 轴硬限位检测功能有效。 \n \n系统参数号 \n0 1 6 \n \n \nSFDV \nSFDR\nPSCK\nPSCV\n \n \n \nSFDV  =0：防护门信号低电平有效。 \n=1：防护门信号高电平有效。 \nSFDR  =0：防护门检测功能无效。 \n \n  =1：防护门检测功能有效。 \nPSCK  =0：压力低检测功能无效。  \n \n  =1：压力低检测功能有效。 \nPSCV  =0：压力检测信号低电平有效。 \n \n  =1：压力检测信号高电平有效。 \n \n系统参数号 \n0 9 2 \n \n压力检测时间设置 \n压力检测出现报警前等待时间 \n设定范围： 0～9999999  （单位：×4ms） \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n147\n系统参数号 \n0 1 4 \n \n \n \n \n \nMESP\nMOT\nM@SP \nMST \nMESP =0：急停功能有效。 \n=1：急停功能无效。 \nMOT  =0：检查软件行程限位。 \n=1：不检查软件行程限位。 \nM@SP =0：外接暂停（*SP）信号有效。此时必须外接暂停开关，否则系统显示“暂停”。 \n=1：外接暂停（*SP）信号无效，此时不是暂停开关，可由宏指令定义（#1015）功能。 \nMST  =0：外接循环启动（ST）信号有效。 \n=1：外接循环启动（ST）信号无效。 \n \n系统参数号 \n0 4 6 \n \nX轴正向行程极限 \n0 4 7 \n \nX轴负向行程极限 \n0 4 8 \n \nZ轴正向行程极限 \n0 4 9 \n \nZ轴负向行程极限 \n软限位的极限 \n设定范围： ±9999999  （单位：μm） \n \n2.4  机床回零与坐标显示 \n系统参数号 \n0 \n0 \n2 \n \n \nRDRN\n \n \n \n \n \n \nRDRN  =0:  空运行快速运动指令无效。 \n=1:  空运行快速运动指令有效。 \n \n系统参数号 \n0 \n0 \n3 \n \n \n \nDECZ\nDECX\n \n \n \n \nDECZ  =0：Z轴返回参考点时减速信号为“0”表示减速。 \n=1：Z轴返回参考点时减速信号为“1”表示减速。 \nDECX  =0：X轴返回参考点时减速信号为“0”表示减速。 \n=1：X轴返回参考点时减速信号为“1”表示减速。 \n \n系统参数号 \n0 \n0 \n4 \n \n \n \n \nPPD \n \n \n \n \nPPD  =0：用G50设置绝对坐标与返回参考点时，仅设置绝对坐标。 \n=1：用G50设置绝对坐标与返回参考点时，同时设置相对坐标与绝对坐标。 \n \n \n系统参数号 \n0 \n0 \n5 \n \n \nISOT \n \n \n \n \nZMZ \nZMX \nISOT  =0：在开机或急停后、返回机械零点之前，手动快速移动无效。 \n=1：在开机或急停后、返回机械零点之前，手动快速移动有效。 \nZMX、ZMZ: X 轴、Z 轴的机械零点返回方向和初始的反向间隙方向。 \n=0：返回机械零点方向及间隙方向为负。 \n=1：返回机械零点方向及间隙方向为正。 \n \n系统参数号 \n0 \n0 \n6 \n \n \nAPRS\nZCZ \nZCX \n \n \nRTMZ \nRTMX\nAPRS  =0：返回参考点后，不自动设定绝对坐标系。  \n=1：返回参考点后系统自动设定绝对坐标系，坐标值由系统参数NO.044 和NO.045 设置。 \nZCX、ZCZ =0：返回机械零点时，需要独立的减速信号和零位信号。 \n=1：返回机械零点时，用一个接近开关同时作减速信号和零位信号。 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n148 \n用接近开关同时作为减速开关和回零开关时须设置为1 \nZRSZ、ZRSX： X、Z 轴有无机械零点。   \n=0：X、Z 轴无机械零点，执行回机械零点时，不检测减速信号和零点信号，直接回到机床坐\n标系的零点。 \n=1: X、Z 轴有机械零点，执行回机械零点时，需要检测减速信号和零点信号 \n \n系统参数号 \n0 \n4 \n3 \n \n返回参考点时的低速，（FL）速度 \nX、Z 轴返回机械零点时，低速的速度。 \n设定范围：6～8000（单位：毫米/分） \n标准设置：200 \n \n系统参数号 \n0 \n4 \n4 \n \n回零后自动坐标系设定X值 \n0 \n4 \n5 \n \n回零后自动坐标系设定Z值 \n回零点后，X、Z 轴绝对坐标系设定值。 \n设定范围：0～9999999  （单位：μm） \n标准设置：0    \n \n2.5  螺纹功能 \n系统参数号 \n0 \n2 \n7 \n \n切削进给上限速度 \nX、Z轴切削进给上限速度。 \n设定范围：1～8000（单位:毫米/分） \n标准设置：8000 \n \n 系统参数号 \n0 \n6 \n8 \n \n螺纹切削的倒角宽度（THDCH） \n螺纹切削时的退尾宽度。螺纹退尾宽度=THDCH × 0.1×导程 \n设定范围：0～99  \n标准设置：5 \n \n系统参数号 \n0 \n6 \n9 \n \n在螺纹切削中（G92）X轴的直线加减速常数 \n螺纹切削中，X轴的直线加减速时间常数；数值越大，加减速过程越慢。 \n设定范围：6～4000（单位：毫秒） \n标准设置：40 \n \n系统参数号 \n0 \n7 \n0 \n \n在螺纹切削中（G92）各轴的S加减速时间常数 \n螺纹切削中，各轴的S加减速时间常数；数值越大，加减速过程越慢。 \n设定范围：6～8000（单位：mm/min） \n标准设置：40 \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n149\n2.6  主轴控制 \n系统参数号 \n0 0 1 \n \n \n \n \nMDSP\n \n \n \n \nMDSP =0：主轴转速开关量控制。 \n=1: 主轴转速模拟电压控制。 \n \n系统参数号 \n0 1 0 \n \nAGER \nAGIN\n \nAGIM\nSPT \n \n \n \nAGER  =0：主轴自动换档功能无效。 \n=1：主轴自动换档功能有效。 \nAGIN =0：主轴自动换档至1、2 档时，不检查换档到位信号M41I、M42I。 \n=1：主轴自动换档至1、2 档时，检查换档到位信号M41I、M42I。 \nAGIM  =0：换档到位信号M41I、M42I 低电平有效。 \n=1：换档到位信号M41I、M42I 高电平有效。 \nSPT  =0：自动方式主轴点动功能无效。 \n      =1：自动方式主轴点动功能有效。 \n \n系统参数号 \n0 1 2 \n \n \n \n \n \n \n \n \nRSJG\nRSJG  =0：按复位键时，系统关闭M03，M04，M08，M32 输出信号按复位键时。 \n=1：系统不关闭M03、M04、M08、M32输出信号。 \n \n系统参数号 \n0 1 5 \n \n \n \n \n \n \n \nSPEN \n \nSPEN  =0：主轴旋转允许输入无效 \n=1：主轴旋转允许输入有效 \n \n \n系统参数号 \n0 \n5 \n1 \n \n主轴摸拟调正数据 \n主轴最高速度指令模拟电压输出为10V 时电压偏置补偿值，设置值增大，输出电压相应提升。 \n设定范围：-999-999 \n标准设置：999 \n \n系统参数号 \n0 \n5 \n2 \n \n主轴编码器线数 \n主轴编码器线数。 \n设定范围：1024、1200 \n标准设定：1024 \n \n系统参数号 \n0 \n5 \n3 \n \n主轴和位置编码器的齿轮比（主轴齿数） \n0 \n5 \n4 \n \n主轴和位置编码器的齿轮比（编码器齿数） \n主轴和位置编码器的齿轮比。 \n设定范围：1～65535 \n标准设定：1 \n \n系统参数号 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n150 \n0 \n5 \n6 \n \n主轴指令为10V时，齿轮1档主轴转速 \n0 \n5 \n7 \n \n主轴指令为10V时，齿轮2档主轴转速 \n0 \n5 \n8 \n \n主轴指令为10V时，齿轮3档主轴转速 \n0 \n5 \n9 \n \n主轴指令为10V时，齿轮4档主轴转速 \n主轴模拟电压输出为10V 时，分别对应第1、2、3、4 档的主轴最高转速。当主轴自动换档有效时，\n对应执行指令M41、M42、M43、M44 时的主轴转速。系统上电或自动换档功能无效时，默认\n为第1 档的转速。 \n设定范围：1～9999 （单位:转/分） \n标准设置：9999 \n \n系统参数号 \n0 6 3 \n \n换档时间 1 \n自动换档信号输出延迟时间1 \n设定范围：0～9999999  （单位： 4ms） \n标准设置：50 \n \n系统参数号 \n0 6 4 \n \n换档时间 2 \n自动换档信号输出延迟时间2 \n设定范围：0～9999999  （单位： 4ms） \n标准设置：50 \n \n系统参数号 \n0 6 5 \n \n每转进给最大切削进给速度 \n每转进给最大切削进给速度。 \n设定范围：0～9999  （单位：mm/rev） \n标准设置：500 \n \n系统参数号 \n0 6 6 \n \n主轴换档时的转速 \n恒线速控制下的主轴转速下限值。 \n设定范围：0～9999  （单位：rev/min） \n标准设置：0 \n \n \n系统参数号 \n0 6 7 \n \n恒线速控制下的主轴转速下限值 \n主轴换档时的转速 \n设定范围：0～9999  （单位：rev/min） \n标准设置：100 \n \n系统参数号 \n0 8 6 \n \nM 代码执行持续时间 \nM 代码执行持续时间。 \n设定范围：0～9999999  （单位： 4ms 单位） \n标准设置：100 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n151\n \n系统参数号 \n0 8 7 \n \nS 代码执行持续时间 \nS 代码执行持续时间。 \n设定范围：0～9999999  （单位： 4ms 单位） \n标准设置：100 \n \n系统参数号  \n0 8 9 \n \n主轴指令停止到主轴制动输出时间 \n执行M05后延迟输出主轴制动的时间。 \n设定范围：0～9999999  （单位： 4ms 单位） \n标准设置：100 \n \n系统参数号  \n0 9 0 \n \n主轴制动输出时间 \n主轴制动输出时间。 \n设定范围：0～9999999  （单位： 4ms 单位） \n标准设置：100 \n \n系统参数号  \n0 9 4 \n \n主轴点动延时时间 \n主轴点动延时时间。 \n设定范围：0～9999999  （单位： 4ms 单位） \n标准设置：100 \n \n \n2.7  卡盘控制 \n系统参数号 \n0 1 6 \n \nNWKP \n \n \n \n \n \nSLSP \nSLQP\nNWKP  =0： 卡盘方式为内卡方式。 \n      =1： 卡盘方式为外卡方式。 \nSLSP  =0：卡盘功能有效时，不检查卡盘是否夹紧。 \n          =1：卡盘功能有效时，检查卡盘是否夹紧。 \nSLQP  =0：卡盘控制功能无效。 \n=1：卡盘控制功能有效。 \n \n系统参数号 \n0 9 1 \n \n卡盘夹紧到位时间 \n卡盘夹紧到位时间。 \n设定范围：0～9999999  （单位： 4ms 单位） \n标准设置：100 \n \n2.8  尾座控制 \n系统参数号 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n152 \n0 1 6 \n \n \n \n \n \n \nSLTW\n \n \nSLTW  =0：尾座控制功能无效。 \n              =1：尾座控制功能有效。 \n \n2.9  刀具补偿 \n系统参数号 \n0 0 2 \n \n \nTOC \nORC\n \nCCMP\n \n \nPTSR\nTOC    =0:  刀具偏置状态在复位时被清零。 \n=1:  刀具偏置状态在复位时不变。 \nORC   =0:  刀具偏置值以直径表示。 \n=1:  刀具偏置值以半径表示。 \nCCMP  =0:  刀尖半径补偿功能无效。 \n=1:  刀尖半径补偿功能（选配功能）有效。 \nPTSR  =0:  以移动方式执行刀具长度补偿。 \n=1:  以坐标偏移方式执行刀具长度补偿。 \n \n系统参数号 \n0 0 9 \n \n \n \n \n \nNOFC\nDOFSI\n \n \nNOFC   =0 ：计数方式输入偏置量无效。 \n=1 ：计数方式输入偏置量有效。 \nDOFSI  =0 ：刀偏直接测量输入无效。 \n=1 ：刀偏直接测量输入有效。 \n \n2.10  刀架控制 \n系统参数号 \n0 0 9 \n \n \n \n \n \n \n \nTSGN \nTCPS\nTSGN =0 ：刀架到位信号高电平有效。 \n=1 ：刀架到位信号低电平有效。 \nTCPS =0 ：刀架锁紧信号低电平有效。  \n=1 ：刀架锁紧信号高电平有效。 \n \n系统参数号 \n0 8 1 \n \n总刀位数 \n总刀位数 \n设定范围：1～8 \n标准设置：4 \n \n系统参数号 \n0 8 2 \n \n换刀T1 时间 \n换刀延迟时间T1：刀架正转停止到刀架反转锁紧开始的延迟时间。 \n设定范围：0～9999999 （单位：4毫秒） \n标准设置：100 \n \n系统参数号 \n0 8 3 \n \n移动一刀位所需的时间上限 \n换刀时，移动一个刀位所需的时间上限。 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n153\n设定范围：0～9999999 （单位：4 毫秒） \n标准设置：100 \n \n系统参数号 \n0 8 4 \n \n从第一把刀换到最后一把的时间上限 \n最大换刀时间。 \n设定范围：0～9999999 （单位：4 毫秒） \n标准设置：15000 \n \n系统参数号 \n0 8 5 \n \n刀架反转锁紧时间 \n刀架反转锁紧时间。 \n设定范围：0～9999999 （单位：4 毫秒） \n标准设置：100 \n \n系统参数号  \n0 8 8 \n \n未接到*TCP 的报警时间 \n \n未接收到*TCP 的报警延迟时间T2：刀具到位后经过T2 时间没有收到*TCP 信号则报警。 \n设定范围：0～9999999 （单位：4 毫秒） \n标准设置：500 \n \n2.11  编辑与显示 \n系统参数号 \n0 0 4 \n \n \n \nM30 \n \n \nCM98\n \n \nM30   =0:  M30 执行完毕后，须再次按循环起动键光标才返回程序开头继续执行。 \n=1:  M30执行完毕后，光标立刻返回程序开头。 \nCM98  =0： 编入系统标准以外的M、S、T 代码时，系统将会产生P/S 的报警。 \n=1： 编入系统标准以外的M、S、T代码时，调用一个对应的子程序。 \n \n系统参数号 \n0 1 1 \n \n \n \n \n \n \n \nEAL \nPOD \nEAL   =0：系统报警时，不可以编辑程序。 \n=1：系统报警时，可以编辑程序。 \nPOD  =0：不可以用小数点编程。 \n=1：可以用小数点程。 \n \n诊断参数号 \n0 1 4 \n \nKEY1 \nSKEY \n \n \n \n \n \n \nKEY1 =0： 开机时程序形状为关。 \n     =1： 开机时程序形状为开。 \nSKEY =0： 设置界面程序开关可以打开，可以编辑程序。 \n=1： 设置界面程序开关不可以打开，禁止编辑程序。 \n \n系统参数号 \n0 3 4 \n \n串口通讯波特率 \n串口通讯波特率。 \n设定范围：4800、9600、19200、38400、57600 \n标准设置：9600 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n154 \n \n2.12  精度补偿 \n系统参数号 \n0 0 7 \n \n \n \n \nBDEC\n \n \n \n \nBDEC =0：反向间隙补偿A，以固定的脉冲频率输出。 \n=1：反向间隙补偿B，脉冲频率按加减速特性输出。 \n \n系统参数号 \n0 3 3 \n \n反向间隙补偿的脉冲频率 \n反向间隙补偿脉冲频率的设定值。（各轴共用） \n设定范围：0～2000 （单位：Hz） \n标准设置：40 \n \n系统参数号 \n0 3 4 \n \n补偿反向间隙的速度值 \n补偿反向间隙的速度值。 \n设定范围：0～1000（单位： mm/min） \n标准设置：40 \n \n系统参数号 \n0 3 5 \n \n补偿反向间隙的直线加减速时间 \n补偿反向间隙的直线加减速时间 \n设定范围：0～1000 \n标准设置：40 \n \n系统参数号 \n0 \n3 \n6 \n \nX轴间隙补偿量 \nX轴反向间隙补偿量。 \n设定范围：0～65535（单位：0.001毫米） \n标准设置：0 \n \n系统参数号 \n0 \n3 \n7 \n \nZ轴间隙补偿量 \nZ轴反向间隙补偿量。 \n设定范围：0～65535（单位：0.001毫米） \n标准设置：0 \n \n系统参数号 \n0 0 3 \n \n \n \n \n \n \nSCRP\n \n \nSCRP   =0：螺距误差补偿功能无效。 \n=1：螺距误差补偿功能有效(选配功能)。 \n \n系统参数号 \n0 3 8 \n \n螺距误差补偿倍率（各轴通用） \n螺距误差实际的补偿量为设定的补偿量乘以倍率。 \n设定范围：1～8 \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n155\n标准设置：1 \n   \n系统参数号 \n0 \n3 \n9 \n \nX轴螺距误差补偿原点 \nX 轴螺距误差零点 \n设定范围：0～255 \n标准设置：0 \n \n系统参数号 \n0 \n4 \n0 \n \nZ轴螺距误差补偿原点 \nZ 轴螺距误差零点 \n设定范围：0～255 \n标准设置：0 \n       \n系统参数号 \n0 \n4 \n1 \n \nX轴螺距误差补偿间隔 \nX 轴的螺距误差补偿间隔 \n设定范围：0～99999999  （单位：0.001mm） \n标准设置：1000 \n \n系统参数号 \n0 \n4 \n2 \n \nZ轴螺距误差补偿间隔 \nZ 轴的螺距误差补偿间隔 \n设定范围：0～99999999  （单位：0.001mm） \n标准设置：1000 \n \n螺距补偿参数号 \n0 \n0 \n0 \n \nX、Z轴螺补值 \n  \n \n \n2 \n5 \n5 \n \nX、Z轴螺补值 \nX、Z 轴螺补值 \n \n2.13  通讯功能 \n系统参数号 \n0 \n9 \n5 \n \n串口通讯波特率 \n串口通讯波特率 \n设定范围：4800、9600、19200、38400、57600、115200  \n标准设置：9600 \n \n \n \n \n \n \n \n \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册 \n \n156 \n \n \n \n \n \n \n \n \n \n \n\n\nGSK218T使用手册  \n \n157\n附录2   诊断表 \n1  DI/DO 诊断信息 \n1.1  机床侧输入信号（I/O 板） \n机床侧的输入信号诊断信息直接对应于系统的硬件电路。如果硬件电路出现故障时，可通过这部分\n信息加以确认。表中每个信号在印刷板中的具体位置请察看逻辑图。 \n1）诊断表： \n 诊 断 号                                      含      义 \n0 \n0 \n1 \n \n*TCP \nDIQP\n*DECX \nDITW \n*SP \nST \nDECZ\n*ESP\n                                       \n 0   0 \n 2 \n \nT08 \nT07\nT06 \nT05 \nT04 \nT03 \nT02 \nT01\n                                      \n0 \n0 \n3 \n \nSAR \nLTZ \nLTX\nSPEN \nPSCK\nDOOR \nGR2 \nGR1\n      \n0 \n0 \n4 \n \n \n \n \n \n \nLCK \nOWA2\nOWA1\n \n \n2) 信号含义 \n(a) *TCP：刀架锁紧信号 \n(b) DIQP：卡盘脚踏开关。(输入信号，与+24V接通输入有效) \n(c) DITW：尾座控制输入信号 \n(d) *DECX、*DECZ：对应轴的零点减速信号 \n(e) *SP：进给保持信号 \n(f) ST：自动循环启动信号 \n(g) *ESP：急停信号 \n(h) T01~T08：刀架到位信号 \n(i) SAR：主轴转速到达信号 \n(j) LTZ， LTX：对应轴的限位信号 \n(k) SPEN：主轴旋转允许信号 \n(l) PSCK：循环启动时检测压力信号 \n(m) DOOR：防护门信号 \n(n) GR1、GR2：换一挡、二挡到位信号 \n(o) LCK：锁定键盘信号(暂时无效) \n(p) OWA1、OWA2：外部报警1、2信号 \n \n1.2  输出到机床侧的信号（I/O 板） \n当对应位为“1”时，硬件电路中相应的输出晶体管应该导通。否则说明输出电路发生故障，和 \n \n硬件的对应关系请察看逻辑图。 \n1） 诊断表 \n 诊 断 号                                      含      义 \n0 \n0 \n5 \n \nSPZD \nDOQP \nM05 \nM32 \nM08 \nM10 \nM04\nM03\n \n0 \n0 \n6 \n \nTL－ \nTL＋ \nM13 \nM11 \nM44 \nM43 \nM42 \nM41 \n \n0 \n0 \n7 \n \n \n \n \nSTAR\nTRIAN\nWAR \nM30 \nMST\n \n2)  信号含义 \n(a) SPZD： 主轴制动 \n\n\nGSK218T使用手册  \n \n158 \n(b) DOQP：卡盘输出信号。 \n(c) M05：主轴停止 \n(d) M32：润滑油开 \n(e) M08：冷却液开 \n(f) M10：尾座进 \n(g) M04：主轴反转 \n(h) M03：主轴正转 \n(i) TL+、TL-：换刀信号 \nTL+为正向换刀信号，TL-为反向换刀信号 \n(j) M13：卡盘松开 \n(k) M11：尾座退 \n(l) M41~M44：选择主轴变频控制，自动换档功能时的换档输出 \n(m) STAR、TRIAN：机床的启动方式输出控制（星—三角启动）。 \n(n) WAR：报警信号 \n(o) M30：程序结束信号 \n(p) MST：自动运行信号  \n \n2  系统接口信号 \n1） 诊断表： \n 诊 断 号                                      含      义 \n0 \n0 \n9  \n \n \n \n \n \nPCS \nPCZ \nPCX \n                                       \n0 \n1 \n0 \n \n \n \n \n \n \n \nALMZ \nALMX\n                                      \n0 \n1 \n1  \n手轮数据 \n      \n0 \n1 \n2 \n \n主轴反馈数据 \n \n0 \n1 \n3 \n \n主轴反馈数据 \n \n0 \n1 \n4 \n \n主轴模拟量输出值 \n \n0 \n1 \n5 \n \n主轴模拟量输出值 \n \n \n2) 信号含义 \n(a) PCS：主轴位置编码器一转信号 \n(b) PCX、PCZ：对应轴的零点信号 \n(c) ALMX、ALMZ：对应轴的驱动器报警 \n这二位诊断信息对应于硬件电路的ALM，其中X、Z代表X轴、Z轴。系统参数№008的ALMZ，ALMX\n位与该信号的有效电平有关。如将8号参数的ALMX位设为“1”，则ALMX为“0”时系统产生相应轴的\n驱动器报警。反之则为ALMX为“1”时系统产生相应轴的驱动器报警。如果您所使用的驱动器不能提供\n该信号，请在制作电缆时不连接该信号，同时将参数№008的ALMZ，ALMX位设定为“0”。当产生驱动\n器报警时，请判别故障是在CNC系统侧，还是在驱动器侧。 \n(d) 011：手轮数据 \n手轮数据主要诊断手轮方式下X或Z轴发送往电机的总的脉冲数，该诊断位也可以从数据变化\n的快慢看出手轮的转速。 \n\n\nGSK218T使用手册  \n \n159\n(e) 主轴反馈数据  \n012、013两个诊断号用BCD码的格式分别显示主轴当前转速的低两位和高两位。 \n(f) 主轴模拟量输出值 \n主轴转速指定后，经过挡位和变频控制，转换为控制模拟电压输出的速度值。013、014号诊\n断用BCD码的格式分别显示变频后速度的低两位和高两位。 \n3）无任何报警出现而电机也不运动。 \n(a) 系统位置显示不变化 \n请检查系统信息是否正常。 \n(b) 系统位置显示变化。 \n首先，要看是否处于机床锁住状态，机床锁住时机床坐标的显示不会变化。必须保证此项显示\n有变化。 \n \n3  MDI 操作面板键 \n№017~022、027~028：机床操作面板键诊断 \n№023~026：键盘键诊断 \n当光标在这些诊断号下时，在LCD 的下端的详细内容显示行有该行对应键的详细显示。在MDI 操\n作面板中按下对应的键时，相应位即显示“1”，释放按键盘后显示“0”。否则说明有故障发生。 \n \n4  CNC 输入/输出信号 \n这部分信号为CNC 内部的PMC 和CNC 之间进行传送的信号。供用户了解CNC 内部的工作状态\n使用，与硬件电路无直接联系。 \n \n输入到CNC 的信号   \n 诊 断 号                                                  含      义 \n0 \n3 \n3  \nHX/RV1 \n \n*DECX\n \n-X \n+X \n \n \n \n \n \n \n手轮X/快速\n倍率1 \n \nX轴 \n减速 \n \n手动 \n-X \n手动+X \n \n \n                                       \n0 \n3 \n4  \nHX/RV2 \n \n*DECZ\n \n-Z \n+Z \n \n \n \n \n \n \n手轮X/快速\n倍率1 \n \nZ轴 \n减速 \n \n手动 \n-Z \n手动 \n+Z \n \n \n                                      \n0 \n3 \n5  \nDRN \n \n \n \nGR2 \nGR1 \n \n \n \n \n \n \n空运行 \n \n \n \n齿轮换\n挡信号2\n齿轮换\n挡信号1 \n \n \n \n0 \n3 \n6  \nMLK \nMP2 \nMP1 \nMP0 \nSBK \nBDT \n \n \n \n \n \n \n机床锁住 \n  手轴增量选择 \n单程序段程序选跳 \n \n \n \n0 \n3 \n7  \nZRN \n*SSTP\nSOR\nSAR \nFIN \nST \nSTLK \nMIX \n \n \n \n \n回零 \n开关 \n主轴 \n停止 \n主轴定\n向或抵\n挡 \n主轴转\n速到达\n附助机\n能完成\n自动循\n环起动 \n联锁信\n号 \nX轴镜\n向 \n \n \n0 \n3 \n8  \nERS \nRT \n*SP \n*ESP\n \n \n \n \n \n \n \n \n外部复位 手动快速进给保持\n急停 \n \n\n\nGSK218T使用手册  \n \n160 \n \n \n \n \n \n0 \n3 \n9  \nPN8 \nPN4 \nPN2 \nPN1 \nKEY \nMD4 \nMD2 \nMD1 \n \n \n \n \nPN8~PN1：\n外部程序号\n选择 \n \n \n \nKEY：程序保护键/开关 \n         MD4~MD1：方式选择 \n \n5  从CNC 输出的信号 \n \n1） 诊断表 \n0 \n4 \n1  \nOP \nSA \nSTL \nSPL \nENB \n \nZPZ \nZPX \n                                       \n0 \n4 \n2 \n \nMA \n \n \n \nDEN \n \nRST \nAL \n                                      \n0 \n4 \n3  \n \n \nDST \n \nTF \nSF \n \nMF \n                                       \n0 \n4 \n4 \n \nM28 \nM24 \nM22 \nM21 \nM18 \nM14 \nM12 \nM11 \n                                      \n0 \n4 \n5  \nS28 \nS24 \nS22 \nS21 \nS18 \nS14 \nS12 \nS11 \n                                       \n0 \n4 \n6 \n \nS48 \nS44 \nS42 \nS41 \nS38 \nS34 \nS32 \nS31 \n                                      \n0 \n4 \n9  \nT8 \nT7 \nT6 \nT5 \nT4 \nT3 \nT2 \nT1 \n         \n2） 信号意义        \n(a) OP：自动运行中 \n(b) SA：伺服准备好 \n(c) \nSTL：循环启动 \n(d) SPL：进给保持 \n(e) ENB：主轴使能 \n(f) \nZPX，ZPZ：X，Z轴回零结果 \n(g) MA：CNC准备好信号 \n(h) DEN：轴运动结果 \n(i) \nRST：复位 \n(j) \nAL：报警 \n(k) \nDST：录入启动 \n(l) \nTF、SF、MF：T、S、M代码选通 \n044号诊断：当前M代码的BCD码 \n045号诊断：当前S代码的低两位BCD码 \n046号诊断：当前S代码的高两位BCD码 \n049号诊断：当前T代码的BCD码 \n \n6  系统内部CNC 状态信息 \n当CNC在自动运行中，没有报警，也不运动时，可通过诊断页面的096和097号得知当前的CNC的\n工作状态。 \n0 \n5 \n0 \n \n \nCSCT\nCITL \nCOVL\nCINP\nCDVVL CMTN \nCFIN\n    \n当相应为显示为“1”时，其意义如下： \n\n\nGSK218T使用手册  \n \n161\nCFIN：正在执行M，S，T指令。 \nCMTN：正在执行轴运动指令。 \nCDWL：正在执行G04（暂停）指令。 \nCINP：正在进行在检查。 \nCOVZ：倍率为0%。 \nCITL：互锁信号为ON。 \nCSCT：正在等待主轴速度到达信号。 \n \n0 \n5 \n1 \n \n \n \n \nCRST\n \n \nCTRD \nCTPU\n当相应为显示为“1”时，其意义如下： \nCTPU：RS232接口正在输出。 \nCTRD：RS232接口正在输入。 \nCTST：紧急停止，外部复位，或MDT面板上的复位键为ON时。 \n0 \n5 \n2 \n \nSTP \nREST\nEMS \n \nRSTB\n \n \nCSU \n该诊断号为自动运行停止，自动运行暂停时的状态信息。主要用于检查系统故障时的故障原因。\nSTP：停止插补分配的标志，在下列情况时被设定： \n① 外部复位为ON； \n② 急停为ON； \n③ 进给保持为ON； \n④ MDI面板上的复位键为ON； \n⑤ 自动运行中，方式变为手动方式。 \nREST：当外部复位，复位键，急停为ON时被设定。 \nEMS：急停为ON时被设定。 \nRSTB：MDI面板上的复位键为ON时被设定。 \nCSU：急停为ON或者产生了伺服报警时被设定。 \n0 \n5 \n3 \n \n往伺服发送的脉冲数(X)轴 \n \n0 \n5 \n4 \n \n往伺服发送的脉冲数(z)轴 \n往伺服发送的脉冲数为CNC系统在X或Z轴分别向伺服系统发送的脉冲总数，其有正负之分。  \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n161 \n附录3   报警一览表 \n1)  程序操作错(P/S 报警) \n \n号 码 \n内                 容 \n备  注 \n000 \n设定了必须切断一次电源的参数，请切断电源. \n \n001 \n文件打开失败. \n \n002 \n编辑方式下搜索不到该字符串. \n \n003 \n致命异常，会造成机床失步。需要重新启动、重新对刀. \n \n004 \n地址未发现. \n \n005 \n地址后没有数据. \n \n006 \n“-”符号输入错误. \n \n007 \n小数点输入错误. \n \n008 \n文件创建不成功. \n \n009 \n输入了非法字地址符. \n \n010 \n指令了无效G 代码. \n \n011 \n切削进给F 指令值错. \n \n012 \n输入的数值其位数超出最大允许数据. \n \n013 \n指定程序号的程序或程序中要搜索的地址未找到. \n \n014 \n删除文件不存在. \n \n015 \n存储器存储容量不够. \n \n016 \n螺纹插补中主轴速度过小或者主轴未开启. \n \n017 \n除零错误. \n \n018 \n螺纹切削时F、I 指令值错. \n \n019 \n程序段长超过255 个字符. \n \n020 \n攻丝循环中没有指定F 值. \n \n021 \n程序回零时，没有零点存储. \n \n022 \n出厂时参数设定值，不能覆盖. \n \n023 \n在使用半径R 指定的圆弧插补中、R 值指令了负值. \n \n024 \n圆弧插补半径过大. \n \n026 \n在圆弧插补中给出的数据不能构成一个圆弧. \n \n027 \n在圆弧插补中R 与(K、I)同时指定. \n \n028 \n在圆弧插补中R 与(K、I)全为零. \n \n029 \n用T 代码指令的偏置值过大. \n \n030 \n刀偏号超出取值范围. \n \n031 \n搜索不到该文件. \n \n032 \n通讯错误. \n \n033 \n刀尖半径补偿中没有交叉点. \n \n034 \n刀具半径补偿起动或取消时执行G2 或G3 操作. \n \n035 \n补偿开始程序段的下一程序段改变了刀补方向. \n \n036 \n刀具偏置号未指定时执行了刀具半径补偿指令. \n \n037 \n补偿开始程序段为非移动指令. \n \n038 \n刀尖半径补偿中圆弧起始点或终点与圆弧中心重合而出现过切. \n \n039 \n在刀补过程，连续出现了30 段非移动指令. \n \n040 \n在刀补过程中出现了不正确的操作指令. \n \n041 \n在刀尖半径补偿中将出现过切. \n \n042 \n刀具半径补偿时，圆弧指令中重复指定刀尖半径补偿G 码. \n \n043 \n输入的数据超出允许范围. \n \n044 \n卡盘未夹紧启动主轴. \n \n045 \n主轴运转时松开卡盘. \n \n046 \n断电保存数据错乱，请重新上电. \n \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n162\n号 码 \n内             容 \n备  注 \n047 \n主轴正转（反转）时，没有经过停止而又指定了主轴反转（正转）. \n \n050 \n在G76 中指定了一个不可用的刀尖角度. \n \n051 \n在G76 中指定的最小切深大于螺纹高度，或者精加工余量大于螺纹高度. \n \n052 \nG76 中为螺纹高度或首次切削深度指定了0 或负值. \n \n053 \n在G70、G71、G72、G73 指令中没有指令P 或Q 值. \n \n054 \nG74 或G75 中的#I 或#K 被指定为负值. \n \n055 \nG76 精加工余量为负值. \n \n060 \n在顺序号检索时，没有发现指定的顺序号. \n \n062 \n(1)G71 或G72 中的切削深度是零或负值. \n(2)G73 的重复次数是零或负值. \n(3)G74 或G75 中的D-i 或D-k 指令为负值. \n(4)虽然G74 或G75 中的D-i 或D-k 不为零但地址U 或W 指定为零或负值. \n(5)虽然指定了G74 或G75 的退刀方向但D-d 是负值. \n \n063 \n在G70 中P 或Q 指定的程序段检索不到. \n \n064 \n当G 代码为G32、G33、G90--G94、G70--G76 时未取消刀补. \n \n065 \n(1)在G71、G72 或G73 指令中，由地址P 指定的顺序号的那个程序段未指令\nG00 或G01. \n(2)在G71 或G72 指令中，由地址P 指定的顺序号的程序段中，指令了地址\nZ(W)(G71 时)或X(U)(G72 时). \n \n066 \n在G70、G71、G72、G73 指令中由地址P 或Q 指定的两程序段中指令了非移\n动指令或不能使用的G 代码. \n \n067 \n由地址P 或Q 指定的两程序段中指令了M98、M99 或M30. \n \n068 \n存储器存储容量不够. \n \n074 \n程序号不在0001-9999 范围内. \n \n076 \n在M98 的程序段中，没有指定P. \n \n077 \n子程序调用嵌套过多. \n \n078 \n子程序调用中，没有找到指定的程序号或者顺序号. \n \n079 \n宏指令报警不存在. \n \n081 \nNC 程序和用户宏程序指令同时存在. \n \n100 \n参数开关为ON 状态. \n \n101 \n在程序编辑中，电源断电，请重新编写程序. \n \n102 \n编辑行数超过最大值. \n \n110 \n复制或更名时该程序号已存在. \n \n114 \n在G65 的程序段中，指令了未定义的H 代码. \n \n115 \n指定了非法的变量号. \n \n128 \n在转移指令中，转移地址的顺序号不在允许的范围内，或者没有找到要转移的顺\n序号. \n \n129 \n同一个程序段中不能出现两个相同的功能字. \n \n130 \n有地址值超出取值范围. \n \n131 \nG00 组和G01 组不能同时出现. \n \n132 \n坐标值X 与U 或Z 与W 同时出现. \n \n133 \n连续指定了两个重复性固定循环G 指令. \n \n134 \n指令G32、G33、G92 时，I、F 同时出现. \n \n137 \n重复性固定循环G71 或G72、G73 中程序段个数过多. \n \n138 \nN 必须递增. \n \n140 \n地址之间应有空格. \n \n141 \n在主轴为档位控制时指定了恒线速指令. \n \n142 \n程序非法结束无M30 或M99. \n \n144 \nG70、G71、G72、G73、G74、G75、G76 中进刀量，退刀量，倒角余量或螺\n纹切削的牙高指定错误. \n \n145 \nG70、G71、G72、G73、G74、G75、G76 地址字取值错误. \n \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n163 \n号 码 \n内        容 \n备   注 \n146 \n地址O 和N 不能引用变量. \n \n147 \nG65 中P 不能为常量.  \n \n149 \n进入或退出子程序时未取消刀具半径补偿错误. \n \n150 \n重复性固定循环中有坐标不单调. \n \n151 \n在G71、G72 指令中U 和W 的值的正负与轨迹形状无法匹配或者无U(W)值或\n者超出处理范围，坐标不单调. \n \n152 \n在加工圆锥切削循环时超出G76、G90、G92、G94 所能处理的加工循环情况.  \n153 \n在G33、G90、G92、G94 指令中F、I 值错误. \n \n155 \n恒线速指令错误. \n \n156 \n在G71、G72、G73 中P 所指定的程序段未紧邻G71、G72、G73 程序段或者P\n或Q 所指定的程序段不存在. \n \n158 \nG70、G71、G72 或G73 所指定的P 值大于或等于Q 值. \n \n162 \n在调用子程序的程序段中，P 为非整数值或负值. \n \n163 \n子程序调用次数过多. \n \n164 \n超出系统最大文件存储个数(250). \n \n165 \n调用子程序和返回子程序的语句在非法的程序段(G90-G94、G70-G76) \n \n166 \nG70、G71、G72、G73 所赋的Pno 和Qno 值越界或不是整数. \n \n168 \n暂停指令下P 和X 不能同时指定. \n \n169 \n宏程序中Q、R 值指定错误. \n \n170 \n请在口令设置界面输入口令获得修改参数和螺距补偿数据的权利. \n \n171 \n未接到主轴旋转允许信号. \n \n180 \n主轴为挡位控制或主轴自动换挡无效时M41-M44 不可使用. \n \n \n \n \n \n2)   超程报警 \n \n号码 \n内          容 \n备  注 \n201 \n超出X 轴正向行程极限 \n \n202 \n超出X 轴负向行程极限 \n \n203 \n超出Z 轴正向行程极限 \n \n204 \n超出Z 轴负向行程极限 \n \n205 \n超出Y 轴正向行程极限 \n \n206 \n超出Y 轴负向行程极限 \n \n207 \nX 轴硬限位超程 \n \n208 \nZ 轴硬限位超程 \n \n \n3)  驱动器报警 \n \n序 号 \n内          容 \n备  注 \n211 \nX 轴驱动器未绪。 \n \n212 \nZ 轴驱动器未绪。 \n \n213 \nX /Z 轴驱动器未绪 \n \n221 \nX 轴驱动器报警。 \n \n222 \nZ 轴驱动器报警。 \n \n \n \n \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n164\n \n4) 外部信息报警 \n \n号 码 \n内            容 \n备  注 \n181 \nM 代码错，程序中编入了非法的M 代码. \n \n182 \nS 代码错，程序中编入了非法的S 代码 \n \n183 \nT 代码错，程序中编入了非法的T 代码 \n \n185 \n换刀时间过长。从刀架开始正转经过Ta 时间后指定的刀位到达信号仍然没有接\n收到时，产生报警. \n \n186 \n在刀架反转锁紧时间内未接到刀架反转锁紧信号. \n \n250 \n尾座进退中自动运行或开启主轴或主轴旋转时执行了尾座进退指令. \n \n251 \n外部报警1 \n \n252 \n外部报警2 \n \n253 \n压力过低. \n \n254 \n准备未绪. \n \n255 \n自动运行中防护门开 \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n165 \n \n \n \n附录4   规格一览表 \n· 选择功能 \n \n名       称 \n规       格 \n控制轴 \n2 轴（X、Z） \n同时控制轴数 \n2 轴 \n最小设定单位 \n0.001mm \n最小移动单位 \n0.001mm \n最大指令值 \n±7 位 \n快速进给速度 \n标准7.6m/min，最大速度为30 m/min \n快速进给倍率 \nFO、25%、50%、100% \n每分进给范围 \n0.0001～500.0000mm \n最大主轴转速 \n9999 \n螺纹导程 \n0.0001～500.0000mm \n0.06～25400 牙/inch \n自动加减速 \n有 \n进给速度倍率 \n%0～150%共16 档 \n手动连续进给 \n同时一轴 \n插补 \n直线/圆弧 \n返回参考点 \n有 \n显示器 \n液晶320×240 \n单步进给 \n0.001、0.01、0.1 \n手轮 \n0.001、0.01、0.1 \nI/O 接口 \nRS232C \n暂停(秒) \n有 \n机床锁住 \n全部轴 \n存储行程检查 \n有 \n准停 \n有 \n掉电回程序起点 \n有 \nMDI 运转 \n有 \n复位 \n有 \n空运转 \n有 \n单程序段 \n有 \n自诊断功能 \n有 \n紧急停 \n有 \n \n· 显示 \n \n名     称 \n规     格 \n显示 \n汉字 \n加工时间、零件数显示 \n有 \n实际速度显示 \n有 \n \n \n \n \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n166\n \n \n \n·程序输入 \n \n内      容 \n规      格 \n坐标系设定 \n有 \n小数点输入 \n有 \n用户宏程序 \n有 \n刀具补偿 \n有 \n固定循环 \n有 \n间隙补偿 \n有 \n圆弧半径R 指定 \n有 \n \n·辅助功能 \n \n名       称 \n规      格 \n辅助功能 \nM 二位 \n辅助功能锁住 \n有 \n \n·主轴功能 \n \n名       称 \n规      格 \n主轴功能 \nS 二位＠S 四位 \n主轴模拟输出 \n有 \n主轴倍率 \n50～120% \n \n·刀具功能 \n \n名      称 \n规      格 \n刀具功能 \nT01～T08 \n刀具补偿存储器 \n±6 位32 组 \n刀具长度补偿 \n有 \n \n·编辑，操作 \n \n名      称 \n规      格 \n程序存储容量 \n8160KB \n存储程序个数 \n250 个 \n程序号的显示 \n有 \n顺序号检索 \n有 \n程序号检索 \n有 \n程序保护 \n有 \n \n \n \n \n \n \n \n \n \n \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n167 \n \n \n \n附录5   GSK218T与GSK980TA的主要区别 \n \nⅠ   编程方面 \nGSK218T 的加工程序大部分与GSK980TA 是兼容的，只有一部分GSK980TA 的加工程序需要略加改动\n就可在GSK218T 系统上使用。改动的地方主要是新增了一些功能及统一了功能字的单位，这样在使用时\n将更简单方便，而不需要在编程时特别留意功能字的单位问题，减少了出错的可能。另外，由于系统提\n前译码，当出现报警后，检查程序时需要多检查几行，才能找出问题所在。主要修改如下： \n \nⅠ.1  G33  Z 轴刚性攻丝循环 \n该指令的使用方法参阅使用手册2.8.7。 \n该指令与其他产品的不同之处在于：攻丝完毕返回起点后，主轴恢复攻丝前的旋转方向，用户不需\n要重新启动主轴；同时该指令没有多头的指令，需要加工多头时，使用相应的丝锥。指令中F/I 指令的\n是螺纹的螺距，而不是牙距。 \n \nⅠ.2  G34 变螺距螺纹切削指令 \n该指令为新增功能， \n指令格式：G34 X  Z  F(I)  K \nK 值设定主轴每转螺距的增量或减量 \n使用方法请参阅使用手册第二章2.8.8。 \n \nⅠ.3  G92 螺纹加工循环 \n该指令增加了J、K、指令，用于定义螺纹的退尾长度。通过该指令，用户可更方便的在程序中定\n义任意角度的退尾，而不需要更改参数。该指令在不指令J、K 时，加工的轨迹与GSK980TA 一致。 \n该指令还增加了L 指令，用于定义螺纹的头数，通过该指令，用户可轻松加工多头螺纹。 \n详细说明请参阅使用手册第二章2.8.13.2。 \n \nⅠ.4  G71～G76 复合循环 \n主要修改了一些指令值的单位。在G71、G72、G73 的循环中，NS 与NF 顺序号之间最大为30 个程序\n段。 \nGSK218T V2.5 版在G71、G72 指令中，当精加工余量符号与实际相反时，系统会产生报警：＃151：\n在G71，G72 指令中U 和W 的值的正负与轨迹形状无法匹配或者无U(W)值或者超出处理范围，坐标不单\n调。在V2.6 版中将不再报警。 \n在G73 循环中，分割次数R（D）的单位为次，980TA 的单位为千次。当将工件分3 次加工时，GSK980TA\n输入为R0.003，而218T 系统输入为R3。这样用户不用担心单位的问题，直接输入加工的次数即可。 \n在G74～G76 中，P、Q 的单位都为mm，而980TA 的单位是μm。当移动量为2.5mm 时，GSK980TA 编\n程为P2500 或Q2500，而GSK218T 则为P2.5 或Q2.5 即可，在使用时用户就不必考虑P、Q 的单位是否与\n其它的指令不一致，这样输入数据更简单方便，也不会出错。 \n详细说明请参阅使用手册第二章2.8.14。 \n \nⅠ.5   宏程序 \nⅠ.5.1  增加了9 个宏指令，完善了宏程序功能。增加的指令包括： \nH04：乘运算                  H05：除运算 \nH11：逻辑加(或)              H12：逻辑乘(与) \nH13：异或                    H22：绝对值  \nH23：取余数                  H24：十进制转二进制 \nH25：二进制转十进制 \nⅠ.5.2  增加了500～515 共16 个宏变量，并且带断电记忆。用户可使用这些变量储存一些需要记录的\n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n168\n数据。宏变量可带小数，当程序中引用宏变量时，宏变量中的数值的单位与正常编程时的数值一致。 \n \nⅡ   操作方面 \n    GSK218T 的操作方式大部分与GSK980TA 相同，但在某些方面作了一些改进，用户在使用时将更加\n容易操作。 \nⅡ.1  显示界面 \nGSK218T 界面的显示及切换基本上与GSK980TA 相同，其中位置界面、程序界面、报警界面完全相\n同，其它界面都作了一些改进。 \n \nⅡ.1.1 刀补界面 \n刀补界面已分为刀偏补偿界面及宏变量界面，在其它界面按一下刀补键时，系统进入刀偏补偿界\n面，此时如要进入宏变量界面，必须再按一下刀补键。 \n刀偏补偿界面的操作与GSK980TA 一致，但GSK218T 共32 组补偿量，GSK980TA 为16 组。 \n在刀偏界面不能按翻页键进入宏变量界面，必须按刀补键才能进入。宏变量可手动输入，而\nGSK980TA 不能手动输入。 \n \nⅡ.1.2 设置界面 \n第一次按设置键时，系统进入用户口令界面，目前该功能暂不用，用户无须输入口令即可进行相\n关的操作。按翻页键进入参数开关及程序开关界面，原奇偶校验、ISO 代码、英制编程、自动序号的界\n面已取消，相关参数合并到参数内。 \n打开参数开关后系统会产生报警，218T 不能按复位及取消键来取消该报警，必须关闭参数开关后\n才能取消报警。 \n进入图形显示界面的方式跟980TA 一致，连续按两次设置键即进入图形显示界面。在图形显示界\n面，按→、←、↑、↓键可移动图形至适当的位置，更方便用户观察加工的轨迹，GSK980TA 则不能进\n行此操作。GSK980TA 的图形显示是机床坐标系的显示，GSK218T 是绝对坐标系的显示，从而GSK218T 可\n在加工轨迹上能观察到工件的外形。 \n \nⅡ.1.3  参数界面 \n参数已重新进行分类排列，请参考产品操作说明书及后面附的按功能分类的参数表。 \n参数界面分系统参数界面及螺补参数界面两部分，第一次按参数键时进入系统参数界面，第二次\n按参数键时进入螺补参数界面。同样，系统参数界面内按翻页不能切换到螺补参数界面，系统参数与螺\n补参数间的切换必须按参数键进行。 \n系统参数界面内，位参数进行修改时，可按→、← 进行位操作，查看相应位的参数信息，修改时\n只对光标所在的位参数进行修改，此时不需要输入其他7 位的数据。退出位操作时，只需要按↑、↓ 键\n即可。这样用户可更方便的进行参数的调整，也减少了出错的可能。 \n螺补参数界面内，0～255 分别对应螺距补偿的256 个点，每个点分为X、Z 两列。螺补的其它参数\n在系统参数界面的38～42 号参数。 \n \nⅡ.1.4  诊断界面 \n    诊断界面也基本与GSK980TA 相同，改进主要是将64 号后的参数部分合并到系统参数界面内，并重\n新合并调整部分数据，减少了显示的内容，现GSK218T 显示的数据均为系统的状态信息，不能进行修改。 \n \nⅡ.1.5 电子盘操作界面（请参阅使用手册3.8.4） \n参数的存盘操作与GSK980TA 完全不一样。GSK218T 新增了参数值I/O 的界面，使参数的存储及读\n取可视化。 \n电子盘操作界面分两个界面，分别为系统参数的电子盘操作界面及螺补参数的电子盘操作界面。在\n系统参数界面按转换键即进入系统参数的电子盘操作界面，而在螺补参数界面按转换键即进入螺补参数\n的电子盘操作界面，两者间不能按翻页切换。 \n电子盘在进行读盘或存盘操作时，必须打开参数开关，并且使系统处于录入方式才能进行操作。按\n↑、↓ 键选择读盘或存盘，按→、← 键选择电子盘。其中A 盘为初始化参数盘，只能读盘，不能对\n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n169 \n其进行存盘操作。用户只能使用B、C、D 三个电子盘。 \n用户读盘后必须重新上电才能取消报警。 \n \nⅡ.2  操作面板 \n    系统的面板跟GSK980TA 大致相同，但因新增一些功能，且部分按键使用次数较低，故部分按键的\n位置发生改变。系统新增了跳段、→、← ，取消了存盘键， I 、 J 、 K 、 M 、 S 、 T 、 / 键\n的位置改变。从而提高了按键的利用率，用户操作将更方便。 \n \nⅡ.3  手动操作 \n    手动操作控制下，系统的控制模式基本与GSK980TA 相同，不同的地方如下： \n在单步控制时，取消了移动增量1mm 档。 \n在手轮方式下，增加了一个位参数，可选择手轮的选择任意方向为正方向。 \n \nⅡ.4  自动运行 \n    自动方式下的控制与GSK980TA 一致。 \n \nⅡ.5  安全操作及报警处理 \n按下急停按钮后，系统跟GSK980TA 一样，关闭主轴的转动、冷却液、润滑。急停解除后，所有的\n输出需要重新启动。 \n当工作台进入机床规定的禁止区域（机床行程极限）时，则显示＃254 准备未绪报警，工作台减速\n后停止。此时应进入手动控制方式，按住超程解除按钮，把工作台向安全方向移动，移出后报警自动取\n消。 \n当系统液晶屏幕显示报警时，除0 号报警必须断电外，其他报警均可按复位键来取消报警状态。如\n取消不了报警时，请检查产生报警的原因，解除后按复位键即可取消报警。当系统提示编程有问题时，\n请从光标所在行开始往后同时检查多行程序，系统因提前译码，报警会提前。 \n \nⅡ.6  程序的存储、编辑 \nⅡ.6.1 程序的输入 \n程序用键盘输入时，操作方式与GSK980TA 一致。但在程序结束必须输入M30 或M99，最后输入EOB。\n否则系统会产生报警，提示程序无结束功能字。 \n用PC 机输入时，请参考相应的说明书。本系统只需要在PC 机上进行操作，无须对GSK218T 进行操\n作。 \n \nⅡ.6.2 程序号检索 \n    在只输入O，不输入程序号时，GSK980TA 只可向后扫描，GSK218T 可双向扫描。如输入O 后，按↑\n按钮，即检索当前程序号的前一个程序。 \n \nⅡ.6.3 程序的输出 \n    当把GSK218T 中的程序输出给PC 机时，只需要在PC 机上进行操作即可。操作方法请参阅“通讯”\n的说明。 \n \nⅡ.6.4 程序字段的插入、修改、删除、检索 \n    程序字段的插入、修改、删除、检索与GSK980TA 一致。 \n \nⅡ.6.5 程序的复制 \n    这是新增的功能。在程序中输入新的程序号后，按转换键即可将当前整个程序复制到新程序号的程\n序中。 \n \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n170\nⅢ  系统连接方面 \n    GSK218T 的大部分接口与GSK980TA 兼容。因GSK980TA 的输入输出口分别只有16 个，所以很多功\n能都复合使用，此时会出现使用这个功能时，另一个功能就不能使用。GSK218T 针对这个问题，现扩展\n了输入输出口分别16 个，比GSK980TA 多了一倍。这样GSK218T 可将复合使用的I/O 口放至扩展口上，\n因此GSK218T 的I/O 口将不出现复合使用的情况，功能比GSK980TA 将更加完整。同时在I/O 口分配时，\n考虑了与980TA 的适用性，常用的I/O 口仍保留在原位置，选择使用的I/O 口分配在扩展口上，因此在\n与GSK980TA 进行交换时，只需要进行轻微改动即可正常使用。 \n \nⅢ.1   接口说明 \n    GSK218T 新增了4 个接口，分别为： \n        JTAG：软件升级接口，对系统软件进行升级；（厂家使用） \n        XS33：Y 轴接口，附加轴；（目前不能使用） \n        XS41：扩展输入接口 \n        XS42：扩展输出接口 \n \nⅢ.2  与驱动器的连接 \n系统与驱动器连接的接口略有变化，GSK218T 增加了使能（EN）信号。原驱动器使能信号与11 脚\n连接，现需要改为与7 脚连接。连接方法请参阅使用手册中的“连接部分”。 \n原使用GSK980TA 的机床更换为GSK218T 时，虽然可以正常运行，但要求进行以上修改。 \n \nⅢ.3  主轴编码器的连接 \n本系统与GSK980TA 的编码器接口完全兼容。 \n本系统可匹配多种型号的编码器。当选用不同型号的编码器时，用户只需要在参数中修改编码器的\n线数，即可正常使用。这就比GSK980TA 有更大的适应能力。 \n \nⅢ.4  通讯接口 \n    本系统的通讯接口与GSK980TA 兼容。 \n \nⅢ.5  模拟主轴接口 \n    本系统的模拟主轴接口与GSK980TA 兼容。 \n \nⅢ.6  手轮接口 \n本系统的手轮接口与GSK980TA 兼容。 \n当手轮的正反方向与实际要求相反时，系统可通过修改参数（＃7 Bit7）来实现手轮的正反转，而\n无须更改接口电路。 \n \nⅢ.7  电源接口 \n    电源接口与GSK980TA 完全不一样。本系统使用PC 电源，GSK980TA 使用PB 电源。详细请阅使用手\n册。 \n \nⅢ.8  机床输入/输出接口 \n机床的输入/输出接口变化较大，除将原GSK980TA 复合使用的接口功能转到扩展接口外，还增加了\n一些功能。通过这些改动，除充分利用本系统资源的同时，也更大的扩充系统的功能，同时也方便用户\n进行系统的更换。如GSK980TA 的T5～T8 与某些功能共用一个接口，则在机床为8 把刀时，共用的功能\n则无效；GSK218T 则完全避免了这些情况，任何功能都单独使用一个端口，这样功能可在任意方式下都\n可有效。 \n具体改动如下： \nⅢ.8.1  OV1/OV2/OV4/OV8 \n    这四个信号与T5～T8 信号复合使用，因这些信号较少使用，本系统暂取消这些信号。 \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n171 \nⅢ.8.2  M41I、M42I \n    在主轴自动换档功能有效时，主轴自动换档至1、2 档，检查换档到位信号输入。GSK980TA 中这两\n个信号与T7、T8 复合使用，本系统将其移至XS41 的1、14 脚，重新定义为GR1、GR2。功能与GSK980TA\n一致。 \n \nⅢ.8.3  SPEN \n    主轴旋转允许信号。GSK980TA 中与T5 共用一个接口，本系统将其移至XS41 的3 脚，功能与GSK980TA\n一致。 \n \nⅢ.8.4  BDT/DITW \n    GSK980TA 中该信号为程序选跳输入信号。本系统在操作面板上新增了一个按钮，控制程序的选跳，\n取消了在XS40 中2 脚与DITW 共用一个端口的BDT 功能，该端口只作尾座的控制输入信号。 \n \nⅢ.8.5  T1～T8 \n    本系统最大可匹配8 把刀，刀位信号不与其他信号共用一个接口。刀位的位置与980TA 一致。 \n \nⅢ.8.6  卡盘控制 \n本系统的卡盘控制方式与980TA 一致，目前暂没有卡盘夹紧到位信号及松开到位信号的检测及控\n制，只有卡盘的脚踏开关输入控制信号、卡盘夹紧及卡盘松开信号。 \n16 号参数的Bit0 设置为1 时，卡盘控制功能有效。Bit1 设置为1 时，检查卡盘是否夹紧。Bit7\n设置卡盘为内/外卡方式，设置为0 时表示卡盘为内卡方式，为1 表示卡盘为外卡方式。 \n \nⅢ.8.7  尾座控制 \n    本系统的尾座控制方式与GSK980TA 一致。 \n \nⅢ.8.8  防护门检测 \n防护门检测功能只在自动方式下有效。防护门检测功能有效时，打开防护门，此时执行自动循环加\n工，系统会产生报警；如在自动运行过程中打开防护门，系统会产生报警，并关闭主轴、冷却及润滑。 \n防护门检测输入信号位置在XS41 第2 脚DOOR。GSK980TA 中与*SP 共用一个接口。 \n \nⅢ.8.9  压力检测 \n压力检测输入信号位置在XS41 第15 脚PCH。GSK980TA 中与*TCP 共用一个接口。 \n压力检测控制与GSK980TA 一致。 \n \nⅢ.8.10  系统三态输出 \n这是新增的功能，系统三态包括：待机、加工、报警。 \n15 号参数Bit6 为报警状态是否输出，Bit5 为待机状态是否输出，Bit4 为加工状态是否输出。三\n态互锁，主要用于机床上安装机床状态指示灯，方便用户了解机床的状态。 \n \nⅢ.8.11  机床硬限位 LIMITX、LIMITZ \n    这是新增的功能，两轴分别一个硬限位输入信号。GSK980TA 中的机床限位与ESP 串联，本系统提供\n两个限位输入信号，可方便用户区分问题所在。 \n \nⅢ.8.12  外部报警输入信号WAR1、WAR2 \n    这是新增的功能，用户可用来实现某些设备的控制检测，完成某些特定的功能。 \nⅢ.8.13  主轴电机星三角起动控制 \n    这是新增的功能。当用户主轴电机负荷过大时，需要低速起动，速度上来后再转换为高速。XS42\n的15 脚为星型控制输出信号，3 脚为三角型控制输出信号。 \nⅢ.8.14  主轴点动控制 \n    这是新增的功能。设置参数010Bit3 为1 后该功能有效。在自动方式下，系统处于待机状态时，按\n操作面板的主轴正转按键，主轴会旋转参数094 设定的时间后停止。主要用户方便用户调整卡盘来拆卸\n工件。 \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n172\n附录6   记忆型螺距误差补偿功能 \nGSK218T 选配螺补功能，控制功能作了如下改进： \n记忆型螺距误差补偿功能。须将2 号参数BIT2 设为1 该功能才有效，螺距误差补偿功能的使用方法见\n下述说明。 \n \n1）  功能  \n每轴的螺距误差，可以用最小移动单位补偿。 \n2）  规格 \n把参考点作为补偿原点，在各轴设定的各补偿间隔上，把应补偿的值作为参数设定。 \na)  可以补偿的轴：X、Z轴。 \nb)  补偿的点数 \n各轴 256点(X、Z轴) \nc)  补偿量范围 \n每个补偿点0～±7×补偿倍率(最小移动单位)。 \n补偿倍率 ×1、×2、×4、×8、×16 (全轴通用) \nd)  补偿间隔 \n \n移动单位 \n最小设定间隔 \n最大设定间隔 \n单位 \n公制 \n1000 \n9999999 \n0.001MM \n英制 \n1000 \n9999999 \n0.0001 inch \n(最大补偿范围 = 设定间隔×256) \n实际的补偿间隔：在上述范围内，根据最大补偿范围和机械行程，设定最合适的值。对于直线轴，\n如果设定间隔小于最小间隔，则往往不能在期待的位置进行补偿。此时，应降低快速进给速度。 \n3)  参数设定 \n关于螺距误差参数，在MDI方式或紧急停止状态，用下述参数设定。 \n a)  螺距误差补偿倍率 \n \n0 \n3 \n8 \n \n1 \n \n输出被设定的补偿量与此倍率的乘积。(全轴通用) \n \nb)  螺距误差原点 \n \n0 \n3 \n9 \n \nX轴螺距误差补偿原点 \n \n0 \n4 \n0 \n \nX轴螺距误差补偿原点 \n \nX、Z 螺距误差原点：这是设定螺距误差表上的原点位置。 \n根据机械的要求，每个轴可设定0～255的任意值。 \n        \nc)  设定补偿间隔 \n \n0 \n4 \n1 \n \nX轴螺距误差补偿间隔 \n \n0 \n4 \n2 \n \nX轴螺距误差补偿间隔 \nX，Z: 螺距误差补偿间隔。 \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n173 \n这是设定螺距误差补偿间隔。设定要大于10的正数。另外，如果设定0，则不补偿。 \n \nd) 设定补偿量 \n各轴螺距误差补偿量，请按下表的参数号设定。 \n在螺距补偿参数界面，在000～255分别输入X/Z的补偿量。另外，可设定补偿量的范围是0～±7，\n超过这个范围的值的输入无效。 \n    例： \n1 \n2 \n0 \n \n-7 \n \n在上例中，补偿数据-7表示是设置在X 坐标120点的补偿值。 \n \n4)  各种参数设定例子 \na) 螺距误差原点=0，补偿间隔=10.000                       \n \n设定\n点\n机床\n坐标\n系\n（参考点）\n0\n+10.000\n+20.000\n+30.000\n0\n1\n2\n3\n(0)\n(+7)\n(-6)\n(+4)\n127\n+1270.000\n(+2)\n \n \n补偿点开头对应于参考点，补偿点1对应于从此参考点向正方向移动10000的位置，往后每隔10000，\n对应一个补偿点，第127个补偿点为1270000处的补偿量。所以在补偿点1，设定从0运动到10000时的\n补偿量，在补偿点2，设定从10000 运动到20000时的补偿量。在补偿点N，设定从(N-1)×(补偿间隔)\n运动到N×(补偿间隔)时的补偿量。 \n上例是补偿下述区间误差的实例 \n       区间                0 \n～ 10000 \n+7 \n                       10000 \n～ 20000 \n-6 \n                       20000 \n～ 30000 \n+4 \n实际上，机械从参考点运动到+30000的位置，螺距误差只补了 \n(+7)+(-6)+(+4)=+5 \n机械从+30000运动到参考点的位置，螺距误差只补了 \n-(+4) - (-6) - (+7) = -5 \nb) 螺距误差原点=60，补偿间隔=10000 \n \n设定\n点\n机床\n坐标\n系\n（参考点）\n0\n+10.000\n-20.000\n-60.000\n58\n59\n60\n61\n(-7)\n(-7)\n(+6)\n(+4)\n127\n+670.000\n(+1)\n(+0)\n-10.000\n \n补偿表中第61号(60)对应于参考点，补偿点61对应于从原点正向运动10000的点。以后每隔10000，\n对应一个补偿点，第127个补偿点为+670000处的补偿量。 而补偿点59，对应于从参考点负方向运动\n10000点，以下每一10000对应一个补偿点，补偿点0为-600000处的补偿量。所以，对于补偿点N设定\n从(N-61)×(补偿间隔)运动到(N-60)×(补偿间隔)的补偿量。 \n上例中，补偿了下述区间的误差： \n区间      -20000 \n～ -10000 \n-7 \n\n\n                                                    GSK218T 车床数控系统 使用手册 \n \n174\n              -10000 \n～ 0 \n-7                  \n                   0 \n～ +10000 \n+4 \n实际上，机械从-20000运动到+10000时，螺距误差只补偿了 \n(-7)+(-7) +(+4)=(-10) \n机械从+10000运动到-20000时，螺距误差只补偿了 \n-(+4)-(-7)-(-7) =(+10) \nc) 螺距误差原点=127，补偿间隔=10000 \n \n设定\n点\n机床\n坐标\n系\n（参考点）\n0\n-30.000\n-20.000\n-1270.000\n124\n125\n126\n127\n(+3)\n(-7)\n(0)\n(+0)\n-10.000\n(+2)\n \n补偿表的末尾，对应着参考点。补偿点126对应于从参考点向负方向运动10000所得到的点。以下\n每隔-10000，对应于一个补偿点，补偿点1为-1260000处的补偿量。所以，补偿点127应设定从0运动到\n-10000时的补偿量，补偿点126，应设定从-10000运动到-20000时的补偿量，补偿点N，应设定从(N-128)\n×(补偿间隔)运动到(N-127) ×(补偿间隔)时的补偿量。 \n上面的例子，是补偿下述区间误差的实例。 \n区间      -30000 \n～ -20000 +3 \n       -20000 \n～ -10000 -7 \n-10000   \n～ -00000  0 \n实际上，机械从-30000运动到参考点，螺距误差只补偿了 \n(+3)+(-7) +(+2)=(-2) \n \n5)  补偿量的设定方法 \n如上一节所示，设定的补偿量与下列因素有关。 \n . 参考点和补偿点的位置关系 \n . 机械移动方向 \n . 补偿间隔 \n补偿点N(N=0、1、2、3、…255)的补偿量，由区间N、N-1的机械误差( 相对于移动指令量，运动\n的差值)来决定。 \n★  补偿量的输入方法 \n用MDI&LCD或输入输出接口，用与通常参数输入完全相同的方法，可以输入补偿量。 \n★  补偿量的输出 \n用与通常的参数输出同样的方法，可以把各轴的补偿量输出。 \n★ 补偿量的备份 \n螺距补偿值的备份（包括输入和输出）与参数值的备份操作完全一样。不同之处是螺距补偿值\n备份功能没有系统出厂设定备份文件，因此A、B、C或D对应的螺距补偿值文件WORM1.TXT、\nWORM2.TXT、WORM3.TXT或WORM4.TXT都可以进行输入输出操作。 \n★ 设定的注意事项 \na)  补偿间隔的设定(参数41，42) \n补偿间隔是正值时，用此值进行补偿。 \n补偿间隔是零时，此轴不进行补偿。 \nb)  设定了螺距误差参数后，重新返回参考点。 \nc)  螺距误差补偿量(螺补参数000～255) \n\n\n                                                      GSK218T 车床数控系统 使用手册 \n \n175 \n附录7   串口通讯软件使用说明 \n本串口通信软件专用于GSK218T 数控系统和计算机之间进行双向数据通行。 \n¾ \n版本号：1.0 \n¾ \n运行环境：Windows 98/ Windows ME / Windows XP / Windows 2000 \n¾ \n接口标准：RS232 \n¾ \n最大传输速率：115200 bps \n \n版本特征： \n¾ \n一台计算机只能与一台GSK218T 数控系统之间进行通信 \n¾ \n支持传输速率最高至115200bps（需对系统参数进行相应设置） \n \n1)  运行主界面 \n启动后程序主界面如图A1.1 所示。界面左边为通信主控制区，右边为程序编辑区，可以通过菜单\n［文件(F)］打开原文件或直接在编辑区内编写CNC 程序（图A1.2），文件保存后再按如后操作即可。 \n \n图A1.1 \n之后对串口通讯的端口、波特率进行设置。设置好后选择［打开串口］（按钮，菜单均可），串口打\n开成功则如图A1.3 所示；失败则弹出提示窗口。失败原因可能是由于该端口已被其他软件占用，如想\n使用该端口进行通讯，需将占用该端口的软件关闭。 \n \n\n\n                                                      GSK218T 车床数控系统 使用手册 \n \n176\n \n图A1.2 \n \n图A1.3 \n \na)  发送文件： \n选择传输方式为[发送文件]，然后选择[添加文件]（添加文件可在串口未打开时进行），弹出窗口如\n图A2.1。然后选择需要发送的文件（可多选），及需要发送到数控系统目标板分区（USER 或SYS），选\n择[打开]则将所选文件添加到需要发送的文件列表中，如图A2.2。 \n列表中的文件可以移除和修改。双击需要修改的文件项弹出与添加文件相同的窗口，但此时的文件\n只能单选，选择[打开]完成修改。如果选择列表中的文件（可多选），即背景色为蓝，则用鼠标右键弹出\n菜单，选择[删除]可将所选文件从列表中删除或选择[清空列表]将列表清空，如图A2.3。 \n最后选择[开始发送]（串口需打开，否则提示错误）向数控系统发送列表内所有文件。文件传输时\n如图A2.4，该窗口包含正在发送的文件名及其目标分区以及当前进度，发送完成时该窗口自动关闭。 \n注1：只能向数控系统目标板用户分区（USER 分区）发送后缀名为.CNC（不分大小写）或者para2.txt，para3.txt 文\n件，其他文件不能向该区发送否则将出现如图A2.5 的提示。 \n注2: 如果目标板存在与文件列表中相同的文件，它将被列表中的文件覆盖。 \n\n\n                                                      GSK218T 车床数控系统 使用手册 \n \n177 \n \n图A2.1 \n \n \n图A2.2 \n \n \n\n\n                                                      GSK218T 车床数控系统 使用手册 \n \n178\n \n图A2.3 \n \n \n图A2.4 \n \n \n图A2.5 \n \nb)  接收文件 \n选择传输方式为[接收文件]，界面如图A3.1，然后选择[获取CNC 目录]（串口必须已与此操作前打\n开，否则提示错误），成功获取数控系统文件列表后界面如图A3.2(由于波特率的影响，波特率较低时获\n取目录速度相对较慢)。 \n选择需要接收的文件（只能单选），然后选择[开始接收]按钮，或从鼠标右键弹出的菜单中选择接收\n文件（如图A3.3），在弹出的文件保存窗口（如图A3.4）选择保存(可修改保存文件名)，则开始从数控\n系统目标板接收该文件（如图A3.5），接收完毕后图A3.5 窗口自动关闭。 \n右键弹出的菜单项（图A3.3），“删除文件”将从数控系统目标板删除用户所选中的文件，而“删除\n分区所有文件”将删除用户所选的数控系统目标板分区内的所有文件，慎用。 \n\n\n                                                      GSK218T 车床数控系统 使用手册 \n \n179 \n \n图A3.1 \n \n图A3.2 \n\n\n                                                      GSK218T 车床数控系统 使用手册 \n \n180\n \n图A3.3 \n \n图A3.4 \n \n图A3.5 \n \n注:通讯过程中，如果数控系统故障（死机，断电）将导致通讯无法恢复，需先[关闭串口]再[打开串口]重新开始通讯。 \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n181 \n附录8   刀补C 机能操作说明 \n实际刀具的刀尖并非为一个点，应视为一段圆弧。由于刀尖圆弧的影响，实际加工结果与工件程序\n会存在误差，刀补C 机能可实现刀具半径补偿以消除上述误差。使用刀补C 功能时，须设置相应的参\n数该功能才有效： \n将系统参数002 号BIT3 设为1。 \n \n0 \n0 \n2 \n \n \n \n \n \nCCMP \n \n \n \n \n \n1 刀补基本概念 \n1.1 假想刀尖概念 \n下图1-1 中刀尖A 点即为假想刀尖点，实际上不存在，故称之为假想刀尖（或理想刀尖）。假想刀\n尖的设定是因为一般情况下刀尖半径中心设定在起始位置比较困难，而假想刀尖设在起始位置是比较容\n易的，如下图所示。与刀尖中心一样，使用假想刀尖编程时不需考虑刀尖半径。 \n \n \n    图1-1刀尖半径中心和假想刀尖 \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n182\n注：对有机械零点的机床来说，一个标准点如刀架中心可以作为起点。从这个标准点到刀尖半径中\n心或假想刀尖的距离设置为刀具偏置值。 \n \n设置从标准点到刀尖半径中心的距离作为偏置值如同设置刀尖半径中心作为起点，而设置从标准点\n到假想刀尖的距离作为偏置值如同设置假想刀尖作为起点。为了设置刀具偏置值，通常测量从标准点到\n假想刀尖的距离比测量从标准点到刀尖半径中心的距离容易，所以通常就以标准点到假想刀尖的距离来\n设置刀具偏置值。 \n图1-2 为当以刀架中心这个标准点作为起点时，刀具偏置值的设置： \n \n图1-2 以刀架中心为标准点时刀具偏置值的设置 \n图1-3 和图1- 4 分别为以刀尖中心编程和以假想刀尖编程的刀具轨迹。左图是没有刀尖半径补偿，\n右图是有刀尖半径补偿。 \n    如果不用刀尖半径补偿，刀尖中心轨            如果使用刀尖半径补偿，将实现精密切削   \n迹将同于编程轨迹                             \n \n \n图1-3  以刀尖中心编程时的刀具轨迹 \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n183 \n \n \n没有刀尖半径补偿，假想刀尖轨迹            使用刀尖半径补偿，将实现精密切削 \n将同于编程轨迹                             \n \n \n图1-4 以假想刀尖编程时的刀具轨迹 \n \n1.2 假想刀尖的方向 \n在实际加工中，由于被加工工件的加工需要，刀具和工件间将会存在不同的位置关系。从刀尖中\n心看假想刀尖的方向，由切削中刀具的方向决定。                                                       \n假想刀尖号码定义了假想刀尖点与刀尖圆弧中心的位置关系，假想刀尖号码共有10（0~9）种设置，\n共表达了9个方向的位置关系。假想刀尖号码必须在进行刀尖半径补偿前与补偿量一起设置在刀尖半径\n补偿存储器中。假想刀尖的方向可从下图所示的八种规格所对应的号码来选择。这些图说明了刀具与起\n点间的关系。箭头终点是假想刀尖。 \n \nX轴\nZ轴 \n假想刀尖号码为1  \n假想刀尖号码为2  \n \n \n     \n \n后刀座坐标系 \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n184\n \n     \n \n \n假想刀尖号码为3 \n假想刀尖号码为4  \n假想刀尖号码为5 \n假想刀尖号码为6 \n假想刀尖号码为7  \n假想刀尖号码为8  \n \n图1-5 后刀座坐标系中假想刀尖号码 \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n185 \n \nX轴\nZ轴\n \n假想刀尖号码为1  \n假想刀尖号码为2 \n假想刀尖号码为3  \n假想刀尖号码为4  \n假想刀尖号码为5\n \n假想刀尖号码为6  \n假想刀尖号码为7\n \n假想刀尖号码为8  \n                       \n图1-6 前刀座坐标系中假想刀尖号码 \n \n \n前刀座坐标系 \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n186\n \n \n当刀尖中心与起点一致时，设置刀尖号码 0 或 9。对应各刀具补偿号，用地址T 设置各刀具的假\n想刀尖号。 \n \n图1-7 刀尖中心与起点一致 \n1.3 补偿值的设置 \n \n \n图1-8  刀尖半径补偿值 \n进行刀尖半径补偿前需要对以下几项补偿值进行设置：X、Z、R、T。其中X、Z 分别为X 轴、Z\n轴方向从刀架中心到刀尖的刀具偏置值；R 为假想刀尖的半径补偿值；T 为假想刀尖号。每一组值对应\n一个刀补号，在刀补界面下设置。 \n具体情况如下表1-1 所示： \n \n序号 \nX  \nZ  \nR \nT \n001 \n0.020 \n0.030 \n0.020 \n2 \n002 \n0.060 \n0.060 \n0.016 \n3 \n.. \n.. \n.. \n.. \n.. \n.. \n.. \n.. \n.. \n.. \n.. \n.. \n.. \n.. \n.. \n015 \n0.030 \n0.026 \n0.18 \n9 \n016 \n0.050 \n0.038 \n0.20 \n1 \n            \n表1-1 系统刀尖半径补偿值显示页面 \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n187 \n1.4 刀具与工件的相对位置 \n进行刀尖半径补偿时，必须指定刀具与工件的相对位置。在后刀座坐标系中，当刀具中心轨迹在编\n程轨迹（零件轨迹）前进方向的右边时，称为右刀补，用G42 指令实现；当刀具中心轨迹在编程轨迹（零\n件轨迹）前进方向的左边时，称为左刀补，用G41 指令实现；前刀座与其反之。指令G40、G41、G42 时\n刀具与工件的相对位置的具体说明如表1-2： \n指令 \n功能说明 \n备注 \nG40 \n取消刀尖半径补偿 \nG41 \n后刀座坐标系中刀尖半径左补偿，前刀座坐标系中刀尖半径右补偿 \nG42 \n后刀座坐标系中刀尖半径右补偿，前刀座坐标系中刀尖半径左补偿 \n详见图1-9、\n图1-10 的说\n明 \n表1-2 \nG42:沿着刀具运\n动方向看，刀具\n在工件的右侧\nG41:沿着刀具运\n动方向看，刀具\n在工件的左侧\n工件\n刀具\nX\nZ\n \n图1-9 后刀座坐标系中刀尖半径补偿 \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n188\nZ\nG41:沿着刀具运\n动方向看，刀具\n在工件的右侧\nG42:沿着刀具运\n动方向看，刀具\n在工件的左侧\n工件\n刀具\nX\n \n图1-10 前刀座坐标系中刀尖半径补偿 \n1. 5 内侧、外侧  \n    进行刀尖半径补偿时,前后两个编程轨迹的拐角不相同时,刀尖补偿轨迹也不相同。因此,规定两个\n移动程序段交点在工件侧的夹角大于或等于180°时称为“内侧”，在0～180°之间时称为“外侧”。          \n \n \n \n \n \n \n \n \n 程序路径 \n α≥180° \n 工件侧 \nα\n内侧 \n \nα\n 程序路径\n 工件侧 \n0°≤α＜180°\n外侧 \n图1-11  内侧与外侧 \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n189 \n1.6 G41、G42 及G40 的指令格式 \n指令格式： \n \n \n                    X    Z   \n \n \n注： \n1. G40，G41，G42均为模态G代码。 \n2. 正常建立刀补后，G41/G42 后可以跟G02 或G03 指令。 \n \n2 刀补具体补偿情况 \n2.1 刀尖半径补偿具体轨迹分解 \n实现刀具半径补偿通常要经历的3 个步骤：刀补建立、刀补进行、刀补取消。 \n2.1.1  刀补建立 \n从偏置取消方式变为偏置方式，称为刀补建立。 \n具体刀补建立如下图1-12 所示： \n \n \n(a)  沿着拐角的内侧移动（α≥180°） \n \nG40 \n \nG41 \n \nG42 \nG00 \n \nG01 \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n190\n \n(b)  沿着拐角为钝角的外侧移动 ( 180°＞α≥90°） \n \n \n(c)  沿着拐角为锐角的外侧移动（α＜90°) \n \n \n(d)  沿着拐角为小于1 度的锐角的外侧移动，直线→直线。（α＜1°) \n \n图1-12  刀补建立情况 \n注意：1）在建立刀补时，如果没有指定刀补号或者刀补号为零，程序将报警#036。 \n \n  2）在建立刀补时，需要用移动指令G0 或G1 执行，如果指令圆弧，程序将报警#034。 \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n191 \n2.1.2  刀补进行 \n \n从刀补建立之后，到刀补取消之前的偏置轨迹称之为刀补进行。 \n具体刀补进行如下图1-13 和1-14 所示： \n(a) 沿着拐角的内侧移动（α≥180°） \n \n \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n192\n \n \n(b) 沿着拐角为钝角的外侧移动（180°＞α≥90°） \n （iii）：圆弧→直线 \nS\nｒ\nC\nL\nL\n程序路径\n刀具中心路径\nα \nｒ\n \n \nｒ\nC\nL\nS\nL\nｒ\nα \n刀具中心路径 \n程序路径\n（IV）：圆弧→圆弧\n \n(c) 沿着拐角为锐角的外侧移动（α＜90°) \n \n \n \n \n \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n193 \n \n \n                                \n图1-13  刀补进行情况① \n \n(d) 特殊情况 \n \n在左图，当刀具半径值小\n时，圆弧的补偿路径有交\n点，但是当半径变大，可能\n交点不存在。系统产生报警\n（P/S33）。 \n1）没有交叉点时 \n报警且停止\n程序路径 \n当补偿量小时 \n当补偿量大时 \nB\nA \nP\n圆弧B 的中心\n圆弧A 的中心\nｒ\nｒ\n \n \n图1-14  刀补进行情况② \n程序路径 \n刀尖中心路径 \n当刀具半径过大时，导致\n圆弧起点或终点与圆心相\n同。系统产生报警(P/S38)\n如下程序R=15时产生报警\nN5 G01 W20; \nN6 G02 U30 W15 R15; \nN7 G01 W20; \n2）圆弧中心与起点或终点一致 \n停止 \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n194\n2.1.3  刀补取消 \n \n在补偿模式，当程序段满足以下任何一项条件时，系统进入补偿取消模式，这个程序段的动作称为\n刀补取消。 \na  使用指令G40 取消C 刀补，在执行刀补取消时，不可用圆弧指令 ( G02 及 G03 )。如果指令圆\n弧会产生报警(N0.34)且刀具停止。 \nb 刀具半径补偿号码指定为0 。 \n下图为具体刀补取消情况： \n \n \n（a）沿着拐角的内侧移动（α≥180°）  \n \n（b）沿着拐角为钝角的外侧移动（180°＞α≥90°）  \n \n \n \n \n \n \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n195 \n（c）沿着拐角为锐角的外侧移动（α＜90°) \n（d）沿着拐角为小于1 度的锐角的外侧移动，直线→直线。（α＜1°）  \n \n \n图1-15  刀补取消情况 \n \n2.2  刀补进行中变更补偿方向 \n    刀具径补偿 G 码 ( G41 及 G42 ) 决定补偿方向，补偿量的符号如下 ： \n补偿量符号 \nG 码 \n+ \n- \nG41 \n左侧补偿 \n右侧补偿 \nG42 \n右侧补偿 \n左侧补偿 \n表1-4 \n \n在特殊场合，在补偿模式中可变更补偿方向。但不可在起开始程序段变更。补偿方向变更时，对全\n部状况没有内侧和外侧的概念。下列的补偿量假设为正。 \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n196\n \n图1-16  刀补进行中变更补偿方向情况① \n \n如果补偿正常执行，但没有交点时 \n当用 G41 及 G42 改变程序段 A 至程序段B 的偏置方向时，如果不需要偏置路径的交点，在程序段 \nB 的起点做成垂直与程序段 B 的向量。 \ni ) 直线-----直线 \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n图1-17 直线—直线、无交点（变更补偿方向） \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n197 \nii ) 直线-----圆弧 \n \n \n \n \n \n \n \n \n \n \n \n \n \n图1-18 直线—圆弧、无交点（变更补偿方向） \n2.3  刀补暂时取消 \n在补偿模式中，如果指定了以下指令时，补偿向量会暂时取消，之后，补偿向量会自动恢复。 \n此时，不同于补偿取消模式，刀具直接从交点移动到补偿向量取消的指令点。在补偿模式恢复时，\n刀具又直接移动到交点。  \n① 坐标系设定（G50） \nN1 T0101； \nN2 G42 G00 X0 Z0； \nN3 G01 U-30 W30； \nN4 U30 W30； \nN5 G50 X0 Z60； \nN6 G01 U-30 W30； \nN7 G01 U30 W30； \nN8 G00 X0 Z0； \nN8 M30； \n \n \n注： SS 表示在单程序段方式下刀具停止两次的点 \n图1-19 刀补暂时取消① \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n198\n② G90，G92，G94 固定循环，G71～G76 固定循环,螺纹指令G32/G33/G34 \n \n \n \n图1-20 刀补暂时取消② \nN1 T0101  \nN2 G0 X100 Z100  \nN3 G0 X0 Z0  \nN4 G42 G90 X-20 W-50 F500     （此处暂时取消刀补） \nN5 G0 X50 Z50                  （恢复刀补） \nN6 G0 X100 Z100  \nN7 M30 \n注：G90/G94 刀补暂时取消只有在G41/G42 与G90/G94 共段时才会实现，不共段时系统会自动处理为\nG90/G94 正常刀补偏置，详见以下G90/G94 刀尖半径补偿。 \n \n \n2.4  刀补中含有非移动指令 \na  在补偿开始时有非移动指令 \n如果在补偿开始的指令没有刀具移动，不会产生补偿向量。 \n \n                                               N1 T0101； \n                                               N2 G0 X0 Z0； \n                                               N3 G01 U-30 W20 F500； \n                                               N4 G42 U0； \n                                               N5 U30； \n                                               N6 U20 W20； \n                                               N7 G40 G0 X100 Z100； \n                                               N8 M30； \n \n图2.0 刀补开始时有非移动指令 \n \n \nb   在补偿模式指令有非移动指令 \n在补偿模式下只指令了一个无刀具移动的程序段时，向量及刀具中心路径与无指令该程序段时一\n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n199 \n样。 (参照2.1.2 刀补进行) 此无刀具移动程序段在单程序段停止点执行。 \n \n \n N3 T0101； \n                                                   N4 G0 X100 Z100； \n                                                   N5 G41 G01 X0 Z0；                          \n                                                   N6 U-30 W20； \n                                                   N7 G04 X5； \n                                                   N8 W30； \n                                                   N9 G40 G0 X100 Z100； \n                                                   N10 M30； \n                                 \n \n \n图2-1 刀补进行时有非移动指令 \n \n \nC   补偿取消时指令有非移动指令 \n当与补偿取消一起指令的程序段没有刀具移动时，会形成长度为补偿量，方向垂直于前程序段移动\n方向的向量，这个向量在下一个移动指令取消。 \n \n                                                          N3 T0101； \nN4 G0 X100 Z100； \nN5 G41 G01 X0 Z0 F500； \nN6 U-30 W20； \nN7 G40； \nN8 G0 X100 Z100； \nN9 M30； \n \n图2-2 刀补取消时有非移动指令 \n                                        \n \n \n \n2.5  刀补干涉检查 \n刀具过度切削称为“干涉 ”。刀补干涉检查能预先检查刀具过度切削情况，即过度切削未发生也会\n进行干涉检查。 \n(a) 干涉的基本条件 \n(1) 刀具路径方向与程序路径方向不同。(路径间的夹角在90 度与270 度之间)。 \n(2) 圆弧加工时，除以上条件外，刀具中心路径的起点和终点间的夹角与程序路径起点和终点\n间的夹角有很大的差异 ( 180 度以上 )。 \n \n \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n200\n例 ① \n \n \n \n \n \n \n \n \n \n图2-3 刀补干涉①   \n \n图2-3 刀补干涉② \n(b) 干涉范例  \n(1) 一个浅深度，深度小于补偿量 \n \n图2-4 刀补干涉范例① \n程序如下 : \nN1 T0101；                                     (R<=10) \nN2 G0 X0 Z30； \nN3 G42 G01 X50 Z0 F500； \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n201 \nN4 U50； \nN5 W20； \nN6 U10； \nN7 W20； \nN8 U-10； \nN9 W20； \nN10 G40 G0 X0 Z30； \nN11 M30； \n \n在上述程序中，01 号刀的刀尖半径补偿值R<=10，当R>10 时，系统会产生干涉报警，因为在程\n序段 B 程序的方向与刀具半径补偿的路径相反。 \n(2) 凹沟深度小于补偿量 \n \n图2-5 刀补干涉范例② \n程序如下 : \nN1 T0101；                                     (R<=25) \nN2 G0 X0 Z30； \nN3 G42 G01 X50 Z0 F500； \nN4 U50； \nN5 W20； \nN6 U10 W10； \nN7 U-10 W10； \nN8 W20； \nN9 G40 G0 X0 Z30； \nN10 M30； \n在上述程序中，01 号刀的刀尖半径补偿值R<=25，当R>25 时，系统会产生干涉报警，因为在程 \n序段 c 程序的方向与刀具半径补偿的路径相反。 \n \n \n \n \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n202\n2.6  G90/G94 指令中的刀尖半径补偿 \n（a） 对循环的各路径，刀尖中心路径通常平行于程序路径。 \n①G90  \n \n \n \n \n \n \n \n \n \n \n \n \n图2-6 G90 刀尖半径半径补偿 \n \n②G94 \n \n图2-7 G94 刀尖半径半径补偿 \n(b)  无论是G41，G42 方式，偏置方向如下图所示。 \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n203 \n \n图2-8 G90/G94 刀尖半径补偿 \n \n2.7 \nG70 指令中的刀尖半径补偿 \n \n在精加工循环中(G70)中，可以实现刀尖半径补偿，刀具中心轨迹会沿着精加工轨迹自动偏置一\n个补偿值。 \n实现G70 刀尖半径补偿时, G70 可以与G41/G42 共段执行，或者在精加工循环段指定\nG41/G42。 \n \n \n \n  \n3 刀补C 的注意事项 \n1）不可连续指令两个或两个以上无移动命令的程序段。如: \n① M05 ；................................................M 码输出 \n② S21 ；.................................................S 码输出 \n③ G04 X10 ；....................................….. 暂停 \n④ G01 U0 ；.............................................移动距离零 \n⑤ G98 ；...................................................只有G 指令. \n如果连续指定以上程序段两个或更多时，刀尖中心会移到前一程序段的终点(垂直于前一程序段程\n序路径的位置)。 \n特别地,当补偿过程中连续指定30 个无移动命令的程序段或更多时，会产生报警（P/S39）。 \n2）录入方式下(MDI)执行程序段时，不执行刀尖半径补偿。 \n3）在开机后或M30 执行时，系统立刻进入取消模式。程序必须在取消模式下结束。否则，刀具不\n能在终点定位，刀具停止在离终点一个向量长度的位置。 \n4）刀尖半径补偿的建立与取消只能用G00 或G01 指令，不能是圆弧指令（G02 或G03）。如果指定，\n会产生报警（P/S34）。 \n5）在调用子程序前（即执行M98 前），系统必须在补偿取消模式。进入子程序后，可以起动偏置，\n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n204\n但在返回主程序前（即执行M99 前）必须为补偿取消模式。否则会出现报警№036。 \n6）如果补偿量(R)是负数，在程序上G41 及G42 彼此交换。如果刀具中心沿工件外侧移动，它将会\n沿内侧移动，反之亦然。因为当补偿量符号改变时,刀尖偏置方向也改变,但假想刀尖方向不变。所以不\n要随意改变。 \n7）通常在取消模式或换刀时，改变补偿量的值。如果在补偿模式中变更补偿量，只有在换刀后新\n的补偿量才有效。 \n8) 当程序在执行刀补程序时，因各种原因出现错误或者报警，G 代码将保持，原来是G41 则是G41，\n原来是G42 则是G42；这时候要取消刀补，则可以在MDI 状态下，输入G40 并运行，方能取消刀补状\n态。 \n9) G71-G76，螺纹指令G92/G32/G33/G34 不执行刀尖半径补偿。 \n \n4 刀补C 加工范例 \n \n刀补C范例①： \n加工下图2-9所示零件， 零件尺寸如图所示，刀尖半径R=1， 为第一把刀。 \n10\n7.639\n4.472\n28.275\n35\n23.803\nR10\n30\n32.111\n33.803\nR10\n35.914\n50\n10\nR14\n \n图2-9 刀补C 范例① \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n205 \n程序如下： \nO0001； \nN010 G50 X100.0 Z100.0；（设定坐标系） \nN020 M3 S300；（主轴正转，转速；300转/分钟） \nN030 M8；（开冷却） \nN040 T0101；（换一号刀执行一号刀补） \nN050 G00 X10.0 Z10.0；（快速定位，接近工件） \nN060 G42 G1 Z0 F80；（开始执行刀尖半径补偿） \nN070 G3 X30 Z-10 R10； \nN080 G1 Z-17.639； \nN090 G2 X32.111 Z-22.111 R10； \nN100 G1 X33.803 Z-23.803；                  \nN110 G3 X35.914 Z-28.275 R14；                                    \nN120 G1 Z-35；                             \nN130 X50； \nN140 G40 G0 X80 Z80；（取消刀尖半径补偿） \nN150 M09；（关闭冷却） \nN160 G00 X100.0 Z100.0 T0200；（快速回安全位置，换回基准刀，清刀偏） \nN170 M30；（程序结束） \n \n \n \n刀补C范例②： \n加工下图2-10所示零件，零件尺寸如图所示，刀尖半径R=1，为第一把刀。 \n \n \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n206\n10\nR10\nR5\n38\n10\n20\n35\n60\n \n \n图2-10 刀补C 范例② \n \n \nO0002 \nNI G50 X100 Z100； \nN2 M3 S800； \nN3 M8； \nN4 T0202； \nN5 G0 X70 Z10； \nN6 G71 U3 R1； \nN7 G71 P8 Q14 U0 W0 F120； \nN8 G0 X10； \nN9 G1 Z-10 F80； \nN10 G02 X30 W-10 R10； \nN11 G1 X38； \nN12 Z-30； \nN13 G02 X48 W-5 R5； \nN14 G1 X60； \nN15 G0 X100 Z80； \nN16 M3 S300； \nN17 T0101； \n\n\n                                                       GSK218T 车床数控系统 使用手册  \n \n207 \nN18 G0 X70 Z10； \nN19 G42 G70 P8 Q14； (G42 与G70 共段执行刀尖半径补偿) \nN20 G40 G0 X80 Z50； (取消刀尖半径补偿) \nN21 G0 X100 Z100 T0200； \nN22 M30； \n \n刀补C范例③： \n加工下图2-11所示零件，零件尺寸如图所示，刀尖半径R=1，为第一把刀。 \n \n60\n35\n30\n \n图2-11 刀补C 范例③ \nO0003 \nN1 G50 X100 Z100； \nN2 M3 S800； \nN3 M8； \nN4 T0101； \nN5 G42 G0 X70 Z10；    （开始执行刀尖半径补偿） \nN6 G90 X45 Z-30 R-5 F80； \nN7 G40 G0 X80 Z80；     (取消刀尖半径补偿) \nN8 G0 X100 Z100 T0100； \nN9 M30；",
    "file_path": "D:\\QAGenPipelinesX_lightrag\\working\\processed\\218T说明书2006.3.1.txt",
    "create_time": 1767186241,
    "update_time": 1767186241,
    "_id": "218T说明书2006.3.1"
  }
}