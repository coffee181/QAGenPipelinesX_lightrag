# QA Generation Pipelines Configuration

# OCR Configuration
ocr:
  tesseract:
    lang: "chi_sim+eng"  # 支持中英文
    config: "--psm 6"    # Page segmentation mode
    timeout: 30          # 超时时间(秒)

# Text Chunking Configuration
text_chunker:
  max_chunk_size: 60000  # 最大块大小(字符数) - 优化：充分利用DeepSeek-V3的128K上下文窗口
  overlap_size: 3000   # 重叠大小(字符数) - 优化：保持5%重叠率
  chunk_on_sentences: true # 按句子分块

# Question Generation Configuration
# Question Generation Configuration
question_generator:
  deepseek:
    api_key: "sk-8d1493cdaf7a4ac9aad494119b570d4e"  # 从环境变量读取
    model: "deepseek-chat"
    max_tokens: 2048
    temperature: 0.7
    timeout: 60
    questions_per_chunk: 30  # 每块问题数 - 优化：适应更大的分块


# RAG Configuration
rag:
  lightrag:
    working_dir: "D:/LLM-Project/QAGenPipelinesX/working" # 你可以把它改成你自己的路径，比如 "E:/llm-project/QAGenPipelinesX/working"
    llm_model: "deepseek-chat"
    # 关键修正：所有调用本地模型的参数都放在 llm_config 中
    embed_model: "text-embedding-3-large"
    max_context_length: 4000
    # 我们需要在这里为 RAG 指定 OpenAI 的 Key
    openai:
      api_key: "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" # <--- 你的 OPENAI API KEY

# File Processing Configuration
file_processing:
  input_formats: [".pdf"]
  output_dir: "./output"
  temp_dir: "./temp"
  batch_size: 10
  
# Progress Management
progress:
  save_interval: 5  # 每处理5个文件保存一次进度
  progress_file: "./progress.json"
  
# Logging Configuration
logging:
  level: "INFO"
  format: "{time:YYYY-MM-DD HH:mm:ss} | {level} | {message}"
  file: "./logs/qa_gen.log"


# GSK Operations Prompts
# config.yaml

# ... 其他配置 ...

prompts:
  system_prompt: |
    你是一个专业的问答对生成助手。
    你的任务是严格地、仅仅地根据用户在 <Context> 标签中提供的文本内容，生成高质量的问题。
    确保每个问题的答案都能在提供的 <Context> 文本中直接找到或明确推断出来。
    不要使用任何 <Context> 之外的知识。

  human_prompt: |
    这是你需要分析的文本内容：
    <Context>
    {text}
    </Context>

    请严格按照以下要求执行：
    1. 根据上面的 <Context> 内容，生成{questions_per_chunk}个高质量的、相关的专业问题。
    2. 每个问题必须以"问题N："开头（N为从1开始的数字）。
    3. 问题应该由浅入深，覆盖文本中的核心概念和关键信息。
    4. 不要生成与 <Context> 无关的问题。
    5. 不要生成答案，只生成问题。